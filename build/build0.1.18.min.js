/*! floripa-ride 2014-01-16 */
var Ext=Ext||{};Ext._startTime=(new Date).getTime();(function(){var a=this,b=Object.prototype,c=b.toString,d=true,e={toString:1},f=function(){},g=function(){var a=g.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},h,i=/\S/,j,k=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=true;Ext.global=a;for(h in e){d=null}if(d){d=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]}Ext.enumerables=d;Ext.apply=function(a,b,c){if(c){Ext.apply(a,c)}if(a&&b&&typeof b==="object"){var e,f,g;for(e in b){a[e]=b[e]}if(d){for(f=d.length;f--;){g=d[f];if(b.hasOwnProperty(g)){a[g]=b[g]}}}}return a};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:f,identityFn:function(a){return a},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(a,b){var c;if(a){for(c in b){if(a[c]===undefined){a[c]=b[c]}}}return a},iterate:function(a,b,c){if(Ext.isEmpty(a)){return}if(c===undefined){c=a}if(Ext.isIterable(a)){Ext.Array.each.call(Ext.Array,a,b,c)}else{Ext.Object.each.call(Ext.Object,a,b,c)}}});Ext.apply(Ext,{extend:function(){var a=b.constructor,c=function(a){for(var b in a){if(!a.hasOwnProperty(b)){continue}this[b]=a[b]}};return function(b,d,e){if(Ext.isObject(d)){e=d;d=b;b=e.constructor!==a?e.constructor:function(){d.apply(this,arguments)}}var f=function(){},g,h=d.prototype;f.prototype=h;g=b.prototype=new f;g.constructor=b;b.superclass=h;if(h.constructor===a){h.constructor=d}b.override=function(a){Ext.override(b,a)};g.override=c;g.proto=g;b.override(e);b.extend=function(a){return Ext.extend(b,a)};return b}}(),override:function(a,b){if(a.$isClass){a.override(b)}else if(typeof a=="function"){Ext.apply(a.prototype,b)}else{var c=a.self,d,e;if(c&&c.$isClass){for(d in b){if(b.hasOwnProperty(d)){e=b[d];if(typeof e=="function"){e.$name=d;e.$owner=c;e.$previous=a.hasOwnProperty(d)?a[d]:g}a[d]=e}}}else{Ext.apply(a,b)}}return a}});Ext.apply(Ext,{valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},typeOf:function(a){var b,d;if(a===null){return"null"}b=typeof a;if(b==="undefined"||b==="string"||b==="number"||b==="boolean"){return b}d=c.call(a);switch(d){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}if(b==="function"){return"function"}if(b==="object"){if(a.nodeType!==undefined){if(a.nodeType===3){return i.test(a.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}},coerce:function(a,b){var c=Ext.typeOf(a),d=Ext.typeOf(b),e=typeof a==="string";if(c!==d){switch(d){case"string":return String(a);case"number":return Number(a);case"boolean":return e&&(!a||a==="false")?false:Boolean(a);case"null":return e&&(!a||a==="null")?null:a;case"undefined":return e&&(!a||a==="undefined")?undefined:a;case"date":return e&&isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a))}}return a},isEmpty:function(a,b){return a===null||a===undefined||(!b?a==="":false)||Ext.isArray(a)&&a.length===0},isArray:"isArray"in Array?Array.isArray:function(a){return c.call(a)==="[object Array]"},isDate:function(a){return c.call(a)==="[object Date]"},isObject:c.call(null)==="[object Object]"?function(a){return a!==null&&a!==undefined&&c.call(a)==="[object Object]"&&a.ownerDocument===undefined}:function(a){return c.call(a)==="[object Object]"},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(a){var b=typeof a;return b==="string"||b==="number"||b==="boolean"},isFunction:function(a){return!!(a&&a.$extIsFunction)},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?a.nodeType===1:false},isTextNode:function(a){return a?a.nodeName==="#text":false},isDefined:function(a){return typeof a!=="undefined"},isIterable:function(a){if(!a||typeof a.length!=="number"||typeof a==="string"||a.$extIsFunction){return false}if(!a.propertyIsEnumerable){return!!a.item}if(a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length")){return true}return k.test(c.call(a))}});Ext.apply(Ext,{clone:function(a){var b,e,f,g,h,i;if(a===null||a===undefined){return a}if(a.nodeType&&a.cloneNode){return a.cloneNode(true)}b=c.call(a);if(b==="[object Date]"){return new Date(a.getTime())}if(b==="[object Array]"){e=a.length;h=[];while(e--){h[e]=Ext.clone(a[e])}}else if(b==="[object Object]"&&a.constructor===Object){h={};for(i in a){h[i]=Ext.clone(a[i])}if(d){for(f=d.length;f--;){g=d[f];if(a.hasOwnProperty(g)){h[g]=a[g]}}}}return h||a},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,b;if(a===undefined){b=0;do{a="ExtBox"+ ++b}while(Ext.global[a]!==undefined);Ext.global[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var a=this,b=Array.prototype.slice.call(arguments),c=a.functionFactoryCache,d,e,f;if(Ext.isSandboxed){f=b.length;if(f>0){f--;b[f]="var Ext=window."+Ext.name+";"+b[f]}}d=b.join("");e=c[d];if(!e){e=Function.prototype.constructor.apply(Function.prototype,b);c[d]=e}return e},functionFactory:function(){var a=this,b=Array.prototype.slice.call(arguments),c;if(Ext.isSandboxed){c=b.length;if(c>0){c--;b[c]="var Ext=window."+Ext.name+";"+b[c]}}return Function.prototype.constructor.apply(Function.prototype,b)},Logger:{verbose:f,log:f,info:f,warn:f,error:function(a){throw new Error(a)},deprecate:f}});Ext.type=Ext.typeOf;j=Ext.app;if(!j){j=Ext.app={}}Ext.apply(j,{namespaces:{},collectNamespaces:function(a){var b=Ext.app.namespaces,c;for(c in a){if(a.hasOwnProperty(c)){b[c]=true}}},addNamespaces:function(a){var b=Ext.app.namespaces,c,d;if(!Ext.isArray(a)){a=[a]}for(c=0,d=a.length;c<d;c++){b[a[c]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(a){var b=Ext.app.namespaces,c="",d;for(d in b){if(b.hasOwnProperty(d)&&d.length>c.length&&d+"."===a.substring(0,d.length+1)){c=d}}return c===""?undefined:c}})})();Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function($$code){(function(){var Ext=this.Ext;eval($$code)})()};(function(){var a="4.2.1.883",b;Ext.Version=b=Ext.extend(Object,{constructor:function(a){var c,d;if(a instanceof b){return a}this.version=this.shortVersion=String(a).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,"");d=this.version.search(/([^\d\.])/);if(d!==-1){this.release=this.version.substr(d,a.length);this.shortVersion=this.version.substr(0,d)}this.shortVersion=this.shortVersion.replace(/[^\d]/g,"");c=this.version.split(".");this.major=parseInt(c.shift()||0,10);this.minor=parseInt(c.shift()||0,10);this.patch=parseInt(c.shift()||0,10);this.build=parseInt(c.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(a){return b.compare(this.version,a)===1},isGreaterThanOrEqual:function(a){return b.compare(this.version,a)>=0},isLessThan:function(a){return b.compare(this.version,a)===-1},isLessThanOrEqual:function(a){return b.compare(this.version,a)<=0},equals:function(a){return b.compare(this.version,a)===0},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}});Ext.apply(b,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return!a?0:isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10)},compare:function(a,c){var d,e,f;a=new b(a).toArray();c=new b(c).toArray();for(f=0;f<Math.max(a.length,c.length);f++){d=this.getComponentValue(a[f]);e=this.getComponentValue(c[f]);if(d<e){return-1}else if(d>e){return 1}}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(a,c){Ext.versions[a]=new b(c);Ext.lastRegisteredVersion=Ext.versions[a];return this},getVersion:function(a){if(a===undefined){return Ext.lastRegisteredVersion}return Ext.versions[a]},deprecate:function(a,c,d,e){if(b.compare(Ext.getVersion(a),c)<1){d.call(e)}}});Ext.setVersion("core",a)})();Ext.String=function(){var a=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,b=/('|\\)/g,c=/\{(\d+)\}/g,d=/([-.*+?\^${}()|\[\]\/\\])/g,e=/^\s+|\s+$/g,f=/\s+/,g=/(^[^a-z]*|[^\w])/gi,h,i,j,k,l=function(a,b){return h[b]},m=function(a,b){return b in i?i[b]:String.fromCharCode(parseInt(b.substr(2),10))},n=function(a,b){if(a===null||a===undefined||b===null||b===undefined){return false}return b.length<=a.length};return{insert:function(a,b,c){if(!a){return b}if(!b){return a}var d=a.length;if(!c&&c!==0){c=d}if(c<0){c*=-1;if(c>=d){c=0}else{c=d-c}}if(c===0){a=b+a}else if(c>=a.length){a+=b}else{a=a.substr(0,c)+b+a.substr(c)}return a},startsWith:function(a,b,c){var d=n(a,b);if(d){if(c){a=a.toLowerCase();b=b.toLowerCase()}d=a.lastIndexOf(b,0)===0}return d},endsWith:function(a,b,c){var d=n(a,b);if(d){if(c){a=a.toLowerCase();b=b.toLowerCase()}d=a.indexOf(b,a.length-b.length)!==-1}return d},createVarName:function(a){return a.replace(g,"")},htmlEncode:function(a){return!a?a:String(a).replace(j,l)},htmlDecode:function(a){return!a?a:String(a).replace(k,m)},addCharacterEntities:function(a){var b=[],c=[],d,e;for(d in a){e=a[d];i[d]=e;h[e]=d;b.push(e);c.push(d)}j=new RegExp("("+b.join("|")+")","g");k=new RegExp("("+c.join("|")+"|&#[0-9]{1,5};"+")","g")},resetCharacterEntities:function(){h={};i={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf("?")===-1?"?":"&")+b}return a},trim:function(b){return b.replace(a,"")},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.substr(1)},ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var d=a.substr(0,b-2),e=Math.max(d.lastIndexOf(" "),d.lastIndexOf("."),d.lastIndexOf("!"),d.lastIndexOf("?"));if(e!==-1&&e>=b-15){return d.substr(0,e)+"..."}}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(d,"\\$1")},escape:function(a){return a.replace(b,"\\$1")},toggle:function(a,b,c){return a===b?c:b},leftPad:function(a,b,c){var d=String(a);c=c||" ";while(d.length<b){d=c+d}return d},format:function(a){var b=Ext.Array.toArray(arguments,1);return a.replace(c,function(a,c){return b[c]})},repeat:function(a,b,c){if(b<1){b=0}for(var d=[],e=b;e--;){d.push(a)}return d.join(c||"")},splitWords:function(a){if(a&&typeof a=="string"){return a.replace(e,"").split(f)}return a||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Number=new function(){var a=this,b=.9.toFixed()!=="1",c=Math;Ext.apply(this,{constrain:function(a,b,c){var d=parseFloat(a);return d<b?b:d>c?c:d},snap:function(b,c,d,e){var f;if(b===undefined||b<d){return d||0}if(c){f=b%c;if(f!==0){b-=f;if(f*2>=c){b+=c}else if(f*2<-c){b-=c}}}return a.constrain(b,d,e)},snapInRange:function(b,c,d,e){var f;d=d||0;if(b===undefined||b<d){return d}if(c&&(f=(b-d)%c)){b-=f;f*=2;if(f>=c){b+=c}}if(e!==undefined){if(b>(e=a.snapInRange(e,c,d))){b=e}}return b},toFixed:b?function(a,b){b=b||0;var d=c.pow(10,b);return(c.round(a*d)/d).toFixed(b)}:function(a,b){return a.toFixed(b)},from:function(a,b){if(isFinite(a)){a=parseFloat(a)}return!isNaN(a)?a:b},randomInt:function(a,b){return c.floor(c.random()*(b-a+1)+a)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}});Ext.num=function(){return a.from.apply(this,arguments)}};(function(){var a=Array.prototype,b=a.slice,c=function(){var a=[],b,c=20;if(!a.splice){return false}while(c--){a.push("A")}a.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");b=a.length;a.splice(13,0,"XXX");if(b+1!=a.length){return false}return true}(),d="forEach"in a,e="map"in a,f="indexOf"in a,g="every"in a,h="some"in a,i="filter"in a,j=function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}(),k=true,l,m,n,o;try{if(typeof document!=="undefined"){b.call(document.getElementsByTagName("body"))}}catch(p){k=false}function q(a,b){return b<0?Math.max(0,a.length+b):Math.min(a.length,b)}function r(a,b,c,d){var e=d?d.length:0,f=a.length,g=q(a,b),h,i,j,k,l,m;if(g===f){if(e){a.push.apply(a,d)}}else{h=Math.min(c,f-g);i=g+h;j=i+e-h;k=f-i;l=f-h;if(j<i){for(m=0;m<k;++m){a[j+m]=a[i+m]}}else if(j>i){for(m=k;m--;){a[j+m]=a[i+m]}}if(e&&g===l){a.length=l;a.push.apply(a,d)}else{a.length=l+e;for(m=0;m<e;++m){a[g+m]=d[m]}}}return a}function s(a,b,c,d){if(d&&d.length){if(b===0&&!c){a.unshift.apply(a,d)}else if(b<a.length){a.splice.apply(a,[b,c].concat(d))}else{a.push.apply(a,d)}}else{a.splice(b,c)}return a}function t(a,b,c){return r(a,b,c)}function u(a,b,c){a.splice(b,c);return a}function v(a,c,d){var e=q(a,c),f=a.slice(c,q(a,e+d));if(arguments.length<4){r(a,e,d)}else{r(a,e,d,b.call(arguments,3))}return f}function w(a){return a.splice.apply(a,b.call(arguments,1))}m=c?u:t;n=c?s:r;o=c?w:v;l=Ext.Array={each:function(a,b,c,d){a=l.from(a);var e,f=a.length;if(d!==true){for(e=0;e<f;e++){if(b.call(c||a[e],a[e],e,a)===false){return e}}}else{for(e=f-1;e>-1;e--){if(b.call(c||a[e],a[e],e,a)===false){return e}}}return true},forEach:d?function(a,b,c){a.forEach(b,c)}:function(a,b,c){var d=0,e=a.length;for(;d<e;d++){b.call(c,a[d],d,a)}},indexOf:f?function(b,c,d){return a.indexOf.call(b,c,d)}:function(a,b,c){var d,e=a.length;for(d=c<0?Math.max(0,e+c):c||0;d<e;d++){if(a[d]===b){return d}}return-1},contains:f?function(b,c){return a.indexOf.call(b,c)!==-1}:function(a,b){var c,d;for(c=0,d=a.length;c<d;c++){if(a[c]===b){return true}}return false},toArray:function(a,c,d){if(!a||!a.length){return[]}if(typeof a==="string"){a=a.split("")}if(k){return b.call(a,c||0,d||a.length)}var e=[],f;c=c||0;d=d?d<0?a.length+d:d:a.length;for(f=c;f<d;f++){e.push(a[f])}return e},pluck:function(a,b){var c=[],d,e,f;for(d=0,e=a.length;d<e;d++){f=a[d];c.push(f[b])}return c},map:e?function(a,b,c){return a.map(b,c)}:function(a,b,c){var d=[],e=0,f=a.length;for(;e<f;e++){d[e]=b.call(c,a[e],e,a)}return d},every:g?function(a,b,c){return a.every(b,c)}:function(a,b,c){var d=0,e=a.length;for(;d<e;++d){if(!b.call(c,a[d],d,a)){return false}}return true},some:h?function(a,b,c){return a.some(b,c)}:function(a,b,c){var d=0,e=a.length;for(;d<e;++d){if(b.call(c,a[d],d,a)){return true}}return false},equals:function(a,b){var c=a.length,d=b.length,e;if(a===b){return true}if(c!==d){return false}for(e=0;e<c;++e){if(a[e]!==b[e]){return false}}return true},clean:function(a){var b=[],c=0,d=a.length,e;for(;c<d;c++){e=a[c];if(!Ext.isEmpty(e)){b.push(e)}}return b},unique:function(a){var b=[],c=0,d=a.length,e;for(;c<d;c++){e=a[c];if(l.indexOf(b,e)===-1){b.push(e)}}return b},filter:i?function(a,b,c){return a.filter(b,c)}:function(a,b,c){var d=[],e=0,f=a.length;for(;e<f;e++){if(b.call(c,a[e],e,a)){d.push(a[e])}}return d},findBy:function(a,b,c){var d=0,e=a.length;for(;d<e;d++){if(b.call(c||a,a[d],d)){return a[d]}}return null},from:function(a,c){if(a===undefined||a===null){return[]}if(Ext.isArray(a)){return c?b.call(a):a}var d=typeof a;if(a&&a.length!==undefined&&d!=="string"&&(d!=="function"||!a.apply)){return l.toArray(a)}return[a]},remove:function(a,b){var c=l.indexOf(a,b);if(c!==-1){m(a,c,1)}return a},include:function(a,b){if(!l.contains(a,b)){a.push(b)}},clone:function(a){return b.call(a)},merge:function(){var a=b.call(arguments),c=[],d,e;for(d=0,e=a.length;d<e;d++){c=c.concat(a[d])}return l.unique(c)},intersect:function(){var a=[],c=b.call(arguments),d,e,f,g,h,i,j,k,n,o,p,q,r;if(!c.length){return a}d=c.length;for(p=h=0;p<d;p++){i=c[p];if(!g||i.length<g.length){g=i;h=p}}g=l.unique(g);m(c,h,1);j=g.length;d=c.length;for(p=0;p<j;p++){k=g[p];o=0;for(q=0;q<d;q++){e=c[q];f=e.length;for(r=0;r<f;r++){n=e[r];if(k===n){o++;break}}}if(o===d){a.push(k)}}return a},difference:function(a,c){var d=b.call(a),e=d.length,f,g,h;for(f=0,h=c.length;f<h;f++){for(g=0;g<e;g++){if(d[g]===c[f]){m(d,g,1);g--;e--}}}return d},slice:[1,2].slice(1,undefined).length?function(a,c,d){return b.call(a,c,d)}:function(a,c,d){if(typeof c==="undefined"){return b.call(a)}if(typeof d==="undefined"){return b.call(a,c)}return b.call(a,c,d)},sort:j?function(a,b){if(b){return a.sort(b)}else{return a.sort()}}:function(a,b){var c=a.length,d=0,e,f,g,h;for(;d<c;d++){g=d;for(f=d+1;f<c;f++){if(b){e=b(a[f],a[g]);if(e<0){g=f}}else if(a[f]<a[g]){g=f}}if(g!==d){h=a[d];a[d]=a[g];a[g]=h}}return a},flatten:function(a){var b=[];function c(a){var d,e,f;for(d=0,e=a.length;d<e;d++){f=a[d];if(Ext.isArray(f)){c(f)}else{b.push(f)}}return b}return c(a)},min:function(a,b){var c=a[0],d,e,f;for(d=0,e=a.length;d<e;d++){f=a[d];if(b){if(b(c,f)===1){c=f}}else{if(f<c){c=f}}}return c},max:function(a,b){var c=a[0],d,e,f;for(d=0,e=a.length;d<e;d++){f=a[d];if(b){if(b(c,f)===-1){c=f}}else{if(f>c){c=f}}}return c},mean:function(a){return a.length>0?l.sum(a)/a.length:undefined},sum:function(a){var b=0,c,d,e;for(c=0,d=a.length;c<d;c++){e=a[c];b+=e}return b},toMap:function(a,b,c){var d={},e=a.length;if(!b){while(e--){d[a[e]]=e+1}}else if(typeof b=="string"){while(e--){d[a[e][b]]=e+1}}else{while(e--){d[b.call(c,a[e])]=e+1}}return d},toValueMap:function(a,b,c){var d={},e=a.length;if(!b){while(e--){d[a[e]]=a[e]}}else if(typeof b=="string"){while(e--){d[a[e][b]]=a[e]}}else{while(e--){d[b.call(c,a[e])]=a[e]}}return d},erase:m,insert:function(a,b,c){return n(a,b,0,c)},replace:n,splice:o,push:function(a){var b=arguments.length,c=1,d;if(a===undefined){a=[]}else if(!Ext.isArray(a)){a=[a]}for(;c<b;c++){d=arguments[c];Array.prototype.push[Ext.isIterable(d)?"apply":"call"](a,d)}return a}};Ext.each=l.each;l.union=l.merge;Ext.min=l.min;Ext.max=l.max;Ext.sum=l.sum;Ext.mean=l.mean;Ext.flatten=l.flatten;Ext.clean=l.clean;Ext.unique=l.unique;Ext.pluck=l.pluck;Ext.toArray=function(){return l.toArray.apply(l,arguments)}})();Ext.Function={flexSetter:function(a){return function(b,c){var d,e;if(b===null){return this}if(typeof b!=="string"){for(d in b){if(b.hasOwnProperty(d)){a.call(this,d,b[d])}}if(Ext.enumerables){for(e=Ext.enumerables.length;e--;){d=Ext.enumerables[e];if(b.hasOwnProperty(d)){a.call(this,d,b[d])}}}}else{a.call(this,b,c)}return this}},bind:function(a,b,c,d){if(arguments.length===2){return function(){return a.apply(b,arguments)}}var e=a,f=Array.prototype.slice;return function(){var a=c||arguments;if(d===true){a=f.call(arguments,0);a=a.concat(c)}else if(typeof d=="number"){a=f.call(arguments,0);Ext.Array.insert(a,d,c)}return e.apply(b||Ext.global,a)}},pass:function(a,b,c){if(!Ext.isArray(b)){if(Ext.isIterable(b)){b=Ext.Array.clone(b)}else{b=b!==undefined?[b]:[]}}return function(){var d=[].concat(b);d.push.apply(d,arguments);return a.apply(c||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(a,b,c,d){var e=a;if(!Ext.isFunction(b)){return a}else{d=Ext.isDefined(d)?d:null;return function(){var e=this,f=arguments;b.target=e;b.method=a;return b.apply(c||e||Ext.global,f)!==false?a.apply(e||Ext.global,f):d}}},createDelayed:function(a,b,c,d,e){if(c||d){a=Ext.Function.bind(a,c,d,e)}return function(){var c=this,d=Array.prototype.slice.call(arguments);setTimeout(function(){a.apply(c,d)},b)}},defer:function(a,b,c,d,e){a=Ext.Function.bind(a,c,d,e);if(b>0){return setTimeout(Ext.supports.TimeoutActualLateness?function(){a()}:a,b)}a();return 0},createSequence:function(a,b,c){if(!b){return a}else{return function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}}},createBuffered:function(a,b,c,d){var e;return function(){var f=d||Array.prototype.slice.call(arguments,0),g=c||this;if(e){clearTimeout(e)}e=setTimeout(function(){a.apply(g,f)},b)}},createThrottled:function(a,b,c){var d,e,f,g,h=function(){a.apply(c||this,f);d=Ext.Date.now()};return function(){e=Ext.Date.now()-d;f=arguments;clearTimeout(g);if(!d||e>=b){h()}else{g=setTimeout(h,b-e)}}},interceptBefore:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){var a=c.apply(d||this,arguments);e.apply(this,arguments);return a}},interceptAfter:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){e.apply(this,arguments);return c.apply(d||this,arguments)}}};Ext.defer=Ext.Function.alias(Ext.Function,"defer");Ext.pass=Ext.Function.alias(Ext.Function,"pass");Ext.bind=Ext.Function.alias(Ext.Function,"bind");(function(){var a=function(){},b=Ext.Object={chain:Object.create||function(b){a.prototype=b;var c=new a;a.prototype=null;return c},toQueryObjects:function(a,c,d){var e=b.toQueryObjects,f=[],g,h;if(Ext.isArray(c)){for(g=0,h=c.length;g<h;g++){if(d){f=f.concat(e(a+"["+g+"]",c[g],true))}else{f.push({name:a,value:c[g]})}}}else if(Ext.isObject(c)){for(g in c){if(c.hasOwnProperty(g)){if(d){f=f.concat(e(a+"["+g+"]",c[g],true))}else{f.push({name:a,value:c[g]})}}}}else{f.push({name:a,value:c})}return f},toQueryString:function(a,c){var d=[],e=[],f,g,h,i,j;for(f in a){if(a.hasOwnProperty(f)){d=d.concat(b.toQueryObjects(f,a[f],c))}}for(g=0,h=d.length;g<h;g++){i=d[g];j=i.value;if(Ext.isEmpty(j)){j=""}else if(Ext.isDate(j)){j=Ext.Date.toString(j)}e.push(encodeURIComponent(i.name)+"="+encodeURIComponent(String(j)))}return e.join("&")},fromQueryString:function(a,b){var c=a.replace(/^\?/,"").split("&"),d={},e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(i=0,j=c.length;i<j;i++){k=c[i];if(k.length>0){f=k.split("=");g=decodeURIComponent(f[0]);h=f[1]!==undefined?decodeURIComponent(f[1]):"";if(!b){if(d.hasOwnProperty(g)){if(!Ext.isArray(d[g])){d[g]=[d[g]]}d[g].push(h)}else{d[g]=h}}else{n=g.match(/(\[):?([^\]]*)\]/g);o=g.match(/^([^\[]+)/);g=o[0];p=[];if(n===null){d[g]=h;continue}for(l=0,m=n.length;l<m;l++){q=n[l];q=q.length===2?"":q.substring(1,q.length-1);p.push(q)}p.unshift(g);e=d;for(l=0,m=p.length;l<m;l++){q=p[l];if(l===m-1){if(Ext.isArray(e)&&q===""){e.push(h)}else{e[q]=h}}else{if(e[q]===undefined||typeof e[q]==="string"){r=p[l+1];e[q]=Ext.isNumeric(r)||r===""?[]:{}}e=e[q]}}}}}return d},each:function(a,b,c){for(var d in a){if(a.hasOwnProperty(d)){if(b.call(c||a,d,a[d],a)===false){return}}}},merge:function(a){var c=1,d=arguments.length,e=b.merge,f=Ext.clone,g,h,i,j;for(;c<d;c++){g=arguments[c];for(h in g){i=g[h];if(i&&i.constructor===Object){j=a[h];if(j&&j.constructor===Object){e(j,i)}else{a[h]=f(i)}}else{a[h]=i}}}return a},mergeIf:function(a){var b=1,c=arguments.length,d=Ext.clone,e,f,g;for(;b<c;b++){e=arguments[b];for(f in e){if(!(f in a)){g=e[f];if(g&&g.constructor===Object){a[f]=d(g)}else{a[f]=g}}}}return a},getKey:function(a,b){for(var c in a){if(a.hasOwnProperty(c)&&a[c]===b){return c}}return null},getValues:function(a){var b=[],c;for(c in a){if(a.hasOwnProperty(c)){b.push(a[c])}}return b},getKeys:typeof Object.keys=="function"?function(a){if(!a){return[]}return Object.keys(a)}:function(a){var b=[],c;for(c in a){if(a.hasOwnProperty(c)){b.push(c)}}return b},getSize:function(a){var b=0,c;for(c in a){if(a.hasOwnProperty(c)){b++}}return b},isEmpty:function(a){for(var b in a){if(a.hasOwnProperty(b)){return false}}return true},equals:function(){var a=function(a,b){var c;for(c in a){if(a.hasOwnProperty(c)){if(a[c]!==b[c]){return false}}}return true};return function(b,c){if(b===c){return true}if(b&&c){return a(b,c)&&a(c,b)}else if(!b&&!c){return b===c}else{return false}}}(),classify:function(a){var c=a,d=[],e={},f=function(){var a=0,b=d.length,c;for(;a<b;a++){c=d[a];this[c]=new e[c]}},g,h;for(g in a){if(a.hasOwnProperty(g)){h=a[g];if(h&&h.constructor===Object){d.push(g);e[g]=b.classify(h)}}}f.prototype=c;return f}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf;Ext.urlEncode=function(){var a=Ext.Array.from(arguments),c="";if(typeof a[1]==="string"){c=a[1]+"&";a[1]=false}return c+b.toQueryString.apply(b,a)};Ext.urlDecode=function(){return b.fromQueryString.apply(b,arguments)}})();Ext.Date=new function(){var a=this,b=/(\\.)/g,c=/([gGhHisucUOPZ]|MS)/,d=/([djzmnYycU]|MS)/,e=/\\/gi,f=/\{(\d+)\}/g,g=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),h=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");function i(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(f,function(a,c){return b[c]})}Ext.apply(a,{now:Date.now||function(){return+new Date},toString:function(a){var b=Ext.String.leftPad;return a.getFullYear()+"-"+b(a.getMonth()+1,2,"0")+"-"+b(a.getDate(),2,"0")+"T"+b(a.getHours(),2,"0")+":"+b(a.getMinutes(),2,"0")+":"+b(a.getSeconds(),2,"0")},getElapsed:function(b,c){return Math.abs(b-(c||a.now()))},useStrict:false,formatCodeToRegex:function(b,c){var d=a.parseCodes[b];if(d){d=typeof d=="function"?d():d;a.parseCodes[b]=d}return d?Ext.applyIf({c:d.c?i(d.c,c||"{0}"):d.c},d):{g:0,c:null,s:Ext.String.escapeRegex(b)}},parseFunctions:{MS:function(a,b){var c=(a||"").match(g);return c?new Date(((c[1]||"")+c[2])*1):null},time:function(a,b){var c=parseInt(a,10);if(c||c===0){return new Date(c)}return null},timestamp:function(a,b){var c=parseInt(a,10);if(c||c===0){return new Date(c*1e3)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return a.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return c.test(a.replace(b,""))},formatContainsDateInfo:function(a){return d.test(a.replace(b,""))},unescapeFormat:function(a){return a.replace(e,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var b,c,d,e,f;for(b="Y-m-dTH:i:sP",c=[],d=0,e=b.length;d<e;++d){f=b.charAt(d);c.push(f=="T"?"'T'":a.getFormatCode(f))}return c.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(b,c,d,e,f,g,h){e=e||0;f=f||0;g=g||0;h=h||0;var i=a.add(new Date(b<100?100:b,c-1,d,e,f,g,h),a.YEAR,b<100?b-100:0);return b==i.getFullYear()&&c==i.getMonth()+1&&d==i.getDate()&&e==i.getHours()&&f==i.getMinutes()&&g==i.getSeconds()&&h==i.getMilliseconds()},parse:function(b,c,d){var e=a.parseFunctions;if(e[c]==null){a.createParser(c)}return e[c].call(a,b,Ext.isDefined(d)?d:a.useStrict)},parseDate:function(b,c,d){return a.parse(b,c,d)},getFormatCode:function(b){var c=a.formatCodes[b];if(c){c=typeof c=="function"?c():c;a.formatCodes[b]=c}return c||"'"+Ext.String.escape(b)+"'"},createFormat:function(b){var c=[],d=false,e="",f;for(f=0;f<b.length;++f){e=b.charAt(f);if(!d&&e=="\\"){d=true}else if(d){d=false;c.push("'"+Ext.String.escape(e)+"'")}else{c.push(a.getFormatCode(e))}}a.formatFunctions[b]=Ext.functionFactory("return "+c.join("+"))},createParser:function(b){var c=a.parseRegexes.length,d=1,e=[],f=[],g=false,j="",k=0,l=b.length,m=[],n;for(;k<l;++k){j=b.charAt(k);if(!g&&j=="\\"){g=true}else if(g){g=false;f.push(Ext.String.escape(j))}else{n=a.formatCodeToRegex(j,d);d+=n.g;f.push(n.s);if(n.g&&n.c){if(n.calcAtEnd){m.push(n.c)}else{e.push(n.c)}}}}e=e.concat(m);a.parseRegexes[c]=new RegExp("^"+f.join("")+"$","i");a.parseFunctions[b]=Ext.functionFactory("input","strict",i(h,c,e.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var b=[],c=0;c<7;b.push(a.getShortDayName(c)),++c);return{g:0,c:null,s:"(?:"+b.join("|")+")"}
},l:function(){return{g:0,c:null,s:"(?:"+a.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+a.monthNames.join("|")+")"}},M:function(){for(var b=[],c=0;c<12;b.push(a.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+b.join("|")+")"},a.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\n"+"y = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\n"+"if (!h || h == 12) { h = 0; }\n"+"} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\n"+"if (!h || h == 12) { h = 0; }\n"+"} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\n"+"zz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var b=[],c=[a.formatCodeToRegex("Y",1),a.formatCodeToRegex("m",2),a.formatCodeToRegex("d",3),a.formatCodeToRegex("H",4),a.formatCodeToRegex("i",5),a.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",a.formatCodeToRegex("P",8).c,"}else{",a.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],d,e;for(d=0,e=c.length;d<e;++d){b.push(c[d].c)}return{g:1,c:b.join(""),s:[c[0].s,"(?:","-",c[1].s,"(?:","-",c[2].s,"(?:","(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(b,c){return a.format(b,c)},isEqual:function(a,b){if(a&&b){return a.getTime()===b.getTime()}return!(a||b)},format:function(b,c){var d=a.formatFunctions;if(!Ext.isDate(b)){return""}if(d[c]==null){a.createFormat(c)}return d[c].call(b)+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,b){var c=a.getTimezoneOffset();return(c>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(c)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(c%60),2,"0")},getDayOfYear:function(b){var c=0,d=Ext.Date.clone(b),e=b.getMonth(),f;for(f=0,d.setDate(1),d.setMonth(0);f<e;d.setMonth(++f)){c+=a.getDaysInMonth(d)}return c+b.getDate()-1},getWeekOfYear:function(){var a=864e5,b=7*a;return function(c){var d=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()+3)/a,e=Math.floor(d/7),f=new Date(e*b).getUTCFullYear();return e-Math.floor(Date.UTC(f,0,7)/b)+1}}(),isLeapYear:function(a){var b=a.getFullYear();return!!((b&3)==0&&(b%100||b%400==0&&b))},getFirstDayOfMonth:function(a){var b=(a.getDay()-(a.getDate()-1))%7;return b<0?b+7:b},getLastDayOfMonth:function(b){return a.getLastDateOfMonth(b).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(b){return new Date(b.getFullYear(),b.getMonth(),a.getDaysInMonth(b))},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return d==1&&a.isLeapYear(c)?29:b[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return new Date(a.getFullYear(),0,1).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(b,c){if(c){return Ext.Date.clearTime(Ext.Date.clone(b))}var d=b.getDate(),e,f;b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);if(b.getDate()!=d){for(e=1,f=a.add(b,Ext.Date.HOUR,e);f.getDate()!=d;e++,f=a.add(b,Ext.Date.HOUR,e));b.setDate(d);b.setHours(f.getHours())}return b},add:function(b,c,d){var e=Ext.Date.clone(b),f=Ext.Date,g,h,i=0;if(!c||d===0){return e}h=d-parseInt(d,10);d=parseInt(d,10);if(d){switch(c.toLowerCase()){case Ext.Date.MILLI:e.setTime(e.getTime()+d);break;case Ext.Date.SECOND:e.setTime(e.getTime()+d*1e3);break;case Ext.Date.MINUTE:e.setTime(e.getTime()+d*60*1e3);break;case Ext.Date.HOUR:e.setTime(e.getTime()+d*60*60*1e3);break;case Ext.Date.DAY:e.setDate(e.getDate()+d);break;case Ext.Date.MONTH:g=b.getDate();if(g>28){g=Math.min(g,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(b),Ext.Date.MONTH,d)).getDate())}e.setDate(g);e.setMonth(b.getMonth()+d);break;case Ext.Date.YEAR:g=b.getDate();if(g>28){g=Math.min(g,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(b),Ext.Date.YEAR,d)).getDate())}e.setDate(g);e.setFullYear(b.getFullYear()+d);break}}if(h){switch(c.toLowerCase()){case Ext.Date.MILLI:i=1;break;case Ext.Date.SECOND:i=1e3;break;case Ext.Date.MINUTE:i=1e3*60;break;case Ext.Date.HOUR:i=1e3*60*60;break;case Ext.Date.DAY:i=1e3*60*60*24;break;case Ext.Date.MONTH:g=a.getDaysInMonth(e);i=1e3*60*60*24*g;break;case Ext.Date.YEAR:g=a.isLeapYear(e)?366:365;i=1e3*60*60*24*g;break}if(i){e.setTime(e.getTime()+i*h)}}return e},subtract:function(b,c,d){return a.add(b,c,-d)},between:function(a,b,c){var d=a.getTime();return b.getTime()<=d&&d<=c.getTime()},compat:function(){var b=window.Date,c,d=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],e=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],f=d.length,g=e.length,h,i,j;for(j=0;j<f;j++){h=d[j];b[h]=a[h]}for(c=0;c<g;c++){i=e[c];b.prototype[i]=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a[i].apply(a,b)}}}})};(function(a){var b=[],c=function(){},d=function(a,b,c,d){var e=function(){var b=this.callParent(arguments);a.apply(this,arguments);return b};e.$name=c;e.$owner=d;if(b){e.$previous=b.$previous;b.$previous=e}return e};Ext.apply(c,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(a){var b=a.prototype,c,d,e,f,g,h;d=this.prototype=Ext.Object.chain(b);d.self=this;this.superclass=d.superclass=b;if(!a.$isClass){c=Ext.Base.prototype;for(e in c){if(e in d){d[e]=c[e]}}}h=b.$inheritableStatics;if(h){for(e=0,f=h.length;e<f;e++){g=h[e];if(!this.hasOwnProperty(g)){this[g]=a[g]}}}if(a.$onExtended){this.$onExtended=a.$onExtended.slice()}d.config=new d.configClass;d.initConfigList=d.initConfigList.slice();d.initConfigMap=Ext.clone(d.initConfigMap);d.configMap=Ext.Object.chain(d.configMap)},$onExtended:[],triggerExtended:function(){var a=this.$onExtended,b=a.length,c,d;if(b>0){for(c=0;c<b;c++){d=a[c];d.fn.apply(d.scope||this,arguments)}}},onExtended:function(a,b){this.$onExtended.push({fn:a,scope:b});return this},addConfig:function(a,b){var c=this.prototype,d=Ext.Class.configNameCache,e=c.configMap,f=c.initConfigList,g=c.initConfigMap,h=c.config,i,j,k;for(j in a){if(a.hasOwnProperty(j)){if(!e[j]){e[j]=true}k=a[j];i=d[j].initialized;if(!g[j]&&k!==null&&!c[i]){g[j]=true;f.push(j)}}}if(b){Ext.merge(h,a)}else{Ext.mergeIf(h,a)}c.configClass=Ext.Object.classify(h)},addStatics:function(a){var b,c;for(c in a){if(a.hasOwnProperty(c)){b=a[c];if(typeof b=="function"&&!b.$isClass&&b!==Ext.emptyFn&&b!==Ext.identityFn){b.$owner=this;b.$name=c}this[c]=b}}return this},addInheritableStatics:function(a){var b,c,d=this.prototype,e,f;b=d.$inheritableStatics;c=d.$hasInheritableStatics;if(!b){b=d.$inheritableStatics=[];c=d.$hasInheritableStatics={}}for(e in a){if(a.hasOwnProperty(e)){f=a[e];this[e]=f;if(!c[e]){c[e]=true;b.push(e)}}}return this},addMembers:function(a){var b=this.prototype,c=Ext.enumerables,d=[],e,f,g,h;for(g in a){d.push(g)}if(c){d.push.apply(d,c)}for(e=0,f=d.length;e<f;e++){g=d[e];if(a.hasOwnProperty(g)){h=a[g];if(typeof h=="function"&&!h.$isClass&&h!==Ext.emptyFn&&h!==Ext.identityFn){h.$owner=this;h.$name=g}b[g]=h}}return this},addMember:function(a,b){if(typeof b=="function"&&!b.$isClass&&b!==Ext.emptyFn&&b!==Ext.identityFn){b.$owner=this;b.$name=a}this.prototype[a]=b;return this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(a,b){var c=this.prototype,d=a.prototype,e,f,g,h,i;b=Ext.Array.from(b);for(e=0,f=b.length;e<f;e++){g=b[e];i=d[g];if(typeof i=="function"){h=Ext.Function.clone(i);h.$owner=this;h.$name=g;c[g]=h}else{c[g]=i}}return this},override:function(a){var b=this,c=Ext.enumerables,d=b.prototype,e=Ext.Function.clone,f,g,h,i,j,k;if(arguments.length===2){f=a;a={};a[f]=arguments[1];c=null}do{j=[];i=null;for(f in a){if(f=="statics"){i=a[f]}else if(f=="inheritableStatics"){b.addInheritableStatics(a[f])}else if(f=="config"){b.addConfig(a[f],true)}else{j.push(f)}}if(c){j.push.apply(j,c)}for(g=j.length;g--;){f=j[g];if(a.hasOwnProperty(f)){h=a[f];if(typeof h=="function"&&!h.$className&&h!==Ext.emptyFn&&h!==Ext.identityFn){if(typeof h.$owner!="undefined"){h=e(h)}h.$owner=b;h.$name=f;k=d[f];if(k){h.$previous=k}}d[f]=h}}d=b;a=i}while(a);return this},callParent:function(a){var c;return(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},callSuper:function(a){var c;return(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},mixin:function(a,b){var c=this,e=b.prototype,f=c.prototype,g,h,i,j,k,l,m,n;if(typeof e.onClassMixedIn!="undefined"){e.onClassMixedIn.call(b,c)}if(!f.hasOwnProperty("mixins")){if("mixins"in f){f.mixins=Ext.Object.chain(f.mixins)}else{f.mixins={}}}for(g in e){l=e[g];if(g==="mixins"){Ext.merge(f.mixins,l)}else if(g==="xhooks"){for(m in l){n=l[m];n.$previous=Ext.emptyFn;if(f.hasOwnProperty(m)){d(n,f[m],m,c)}else{f[m]=d(n,null,m,c)}}}else if(!(g==="mixinId"||g==="config")&&f[g]===undefined){f[g]=l}}h=e.$inheritableStatics;if(h){for(i=0,j=h.length;i<j;i++){k=h[i];if(!c.hasOwnProperty(k)){c[k]=b[k]}}}if("config"in e){c.addConfig(e.config,false)}f.mixins[a]=e;return c},getName:function(){return Ext.getClassName(this)},createAlias:a(function(a,b){this.override(a,function(){return this[b].apply(this,arguments)})}),addXtype:function(a){var b=this.prototype,c=b.xtypesMap,d=b.xtypes,e=b.xtypesChain;if(!b.hasOwnProperty("xtypesMap")){c=b.xtypesMap=Ext.merge({},b.xtypesMap||{});d=b.xtypes=b.xtypes?[].concat(b.xtypes):[];e=b.xtypesChain=b.xtypesChain?[].concat(b.xtypesChain):[];b.xtype=a}if(!c[a]){c[a]=true;d.push(a);e.push(a);Ext.ClassManager.setAlias(this,"widget."+a)}return this}});c.implement({isInstance:true,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var a=this.statics.caller,b=this.self;if(!a){return b}return a.$owner},callParent:function(a){var c,d=(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]);return d.apply(this,a||b)},callSuper:function(a){var c,d=(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]);return d.apply(this,a||b)},self:c,constructor:function(){return this},initConfig:function(a){var b=a,c=Ext.Class.configNameCache,d=new this.configClass,e=this.initConfigList,f=this.configMap,g,h,i,j,k;this.initConfig=Ext.emptyFn;this.initialConfig=b||{};this.config=a=b?Ext.merge(d,a):d;if(b){e=e.slice();for(j in b){if(f[j]){if(b[j]!==null){e.push(j);this[c[j].initialized]=false}}}}for(h=0,i=e.length;h<i;h++){j=e[h];g=c[j];k=g.initialized;if(!this[k]){this[k]=true;this[g.set].call(this,a[j])}}return this},hasConfig:function(a){return Boolean(this.configMap[a])},setConfig:function(a,b){if(!a){return this}var c=Ext.Class.configNameCache,d=this.config,e=this.configMap,f=this.initialConfig,g,h;b=Boolean(b);for(g in a){if(b&&f.hasOwnProperty(g)){continue}h=a[g];d[g]=h;if(e[g]){this[c[g].set](h)}}return this},getConfig:function(a){var b=Ext.Class.configNameCache;return this[b[a].get]()},getInitialConfig:function(a){var b=this.config;if(!a){return b}else{return b[a]}},onConfigUpdate:function(a,b,c){var d=this.self,e,f,g,h,i,j;a=Ext.Array.from(a);c=c||this;for(e=0,f=a.length;e<f;e++){g=a[e];h="update"+Ext.String.capitalize(g);i=this[h]||Ext.emptyFn;j=function(){i.apply(this,arguments);c[b].apply(c,arguments)};j.$name=h;j.$owner=d;this[h]=j}},destroy:function(){this.destroy=Ext.emptyFn}});c.prototype.callOverridden=c.prototype.callParent;Ext.Base=c})(Ext.Function.flexSetter);(function(){var a,b=Ext.Base,c=[],d,e;for(d in b){if(b.hasOwnProperty(d)){c.push(d)}}e=c.length;function f(a){function b(){return this.constructor.apply(this,arguments)||null}return b}Ext.Class=a=function(b,c,d){if(typeof b!="function"){d=c;c=b;b=null}if(!c){c={}}b=a.create(b,c);a.process(b,c,d);return b};Ext.apply(a,{onBeforeCreated:function(a,b,c){a.addMembers(b);c.onCreated.call(a,a)},create:function(a,d){var g,h;if(!a){a=f()}for(h=0;h<e;h++){g=c[h];a[g]=b[g]}return a},process:function(b,c,d){var e=c.preprocessors||a.defaultPreprocessors,f=this.preprocessors,g={onBeforeCreated:this.onBeforeCreated},h=[],i,j,k,l,m,n,o;delete c.preprocessors;for(k=0,l=e.length;k<l;k++){i=e[k];if(typeof i=="string"){i=f[i];j=i.properties;if(j===true){h.push(i.fn)}else if(j){for(m=0,n=j.length;m<n;m++){o=j[m];if(c.hasOwnProperty(o)){h.push(i.fn);break}}}}else{h.push(i)}}g.onCreated=d?d:Ext.emptyFn;g.preprocessors=h;this.doProcess(b,c,g)},doProcess:function(a,b,c){var d=this,e=c.preprocessors,f=e.shift(),g=d.doProcess;for(;f;f=e.shift()){if(f.call(d,a,b,c,g)===false){return}}c.onBeforeCreated.apply(d,arguments)},preprocessors:{},registerPreprocessor:function(a,b,c,d,e){if(!d){d="last"}if(!c){c=[a]}this.preprocessors[a]={name:a,properties:c||false,fn:b};this.setDefaultPreprocessorPosition(a,d,e);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(a,b,c){var d=this.defaultPreprocessors,e;if(typeof b=="string"){if(b==="first"){d.unshift(a);return this}else if(b==="last"){d.push(a);return this}b=b==="after"?1:-1}e=Ext.Array.indexOf(d,c);if(e!==-1){Ext.Array.splice(d,Math.max(0,e+b),0,a)}return this},configNameCache:{},getConfigNameMap:function(a){var b=this.configNameCache,c=b[a],d;if(!c){d=a.charAt(0).toUpperCase()+a.substr(1);c=b[a]={internal:a,initialized:"_is"+d+"Initialized",apply:"apply"+d,update:"update"+d,set:"set"+d,get:"get"+d,doSet:"doSet"+d,changeEvent:a.toLowerCase()+"change"}}return c}});a.registerPreprocessor("extend",function(a,b,c){var d=Ext.Base,e=d.prototype,f=b.extend,g,h,i;delete b.extend;if(f&&f!==Object){g=f}else{g=d}h=g.prototype;if(!g.$isClass){for(i in e){if(!h[i]){h[i]=e[i]}}}a.extend(g);a.triggerExtended.apply(a,arguments);if(b.onClassExtended){a.onExtended(b.onClassExtended,a);delete b.onClassExtended}},true);a.registerPreprocessor("statics",function(a,b){a.addStatics(b.statics);delete b.statics});a.registerPreprocessor("inheritableStatics",function(a,b){a.addInheritableStatics(b.inheritableStatics);delete b.inheritableStatics});a.registerPreprocessor("config",function(b,c){var d=c.config,e=b.prototype;delete c.config;Ext.Object.each(d,function(b,d){var f=a.getConfigNameMap(b),g=f.internal,h=f.initialized,i=f.apply,j=f.update,k=f.set,l=f.get,m=k in e||c.hasOwnProperty(k),n=i in e||c.hasOwnProperty(i),o=j in e||c.hasOwnProperty(j),p,q;if(d===null||!m&&!n&&!o){e[g]=d;e[h]=true}else{e[h]=false}if(!m){c[k]=function(a){var b=this[g],c=this[i],d=this[j];if(!this[h]){this[h]=true}if(c){a=c.call(this,a,b)}if(typeof a!="undefined"){this[g]=a;if(d&&a!==b){d.call(this,a,b)}}return this}}if(!(l in e)||c.hasOwnProperty(l)){q=c[l]||false;if(q){p=function(){return q.apply(this,arguments)}}else{p=function(){return this[g]}}c[l]=function(){var a;if(!this[h]){this[h]=true;this[k](this.config[b])}a=this[l];if("$previous"in a){a.$previous=p}else{this[l]=p}return p.apply(this,arguments)}}});b.addConfig(d,true)});a.registerPreprocessor("mixins",function(a,b,c){var d=b.mixins,e,f,g,h;delete b.mixins;Ext.Function.interceptBefore(c,"onCreated",function(){if(d instanceof Array){for(g=0,h=d.length;g<h;g++){f=d[g];e=f.prototype.mixinId||f.$className;a.mixin(e,f)}}else{for(var b in d){if(d.hasOwnProperty(b)){a.mixin(b,d[b])}}}})});Ext.extend=function(b,c,d){if(arguments.length===2&&Ext.isObject(c)){d=c;c=b;b=null}var e;if(!c){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}d.extend=c;d.preprocessors=["extend","statics","inheritableStatics","mixins","config"];if(b){e=new a(b,d);e.prototype.constructor=b}else{e=new a(d)}e.prototype.override=function(a){for(var b in a){if(a.hasOwnProperty(b)){this[b]=a[b]}}};return e}})();(function(a,b,c,d,e){function f(){function a(){return this.constructor.apply(this,arguments)||null}return a}var g=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(a){var b=this.existCache,c,d,f,g,h;if(this.classes[a]||b[a]){return true}g=e;h=this.parseNamespace(a);for(c=0,d=h.length;c<d;c++){f=h[c];if(typeof f!="string"){g=f}else{if(!g||!g[f]){return false}g=g[f]}}b[a]=true;this.triggerCreated(a);return true},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(a){var b=this.createdListeners,c=this.nameCreatedListeners,d=this.maps.nameToAlternates[a],e=[a],f,g,h,i,j,k;for(f=0,g=b.length;f<g;f++){j=b[f];j.fn.call(j.scope,a)}if(d){e.push.apply(e,d)}for(f=0,g=e.length;f<g;f++){k=e[f];b=c[k];if(b){for(h=0,i=b.length;h<i;h++){j=b[h];j.fn.call(j.scope,k)}delete c[k]}}},onCreated:function(a,b,c){var d=this.createdListeners,e=this.nameCreatedListeners,f={fn:a,scope:b};if(c){if(this.isCreated(c)){a.call(b,c);return}if(!e[c]){e[c]=[]}e[c].push(f)}else{d.push(f)}},parseNamespace:function(a){var b=this.namespaceParseCache,c,d,f,g,h,i,j,k,l;if(this.enableNamespaceParseCache){if(b.hasOwnProperty(a)){return b[a]}}c=[];d=this.namespaceRewrites;f=e;g=a;for(k=0,l=d.length;k<l;k++){h=d[k];i=h.from;j=h.to;if(g===i||g.substring(0,i.length)===i){g=g.substring(i.length);if(typeof j!="string"){f=j}else{c=c.concat(j.split("."))}break}}c.push(f);c=c.concat(g.split("."));if(this.enableNamespaceParseCache){b[a]=c}return c},setNamespace:function(a,b){var c=e,d=this.parseNamespace(a),f=d.length-1,g=d[f],h,i;for(h=0;h<f;h++){i=d[h];if(typeof i!="string"){c=i}else{if(!c[i]){c[i]={}}c=c[i]}}c[g]=b;return c[g]},createNamespaces:function(){var a=e,b,c,d,f,g,h;for(d=0,g=arguments.length;d<g;d++){b=this.parseNamespace(arguments[d]);for(f=0,h=b.length;f<h;f++){c=b[f];if(typeof c!="string"){a=c}else{if(!a[c]){a[c]={}}a=a[c]}}}return a},set:function(a,b){var c=this,d=c.maps,e=d.nameToAlternates,f=c.getName(b),g;c.classes[a]=c.setNamespace(a,b);if(f&&f!==a){d.alternateToName[a]=f;g=e[f]||(e[f]=[]);g.push(a)}return this},get:function(a){var b=this.classes,c,d,f,g,h;if(b[a]){return b[a]}c=e;d=this.parseNamespace(a);for(g=0,h=d.length;g<h;g++){f=d[g];if(typeof f!="string"){c=f}else{if(!c||!c[f]){return null}c=c[f]}}return c},setAlias:function(a,b){var c=this.maps.aliasToName,d=this.maps.nameToAliases,e;if(typeof a=="string"){e=a}else{e=this.getName(a)}if(b&&c[b]!==e){c[b]=e}if(!d[e]){d[e]=[]}if(b){Ext.Array.include(d[e],b)}return this},addNameAliasMappings:function(a){var b=this.maps.aliasToName,c=this.maps.nameToAliases,d,e,f,g;for(d in a){e=c[d]||(c[d]=[]);for(g=0;g<a[d].length;g++){f=a[d][g];if(!b[f]){b[f]=d;e.push(f)}}}return this},addNameAlternateMappings:function(a){var b=this.maps.alternateToName,c=this.maps.nameToAlternates,d,e,f,g;for(d in a){e=c[d]||(c[d]=[]);for(g=0;g<a[d].length;g++){f=a[d][g];if(!b[f]){b[f]=d;e.push(f)}}}return this},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getNameByAlias:function(a){return this.maps.aliasToName[a]||""},getNameByAlternate:function(a){return this.maps.alternateToName[a]||""},getAliasesByName:function(a){return this.maps.nameToAliases[a]||[]},getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,c,d){var e=f();if(typeof c=="function"){c=c(e)}c.$className=b;return new a(e,c,function(){var a=c.postprocessors||g.defaultPostprocessors,e=g.postprocessors,f=[],h,i,j,k,l,m,n;delete c.postprocessors;for(i=0,j=a.length;i<j;i++){h=a[i];if(typeof h=="string"){h=e[h];m=h.properties;if(m===true){f.push(h.fn)}else if(m){for(k=0,l=m.length;k<l;k++){n=m[k];if(c.hasOwnProperty(n)){f.push(h.fn);break}}}}else{f.push(h)}}c.postprocessors=f;c.createdFn=d;g.processCreate(b,this,c)})},processCreate:function(a,b,c){var d=this,e=c.postprocessors.shift(),f=c.createdFn;if(!e){if(a){d.set(a,b)}if(f){f.call(b,b)}if(a){d.triggerCreated(a)}return}if(e.call(d,a,b,c,d.processCreate)!==false){d.processCreate(a,b,c)}},createOverride:function(a,b,c){var d=this,e=b.override,f=b.requires,g=b.uses,h=function(){var i,j;if(f){j=f;f=null;Ext.Loader.require(j,h)}else{i=d.get(e);delete b.override;delete b.requires;delete b.uses;Ext.override(i,b);d.triggerCreated(a);if(g){Ext.Loader.addUsedClasses(g)}if(c){c.call(i)}}};d.existCache[a]=true;d.onCreated(h,d,e);return d},instantiateByAlias:function(){var a=arguments[0],b=c.call(arguments),d=this.getNameByAlias(a);if(!d){d=this.maps.aliasToName[a];Ext.syncRequire(d)}b[0]=d;return this.instantiate.apply(this,b)},instantiate:function(){var a=arguments[0],b=typeof a,d=c.call(arguments,1),e=a,f,g;if(b!="function"){if(b!="string"&&d.length===0){d=[a];a=a.xclass}g=this.get(a)}else{g=a}if(!g){f=this.getNameByAlias(a);if(f){a=f;g=this.get(a)}}if(!g){f=this.getNameByAlternate(a);if(f){a=f;g=this.get(a)}}if(!g){Ext.syncRequire(a);g=this.get(a)}return this.getInstantiator(d.length)(g,d)},dynInstantiate:function(a,b){b=d(b,true);b.unshift(a);return this.instantiate.apply(this,b)},getInstantiator:function(a){var b=this.instantiators,c,d,e;c=b[a];if(!c){d=a;e=[];for(d=0;d<a;d++){e.push("a["+d+"]")}c=b[a]=new Function("c","a","return new c("+e.join(",")+")")}return c},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,b,c,d,e){if(!d){d="last"}if(!c){c=[a]}this.postprocessors[a]={name:a,properties:c||false,fn:b};this.setDefaultPostprocessorPosition(a,d,e);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=d(a);return this},setDefaultPostprocessorPosition:function(a,b,c){var d=this.defaultPostprocessors,e;if(typeof b=="string"){if(b==="first"){d.unshift(a);return this}else if(b==="last"){d.push(a);return this}b=b==="after"?1:-1}e=Ext.Array.indexOf(d,c);if(e!==-1){Ext.Array.splice(d,Math.max(0,e+b),0,a)}return this},getNamesByExpression:function(a){var b=this.maps.nameToAliases,c=[],d,e,f,g,h,i,j;if(a.indexOf("*")!==-1){a=a.replace(/\*/g,"(.*?)");h=new RegExp("^"+a+"$");for(d in b){if(b.hasOwnProperty(d)){f=b[d];if(d.search(h)!==-1){c.push(d)}else{for(i=0,j=f.length;i<j;i++){e=f[i];if(e.search(h)!==-1){c.push(d);break}}}}}}else{g=this.getNameByAlias(a);if(g){c.push(g)}else{g=this.getNameByAlternate(a);if(g){c.push(g)}else{c.push(a)}}}return c}};g.registerPostprocessor("alias",function(a,c,d){var e=d.alias,f,g;for(f=0,g=e.length;f<g;f++){b=e[f];this.setAlias(c,b)}},["xtype","alias"]);g.registerPostprocessor("singleton",function(a,b,c,d){if(c.singleton){d.call(this,a,new b,c)}else{return true}return false});g.registerPostprocessor("alternateClassName",function(a,b,c){var d=c.alternateClassName,e,f,g;if(!(d instanceof Array)){d=[d]}for(e=0,f=d.length;e<f;e++){g=d[e];this.set(g,b)}});Ext.apply(Ext,{create:b(g,"instantiate"),widget:function(a,b){var c=a,d,e,f,h;if(typeof c!="string"){b=a;c=b.xtype}else{b=b||{}}if(b.isComponent){return b}d="widget."+c;e=g.getNameByAlias(d);if(!e){h=true}f=g.get(e);if(h||!f){return g.instantiateByAlias(d,b)}return new f(b)},createByAlias:b(g,"instantiateByAlias"),define:function(a,b,c){if(b.override){return g.createOverride.apply(g,arguments)}return g.create.apply(g,arguments)},undefine:function(a){var b=g.classes,c=g.maps,d=c.aliasToName,e=c.nameToAliases,f=c.alternateToName,h=c.nameToAlternates,i=e[a],j=h[a],k,l,m,n;delete g.namespaceParseCache[a];delete e[a];delete h[a];delete b[a];if(i){for(n=i.length;n--;){delete d[i[n]]}}if(j){for(n=j.length;n--;){delete f[j[n]]}}k=g.parseNamespace(a);l=k.length-1;m=k[0];for(n=1;n<l;n++){m=m[k[n]];if(!m){return}}try{delete m[k[l]]}catch(o){m[k[l]]=undefined}},getClassName:b(g,"getName"),getDisplayName:function(a){if(a){if(a.displayName){return a.displayName}if(a.$name&&a.$class){return Ext.getClassName(a.$class)+"#"+a.$name}if(a.$className){return a.$className}}return"Anonymous"},getClass:b(g,"getClass"),namespace:b(g,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;a.registerPreprocessor("className",function(a,b){if(b.$className){a.$className=b.$className}},true,"first");a.registerPreprocessor("alias",function(a,b){var c=a.prototype,e=d(b.xtype),f=d(b.alias),g="widget.",h=g.length,i=Array.prototype.slice.call(c.xtypesChain||[]),j=Ext.merge({},c.xtypesMap||{}),k,l,m,n;for(k=0,l=f.length;k<l;k++){m=f[k];if(m.substring(0,h)===g){n=m.substring(h);Ext.Array.include(e,n)}}a.xtype=b.xtype=e[0];b.xtypes=e;for(k=0,l=e.length;k<l;k++){n=e[k];if(!j[n]){j[n]=true;i.push(n)}}b.xtypesChain=i;b.xtypesMap=j;Ext.Function.interceptAfter(b,"onClassCreated",function(){var a=c.mixins,b,d;for(b in a){if(a.hasOwnProperty(b)){d=a[b];e=d.xtypes;if(e){for(k=0,l=e.length;k<l;k++){n=e[k];if(!j[n]){j[n]=true;i.push(n)}}}}}});for(k=0,l=e.length;k<l;k++){n=e[k];Ext.Array.include(f,g+n)}b.alias=f},["xtype","alias"])})(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);if(Ext._alternatesMetadata){Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata);Ext._alternatesMetadata=null}if(Ext._aliasMetadata){Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata);Ext._aliasMetadata=null}Ext.Loader=new function(){var a=this,b=Ext.ClassManager,c=Ext.Class,d=Ext.Function.flexSetter,e=Ext.Function.alias,f=Ext.Function.pass,g=Ext.Function.defer,h=Ext.Array.erase,i=["extend","mixins","requires"],j={},k=[],l=/\/\.\//g,m=/\./g,n=0;Ext.apply(a,{isInHistory:j,history:k,config:{enabled:false,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",garbageCollect:false,paths:{Ext:"."},preserveScripts:true,scriptCharset:undefined},setConfig:function(b,c){if(Ext.isObject(b)&&arguments.length===1){Ext.merge(a.config,b);if("paths"in b){Ext.app.collectNamespaces(b.paths)}}else{a.config[b]=Ext.isObject(c)?Ext.merge(a.config[b],c):c;if(b==="paths"){Ext.app.collectNamespaces(c)}}return a},getConfig:function(b){if(b){return a.config[b]}return a.config},setPath:d(function(b,c){a.config.paths[b]=c;Ext.app.namespaces[b]=true;n++;return a}),addClassPathMappings:function(b){var c;if(n==0){a.config.paths=b}else{for(c in b){a.config.paths[c]=b[c]}}n++;return a},getPath:function(b){var c="",d=a.config.paths,e=a.getPrefix(b);if(e.length>0){if(e===b){return d[e]}c=d[e];b=b.substring(e.length+1)}if(c.length>0){c+="/"}return c.replace(l,"/")+b.replace(m,"/")+".js"},getPrefix:function(b){var c=a.config.paths,d,e="";if(c.hasOwnProperty(b)){return b}for(d in c){if(c.hasOwnProperty(d)&&d+"."===b.substring(0,d.length+1)){if(d.length>e.length){e=d}}}return e},isAClassNameWithAKnownPrefix:function(b){var c=a.getPrefix(b);return c!==""&&c!==b},require:function(a,b,c,d){if(b){b.call(c)}},syncRequire:function(){},exclude:function(b){return{require:function(c,d,e){return a.require(c,d,e,b)},syncRequire:function(c,d,e){return a.syncRequire(c,d,e,b)}}},onReady:function(a,b,c,d){var e;if(c!==false&&Ext.onDocumentReady){e=a;a=function(){Ext.onDocumentReady(e,b,d)}}a.call(b)}});var o=[],p={},q={},r={},s={},t=[],u=[],v={},w=function(a,b){return b.priority-a.priority};Ext.apply(a,{documentHead:typeof document!="undefined"&&(document.head||document.getElementsByTagName("head")[0]),isLoading:false,queue:o,isClassFileLoaded:p,isFileLoaded:q,readyListeners:t,optionalRequires:u,requiresMap:v,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:false,classNameToFilePathMap:r,scriptsLoading:0,syncModeEnabled:false,scriptElements:s,refreshQueue:function(){var c=o.length,d,e,f,g;if(!c&&!a.scriptsLoading){return a.triggerReady()}for(d=0;d<c;d++){e=o[d];if(e){g=e.requires;if(g.length>a.numLoadedFiles){continue}for(f=0;f<g.length;){if(b.isCreated(g[f])){h(g,f,1)}else{f++}}if(e.requires.length===0){h(o,d,1);e.callback.call(e.scope);a.refreshQueue();break}}}return a},injectScriptElement:function(b,c,d,e,f){var h=document.createElement("script"),i=false,j=a.config,k=function(){if(!i){i=true;h.onload=h.onreadystatechange=h.onerror=null;if(typeof j.scriptChainDelay=="number"){g(c,j.scriptChainDelay,e)}else{c.call(e)}a.cleanupScriptElement(h,j.preserveScripts===false,j.garbageCollect)}},l=function(b){g(d,1,e);a.cleanupScriptElement(h,j.preserveScripts===false,j.garbageCollect)};h.type="text/javascript";h.onerror=l;f=f||j.scriptCharset;if(f){h.charset=f}if("addEventListener"in h){h.onload=k}else if("readyState"in h){h.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){k()}}}else{h.onload=k}h.src=b;(a.documentHead||document.getElementsByTagName("head")[0]).appendChild(h);return h},removeScriptElement:function(b){if(s[b]){a.cleanupScriptElement(s[b],true,!!a.getConfig("garbageCollect"));delete s[b]}return a},cleanupScriptElement:function(b,c,d){var e;b.onload=b.onreadystatechange=b.onerror=null;if(c){Ext.removeNode(b);if(d){for(e in b){try{if(e!="src"){b[e]=null}delete b[e]}catch(f){}}}}return a},loadScript:function(b){var c=a.getConfig(),d=typeof b=="string",e=d?b:b.url,f=!d&&b.onError,g=!d&&b.onLoad,h=!d&&b.scope,i=function(){a.numPendingFiles--;a.scriptsLoading--;if(f){f.call(h,"Failed loading '"+e+"', please verify that the file exists")}if(a.numPendingFiles+a.scriptsLoading===0){a.refreshQueue()}},j=function(){a.numPendingFiles--;a.scriptsLoading--;if(g){g.call(h)}if(a.numPendingFiles+a.scriptsLoading===0){a.refreshQueue()
}},k;a.isLoading=true;a.numPendingFiles++;a.scriptsLoading++;k=c.disableCaching?e+"?"+c.disableCachingParam+"="+Ext.Date.now():e;s[e]=a.injectScriptElement(k,j,i)},loadScriptFile:function(b,c,d,e,f){if(q[b]){return a}var g=a.getConfig(),h=b+(g.disableCaching?"?"+g.disableCachingParam+"="+Ext.Date.now():""),i=false,j,k,l,m="";e=e||a;a.isLoading=true;if(!f){l=function(){};s[b]=a.injectScriptElement(h,c,l,e)}else{if(typeof XMLHttpRequest!="undefined"){j=new XMLHttpRequest}else{j=new ActiveXObject("Microsoft.XMLHTTP")}try{j.open("GET",h,false);j.send(null)}catch(n){i=true}k=j.status===1223?204:j.status===0&&((self.location||{}).protocol=="file:"||(self.location||{}).protocol=="ionp:")?200:j.status;i=i||k===0;if(i){}else if(k>=200&&k<300||k===304){if(!Ext.isIE){m="\n//@ sourceURL="+b}Ext.globalEval(j.responseText+m);c.call(e)}else{}j=null}},syncRequire:function(){var b=a.syncModeEnabled;if(!b){a.syncModeEnabled=true}a.require.apply(a,arguments);if(!b){a.syncModeEnabled=false}a.refreshQueue()},require:function(c,d,e,g){var h={},i={},j=[],k=[],l=[],m=[],n,q,s,t,u,v,w,x,y,z,A;if(g){g=typeof g==="string"?[g]:g;for(x=0,z=g.length;x<z;x++){u=g[x];if(typeof u=="string"&&u.length>0){j=b.getNamesByExpression(u);for(y=0,A=j.length;y<A;y++){h[j[y]]=true}}}}c=typeof c==="string"?[c]:c?c:[];if(d){if(d.length>0){n=function(){var a=[],c,e;for(c=0,e=m.length;c<e;c++){a.push(b.get(m[c]))}return d.apply(this,a)}}else{n=d}}else{n=Ext.emptyFn}e=e||Ext.global;for(x=0,z=c.length;x<z;x++){t=c[x];if(typeof t=="string"&&t.length>0){k=b.getNamesByExpression(t);A=k.length;for(y=0;y<A;y++){w=k[y];if(h[w]!==true){m.push(w);if(!b.isCreated(w)&&!i[w]){i[w]=true;l.push(w)}}}}}if(l.length>0){if(!a.config.enabled){throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. "+"Missing required class"+(l.length>1?"es":"")+": "+l.join(", "))}}else{n.call(e);return a}q=a.syncModeEnabled;if(!q){o.push({requires:l.slice(),callback:n,scope:e})}z=l.length;for(x=0;x<z;x++){v=l[x];s=a.getPath(v);if(q&&p.hasOwnProperty(v)){if(!p[v]){a.numPendingFiles--;a.removeScriptElement(s);delete p[v]}}if(!p.hasOwnProperty(v)){p[v]=false;r[v]=s;a.numPendingFiles++;a.loadScriptFile(s,f(a.onFileLoaded,[v,s],a),f(a.onFileLoadError,[v,s],a),a,q)}}if(q){n.call(e);if(z===1){return b.get(v)}}return a},onFileLoaded:function(b,c){var d=p[b];a.numLoadedFiles++;p[b]=true;q[c]=true;if(!d){a.numPendingFiles--}if(a.numPendingFiles===0){a.refreshQueue()}},onFileLoadError:function(b,c,d,e){a.numPendingFiles--;a.hasFileLoadError=true},addUsedClasses:function(b){var c,d,e;if(b){b=typeof b=="string"?[b]:b;for(d=0,e=b.length;d<e;d++){c=b[d];if(typeof c=="string"&&!Ext.Array.contains(u,c)){u.push(c)}}}return a},triggerReady:function(){var b,c=u;if(a.isLoading){a.isLoading=false;if(c.length!==0){c=c.slice();u.length=0;a.require(c,a.triggerReady,a);return a}}Ext.Array.sort(t,w);while(t.length&&!a.isLoading){b=t.shift();b.fn.call(b.scope)}return a},onReady:function(b,c,d,e){var f;if(d!==false&&Ext.onDocumentReady){f=b;b=function(){Ext.onDocumentReady(f,c,e)}}if(!a.isLoading){b.call(c)}else{t.push({fn:b,scope:c,priority:e&&e.priority||0})}},historyPush:function(b){if(b&&p.hasOwnProperty(b)&&!j[b]){j[b]=true;k.push(b)}return a}});Ext.disableCacheBuster=function(a,b){var c=new Date;c.setTime(c.getTime()+(a?10*365:-1)*24*60*60*1e3);c=c.toGMTString();document.cookie="ext-cache=1; expires="+c+"; path="+(b||"/")};Ext.require=e(a,"require");Ext.syncRequire=e(a,"syncRequire");Ext.exclude=e(a,"exclude");Ext.onReady=function(b,c,d){a.onReady(b,c,true,d)};c.registerPreprocessor("loader",function(c,d,e,f){var g=this,h=[],j,k=b.getName(c),l,m,n,o,p,q,r,s,t;for(l=0,n=i.length;l<n;l++){q=i[l];if(d.hasOwnProperty(q)){r=d[q];if(typeof r=="string"){h.push(r)}else if(r instanceof Array){for(m=0,o=r.length;m<o;m++){p=r[m];if(typeof p=="string"){h.push(p)}}}else if(typeof r!="function"){for(m in r){if(r.hasOwnProperty(m)){p=r[m];if(typeof p=="string"){h.push(p)}}}}}}if(h.length===0){return}a.require(h,function(){for(l=0,n=i.length;l<n;l++){q=i[l];if(d.hasOwnProperty(q)){r=d[q];if(typeof r=="string"){d[q]=b.get(r)}else if(r instanceof Array){for(m=0,o=r.length;m<o;m++){p=r[m];if(typeof p=="string"){d[q][m]=b.get(p)}}}else if(typeof r!="function"){for(var a in r){if(r.hasOwnProperty(a)){p=r[a];if(typeof p=="string"){d[q][a]=b.get(p)}}}}}}f.call(g,c,d,e)});return false},true,"after","className");b.registerPostprocessor("uses",function(b,c,d){var e=d.uses;if(e){a.addUsedClasses(e)}});b.onCreated(a.historyPush)};if(Ext._classPathMetadata){Ext.Loader.addClassPathMappings(Ext._classPathMetadata);Ext._classPathMetadata=null}(function(){var a=document.getElementsByTagName("script"),b=a[a.length-1],c=b.src,d=c.substring(0,c.lastIndexOf("/")+1),e=Ext.Loader;e.setConfig({enabled:true,disableCaching:true,paths:{Ext:d+"src"}})})();Ext._endTime=(new Date).getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.Error=Ext.extend(Error,{statics:{ignore:false,raise:function(a){a=a||{};if(Ext.isString(a)){a={msg:a}}var b=this.raise.caller,c;if(b){if(b.$name){a.sourceMethod=b.$name}if(b.$owner){a.sourceClass=b.$owner.$className}}if(Ext.Error.handle(a)!==true){c=Ext.Error.prototype.toString.call(a);Ext.log({msg:c,level:"error",dump:a,stack:true});throw new Ext.Error(a)}},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(a){if(Ext.isString(a)){a={msg:a}}var b=this;Ext.apply(b,a);b.message=b.message||b.msg},toString:function(){var a=this,b=a.sourceClass?a.sourceClass:"",c=a.sourceMethod?"."+a.sourceMethod+"(): ":"",d=a.msg||"(No description provided)";return b+c+d}});Ext.deprecated=function(a){return Ext.emptyFn};Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative},pad=function(a){return a<10?"0"+a:a},doDecode=function(json){return eval("("+json+")")},doEncode=function(a,b){if(a===null||a===undefined){return"null"}else if(Ext.isDate(a)){return Ext.JSON.encodeDate(a)}else if(Ext.isString(a)){return Ext.JSON.encodeString(a)}else if(typeof a=="number"){return isFinite(a)?String(a):"null"}else if(Ext.isBoolean(a)){return String(a)}else if(a.toJSON){return a.toJSON()}else if(Ext.isArray(a)){return encodeArray(a,b)}else if(Ext.isObject(a)){return encodeObject(a,b)}else if(typeof a==="function"){return"null"}return"undefined"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(a){return'"'+a.replace(charToReplace,function(a){var b=m[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(a,b){var c=["[",""],d=a.length,e;for(e=0;e<d;e+=1){c.push(Ext.JSON.encodeValue(a[e]),",")}c[c.length-1]="]";return c.join("")},encodeObject=function(a,b){var c=["{",""],d,e;for(d in a){e=a[d];if(!useHasOwn||a.hasOwnProperty(d)){if(typeof e==="function"||e===undefined){continue}c.push(Ext.JSON.encodeValue(d),":",Ext.JSON.encodeValue(e),",")}}c[c.length-1]="}";return c.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(a){return'"'+a.getFullYear()+"-"+pad(a.getMonth()+1)+"-"+pad(a.getDate())+"T"+pad(a.getHours())+":"+pad(a.getMinutes())+":"+pad(a.getSeconds())+'"'};me.encode=function(a){if(!encodingFunction){encodingFunction=isNative()?JSON.stringify:me.encodeValue}return encodingFunction(a)};me.decode=function(a,b){if(!decodingFunction){decodingFunction=isNative()?JSON.parse:doDecode}try{return decodingFunction(a)}catch(c){if(b===true){return null}Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+a})}}};Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode;Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:false,enableGarbageCollector:true,enableListenerCollection:true,rootHierarchyState:{},addCacheEntry:function(a,b,c){c=c||b.dom;var d=Ext.cache,e=a||b&&b.id||c.id,f=d[e]||(d[e]={data:{},events:{},dom:c,skipGarbageCollection:!!(c.getElementById||c.navigator)});if(b){b.$cache=f;f.el=b}return f},updateCacheEntry:function(a,b){a.dom=b;if(a.el){a.el.dom=b}return a},id:function(a,b){var c=this,d="";a=Ext.getDom(a,true)||{};if(a===document){a.id=c.documentId}else if(a===window){a.id=c.windowId}if(!a.id){if(c.isSandboxed){d=Ext.sandboxName.toLowerCase()+"-"}a.id=d+(b||"ext-gen")+ ++Ext.idSeed}return a.id},escapeId:function(){var a=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,b=/([\W]{1})/g,c=/^(\d)/g,d=function(a,b){return"\\"+b},e=function(a,b){return"\\00"+b.charCodeAt(0).toString(16)+" "};return function(f){return a.test(f)?f:f.replace(b,d).replace(c,e)}}(),getBody:function(){var a;return function(){return a||(a=Ext.get(document.body))}}(),getHead:function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var a;return function(){return a||(a=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var a=arguments.length,b,c;for(b=0;b<a;b++){c=arguments[b];if(c){if(Ext.isArray(c)){this.destroy.apply(this,c)}else if(c.isStore){c.destroyStore()}else if(Ext.isFunction(c.destroy)){c.destroy()}else if(c.dom){c.remove()}}}},callback:function(a,b,c,d){var e,f;if(Ext.isFunction(a)){e=a}else if(b&&Ext.isString(a)){e=b[a]}if(e){c=c||[];b=b||window;if(d){Ext.defer(e,d,b,c)}else{f=e.apply(b,c)}}return f},resolveMethod:function(a,b){if(Ext.isFunction(a)){return a}return b[a]},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(a,b){return Ext.String.urlAppend(a,b)}});Ext.ns=Ext.namespace;window.undefined=window.undefined;(function(){var a=function(a){return a.test(Ext.userAgent)},b=document.compatMode=="CSS1Compat",c=function(a,b){var c;return a&&(c=b.exec(Ext.userAgent))?parseFloat(c[1]):0},d=document.documentMode,e=a(/opera/),f=e&&a(/version\/10\.5/),g=a(/\bchrome\b/),h=a(/webkit/),i=!g&&a(/safari/),j=i&&a(/applewebkit\/4/),k=i&&a(/version\/3/),l=i&&a(/version\/4/),m=i&&a(/version\/5\.0/),n=i&&a(/version\/5/),o=!e&&a(/msie/),p=o&&(a(/msie 7/)&&d!=8&&d!=9&&d!=10||d==7),q=o&&(a(/msie 8/)&&d!=7&&d!=9&&d!=10||d==8),r=o&&(a(/msie 9/)&&d!=7&&d!=8&&d!=10||d==9),s=o&&(a(/msie 10/)&&d!=7&&d!=8&&d!=9||d==10),t=o&&a(/msie 6/),u=!h&&a(/gecko/),v=u&&a(/rv:1\.9/),w=u&&a(/rv:2\.0/),x=u&&a(/rv:5\./),y=u&&a(/rv:10\./),z=v&&a(/rv:1\.9\.0/),A=v&&a(/rv:1\.9\.1/),B=v&&a(/rv:1\.9\.2/),C=a(/windows|win32/),D=a(/macintosh|mac os x/),E=a(/linux/),F=null,G=c(true,/\bchrome\/(\d+\.\d+)/),H=c(true,/\bfirefox\/(\d+\.\d+)/),I=c(o,/msie (\d+\.\d+)/),J=c(e,/version\/(\d+\.\d+)/),K=c(i,/version\/(\d+\.\d+)/),L=c(h,/webkit\/(\d+\.\d+)/),M=/^https/i.test(window.location.protocol),N;try{document.execCommand("BackgroundImageCache",false,true)}catch(O){}N=function(){};N.info=N.warn=N.error=Ext.emptyFn;Ext.setVersion("extjs","4.2.1.883");Ext.apply(Ext,{SSL_SECURE_URL:M&&o?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,getDom:function(a,b){if(!a||!document){return null}if(a.dom){return a.dom}else{if(typeof a=="string"){var c=Ext.getElementById(a);if(c&&o&&b){if(a==c.getAttribute("id")){return c}else{return null}}return c}else{return a}}},removeNode:t||p||q?function(){var a;return function(b){if(b&&b.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b):Ext.EventManager.removeAll(b);var c=Ext.cache,d=b.id;if(c[d]){delete c[d].dom;delete c[d]}if(q&&b.parentNode){b.parentNode.removeChild(b)}a=a||document.createElement("div");a.appendChild(b);a.innerHTML=""}}}():function(a){if(a&&a.parentNode&&a.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a):Ext.EventManager.removeAll(a);var b=Ext.cache,c=a.id;if(b[c]){delete b[c].dom;delete b[c]}a.parentNode.removeChild(a)}},isStrict:b,isIEQuirks:o&&(!b&&(t||p||q||r)),isOpera:e,isOpera10_5:f,isWebKit:h,isChrome:g,isSafari:i,isSafari3:k,isSafari4:l,isSafari5:n,isSafari5_0:m,isSafari2:j,isIE:o,isIE6:t,isIE7:p,isIE7m:t||p,isIE7p:o&&!t,isIE8:q,isIE8m:t||p||q,isIE8p:o&&!(t||p),isIE9:r,isIE9m:t||p||q||r,isIE9p:o&&!(t||p||q),isIE10:s,isIE10m:t||p||q||r||s,isIE10p:o&&!(t||p||q||r),isGecko:u,isGecko3:v,isGecko4:w,isGecko5:x,isGecko10:y,isFF3_0:z,isFF3_5:A,isFF3_6:B,isFF4:4<=H&&H<5,isFF5:5<=H&&H<6,isFF10:10<=H&&H<11,isLinux:E,isWindows:C,isMac:D,chromeVersion:G,firefoxVersion:H,ieVersion:I,operaVersion:J,safariVersion:K,webKitVersion:L,isSecure:M,BLANK_IMAGE_URL:t||p?"/"+"/www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(a){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(a)})}else{var b={},c,d,e;for(d in a){if((c=d.split("@"))[1]){e=c[0];if(!b[e]){b[e]=Ext.select(e)}b[e].on(c[1],a[d])}}b=null}},getScrollbarSize:function(a){if(!Ext.isReady){return{}}if(a||!F){var b=document.body,c=document.createElement("div");c.style.width=c.style.height="100px";c.style.overflow="scroll";c.style.position="absolute";b.appendChild(c);F={width:c.offsetWidth-c.clientWidth,height:c.offsetHeight-c.clientHeight};b.removeChild(c)}return F},getScrollBarWidth:function(a){var b=Ext.getScrollbarSize(a);return b.width+2},copyTo:function(a,b,c,d){if(typeof c=="string"){c=c.split(/[,;\s]/)}var e,f=c?c.length:0,g;for(e=0;e<f;e++){g=c[e];if(d||b.hasOwnProperty(g)){a[g]=b[g]}}return a},destroyMembers:function(a){for(var b=1,c=arguments,d=c.length;b<d;b++){Ext.destroy(a[c[b]]);delete a[c[b]]}},log:N,partition:function(a,b){var c=[[],[]],d,e,f=a.length;for(d=0;d<f;d++){e=a[d];c[b&&b(e,d,a)||!b&&e?0:1].push(e)}return c},invoke:function(a,b){var c=[],d=Array.prototype.slice.call(arguments,2),e,f,g=a.length;for(e=0;e<g;e++){f=a[e];if(f&&typeof f[b]=="function"){c.push(f[b].apply(f,d))}else{c.push(undefined)}}return c},zip:function(){var a=Ext.partition(arguments,function(a){return typeof a!="function"}),b=a[0],c=a[1][0],d=Ext.max(Ext.pluck(b,"length")),e=[],f,g,h;for(f=0;f<d;f++){e[f]=[];if(c){e[f]=c.apply(c,Ext.pluck(b,f))}else{for(g=0,h=b.length;g<h;g++){e[f].push(b[g][f])}}}return e},toSentence:function(a,b){var c=a.length,d,e;if(c<=1){return a[0]}else{d=a.slice(0,c-1);e=a[c-1];return Ext.util.Format.format("{0} {1} {2}",d.join(", "),b||"and",e)}},setGlyphFontFamily:function(a){Ext._glyphFontFamily=a},useShims:t})})();Ext.application=function(a){var b,c,d;if(typeof a==="string"){Ext.require(a,function(){b=Ext.ClassManager.get(a)})}else{Ext.Loader.setPath(a.name,a.appFolder||"app");if(c=a.paths){for(d in c){if(c.hasOwnProperty(d)){Ext.Loader.setPath(d,c[d])}}}a["paths processed"]=true;Ext.define(a.name+".$application",Ext.apply({extend:"Ext.app.Application"},a),function(){b=this})}Ext.onReady(function(){Ext.app.Application.instance=new b})};(function(){Ext.ns("Ext.util");var a=Ext.util.Format={},b=/<\/?[^>]+>/gi,c=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,d=/\r?\n/g,e=/^#+$/,f=/[\d,\.#]+/,g=/[^\d\.#]/g,h,i={};Ext.apply(a,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:false,undef:function(a){return a!==undefined?a:""},defaultValue:function(a,b){return a!==undefined&&a!==""?a:b},substr:"ab".substr(-1)!="b"?function(a,b,c){var d=String(a);return b<0?d.substr(Math.max(d.length+b,0),c):d.substr(b,c)}:function(a,b,c){return String(a).substr(b,c)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(b){return a.currency(b,"$",2)},currency:function(b,c,d,e){var f="",g=",0",h=0;b=b-0;if(b<0){b=-b;f="-"}d=Ext.isDefined(d)?d:a.currencyPrecision;g+=d>0?".":"";for(;h<d;h++){g+="0"}b=a.number(b,g);if((e||a.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",f,b,c||a.currencySign)}else{return Ext.String.format("{0}{1}{2}",f,c||a.currencySign,b)}},date:function(a,b){if(!a){return""}if(!Ext.isDate(a)){a=new Date(Date.parse(a))}return Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},stripTags:function(a){return!a?a:String(a).replace(b,"")},stripScripts:function(a){return!a?a:String(a).replace(c,"")},fileSize:function(){var a=1024,b=1048576,c=1073741824;return function(d){var e;if(d<a){if(d===1){e="1 byte"}else{e=d+" bytes"}}else if(d<b){e=Math.round(d*10/a)/10+" KB"}else if(d<c){e=Math.round(d*10/b)/10+" MB"}else{e=Math.round(d*10/c)/10+" GB"}return e}}(),math:function(){var a={};return function(b,c){if(!a[c]){a[c]=Ext.functionFactory("v","return v "+c+";")}return a[c](b)}}(),round:function(a,b){var c=Number(a);if(typeof b=="number"){b=Math.pow(10,b);c=Math.round(a*b)/b}return c},number:function(b,c){if(!c){return b}var d=i[c];if(!d){var j=c,k=a.thousandSeparator,l=a.decimalSeparator,m,n,o,p=0,q,r,s;if(c.substr(c.length-2)=="/i"){if(!h){h=new RegExp("[^\\d\\"+a.decimalSeparator+"]","g")}c=c.substr(0,c.length-2);m=c.indexOf(k)!=-1;n=c.replace(h,"").split(l)}else{m=c.indexOf(",")!=-1;n=c.replace(g,"").split(".")}o=c.replace(f,"");if(n.length>2){}else if(n.length===2){p=n[1].length;r=e.test(n[1])}s=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts"+(m?",thousandSeparator,thousands=[],j,n,i":"")+(o?',formatString="'+c+'",formatPattern=/[\\d,\\.#]+/':"")+(r?",trailingZeroes=/\\.?0+$/;":";")+"return function(v){"+'if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";'+"neg=v<0;","fnum=Ext.Number.toFixed(Math.abs(v), "+p+");"];if(m){if(p){s[s.length]='parts=fnum.split(".");';s[s.length]="fnum=parts[0];"}s[s.length]="if(v>=1000) {";s[s.length]="thousandSeparator=utilFormat.thousandSeparator;"+"thousands.length=0;"+"j=fnum.length;"+"n=fnum.length%3||3;"+"for(i=0;i<j;i+=n){"+"if(i!==0){"+"n=3;"+"}"+"thousands[thousands.length]=fnum.substr(i,n);"+"}"+"fnum=thousands.join(thousandSeparator);"+"}";if(p){s[s.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else if(p){s[s.length]='if(utilFormat.decimalSeparator!=="."){'+'parts=fnum.split(".");'+"fnum=parts[0]+utilFormat.decimalSeparator+parts[1];"+"}"}if(r){s[s.length]='fnum=fnum.replace(trailingZeroes,"");'}s[s.length]='if(neg&&fnum!=="'+(p?"0."+Ext.String.repeat("0",p):"0")+'")fnum="-"+fnum;';s[s.length]="return ";if(o){s[s.length]="formatString.replace(formatPattern, fnum);"}else{s[s.length]="fnum;"}s[s.length]="};";d=i[j]=Ext.functionFactory("Ext",s.join(""))(Ext)}return d(b)},numberRenderer:function(b){return function(c){return a.number(c,b)}},attributes:function(a){if(typeof a==="object"){var b=[],c;for(c in a){b.push(c,'="',c==="style"?Ext.DomHelper.generateStyles(a[c]):Ext.htmlEncode(a[c]),'"')}a=b.join("")}return a||""},plural:function(a,b,c){return a+" "+(a==1?b:c?c:b+"s")},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(d,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(a){a=a||0;if(typeof a==="number"){return{top:a,right:a,bottom:a,left:a}}var b=a.split(" "),c=b.length;if(c==1){b[1]=b[2]=b[3]=b[0]}else if(c==2){b[2]=b[0];b[3]=b[1]}else if(c==3){b[3]=b[1]}return{top:parseInt(b[0],10)||0,right:parseInt(b[1],10)||0,bottom:parseInt(b[2],10)||0,left:parseInt(b[3],10)||0}},escapeRegex:function(a){return a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})})();Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(a){var b=this;if(typeof a=="number"){b.interval=a}else if(a){Ext.apply(b,a)}b.tasks=[];b.timerFn=Ext.Function.bind(b.onTick,b)},newTask:function(a){var b=new Ext.util.TaskRunner.Task(a);b.manager=this;return b},start:function(a){var b=this,c=Ext.Date.now();if(!a.pending){b.tasks.push(a);a.pending=true}a.stopped=false;a.taskStartTime=c;a.taskRunTime=a.fireOnStart!==false?0:a.taskStartTime;a.taskRunCount=0;if(!b.firing){if(a.fireOnStart!==false){b.startTimer(0,c)}else{b.startTimer(a.interval,c)}}return a},stop:function(a){if(!a.stopped){a.stopped=true;if(a.onStop){a.onStop.call(a.scope||a,a)}}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e99,onTick:function(){var a=this,b=a.tasks,c=Ext.Date.now(),d=1e99,e=b.length,f,g,h,i,j,k;a.timerId=null;a.firing=true;for(h=0;h<e||h<(e=b.length);++h){i=b[h];if(!(k=i.stopped)){f=i.taskRunTime+i.interval;if(f<=c){j=1;try{j=i.run.apply(i.scope||i,i.args||[++i.taskRunCount])}catch(l){try{if(i.onError){j=i.onError.call(i.scope||i,i,l)}}catch(m){}}i.taskRunTime=c;if(j===false||i.taskRunCount===i.repeat){a.stop(i);k=true}else{k=i.stopped;f=c+i.interval}}if(!k&&i.duration&&i.duration<=c-i.taskStartTime){a.stop(i);k=true}}if(k){i.pending=false;if(!g){g=b.slice(0,h)}}else{if(g){g.push(i)}if(d>f){d=f}}}if(g){a.tasks=g}a.firing=false;if(a.tasks.length){a.startTimer(d-c,Ext.Date.now())}if(a.fireIdleEvent!==false){Ext.EventManager.idleEvent.fire()}},startTimer:function(a,b){var c=this,d=b+a,e=c.timerId;if(e&&c.nextExpires-d>c.interval){clearTimeout(e);e=null}if(!e){if(a<c.interval){a=c.interval}c.timerId=setTimeout(c.timerFn,a);c.nextExpires=d}}},function(){var a=this,b=a.prototype;b.destroy=b.stopAll;Ext.util.TaskManager=Ext.TaskManager=new a;a.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(a){Ext.apply(this,a)},restart:function(a){if(a!==undefined){this.interval=a}this.manager.start(this)},start:function(a){if(this.stopped){this.restart(a)}},stop:function(){this.manager.stop(this)}});b=a.Task.prototype;b.destroy=b.stop});Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:true});Ext.define("Ext.perf.Accumulator",function(){var a=null,b=Ext.global["chrome"],c,d=function(){d=function(){return(new Date).getTime()};var a,c;if(Ext.isChrome&&b&&b.Interval){a=new b.Interval;a.start();d=function(){return a.microseconds()/1e3}}else if(window.ActiveXObject){try{c=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=c;d=function(){return c.milliseconds}}catch(e){}}else if(Date.now){d=Date.now}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=d;return d()};function e(a,b){a.sum+=b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function f(b){var c=b?b:d()-this.time,f=this,g=f.accum;++g.count;if(!--g.depth){e(g.total,c)}e(g.pure,c-f.childTime);a=f.parent;if(a){++a.accum.childCount;a.childTime+=c}}function g(){return{min:Number.MAX_VALUE,max:0,sum:0}}function h(a,b){return function(){var c=a.enter(),d=b.apply(this,arguments);c.leave();return d}}function i(a){return Math.round(a*100)/100}function j(a,b,c,d){var e={avg:0,min:d.min,max:d.max,sum:0};if(a){c=c||0;e.sum=d.sum-b*c;e.avg=e.sum/a}return e}return{constructor:function(a){var b=this;b.count=b.childCount=b.depth=b.maxDepth=0;b.pure=g();b.total=g();b.name=a},statics:{getTimestamp:d},format:function(a){if(!c){c=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(a){return Math.round(a*100)/100}})}var b=this.getData(a);b.name=this.name;b.pure.type="Pure";b.total.type="Total";b.times=[b.pure,b.total];return c.apply(b)},getData:function(a){var b=this;return{count:b.count,childCount:b.childCount,depth:b.maxDepth,pure:j(b.count,b.childCount,a,b.pure),total:j(b.count,b.childCount,a,b.total)}},enter:function(){var b=this,c={accum:b,leave:f,childTime:0,parent:a};++b.depth;if(b.maxDepth<b.depth){b.maxDepth=b.depth}a=c;c.time=d();return c},monitor:function(a,b,c){var d=this.enter();if(c){a.apply(b,c)}else{a.call(b)}d.leave()},report:function(){Ext.log(this.format())},tap:function(a,b){var c=this,d=typeof b=="string"?[b]:b,e,f,g,i,j,k,l,m;m=function(){if(typeof a=="string"){e=Ext.global;i=a.split(".");for(g=0,j=i.length;g<j;++g){e=e[i[g]]}}else{e=a}for(g=0,j=d.length;g<j;++g){k=d[g];f=k.charAt(0)=="!";if(f){k=k.substring(1)}else{f=!(k in e.prototype)}l=f?e:e.prototype;l[k]=h(c,l[k])}};Ext.ClassManager.onCreated(m,c,a);return c}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.define("Ext.perf.Monitor",{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var a=new Ext.perf.Accumulator("$"),b=a.total,c=Ext.perf.Accumulator.getTimestamp,d=0,e,f,g;g=c();do{e=a.enter();e.leave();++d}while(b.sum<100);f=c();return(f-g)/d},get:function(a){var b=this,c=b.accumulatorsByName[a];if(!c){b.accumulatorsByName[a]=c=new Ext.perf.Accumulator(a);b.accumulators.push(c)}return c},enter:function(a){return this.get(a).enter()},monitor:function(a,b,c){this.get(a).monitor(b,c)},report:function(){var a=this,b=a.accumulators,c=a.calibrate();b.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});a.updateGC();Ext.log("Calibration: "+Math.round(c*100)/100+" msec/sample");Ext.each(b,function(a){Ext.log(a.format(c))})},getData:function(a){var b={},c=this.accumulators;Ext.each(c,function(c){if(a||c.count){b[c.name]=c.getData()}});return b},reset:function(){Ext.each(this.accumulators,function(a){var b=a;b.count=b.childCount=b.depth=b.maxDepth=0;b.pure={min:Number.MAX_VALUE,max:0,sum:0};b.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a=this.accumulatorsByName.GC,b=Ext.senchaToolbox,c;if(a){a.count=b.garbageCollectionCounter||0;if(a.count){c=a.pure;a.total.sum=c.sum=b.garbageCollectionMilliseconds;c.min=c.max=c.sum/a.count;c=a.total;c.min=c.max=c.sum/a.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get("GC");a.watchGarbageCollector(false)}},setup:function(a){if(!a){a={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=a;var b,c,d,e,f;for(b in a){if(a.hasOwnProperty(b)){c=a[b];d=Ext.Perf.get(b);for(e in c){if(c.hasOwnProperty(e)){f=c[e];d.tap(e,f)}}}}this.watchGC()}});Ext.is={init:function(a){var b=this.platforms,c=b.length,d,e;a=a||window.navigator;for(d=0;d<c;d++){e=b[d];this[e.identity]=e.regex.test(a[e.property])}this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android;this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();(function(){var a=function(a,b){var c=a.ownerDocument.defaultView,d=(c?c.getComputedStyle(a,null):a.currentStyle)||a.style;return d[b]},b={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]};function c(){var a=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return a?a+(Ext.isStrict?"-strict":"-quirks"):""}Ext.supports={init:function(){var a=this,d=document,e=a.toRun||a.tests,f=e.length,g=f&&Ext.isReady&&d.createElement("div"),h=[],i=c(),j,k,l;if(g){g.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join("");d.body.appendChild(g)}k=b[i];while(f--){j=e[f];l=k&&k[f];if(l!==undefined){a[j.identity]=l}else if(g||j.early){a[j.identity]=j.fn.call(a,d,g)}else{h.push(j)}}if(g){d.body.removeChild(g)}a.toRun=h},PointerEvents:"pointerEvents"in document.documentElement.style,LocalStorage:function(){try{return"localStorage"in window&&window["localStorage"]!==null}catch(a){return false}}(),CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:typeof window.orientation!="undefined"&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}(),tests:[{identity:"Transitions",fn:function(b,c){var d=["webkit","Moz","o","ms","khtml"],e="TransitionEnd",f=[d[0]+e,"transitionend",d[2]+e,d[3]+e,d[4]+e],g=d.length,h=0,i=false;for(;h<g;h++){if(a(c,d[h]+"TransitionProperty")){Ext.supports.CSS3Prefix=d[h];Ext.supports.CSS3TransitionEnd=f[h];i=true;break}}return i}},{identity:"RightMargin",fn:function(a,b){var c=a.defaultView;return!(c&&c.getComputedStyle(b.firstChild.firstChild,null).marginRight!="0px")}},{identity:"DisplayChangeInputSelectionBug",early:true,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:true,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{identity:"TransparentColor",fn:function(a,b,c){c=a.defaultView;return!(c&&c.getComputedStyle(b.lastChild,null).backgroundColor!="transparent")}},{identity:"ComputedStyle",fn:function(a,b,c){c=a.defaultView;return c&&c.getComputedStyle}},{identity:"Svg",fn:function(a){return!!a.createElementNS&&!!a.createElementNS("http:/"+"/www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return!!a.createElement("canvas").getContext}},{identity:"Vml",fn:function(a){var b=a.createElement("div");b.innerHTML="<!--[if vml]><br/><br/><![endif]-->";return b.childNodes.length==2}},{identity:"Float",fn:function(a,b){return!!b.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return!!a.createElement("audio").canPlayType}},{identity:"History",fn:function(){var a=window.history;return!!(a&&a.pushState)}},{identity:"CSS3DTransform",fn:function(){return typeof WebKitCSSMatrix!="undefined"&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(a,b){var c="background-image:",d="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",e="linear-gradient(left top, black, white)",f="-moz-"+e,g="-ms-"+e,h="-o-"+e,i=[c+d,c+e,c+f,c+g,c+h];b.style.cssText=i.join(";");return(""+b.style.backgroundImage).indexOf("gradient")!==-1&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(a,b){var c=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],d=false,e;
for(e=0;e<c.length;e++){if(document.body.style[c[e]]!==undefined){return true}}return d}},{identity:"GeoLocation",fn:function(){return typeof navigator!="undefined"&&"geolocation"in navigator||typeof google!="undefined"&&typeof google.gears!="undefined"}},{identity:"MouseEnterLeave",fn:function(a,b){return"onmouseenter"in b&&"onmouseleave"in b}},{identity:"MouseWheel",fn:function(a,b){return"onmousewheel"in b}},{identity:"Opacity",fn:function(a,b){if(Ext.isIE6||Ext.isIE7||Ext.isIE8){return false}b.firstChild.style.cssText="opacity:0.73";return b.firstChild.style.opacity=="0.73"}},{identity:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(a,b){return Ext.isFunction(b.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var a=document.body,b=false,c=document.createElement("div"),d=c.style;if(c.getBoundingClientRect){d.WebkitTransform=d.MozTransform=d.OTransform=d.transform="rotate(90deg)";d.width="100px";d.height="30px";a.appendChild(c);b=c.getBoundingClientRect().height!==100;a.removeChild(c)}return b}},{identity:"IncludePaddingInWidthCalculation",fn:function(a,b){return b.childNodes[1].firstChild.offsetWidth==210}},{identity:"IncludePaddingInHeightCalculation",fn:function(a,b){return b.childNodes[1].firstChild.offsetHeight==210}},{identity:"ArraySort",fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var a=Ext.supports.Range?document.createRange():false;return a&&!!a.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var a=document.createElement("textarea");return"maxlength"in a}},{identity:"GetPositionPercentage",fn:function(b,c){return a(c.childNodes[2],"left")=="10%"}},{identity:"PercentageHeightOverflowBug",fn:function(a){var b=false,c,d;if(Ext.getScrollbarSize().height){d=a.createElement("div");c=d.style;c.height="50px";c.width="50px";c.overflow="auto";c.position="absolute";d.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");a.body.appendChild(d);if(d.firstChild.offsetHeight===50){b=true}a.body.removeChild(d)}return b}},{identity:"xOriginBug",fn:function(a,b){b.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll">'+'<div id="b2" style="position:relative;width:100%;height:20px;"></div>'+'<div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div>'+"</div>";var c=document.getElementById("b1").getBoundingClientRect(),d=document.getElementById("b2").getBoundingClientRect(),e=document.getElementById("b3").getBoundingClientRect();return d.left!==c.left&&e.right!==c.right}},{identity:"ScrollWidthInlinePaddingBug",fn:function(a){var b=false,c,d;d=a.createElement("div");c=d.style;c.height="50px";c.width="50px";c.padding="10px";c.overflow="hidden";c.position="absolute";d.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';a.body.appendChild(d);if(d.scrollWidth===70){b=true}a.body.removeChild(d);return b}}]}})();Ext.supports.init();Ext.util.DelayedTask=function(a,b,c,d){var e=this,f,g=function(){clearInterval(e.id);e.id=null;a.apply(b,c||[]);Ext.EventManager.idleEvent.fire()};d=typeof d==="boolean"?d:true;e.id=null;e.delay=function(h,i,j,k){if(d){e.cancel()}f=h||f,a=i||a;b=j||b;c=k||c;if(!e.id){e.id=setInterval(g,f)}};e.cancel=function(){if(e.id){clearInterval(e.id);e.id=null}}};Ext.define("Ext.util.Event",function(){var a=Array.prototype.slice,b=Ext.Array.insert,c=Ext.Array.toArray,d=Ext.util.DelayedTask;return{isEvent:true,suspended:0,noOptions:{},constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(a,c,d){var e=this,f,g,h,i,j,k,l,m,n,o;c=c||e.observable;if(!e.isListening(a,c)){g=e.createListener(a,c,d);if(e.firing){e.listeners=e.listeners.slice(0)}f=e.listeners;m=l=f.length;h=d&&d.priority;j=e._highestNegativePriorityIndex;k=j!==undefined;if(h){i=h<0;if(!i||k){for(n=i?j:0;n<l;n++){o=f[n].o?f[n].o.priority||0:0;if(o<h){m=n;break}}}else{e._highestNegativePriorityIndex=m}}else if(k){m=j}if(!i&&m<=j){e._highestNegativePriorityIndex++}if(m===l){e.listeners[l]=g}else{b(e.listeners,m,[g])}}},createListener:function(a,b,c){b=b||this.observable;var d=this,e={fn:a,scope:b,ev:d},f=a;if(c){e.o=c;if(c.single){f=d.createSingle(f,e,c,b)}if(c.target){f=d.createTargeted(f,e,c,b)}if(c.delay){f=d.createDelayed(f,e,c,b)}if(c.buffer){f=d.createBuffered(f,e,c,b)}}e.fireFn=f;return e},findListener:function(a,b){var c=this.listeners,d=c.length,e,f;while(d--){e=c[d];if(e){f=e.scope;if(e.fn==a&&f==(b||this.observable)){return d}}}return-1},isListening:function(a,b){return this.findListener(a,b)!==-1},removeListener:function(a,b){var c=this,d,e,f,g;d=c.findListener(a,b);if(d!=-1){e=c.listeners[d];f=c._highestNegativePriorityIndex;if(c.firing){c.listeners=c.listeners.slice(0)}if(e.task){e.task.cancel();delete e.task}g=e.tasks&&e.tasks.length;if(g){while(g--){e.tasks[g].cancel()}delete e.tasks}c.listeners.splice(d,1);if(f){if(d<f){c._highestNegativePriorityIndex--}else if(d===f&&d===c.listeners.length){delete c._highestNegativePriorityIndex}}return true}return false},clearListeners:function(){var a=this.listeners,b=a.length;while(b--){this.removeListener(a[b].fn,a[b].scope)}},suspend:function(){this.suspended+=1},resume:function(){if(this.suspended){this.suspended--}},fire:function(){var b=this,c=b.listeners,d=c.length,e,f,g,h;if(!b.suspended&&d>0){b.firing=true;f=arguments.length?a.call(arguments,0):[];h=f.length;for(e=0;e<d;e++){g=c[e];if(g.o){f[h]=g.o}if(g&&g.fireFn.apply(g.scope||b.observable,f)===false){return b.firing=false}}}b.firing=false;return true},createTargeted:function(a,b,c,d){return function(){if(c.target===arguments[0]){a.apply(d,arguments)}}},createBuffered:function(a,b,e,f){b.task=new d;return function(){b.task.delay(e.buffer,a,f,c(arguments))}},createDelayed:function(a,b,e,f){return function(){var g=new d;if(!b.tasks){b.tasks=[]}b.tasks.push(g);g.delay(e.delay||10,a,f,c(arguments))}},createSingle:function(a,b,c,d){return function(){var c=b.ev;if(c.removeListener(b.fn,d)&&c.observable){c.observable.hasListeners[c.name]--}return a.apply(d,arguments)}}}});Ext.EventManager=new function(){var a=this,b=document,c=window,d=/\\/g,e=Ext.baseCSSPrefix,f=!Ext.isIE9&&"addEventListener"in b,g,h=function(){var a=b.body||b.getElementsByTagName("body")[0],c=[e+"body"],d=[],f=Ext.supports.CSS3LinearGradient,g=Ext.supports.CSS3BorderRadius,h;if(!a){return false}h=a.parentNode;function i(a){c.push(e+a)}if(Ext.isIE&&Ext.isIE9m){i("ie");if(Ext.isIE6){i("ie6")}else{i("ie7p");if(Ext.isIE7){i("ie7")}else{i("ie8p");if(Ext.isIE8){i("ie8")}else{i("ie9p");if(Ext.isIE9){i("ie9")}}}}if(Ext.isIE7m){i("ie7m")}if(Ext.isIE8m){i("ie8m")}if(Ext.isIE9m){i("ie9m")}if(Ext.isIE7||Ext.isIE8){i("ie78")}}if(Ext.isIE10){i("ie10")}if(Ext.isGecko){i("gecko");if(Ext.isGecko3){i("gecko3")}if(Ext.isGecko4){i("gecko4")}if(Ext.isGecko5){i("gecko5")}}if(Ext.isOpera){i("opera")}if(Ext.isWebKit){i("webkit")}if(Ext.isSafari){i("safari");if(Ext.isSafari2){i("safari2")}if(Ext.isSafari3){i("safari3")}if(Ext.isSafari4){i("safari4")}if(Ext.isSafari5){i("safari5")}if(Ext.isSafari5_0){i("safari5_0")}}if(Ext.isChrome){i("chrome")}if(Ext.isMac){i("mac")}if(Ext.isLinux){i("linux")}if(!g){i("nbr")}if(!f){i("nlg")}if(h){if(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)){Ext.isBorderBox=false}else{Ext.isBorderBox=true}if(!Ext.isBorderBox){d.push(e+"content-box")}if(Ext.isStrict){d.push(e+"strict")}else{d.push(e+"quirks")}Ext.fly(h,"_internal").addCls(d)}Ext.fly(a,"_internal").addCls(c);return true};Ext.apply(a,{hasBoundOnReady:false,hasFiredReady:false,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){g=new Ext.util.Event;g.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime();g.self.prototype.fire.apply(g,arguments);Ext._afterReadytime=(new Date).getTime()};return g}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){if(a.hasBoundOnReady){return}if(b.readyState=="complete"){a.onReadyEvent({type:b.readyState||"body"})}else{b.addEventListener("DOMContentLoaded",a.onReadyEvent,false);c.addEventListener("load",a.onReadyEvent,false);a.hasBoundOnReady=true}},onReadyEvent:function(d){if(d&&d.type){a.onReadyChain.push(d.type)}if(a.hasBoundOnReady){b.removeEventListener("DOMContentLoaded",a.onReadyEvent,false);c.removeEventListener("load",a.onReadyEvent,false)}if(!Ext.isReady){a.fireDocReady()}},fireDocReady:function(){if(!Ext.isReady){Ext._readyTime=(new Date).getTime();Ext.isReady=true;Ext.supports.init();a.onWindowUnload();g.onReadyChain=a.onReadyChain;if(Ext.isNumber(a.deferReadyEvent)){Ext.Function.defer(a.fireReadyEvent,a.deferReadyEvent);a.hasDocReadyTimer=true}else{a.fireReadyEvent()}}},fireReadyEvent:function(){a.hasDocReadyTimer=false;a.isFiring=true;while(g.listeners.length&&!a.isReadyPaused()){g.fire()}a.isFiring=false;a.hasFiredReady=true;Ext.EventManager.idleEvent.fire()},onDocumentReady:function(b,c,d){d=d||{};d.single=true;g.addListener(b,c,d);if(!(a.isFiring||a.hasDocReadyTimer)){if(Ext.isReady){a.fireReadyEvent()}else{a.bindReadyEvent()}}},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(a){var d;a=Ext.getDom(a);if(a===b||a===c){d=a===b?Ext.documentId:Ext.windowId}else{d=Ext.id(a)}if(!Ext.cache[d]){Ext.addCacheEntry(d,null,a)}return d},prepareListenerConfig:function(b,c,d){var e=a.propRe,f,g,h;for(f in c){if(c.hasOwnProperty(f)){if(!e.test(f)){g=c[f];if(typeof g=="function"){h=[b,f,g,c.scope,c]}else{h=[b,f,g.fn,g.scope,g]}if(d){a.removeListener.apply(a,h)}else{a.addListener.apply(a,h)}}}}},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(b,c){if(a.mouseEnterLeaveRe.test(b)&&!Ext.supports.MouseEnterLeave){if(c){c=Ext.Function.createInterceptor(c,a.contains)}b=b=="mouseenter"?"mouseover":"mouseout"}else if(b=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera){b="DOMMouseScroll"}return{eventName:b,fn:c}},contains:function(b){b=b.browserEvent||b;var c=b.currentTarget,d=a.getRelatedTarget(b);if(c&&c.firstChild){while(d){if(d===c){return false}d=d.parentNode;if(d&&d.nodeType!=1){d=null}}}return true},addListener:function(c,d,e,g,h){if(typeof d!=="string"){a.prepareListenerConfig(c,d);return}var i=c.dom||Ext.getDom(c),j,k,l,m,n,o,p;if(typeof e==="string"){e=Ext.resolveMethod(e,g||c)}h=h||{};k=a.normalizeEvent(d,e);l=a.createListenerWrap(i,d,k.fn,g,h);m=a.getEventListenerCache(c.dom?c:i,d);d=k.eventName;j=f||Ext.isIE9&&!i.attachEvent;if(!j){n=a.normalizeId(i);if(n){o=Ext.cache[n][d];if(o&&o.firing){m=a.cloneEventListenerCache(i,d)}}}p=!!h.capture;m.push({fn:e,wrap:l,scope:g,capture:p});if(!j){if(m.length===1){n=a.normalizeId(i,true);e=Ext.Function.bind(a.handleSingleEvent,a,[n,d],true);Ext.cache[n][d]={firing:false,fn:e};i.attachEvent("on"+d,e)}}else{i.addEventListener(d,l,p)}if(i==b&&d=="mousedown"){a.stoppedMouseDownEvent.addListener(l)}},normalizeId:function(b,c){var d;if(b===document){d=Ext.documentId}else if(b===window){d=Ext.windowId}else{d=b.id}if(!d&&c){d=a.getId(b)}return d},handleSingleEvent:function(b,c,d){var e=a.getEventListenerCache(c,d),f=Ext.cache[c][d],g,h;if(f.firing){return}f.firing=true;for(h=0,g=e.length;h<g;++h){e[h].wrap(b)}f.firing=false},removeListener:function(c,d,e,g){if(typeof d!=="string"){a.prepareListenerConfig(c,d,true);return}var h=Ext.getDom(c),i,j=c.dom?c:Ext.get(h),k=a.getEventListenerCache(j,d),l=a.normalizeEvent(d).eventName,m=k.length,n,o,p,q,r;if(!h){return}p=f||Ext.isIE9&&!h.detachEvent;if(typeof e==="string"){e=Ext.resolveMethod(e,g||c)}while(m--){q=k[m];if(q&&(!e||q.fn==e)&&(!g||q.scope===g)){r=q.wrap;if(r.task){clearTimeout(r.task);delete r.task}n=r.tasks&&r.tasks.length;if(n){while(n--){clearTimeout(r.tasks[n])}delete r.tasks}if(!p){i=a.normalizeId(h,true);o=Ext.cache[i][l];if(o&&o.firing){k=a.cloneEventListenerCache(h,l)}if(k.length===1){e=o.fn;delete Ext.cache[i][l];h.detachEvent("on"+l,e)}}else{h.removeEventListener(l,r,q.capture)}if(r&&h==b&&d=="mousedown"){a.stoppedMouseDownEvent.removeListener(r)}Ext.Array.erase(k,m,1)}}},removeAll:function(b){var c=typeof b==="string"?b:b.id,d,e,f;if(c&&(d=Ext.cache[c])){e=d.events;for(f in e){if(e.hasOwnProperty(f)){a.removeListener(b,f)}}d.events={}}},purgeElement:function(b,c){var d=Ext.getDom(b),e=0,f,g;if(c){a.removeListener(b,c)}else{a.removeAll(b)}if(d&&d.childNodes){g=d.childNodes;for(f=g.length;e<f;e++){a.purgeElement(g[e],c)}}},createListenerWrap:function(b,c,e,f,g){g=g||{};var h,i,j=function(k,l){if(!i){h=["if(!"+Ext.name+") {return;}"];if(g.buffer||g.delay||g.freezeEvent){if(g.freezeEvent){h.push("e = X.EventObject.setEvent(e);")}h.push("e = new X.EventObjectImpl(e, "+(g.freezeEvent?"true":"false")+");")}else{h.push("e = X.EventObject.setEvent(e);")}if(g.delegate){h.push('var result, t = e.getTarget("'+(g.delegate+"").replace(d,"\\\\")+'", this);');h.push("if(!t) {return;}")}else{h.push("var t = e.target, result;")}if(g.target){h.push("if(e.target !== options.target) {return;}")}if(g.stopEvent){h.push("e.stopEvent();")}else{if(g.preventDefault){h.push("e.preventDefault();")}if(g.stopPropagation){h.push("e.stopPropagation();")}}if(g.normalized===false){h.push("e = e.browserEvent;")}if(g.buffer){h.push("(wrap.task && clearTimeout(wrap.task));");h.push("wrap.task = setTimeout(function() {")}if(g.delay){h.push("wrap.tasks = wrap.tasks || [];");h.push("wrap.tasks.push(setTimeout(function() {")}h.push("result = fn.call(scope || dom, e, t, options);");if(g.single){h.push("evtMgr.removeListener(dom, ename, fn, scope);")}if(c!=="mousemove"&&c!=="unload"){h.push("if (evtMgr.idleEvent.listeners.length) {");h.push("evtMgr.idleEvent.fire();");h.push("}")}if(g.delay){h.push("}, "+g.delay+"));")}if(g.buffer){h.push("}, "+g.buffer+");")}h.push("return result;");i=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",h.join("\n"))}return i.call(b,k,g,e,f,c,b,j,l,Ext,a)};return j},getEventCache:function(b){var c,d,e;if(!b){return[]}if(b.$cache){c=b.$cache}else{if(typeof b==="string"){e=b}else{e=a.getId(b)}c=Ext.cache[e]}d=c.events||(c.events={});return d},getEventListenerCache:function(b,c){var d=a.getEventCache(b);return d[c]||(d[c]=[])},cloneEventListenerCache:function(b,c){var d=a.getEventCache(b),e;if(d[c]){e=d[c].slice(0)}else{e=[]}d[c]=e;return e},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(b){a.stopPropagation(b);a.preventDefault(b)},stopPropagation:function(a){a=a.browserEvent||a;if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}},preventDefault:function(a){a=a.browserEvent||a;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false;try{if(a.ctrlKey||a.keyCode>111&&a.keyCode<124){a.keyCode=-1}}catch(b){}}},getRelatedTarget:function(b){b=b.browserEvent||b;var c=b.relatedTarget;if(!c){if(a.mouseLeaveRe.test(b.type)){c=b.toElement}else if(a.mouseEnterRe.test(b.type)){c=b.fromElement}}return a.resolveTextNode(c)},getPageX:function(b){return a.getPageXY(b)[0]},getPageY:function(b){return a.getPageXY(b)[1]},getPageXY:function(a){a=a.browserEvent||a;var c=a.pageX,d=a.pageY,e=b.documentElement,f=b.body;if(!c&&c!==0){c=a.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0);d=a.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)}return[c,d]},getTarget:function(b){b=b.browserEvent||b;return a.resolveTextNode(b.target||b.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if(b!=="[xpconnect wrapped native prototype]"&&b!=="[object XULElement]"){return a.nodeType==3?a.parentNode:a}}}:function(a){return a&&a.nodeType==3?a.parentNode:a},curWidth:0,curHeight:0,onWindowResize:function(b,d,e){var f=a.resizeEvent;if(!f){a.resizeEvent=f=new Ext.util.Event;a.on(c,"resize",a.fireResize,null,{buffer:100})}f.addListener(b,d,e)},fireResize:function(){var b=Ext.Element.getViewWidth(),c=Ext.Element.getViewHeight();if(a.curHeight!=c||a.curWidth!=b){a.curHeight=c;a.curWidth=b;a.resizeEvent.fire(b,c)}},removeResizeListener:function(b,c){var d=a.resizeEvent;if(d){d.removeListener(b,c)}},onWindowUnload:function(b,d,e){var f=a.unloadEvent;if(!f){a.unloadEvent=f=new Ext.util.Event;a.addListener(c,"unload",a.fireUnload)}if(b){f.addListener(b,d,e)}},fireUnload:function(){try{b=c=undefined;var d,e,f,g,h;a.unloadEvent.fire();if(Ext.isGecko3){d=Ext.ComponentQuery.query("gridview");e=0;f=d.length;for(;e<f;e++){d[e].scrollToTop()}}h=Ext.cache;for(g in h){if(h.hasOwnProperty(g)){a.removeAll(g)}}}catch(i){}},removeUnloadListener:function(b,c){var d=a.unloadEvent;if(d){d.removeListener(b,c)}},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return a.useKeyDown?"keydown":"keypress"}});if(!f&&document.attachEvent){Ext.apply(a,{pollScroll:function(){var b=true;try{document.documentElement.doScroll("left")}catch(c){b=false}if(b&&document.body){a.onReadyEvent({type:"doScroll"})}else{a.scrollTimeout=setTimeout(a.pollScroll,20)}return b},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var b=document.readyState;if(a.readyStatesRe.test(b)){a.onReadyEvent({type:b})}},bindReadyEvent:function(){var c=true;if(a.hasBoundOnReady){return}try{c=window.frameElement===undefined}catch(d){c=false}if(!c||!b.documentElement.doScroll){a.pollScroll=Ext.emptyFn}if(a.pollScroll()===true){return}if(b.readyState=="complete"){a.onReadyEvent({type:"already "+(b.readyState||"body")})}else{b.attachEvent("onreadystatechange",a.checkReadyState);window.attachEvent("onload",a.onReadyEvent);a.hasBoundOnReady=true}},onReadyEvent:function(b){if(b&&b.type){a.onReadyChain.push(b.type)}if(a.hasBoundOnReady){document.detachEvent("onreadystatechange",a.checkReadyState);window.detachEvent("onload",a.onReadyEvent)}if(Ext.isNumber(a.scrollTimeout)){clearTimeout(a.scrollTimeout);delete a.scrollTimeout}if(!Ext.isReady){a.fireDocReady()}},onReadyChain:[]})}Ext.onReady=function(a,b,c){Ext.Loader.onReady(a,b,true,c)};Ext.onDocumentReady=a.onDocumentReady;a.on=a.addListener;a.un=a.removeListener;Ext.onReady(h)};Ext.define("Ext.util.Observable",function(a){var b=[],c=Array.prototype,d=c.slice,e=Ext.util.Event,f=function(a){if(a instanceof f){return a}this.observable=a;if(arguments[1].isObservable){this.managedListeners=true}this.args=d.call(arguments,1)};f.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)};return{statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(a,b,c){var d=function(a,d){return b.apply(c,[a].concat(d))};this.captureArgs(a,d,c)},captureArgs:function(a,b,c){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,b,c)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this);this.captureArgs(a.prototype,a.fireEventArgs,a)}if(Ext.isObject(b)){a.on(b)}}return a},prepareClass:function(b,c){if(!b.HasListeners){var d=function(){},e=b.superclass.HasListeners||c&&c.HasListeners||a.HasListeners;b.prototype.HasListeners=b.HasListeners=d;d.prototype=b.hasListeners=new e}}},isObservable:true,eventsSuspended:0,constructor:function(a){var b=this;Ext.apply(b,a);if(!b.hasListeners){b.hasListeners=new b.HasListeners}b.events=b.events||{};if(b.listeners){b.on(b.listeners);b.listeners=null}if(b.bubbleEvents){b.enableBubble(b.bubbleEvents)}},onClassExtended:function(b){if(!b.HasListeners){a.prepareClass(b)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(a,b,c,d,e,g){var h=this,i=h.managedListeners=h.managedListeners||[],j,k;if(typeof b!=="string"){k=arguments.length>4?e:b;e=b;for(b in e){if(e.hasOwnProperty(b)){j=e[b];if(!h.eventOptionsRe.test(b)){h.addManagedListener(a,b,j.fn||j,j.scope||e.scope||d,j.fn?j:k,true)}}}if(e&&e.destroyable){return new f(h,a,e)}}else{if(typeof c==="string"){d=d||h;c=Ext.resolveMethod(c,d)}i.push({item:a,ename:b,fn:c,scope:d,options:e});a.on(b,c,d,e);if(!g&&e&&e.destroyable){return new f(h,a,b,c,d)}}},removeManagedListener:function(a,b,c,d){var e=this,f,g,h,i,j,k;if(typeof b!=="string"){f=b;for(b in f){if(f.hasOwnProperty(b)){g=f[b];if(!e.eventOptionsRe.test(b)){e.removeManagedListener(a,b,g.fn||g,g.scope||f.scope||d)}}}}else{h=e.managedListeners?e.managedListeners.slice():[];if(typeof c==="string"){d=d||e;c=Ext.resolveMethod(c,d)}for(j=0,i=h.length;j<i;j++){e.removeManagedListenerItem(false,h[j],a,b,c,d)}}},fireEvent:function(a){return this.fireEventArgs(a,d.call(arguments,1))},fireEventArgs:function(a,c){a=a.toLowerCase();var d=this,e=d.events,f=e&&e[a],g=true;if(f&&d.hasListeners[a]){g=d.continueFireEvent(a,c||b,f.bubble)}return g},continueFireEvent:function(a,b,c){var d=this,e,f,g=true;do{if(d.eventsSuspended){if(e=d.eventQueue){e.push([a,b,c])}return g}else{f=d.events[a];if(f&&f!==true){if((g=f.fire.apply(f,b))===false){break}}}}while(c&&(d=d.getBubbleParent()));return g},getBubbleParent:function(){var a=this,b=a.getBubbleTarget&&a.getBubbleTarget();if(b&&b.isObservable){return b}return null},addListener:function(a,b,c,d){var g=this,h,i,j=0;if(typeof a!=="string"){d=a;for(a in d){if(d.hasOwnProperty(a)){h=d[a];if(!g.eventOptionsRe.test(a)){g.addListener(a,h.fn||h,h.scope||d.scope,h.fn?h:d)}}}if(d&&d.destroyable){return new f(g,d)}}else{a=a.toLowerCase();i=g.events[a];if(i&&i.isEvent){j=i.listeners.length}else{g.events[a]=i=new e(g,a)}if(typeof b==="string"){c=c||g;b=Ext.resolveMethod(b,c)}i.addListener(b,c,d);if(i.listeners.length!==j){g.hasListeners._incr_(a)}if(d&&d.destroyable){return new f(g,a,b,c,d)}}},removeListener:function(a,b,c){var d=this,e,f,g;if(typeof a!=="string"){g=a;for(a in g){if(g.hasOwnProperty(a)){e=g[a];if(!d.eventOptionsRe.test(a)){d.removeListener(a,e.fn||e,e.scope||g.scope)}}}}else{a=a.toLowerCase();f=d.events[a];if(f&&f.isEvent){if(typeof b==="string"){c=c||d;b=Ext.resolveMethod(b,c)}if(f.removeListener(b,c)){d.hasListeners._decr_(a)}}}},clearListeners:function(){var a=this.events,b=this.hasListeners,c,d;for(d in a){if(a.hasOwnProperty(d)){c=a[d];if(c.isEvent){delete b[d];c.clearListeners()}}}this.clearManagedListeners()},clearManagedListeners:function(){var a=this.managedListeners||[],b=0,c=a.length;for(;b<c;b++){this.removeManagedListenerItem(true,a[b])}this.managedListeners=[]},removeManagedListenerItem:function(a,b,c,d,e,f){if(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!f||b.scope===f)){b.item.un(b.ename,b.fn,b.scope);if(!a){Ext.Array.remove(this.managedListeners,b)}}},addEvents:function(a){var b=this,c=b.events||(b.events={}),d,e,f;if(typeof a=="string"){for(e=arguments,f=e.length;f--;){d=e[f];if(!c[d]){c[d]=true}}}else{Ext.applyIf(b.events,a)}},hasListener:function(a){return!!this.hasListeners[a.toLowerCase()]},suspendEvents:function(a){this.eventsSuspended+=1;if(a&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(a){var b=arguments.length,c,d;for(c=0;c<b;c++){d=this.events[arguments[c]];if(d&&d.suspend){d.suspend()}}},resumeEvent:function(){var a=arguments.length,b,c;for(b=0;b<a;b++){c=this.events[arguments[b]];if(c&&c.resume){c.resume()}}},resumeEvents:function(){var a=this,b=a.eventQueue,c,d;if(a.eventsSuspended&&!--a.eventsSuspended){delete a.eventQueue;if(b){c=b.length;for(d=0;d<c;d++){a.continueFireEvent.apply(a,b[d])}}}},relayEvents:function(a,b,c){var d=this,e=b.length,g=0,h,i={};for(;g<e;g++){h=b[g];i[h]=d.createRelayer(c?c+h:h)}d.mon(a,i,null,null,undefined);return new f(d,a,i)},createRelayer:function(a,b){var c=this;return function(){return c.fireEventArgs.call(c,a,b?d.apply(arguments,b):arguments)}},enableBubble:function(a){if(a){var b=this,c=typeof a=="string"?arguments:a,d=c.length,f=b.events,g,h,i;for(i=0;i<d;++i){g=c[i].toLowerCase();h=f[g];if(!h||typeof h=="boolean"){f[g]=h=new e(b,g)}b.hasListeners._incr_(g);h.bubble=true}}}}},function(){var a=this,b=a.prototype,c=function(){},d=function(b){if(!b.HasListeners){var c=b.prototype;a.prepareClass(b,this);b.onExtended(function(b){a.prepareClass(b)});if(c.onClassMixedIn){Ext.override(b,{onClassMixedIn:function(a){d.call(this,a);this.callParent(arguments)}})}else{c.onClassMixedIn=function(a){d.call(this,a)}}}},e;c.prototype={_decr_:function(a){if(!--this[a]){delete this[a]}},_incr_:function(a){if(this.hasOwnProperty(a)){++this[a]}else{this[a]=1}}};b.HasListeners=a.HasListeners=c;a.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});a.observeClass=a.observe;Ext.globalEvents=e=new a({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}});Ext.on=function(){return e.addListener.apply(e,arguments)};Ext.un=function(){return e.removeListener.apply(e,arguments)};function f(a){var b=(this.methodEvents=this.methodEvents||{})[a],c,d,e,f=this,g;if(!b){this.methodEvents[a]=b={};b.originalFn=this[a];b.methodName=a;b.before=[];b.after=[];g=function(a,b,g){if((d=a.apply(b||f,g))!==undefined){if(typeof d=="object"){if(d.returnValue!==undefined){c=d.returnValue}else{c=d}e=!!d.cancel}else if(d===false){e=true}else{c=d}}};this[a]=function(){var a=Array.prototype.slice.call(arguments,0),h,i,j;c=d=undefined;e=false;for(i=0,j=b.before.length;i<j;i++){h=b.before[i];g(h.fn,h.scope,a);if(e){return c}}if((d=b.originalFn.apply(f,a))!==undefined){c=d}for(i=0,j=b.after.length;i<j;i++){h=b.after[i];g(h.fn,h.scope,a);if(e){return c}}return c}}return b}Ext.apply(b,{onClassMixedIn:d,beforeMethod:function(a,b,c){f.call(this,a).before.push({fn:b,scope:c})},afterMethod:function(a,b,c){f.call(this,a).after.push({fn:b,scope:c})},removeMethodListener:function(a,b,c){var d=this.getMethodEvent(a),e,f;for(e=0,f=d.before.length;e<f;e++){if(d.before[e].fn==b&&d.before[e].scope==c){Ext.Array.erase(d.before,e,1);return}}for(e=0,f=d.after.length;e<f;e++){if(d.after[e].fn==b&&d.after[e].scope==c){Ext.Array.erase(d.after,e,1);return}}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(a){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(a,arguments)}})}})});Ext.define("Ext.EventObjectImpl",{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var a;if(Ext.isGecko){a=3}else if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){a=120}else{a=12}a*=3}else{a=120}return a}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(a,b){if(a){this.setEvent(a.browserEvent||a,b)}},setEvent:function(a,b){var c=this,d,e;if(a===c||a&&a.browserEvent){return a}c.browserEvent=a;if(a){d=a.button?c.btnMap[a.button]:a.which?a.which-1:-1;if(c.clickRe.test(a.type)&&d==-1){d=0}e={type:a.type,button:d,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey||a.metaKey||false,altKey:a.altKey,keyCode:a.keyCode,charCode:a.charCode,target:Ext.EventManager.getTarget(a),relatedTarget:Ext.EventManager.getRelatedTarget(a),currentTarget:a.currentTarget,xy:b?c.getXY():null}}else{e={button:-1,shiftKey:false,ctrlKey:false,altKey:false,keyCode:0,charCode:0,target:null,xy:[0,0]}}Ext.apply(c,e);return c},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){if(this.browserEvent){Ext.EventManager.preventDefault(this.browserEvent)}},stopPropagation:function(){var a=this.browserEvent;if(a){if(a.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this)}Ext.EventManager.stopPropagation(a)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?this.safariKeys[a]||a:a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){if(!this.xy){this.xy=Ext.EventManager.getPageXY(this.browserEvent)}return this.xy},getTarget:function(a,b,c){if(a){return Ext.fly(this.target).findParent(a,b,c)}return c?Ext.get(this.target):this.target},getRelatedTarget:function(a,b,c){if(a&&this.relatedTarget){return Ext.fly(this.relatedTarget).findParent(a,b,c)}return c?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(a){var b=this.WHEEL_SCALE,c=Math.round(a/b);if(!c&&a){c=a<0?-1:1}return c},getWheelDeltas:function(){var a=this,b=a.browserEvent,c=0,d=0;if(Ext.isDefined(b.wheelDeltaX)){c=b.wheelDeltaX;d=b.wheelDeltaY}else if(b.wheelDelta){d=b.wheelDelta}else if(b.detail){d=-b.detail;if(d>100){d=3}else if(d<-100){d=-3}if(Ext.isDefined(b.axis)&&b.axis===b.HORIZONTAL_AXIS){c=d;d=0}}return{x:a.correctWheelDelta(c),y:a.correctWheelDelta(d)}},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},within:function(a,b,c){if(a){var d=b?this.getRelatedTarget():this.getTarget(),e;if(d){e=Ext.fly(a,"_internal").contains(d);if(!e&&c){e=d==Ext.getDom(a)}return e}}return false},isNavKeyPress:function(){var a=this,b=this.normalizeKey(a.keyCode);return b>=33&&b<=40||b==a.RETURN||b==a.TAB||b==a.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return this.type=="keypress"&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||a>=16&&a<=20||a>=44&&a<=46},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){var a,b={},c;if(!Ext.isIE9m&&document.createEvent){a={createHtmlEvent:function(a,b,c,d){var e=a.createEvent("HTMLEvents");e.initEvent(b,c,d);return e},createMouseEvent:function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=a.createEvent("MouseEvents"),o=a.defaultView||window;if(n.initMouseEvent){n.initMouseEvent(b,c,d,o,e,f,g,f,g,h,i,j,k,l,m)}else{n=a.createEvent("UIEvents");n.initEvent(b,c,d);n.view=o;n.detail=e;n.screenX=f;n.screenY=g;n.clientX=f;n.clientY=g;n.ctrlKey=h;n.altKey=i;n.metaKey=k;n.shiftKey=j;n.button=l;n.relatedTarget=m}return n},createUIEvent:function(a,b,c,d,e){var f=a.createEvent("UIEvents"),g=a.defaultView||window;f.initUIEvent(b,c,d,g,e);return f},fireEvent:function(a,b,c){a.dispatchEvent(c)},fixTarget:function(a){if(a==window&&!a.dispatchEvent){return document}return a}}}else if(document.createEventObject){c={0:1,1:4,2:2};a={createHtmlEvent:function(a,b,c,d){var e=a.createEventObject();e.bubbles=c;e.cancelable=d;return e},createMouseEvent:function(a,b,d,e,f,g,h,i,j,k,l,m,n){var o=a.createEventObject();o.bubbles=d;o.cancelable=e;o.detail=f;o.screenX=g;o.screenY=h;o.clientX=g;o.clientY=h;o.ctrlKey=i;o.altKey=j;o.shiftKey=k;o.metaKey=l;o.button=c[m]||m;o.relatedTarget=n;return o},createUIEvent:function(a,b,c,d,e){var f=a.createEventObject();
f.bubbles=c;f.cancelable=d;return f},fireEvent:function(a,b,c){a.fireEvent("on"+b,c)},fixTarget:function(a){if(a==document){return document.documentElement}return a}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(c,d){var e=d[0],f=d[1];b[c]=function(b,d){var g=a.createHtmlEvent(c,e,f);a.fireEvent(b,c,g)}});function d(b,c){var d=b!="mousemove";return function(e,f){var g=f.getXY(),h=a.createMouseEvent(e.ownerDocument,b,true,d,c,g[0],g[1],f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget);a.fireEvent(e,b,h)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(a){b[a]=d(a,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(c,d){var e=d[0],f=d[1];b[c]=function(b,d){var g=a.createUIEvent(b.ownerDocument,c,e,f,1);a.fireEvent(b,c,g)}});if(!a){b={};a={fixTarget:Ext.identityFn}}function e(a,b){}return function(c){var d=this,f=b[d.type]||e,g=c?c.dom||c:d.getTarget();g=a.fixTarget(g);f(g,d)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl});Ext.define("Ext.dom.AbstractQuery",{select:function(a,b){var c=[],d,e,f,g,h;b=b||document;if(typeof b=="string"){b=document.getElementById(b)}a=a.split(",");for(e=0,g=a.length;e<g;e++){if(typeof a[e]=="string"){if(typeof a[e][0]=="@"){d=b.getAttributeNode(a[e].substring(1));c.push(d)}else{d=b.querySelectorAll(a[e]);for(f=0,h=d.length;f<h;f++){c.push(d[f])}}}}return c},selectNode:function(a,b){return this.select(a,b)[0]},is:function(a,b){if(typeof a=="string"){a=document.getElementById(a)}return this.select(b).indexOf(a)!==-1}});Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){var a=/([a-z])([A-Z])/g,b={};function c(a,b,c){return b+"-"+c.toLowerCase()}return function(d){return b[d]||(b[d]=d.replace(a,c))}}(),generateMarkup:function(a,b){var c=this,d=typeof a,e,f,g,h,i;if(d=="string"||d=="number"){b.push(a)}else if(Ext.isArray(a)){for(h=0;h<a.length;h++){if(a[h]){c.generateMarkup(a[h],b)}}}else{g=a.tag||"div";b.push("<",g);for(e in a){if(a.hasOwnProperty(e)){f=a[e];if(!c.confRe.test(e)){if(typeof f=="object"){b.push(" ",e,'="');c.generateStyles(f,b).push('"')}else{b.push(" ",c.attributeTransform[e]||e,'="',f,'"')}}}}if(c.emptyTags.test(g)){b.push("/>")}else{b.push(">");if(f=a.tpl){f.applyOut(a.tplData,b)}if(f=a.html){b.push(f)}if(f=a.cn||a.children){c.generateMarkup(f,b)}i=c.closeTags;b.push(i[g]||(i[g]="</"+g+">"))}}return b},generateStyles:function(a,b){var c=b||[],d;for(d in a){if(a.hasOwnProperty(d)){c.push(this.decamelizeName(d),":",a[d],";")}}return b||c.join("")},markup:function(a){if(typeof a=="string"){return a}var b=this.generateMarkup(a,[]);return b.join("")},applyStyles:function(a,b){if(b){var c=0,d;a=Ext.fly(a,"_applyStyles");if(typeof b=="function"){b=b.call()}if(typeof b=="string"){b=Ext.util.Format.trim(b).split(this.styleSepRe);for(d=b.length;c<d;){a.setStyle(b[c++],b[c++])}}else if(Ext.isObject(b)){a.setStyle(b)}}},insertHtml:function(a,b,c){var d={},e,f,g,h;a=a.toLowerCase();d["beforebegin"]=["BeforeBegin","previousSibling"];d["afterend"]=["AfterEnd","nextSibling"];f=b.ownerDocument.createRange();e="setStart"+(this.endRe.test(a)?"After":"Before");if(d[a]){f[e](b);g=f.createContextualFragment(c);b.parentNode.insertBefore(g,a=="beforebegin"?b:b.nextSibling);return b[(a=="beforebegin"?"previous":"next")+"Sibling"]}else{h=(a=="afterbegin"?"first":"last")+"Child";if(b.firstChild){f[e](b[h]);g=f.createContextualFragment(c);if(a=="afterbegin"){b.insertBefore(g,b.firstChild)}else{b.appendChild(g)}}else{b.innerHTML=c}return b[h]}throw'Illegal insertion point -> "'+a+'"'},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforebegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterend","nextSibling")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin","firstChild")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend","",true)},overwrite:function(a,b,c){a=Ext.getDom(a);a.innerHTML=this.markup(b);return c?Ext.get(a.firstChild):a.firstChild},doInsert:function(a,b,c,d,e,f){var g=this.insertHtml(d,Ext.getDom(a),this.markup(b));return c?Ext.get(g,true):g}});Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a,b){if(typeof a=="number"){return a+(b||this.defaultUnit||"px")}if(a===""||a=="auto"||a===undefined||a===null){return a||""}if(!this.unitRe.test(a)){return a||""}return a},isAncestor:function(a,b){var c=false;a=Ext.getDom(a);b=Ext.getDom(b);if(a&&b){if(a.contains){return a.contains(b)}else if(a.compareDocumentPosition){return!!(a.compareDocumentPosition(b)&16)}else{while(b=b.parentNode){c=b==a||c}}}return c},parseBox:function(a){a=a||0;var b=typeof a,c,d;if(b==="number"){return{top:a,right:a,bottom:a,left:a}}else if(b!=="string"){return a}c=a.split(" ");d=c.length;if(d==1){c[1]=c[2]=c[3]=c[0]}else if(d==2){c[2]=c[0];c[3]=c[1]}else if(d==3){c[3]=c[1]}return{top:parseFloat(c[0])||0,right:parseFloat(c[1])||0,bottom:parseFloat(c[2])||0,left:parseFloat(c[3])||0}},unitizeBox:function(a,b){var c=this.addUnits,d=this.parseBox(a);return c(d.top,b)+" "+c(d.right,b)+" "+c(d.bottom,b)+" "+c(d.left,b)},camelReplaceFn:function(a,b){return b.charAt(1).toUpperCase()},normalize:function(a){if(a=="float"){a=Ext.supports.Float?"cssFloat":"styleFloat"}return this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){if(Ext.supports.OrientationChange){return window.orientation==0?"portrait":"landscape"}return window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(a){var b={},c=this.cssRe,d;if(a){c.lastIndex=0;while(d=c.exec(a)){b[d[1]]=d[2]||""}}return b}}},function(){var a=document,b=null,c=a.compatMode=="CSS1Compat";if(!("activeElement"in a)&&a.addEventListener){a.addEventListener("focus",function(c){if(c&&c.target){b=c.target==a?null:c.target}},true)}function d(a,b,c){return function(){a.selectionStart=b;a.selectionEnd=c}}this.addInheritableStatics({getActiveElement:function(){var c;try{c=a.activeElement}catch(d){}c=c||b;if(!c){c=b=document.body}return c},getRightMarginFixCleaner:function(c){var e=Ext.supports,f=e.DisplayChangeInputSelectionBug,g=e.DisplayChangeTextAreaSelectionBug,h,i,j,k;if(f||g){h=a.activeElement||b;i=h&&h.tagName;if(g&&i=="TEXTAREA"||f&&i=="INPUT"&&h.type=="text"){if(Ext.dom.Element.isAncestor(c,h)){j=h.selectionStart;k=h.selectionEnd;if(Ext.isNumber(j)&&Ext.isNumber(k)){return d(h,j,k)}}}}return Ext.emptyFn},getViewWidth:function(a){return a?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(a){return a?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(!c?a.body.scrollHeight:a.documentElement.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(!c?a.body.scrollWidth:a.documentElement.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?Ext.isStrict?a.documentElement.clientHeight:a.body.clientHeight:self.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?a.body.clientWidth:Ext.isIE9m?a.documentElement.clientWidth:self.innerWidth},serializeForm:function(a){var b=a.elements||(document.forms[a]||Ext.getDom(a)).elements,c=false,d=encodeURIComponent,e="",f=b.length,g,h,i,j,k,l,m,n,o;for(l=0;l<f;l++){g=b[l];h=g.name;i=g.type;j=g.options;if(!g.disabled&&h){if(/select-(one|multiple)/i.test(i)){n=j.length;for(m=0;m<n;m++){o=j[m];if(o.selected){k=o.hasAttribute?o.hasAttribute("value"):o.getAttributeNode("value").specified;e+=Ext.String.format("{0}={1}&",d(h),d(k?o.value:o.text))}}}else if(!/file|undefined|reset|button/i.test(i)){if(!(/radio|checkbox/i.test(i)&&!g.checked)&&!(i=="submit"&&c)){e+=d(h)+"="+d(g.value)+"&";c=/submit/i.test(i)}}}}return e.substr(0,e.length-1)}})});Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(a,b){var c=this,d,e,f,g;if(a.nodeType||a.dom||typeof a=="string"){a=Ext.getDom(a);c.dom.appendChild(a);return!b?Ext.get(a):a}else if(a.length){d=Ext.fly(document.createDocumentFragment(),"_internal");e=a.length;Ext.DomHelper.useDom=true;for(f=0;f<e;f++){d.appendChild(a[f],b)}Ext.DomHelper.useDom=g;c.dom.appendChild(d.dom);return b?d.dom:d}else{return c.createChild(a,null,b)}},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a=="string"){a=Ext.getDom(a);this.dom.insertBefore(a,this.dom.firstChild);return!b?Ext.get(a):a}else{return this.createChild(a,this.dom.firstChild,b)}},insertSibling:function(a,b,c){var d=this,e=Ext.core.DomHelper,f=e.useDom,g=(b||"before").toLowerCase()=="after",h,i,j,k;if(Ext.isArray(a)){i=Ext.fly(document.createDocumentFragment(),"_internal");j=a.length;e.useDom=true;for(k=0;k<j;k++){h=i.appendChild(a[k],c)}e.useDom=f;d.dom.parentNode.insertBefore(i.dom,g?d.dom.nextSibling:d.dom);return h}a=a||{};if(a.nodeType||a.dom){h=d.dom.parentNode.insertBefore(Ext.getDom(a),g?d.dom.nextSibling:d.dom);if(!c){h=Ext.get(h)}}else{if(g&&!d.dom.nextSibling){h=e.append(d.dom.parentNode,a,!c)}else{h=e[g?"insertAfter":"insertBefore"](d.dom,a,!c)}}return h},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(a){var b=this;if(a.nodeType||a.dom||typeof a=="string"){a=Ext.get(a);b.dom.parentNode.insertBefore(a.dom,b.dom)}else{a=Ext.core.DomHelper.insertBefore(b.dom,a)}delete Ext.cache[b.id];Ext.removeNode(b.dom);b.id=Ext.id(b.dom=a);Ext.dom.AbstractElement.addToCache(b.isFlyweight?new Ext.dom.AbstractElement(b.dom):b);return b},createChild:function(a,b,c){a=a||{tag:"div"};if(b){return Ext.core.DomHelper.insertBefore(b,a,c!==true)}else{return Ext.core.DomHelper.append(this.dom,a,c!==true)}},wrap:function(a,b,c){var d=Ext.core.DomHelper.insertBefore(this.dom,a||{tag:"div"},true),e=d;if(c){e=Ext.DomQuery.selectNode(c,d.dom)}e.appendChild(this.dom);return b?d.dom:d},insertHtml:function(a,b,c){var d=Ext.core.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(d):d}});Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var a=this,b=/\w/g,c=/\s+/,d=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,e=Ext.supports.ClassList,f="padding",g="margin",h="border",i="-left",j="-right",k="-top",l="-bottom",m="-width",n={l:h+i+m,r:h+j+m,t:h+k+m,b:h+l+m},o={l:f+i,r:f+j,t:f+k,b:f+l},p={l:g+i,r:g+j,t:g+k,b:g+l},q=new a.Fly;Ext.override(a,{styleHooks:{},addStyles:function(a,c){var d=0,e=(a||"").match(b),f,g=e.length,h,i=[];if(g==1){d=Math.abs(parseFloat(this.getStyle(c[e[0]]))||0)}else if(g){for(f=0;f<g;f++){h=e[f];i.push(c[h])}i=this.getStyle(i);for(f=0;f<g;f++){h=e[f];d+=Math.abs(parseFloat(i[c[h]])||0)}}return d},addCls:function(){var a=function(a){var d=this,e=d.dom,f=d.trimRe,g=a,h,i,j,k,l;if(typeof a=="string"){a=a.replace(f,"").split(c)}if(e&&a&&!!(k=a.length)){if(!e.className){e.className=a.join(" ")}else{h=e.classList;if(h){for(j=0;j<k;++j){l=a[j];if(l){if(!h.contains(l)){if(i){i.push(l)}else{i=e.className.replace(f,"");i=i?[i,l]:[l]}}}}if(i){e.className=i.join(" ")}}else{b(g)}}}return d},b=function(a){var b=this,c=b.dom,d;if(c&&a&&a.length){d=Ext.Element.mergeClsList(c.className,a);if(d.changed){c.className=d.join(" ")}}return b};return e?a:b}(),removeCls:function(a){var b=this,d=b.dom,e,f,g;if(typeof a=="string"){a=a.replace(b.trimRe,"").split(c)}if(d&&d.className&&a&&!!(f=a.length)){e=d.classList;if(f===1&&e){if(a[0]){e.remove(a[0])}}else{g=Ext.Element.removeCls(d.className,a);if(g.changed){d.className=g.join(" ")}}}return b},radioCls:function(a){var b=this.dom.parentNode.childNodes,c,d,e;a=Ext.isArray(a)?a:[a];for(d=0,e=b.length;d<e;d++){c=b[d];if(c&&c.nodeType==1){q.attach(c).removeCls(a)}}return this.addCls(a)},toggleCls:function(){var a=function(a){var c=this,d=c.dom,e;if(d){a=a.replace(c.trimRe,"");if(a){e=d.classList;if(e){e.toggle(a)}else{b(a)}}}return c},b=function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)};return e?a:b}(),hasCls:function(){var a=function(a){var c=this.dom,d=false,e;if(c&&a){e=c.classList;if(e){d=e.contains(a)}else{d=b(a)}}return d},b=function(a){var b=this.dom;return b?a&&(" "+b.className+" ").indexOf(" "+a+" ")!==-1:false};return e?a:b}(),replaceCls:function(a,b){return this.removeCls(a).addCls(b)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(b,c){var d=this,e=d.dom,f=typeof b!="string",g=d.styleHooks,h=b,i=h,j=1,k,l,m,n,o,p,q;if(f){m={};h=i[0];q=0;if(!(j=i.length)){return m}}if(!e||e.documentElement){return m||""}k=e.style;if(c){p=k}else{p=e.ownerDocument.defaultView.getComputedStyle(e,null);if(!p){c=true;p=k}}do{n=g[h];if(!n){g[h]=n={name:a.normalize(h)}}if(n.get){o=n.get(e,d,c,p)}else{l=n.name;o=p[l]}if(!f){return o}m[h]=o;h=i[++q]}while(q<j);return m},getStyles:function(){var a=Ext.Array.slice(arguments),b=a.length,c;if(b&&typeof a[b-1]=="boolean"){c=a.pop()}return this.getStyle(a,c)},isTransparent:function(a){var b=this.getStyle(a);return b?d.test(b):false},setStyle:function(b,c){var d=this,e=d.dom,f=d.styleHooks,g=e.style,h=b,i;if(typeof h=="string"){i=f[h];if(!i){f[h]=i={name:a.normalize(h)}}c=c==null?"":c;if(i.set){i.set(e,c,d)}else{g[i.name]=c}if(i.afterSet){i.afterSet(e,c,d)}}else{for(h in b){if(b.hasOwnProperty(h)){i=f[h];if(!i){f[h]=i={name:a.normalize(h)}}c=b[h];c=c==null?"":c;if(i.set){i.set(e,c,d)}else{g[i.name]=c}if(i.afterSet){i.afterSet(e,c,d)}}}}return d},getHeight:function(a){var b=this.dom,c=a?b.clientHeight-this.getPadding("tb"):b.offsetHeight;return c>0?c:0},getWidth:function(a){var b=this.dom,c=a?b.clientWidth-this.getPadding("lr"):b.offsetWidth;return c>0?c:0},setWidth:function(b){var c=this;c.dom.style.width=a.addUnits(b);return c},setHeight:function(b){var c=this;c.dom.style.height=a.addUnits(b);return c},getBorderWidth:function(a){return this.addStyles(a,n)},getPadding:function(a){return this.addStyles(a,o)},margins:p,applyStyles:function(b){if(b){var c,d,e=this.dom;if(typeof b=="function"){b=b.call()}if(typeof b=="string"){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);for(c=0,d=b.length;c<d;){e.style[a.normalize(b[c++])]=b[c++]}}else if(typeof b=="object"){this.setStyle(b)}}},setSize:function(b,c){var d=this,e=d.dom.style;if(Ext.isObject(b)){c=b.height;b=b.width}e.width=a.addUnits(b);e.height=a.addUnits(c);return d},getViewSize:function(){var b=document,c=this.dom;if(c==b||c==b.body){return{width:a.getViewportWidth(),height:a.getViewportHeight()}}else{return{width:c.clientWidth,height:c.clientHeight}}},getSize:function(a){var b=this.dom;return{width:Math.max(0,a?b.clientWidth-this.getPadding("lr"):b.offsetWidth),height:Math.max(0,a?b.clientHeight-this.getPadding("tb"):b.offsetHeight)}},repaint:function(){var a=this.dom;this.addCls(Ext.baseCSSPrefix+"repaint");setTimeout(function(){q.attach(a).removeCls(Ext.baseCSSPrefix+"repaint")},1);return this},getMargin:function(a){var b=this,c={t:"top",l:"left",r:"right",b:"bottom"},d,e,f;if(!a){f=[];for(d in b.margins){if(b.margins.hasOwnProperty(d)){f.push(b.margins[d])}}e=b.getStyle(f);if(e&&typeof e=="object"){for(d in b.margins){if(b.margins.hasOwnProperty(d)){e[c[d]]=parseFloat(e[b.margins[d]])||0}}}return e}else{return b.addStyles(a,b.margins)}},mask:function(a,b,c){var d=this,e=d.dom,f=(d.$cache||d.getCache()).data,g=f.mask,h,i,j="",k=Ext.baseCSSPrefix;d.addCls(k+"masked");if(d.getStyle("position")=="static"){d.addCls(k+"masked-relative")}if(g){g.remove()}if(b&&typeof b=="string"){j=" "+b}else{j=" "+k+"mask-gray"}h=d.createChild({cls:k+"mask"+(c!==false?"":" "+k+"mask-gray"),html:a?'<div class="'+(b||k+"mask-message")+'">'+a+"</div>":""});i=d.getSize();f.mask=h;if(e===document.body){i.height=window.innerHeight;if(d.orientationHandler){Ext.EventManager.unOrientationChange(d.orientationHandler,d)}d.orientationHandler=function(){i=d.getSize();i.height=window.innerHeight;h.setSize(i)};Ext.EventManager.onOrientationChange(d.orientationHandler,d)}h.setSize(i);if(Ext.is.iPad){Ext.repaint()}},unmask:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.mask,d=Ext.baseCSSPrefix;if(c){c.remove();delete b.mask}a.removeCls([d+"masked",d+"masked-relative"]);if(a.dom===document.body){Ext.EventManager.unOrientationChange(a.orientationHandler,a);delete a.orientationHandler}}});Ext.onReady(function(){var b=Ext.supports,c,e,f,g,h;function i(a,b,c,e){var f=e[this.name]||"";return d.test(f)?"transparent":f}function j(a,b,c,d){var e=d.marginRight,f,g;if(e!="0px"){f=a.style;g=f.display;f.display="inline-block";e=(c?d:a.ownerDocument.defaultView.getComputedStyle(a,null)).marginRight;f.display=g}return e}function k(b,c,d,e){var f=e.marginRight,g,h,i;if(f!="0px"){g=b.style;h=a.getRightMarginFixCleaner(b);i=g.display;g.display="inline-block";f=(d?e:b.ownerDocument.defaultView.getComputedStyle(b,"")).marginRight;g.display=i;h()}return f}c=a.prototype.styleHooks;if(b.init){b.init()}if(!b.RightMargin){c.marginRight=c["margin-right"]={name:"marginRight",get:b.DisplayChangeInputSelectionBug||b.DisplayChangeTextAreaSelectionBug?k:j}}if(!b.TransparentColor){e=["background-color","border-color","color","outline-color"];for(f=e.length;f--;){g=e[f];h=a.normalize(g);c[g]=c[h]={name:h,get:i}}}})});Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(a,b,c){var d=this.dom,e=document.documentElement,f=0,g;b=b||50;if(isNaN(b)){g=Ext.getDom(b);b=Number.MAX_VALUE}while(d&&d.nodeType==1&&f<b&&d!=e&&d!=g){if(Ext.DomQuery.is(d,a)){return c?Ext.get(d):d}f++;d=d.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(a,b,c):null},up:function(a,b,c){return this.findParentNode(a,b,!c)},select:function(a,b){return Ext.dom.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},child:function(a,b){var c,d=this,e;e=Ext.id(d.dom);e=Ext.escapeId(e);c=Ext.DomQuery.selectNode("#"+e+" > "+a,d.dom);return b?c:Ext.get(c)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(a,b,c,d){if(!this.dom){return null}var e=this.dom[b];while(e){if(e.nodeType==1&&(!c||Ext.DomQuery.is(e,c))){return!d?Ext.get(e):e}e=e[a]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}});Ext.define("Ext.dom.AbstractElement",{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(a){var b=this,c=window.document,d=Ext.dom.Element,e,f,g,h,i;if(!a){return null}if(a.isFly){a=a.dom}if(typeof a=="string"){if(a==Ext.windowId){return d.get(window)}else if(a==Ext.documentId){return d.get(c)}e=Ext.cache[a];if(e&&e.skipGarbageCollection){g=e.el;return g}if(!(h=c.getElementById(a))){return null}if(e&&e.el){g=Ext.updateCacheEntry(e,h).el}else{g=new d(h,!!e)}return g}else if(a.tagName){if(!(i=a.id)){i=Ext.id(a)}e=Ext.cache[i];if(e&&e.el){g=Ext.updateCacheEntry(e,a).el}else{g=new d(a,!!e)}return g}else if(a instanceof b){if(a!=b.docEl&&a!=b.winEl){i=a.id;e=Ext.cache[i];if(e){Ext.updateCacheEntry(e,c.getElementById(i)||a.dom)}}return a}else if(a.isComposite){return a}else if(Ext.isArray(a)){return b.select(a)}else if(a===c){if(!b.docEl){f=b.docEl=Ext.Object.chain(d.prototype);f.dom=c;f.el=f;f.id=Ext.id(c);b.addToCache(f)}return b.docEl}else if(a===window){if(!b.winEl){b.winEl=Ext.Object.chain(d.prototype);b.winEl.dom=window;b.winEl.id=Ext.id(window);b.addToCache(b.winEl)}return b.winEl}return null},addToCache:function(a,b){if(a){Ext.addCacheEntry(b,a)}return a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var a,b={},c,d,e,f,g,h=[],i=false,j=this.trimRe,k=this.whitespaceRe;for(c=0,d=arguments.length;c<d;c++){a=arguments[c];if(Ext.isString(a)){a=a.replace(j,"").split(k)}if(a){for(e=0,f=a.length;e<f;e++){g=a[e];if(!b[g]){if(c){i=true}b[g]=true}}}}for(g in b){h.push(g)}h.changed=i;return h},removeCls:function(a,b){var c={},d,e,f,g=[],h=false,i=this.whitespaceRe;if(a){if(Ext.isString(a)){a=a.replace(this.trimRe,"").split(i)}for(d=0,e=a.length;d<e;d++){c[a[d]]=true}}if(b){if(Ext.isString(b)){b=b.split(i)}for(d=0,e=b.length;d<e;d++){f=b[d];if(c[f]){h=true;delete c[f]}}}for(f in c){g.push(f)}g.changed=h;return g},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(a,b){var c=this,d=typeof a=="string"?document.getElementById(a):a,e;c.el=c;if(!d){return null}e=d.id;if(!b&&e&&Ext.cache[e]){return Ext.cache[e].el}c.dom=d;c.id=e||Ext.id(d);c.self.addToCache(c)},set:function(a,b){var c=this.dom,d,e;for(d in a){if(a.hasOwnProperty(d)){e=a[d];if(d=="style"){this.applyStyles(e)}else if(d=="cls"){c.className=e}else if(b!==false){if(e===undefined){c.removeAttribute(d)}else{c.setAttribute(d,e)}}else{c[d]=e}}}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},remove:function(){var a=this,b=a.dom;if(a.isAnimate){a.stopAnimation()}if(b){Ext.removeNode(b);delete a.dom}},contains:function(a){if(!a){return false}var b=this,c=a.dom||a;return c===b.dom||Ext.dom.AbstractElement.isAncestor(b.dom,c)},getAttribute:function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||c[a]},update:function(a){if(this.dom){this.dom.innerHTML=a}return this},setHTML:function(a){if(this.dom){this.dom.innerHTML=a}return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(a,b){var c=this,d=c.self,e=c.getVisibilityMode(),f=Ext.baseCSSPrefix;switch(e){case d.VISIBILITY:c.removeCls([f+"hidden-display",f+"hidden-offsets"]);c[a?"removeCls":"addCls"](f+"hidden-visibility");break;case d.DISPLAY:c.removeCls([f+"hidden-visibility",f+"hidden-offsets"]);c[a?"removeCls":"addCls"](f+"hidden-display");break;case d.OFFSETS:c.removeCls([f+"hidden-visibility",f+"hidden-display"]);c[a?"removeCls":"addCls"](f+"hidden-offsets");break}return c},getVisibilityMode:function(){var a=(this.$cache||this.getCache()).data,b=a.visibilityMode;if(b===undefined){a.visibilityMode=b=this.self.DISPLAY}return b},setVisibilityMode:function(a){(this.$cache||this.getCache()).data.visibilityMode=a;return this},getCache:function(){var a=this,b=a.dom.id||Ext.id(a.dom);a.$cache=Ext.cache[b]||Ext.addCacheEntry(b,null,a.dom);return a.$cache}},function(){var a=this;Ext.getDetachedBody=function(){var b=a.detachedBodyEl;if(!b){b=document.createElement("div");a.detachedBodyEl=b=new a.Fly(b);b.isDetachedBody=true}return b};Ext.getElementById=function(b){var c=document.getElementById(b),d;if(!c&&(d=a.detachedBodyEl)){c=d.dom.querySelector("#"+Ext.escapeId(b))}return c};Ext.get=function(a){return Ext.dom.Element.get(a)};this.addStatics({Fly:new Ext.Class({extend:a,isFly:true,constructor:function(a){this.dom=a;this.el=this},attach:function(a){this.dom=a;this.$cache=a.id?Ext.cache[a.id]:null;return this}}),_flyweights:{},fly:function(b,c){var d=null,e=a._flyweights;c=c||"_global";b=Ext.getDom(b);if(b){d=e[c]||(e[c]=new a.Fly);d.dom=b;d.$cache=b.id?Ext.cache[b.id]:null}return d}});Ext.fly=function(){return a.fly.apply(a,arguments)};(function(a){a.destroy=a.remove;if(document.querySelector){a.getById=function(a,b){var c=document.getElementById(a)||this.dom.querySelector("#"+Ext.escapeId(a));return b?c:c?Ext.get(c):null}}else{a.getById=function(a,b){var c=document.getElementById(a);return b?c:c?Ext.get(c):null}}})(this.prototype)});Ext.define("Ext.dom.Helper",function(){var a="afterbegin",b="afterend",c="beforebegin",d="beforeend",e="<table>",f="</table>",g=e+"<tbody>",h="</tbody>"+f,i=g+"<tr>",j="</tr>"+h,k=document.createElement("div"),l=["BeforeBegin","previousSibling"],m=["AfterEnd","nextSibling"],n={beforebegin:l,afterend:m},o={beforebegin:l,afterend:m,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{extend:Ext.dom.AbstractHelper,tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:false,createDom:function(a,b){var c,d=document,e,f,g,h,i,j;if(Ext.isArray(a)){c=d.createDocumentFragment();for(i=0,j=a.length;i<j;i++){this.createDom(a[i],c)}}else if(typeof a=="string"){c=d.createTextNode(a)}else{c=d.createElement(a.tag||"div");e=!!c.setAttribute;for(f in a){if(!this.confRe.test(f)){g=a[f];if(f=="cls"){c.className=g}else{if(e){c.setAttribute(f,g)}else{c[f]=g}}}}Ext.DomHelper.applyStyles(c,a.style);if(h=a.children||a.cn){this.createDom(h,c)}else if(a.html){c.innerHTML=a.html}}if(b){b.appendChild(c)}return c},ieTable:function(a,b,c,d){k.innerHTML=[b,c,d].join("");var e=-1,f=k,g;while(++e<a){f=f.firstChild}g=f.nextSibling;if(g){g=f;f=document.createDocumentFragment();while(g){nx=g.nextSibling;f.appendChild(g);g=nx}}return f},insertIntoTable:function(k,l,m,n){var o,p,q=l==c,r=l==a,s=l==d,t=l==b;if(k=="td"&&(r||s)||!this.tableElRe.test(k)&&(q||t)){return null}p=q?m:t?m.nextSibling:r?m.firstChild:null;if(q||t){m=m.parentNode}if(k=="td"||k=="tr"&&(s||r)){o=this.ieTable(4,i,n,j)}else if((k=="tbody"||k=="thead")&&(s||r)||k=="tr"&&(q||t)){o=this.ieTable(3,g,n,h)}else{o=this.ieTable(2,e,n,f)}m.insertBefore(o,p);return o},createContextualFragment:function(a){var b=document.createDocumentFragment(),c,d;k.innerHTML=a;d=k.childNodes;c=d.length;while(c--){b.appendChild(d[0])}return b},applyStyles:function(a,b){if(b){if(typeof b=="function"){b=b.call()}if(typeof b=="string"){b=Ext.dom.Element.parseStyles(b)}if(typeof b=="object"){Ext.fly(a,"_applyStyles").setStyle(b)}}},createHtml:function(a){return this.markup(a)},doInsert:function(a,b,c,d,e,f){a=a.dom||Ext.getDom(a);var g;if(this.useDom){g=this.createDom(b,null);if(f){a.appendChild(g)}else{(e=="firstChild"?a:a.parentNode).insertBefore(g,a[e]||a)}}else{g=this.insertHtml(d,a,this.markup(b))}return c?Ext.get(g,true):g},overwrite:function(a,b,c){var d;a=Ext.getDom(a);b=this.markup(b);if(Ext.isIE&&this.tableRe.test(a.tagName)){while(a.firstChild){a.removeChild(a.firstChild)}if(b){d=this.insertHtml("afterbegin",a,b);return c?Ext.get(d):d}return null}a.innerHTML=b;return c?Ext.get(a.firstChild):a.firstChild},insertHtml:function(b,d,e){var f,g,h,i,j;b=b.toLowerCase();if(d.insertAdjacentHTML){if(Ext.isIE&&this.tableRe.test(d.tagName)&&(j=this.insertIntoTable(d.tagName.toLowerCase(),b,d,e))){return j}if(f=o[b]){if(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction){MSApp.execUnsafeLocalFunction(function(){d.insertAdjacentHTML(f[0],e)})}else{d.insertAdjacentHTML(f[0],e)}return d[f[1]]}}else{if(d.nodeType===3){b=b==="afterbegin"?"beforebegin":b;b=b==="beforeend"?"afterend":b}g=Ext.supports.CreateContextualFragment?d.ownerDocument.createRange():undefined;i="setStart"+(this.endRe.test(b)?"After":"Before");if(n[b]){if(g){g[i](d);j=g.createContextualFragment(e)}else{j=this.createContextualFragment(e)}d.parentNode.insertBefore(j,b==c?d:d.nextSibling);return d[(b==c?"previous":"next")+"Sibling"]}else{h=(b==a?"first":"last")+"Child";if(d.firstChild){if(g){g[i](d[h]);j=g.createContextualFragment(e)}else{j=this.createContextualFragment(e)}if(b==a){d.insertBefore(j,d.firstChild)}else{d.appendChild(j)}}else{d.innerHTML=e}return d[h]}}},createTemplate:function(a){var b=this.markup(a);return new Ext.Template(b)}}}(),function(){Ext.ns("Ext.core");Ext.DomHelper=Ext.core.DomHelper=new this});Ext.define("Ext.Template",{inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||"")}},constructor:function(a){var b=this,c=arguments,d=[],e=0,f=c.length,g;b.initialConfig={};if(f===1&&Ext.isArray(a)){c=a;f=c.length}if(f>1){for(;e<f;e++){g=c[e];if(typeof g=="object"){Ext.apply(b.initialConfig,g);Ext.apply(b,g)}else{d.push(g)}}}else{d.push(a)}b.html=d.join("");if(b.compiled){b.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){var b=this,c=b.disableFormats!==true,d=Ext.util.Format,e=b,f;if(b.compiled){return b.compiled(a).join("")}function g(b,f,g,h){if(g&&c){if(h){h=[a[f]].concat(Ext.functionFactory("return ["+h+"];")())}else{h=[a[f]]}if(g.substr(0,5)=="this."){return e[g.substr(5)].apply(e,h)}else{return d[g].apply(d,h)}}else{return a[f]!==undefined?a[f]:""}}f=b.html.replace(b.re,g);return f},applyOut:function(a,b){var c=this;if(c.compiled){b.push.apply(b,c.compiled(a))}else{b.push(c.apply(a))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,b){var c=this;c.html=a;c.compiled=null;return b?c.compile():c},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(a,b,c,d){if(c&&useFormat){d=d?","+d:"";if(c.substr(0,5)!="this."){c="fm."+c+"("}else{c="this."+c.substr(5)+"("}}else{d="";c="(values['"+b+"'] == undefined ? '' : "}return"',"+c+"values['"+b+"']"+d+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'];};";eval(body);return me},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){var e=Ext.DomHelper.insertHtml(a,Ext.getDom(b),this.apply(c));return d?Ext.get(e):e},overwrite:function(a,b,c){var d=Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(b));return c?Ext.get(d):d}});Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b=this,c=a.length,d={elseif:"elif"},e=b.topRe,f=b.actionsRe,g,h,i,j,k,l,m,n,o,p,q,r;b.level=0;b.stack=h=[];for(g=0;g<c;g=p){e.lastIndex=g;j=e.exec(a);if(!j){b.doText(a.substring(g,c));break}o=j.index;p=e.lastIndex;if(g<o){b.doText(a.substring(g,o))
}if(j[1]){p=a.indexOf("%}",o+2);b.doEval(a.substring(o+2,p));p+=2}else if(j[2]){p=a.indexOf("]}",o+2);b.doExpr(a.substring(o+2,p));p+=2}else if(j[3]){b.doTag(j[3])}else if(j[4]){q=null;while((n=f.exec(j[4]))!==null){i=n[2]||n[3];if(i){i=Ext.String.htmlDecode(i);k=n[1];k=d[k]||k;q=q||{};l=q[k];if(typeof l=="string"){q[k]=[l,i]}else if(l){q[k].push(i)}else{q[k]=i}}}if(!q){if(b.elseRe.test(j[4])){b.doElse()}else if(b.defaultRe.test(j[4])){b.doDefault()}else{b.doTpl();h.push({type:"tpl"})}}else if(q["if"]){b.doIf(q["if"],q);h.push({type:"if"})}else if(q["switch"]){b.doSwitch(q["switch"],q);h.push({type:"switch"})}else if(q["case"]){b.doCase(q["case"],q)}else if(q["elif"]){b.doElseIf(q["elif"],q)}else if(q["for"]){++b.level;if(r=b.propRe.exec(j[4])){q.propName=r[1]||r[2]}b.doFor(q["for"],q);h.push({type:"for",actions:q})}else if(q["foreach"]){++b.level;if(r=b.propRe.exec(j[4])){q.propName=r[1]||r[2]}b.doForEach(q["foreach"],q);h.push({type:"foreach",actions:q})}else if(q.exec){b.doExec(q.exec,q);h.push({type:"exec",actions:q})}}else if(j[0].length===5){h.push({type:"tpl"})}else{m=h.pop();b.doEnd(m.type,m.actions);if(m.type=="for"||m.type=="foreach"){--b.level}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});Ext.define("Ext.XTemplateCompiler",{extend:Ext.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(a){var b=this,c=b.generate(a);return b.useEval?b.evalTpl(c):new Function("Ext",c)(Ext)},generate:function(a){var b=this,c="var fm=Ext.util.Format,ts=Object.prototype.toString;",d;b.maxLevel=0;b.body=["var c0=values, a0="+b.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(b.definitions){if(typeof b.definitions==="string"){b.definitions=[b.definitions,c]}else{b.definitions.push(c)}}else{b.definitions=[c]}b.switches=[];b.parse(a);b.definitions.push((b.useEval?"$=":"return")+" function ("+b.fnArgs+") {",b.body.join(""),"}");d=b.definitions.join("\n");b.definitions.length=b.body.length=b.switches.length=0;delete b.definitions;delete b.body;delete b.switches;return d},doText:function(a){var b=this,c=b.body;a=a.replace(b.aposRe,"\\'").replace(b.newLineRe,"\\n");if(b.useIndex){c.push("out[out.length]='",a,"'\n")}else{c.push("out.push('",a,"')\n")}},doExpr:function(a){var b=this.body;b.push("if ((v="+a+") != null) out");if(this.useIndex){b.push("[out.length]=v+''\n")}else{b.push(".push(v+'')\n")}},doTag:function(a){var b=this.parseTag(a);if(b){this.doExpr(b)}else{this.doText("{"+a+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){var c=this;if(a==="."){c.body.push("if (values) {\n")}else if(c.propNameRe.test(a)){c.body.push("if (",c.parseTag(a),") {\n")}else{c.body.push("if (",c.addFn(a),c.callFn,") {\n")}if(b.exec){c.doExec(b.exec)}},doElseIf:function(a,b){var c=this;if(a==="."){c.body.push("else if (values) {\n")}else if(c.propNameRe.test(a)){c.body.push("} else if (",c.parseTag(a),") {\n")}else{c.body.push("} else if (",c.addFn(a),c.callFn,") {\n")}if(b.exec){c.doExec(b.exec)}},doSwitch:function(a){var b=this;if(a==="."){b.body.push("switch (values) {\n")}else if(b.propNameRe.test(a)){b.body.push("switch (",b.parseTag(a),") {\n")}else{b.body.push("switch (",b.addFn(a),b.callFn,") {\n")}b.switches.push(0)},doCase:function(a){var b=this,c=Ext.isArray(a)?a:[a],d=b.switches.length-1,e,f;if(b.switches[d]){b.body.push("break;\n")}else{b.switches[d]++}for(f=0,d=c.length;f<d;++f){e=b.intRe.exec(c[f]);c[f]=e?e[1]:"'"+c[f].replace(b.aposRe,"\\'")+"'"}b.body.push("case ",c.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push("break;\n")}else{a.switches[b]++}a.body.push("default:\n")},doEnd:function(a,b){var c=this,d=c.level-1;if(a=="for"||a=="foreach"){if(b.exec){c.doExec(b.exec)}c.body.push("}\n");c.body.push("parent=p",d,";values=r",d+1,";xcount=n"+d+";xindex=i",d,"+1;xkey=k",d,";\n")}else if(a=="if"||a=="switch"){c.body.push("}\n")}},doFor:function(a,b){var c=this,d,e=c.level,f=e-1,g;if(a==="."){d="values"}else if(c.propNameRe.test(a)){d=c.parseTag(a)}else{d=c.addFn(a)+c.callFn}if(c.maxLevel<e){c.maxLevel=e;c.body.push("var ")}if(a=="."){g="c"+e}else{g="a"+f+"?c"+f+"[i"+f+"]:c"+f}c.body.push("i",e,"=0,n",e,"=0,c",e,"=",d,",a",e,"=",c.createArrayTest(e),",r",e,"=values,p",e,",k",e,";\n","p",e,"=parent=",g,"\n","if (c",e,"){if(a",e,"){n",e,"=c",e,".length;}else if (c",e,".isMixedCollection){c",e,"=c",e,".items;n",e,"=c",e,".length;}else if(c",e,".isStore){c",e,"=c",e,".data.items;n",e,"=c",e,".length;}else{c",e,"=[c",e,"];n",e,"=1;}}\n","for (xcount=n",e,";i",e,"<n"+e+";++i",e,"){\n","values=c",e,"[i",e,"]");if(b.propName){c.body.push(".",b.propName)}c.body.push("\n","xindex=i",e,"+1\n");if(b.between){c.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')}},doForEach:function(a,b){var c=this,d,e=c.level,f=e-1,g;if(a==="."){d="values"}else if(c.propNameRe.test(a)){d=c.parseTag(a)}else{d=c.addFn(a)+c.callFn}if(c.maxLevel<e){c.maxLevel=e;c.body.push("var ")}if(a=="."){g="c"+e}else{g="a"+f+"?c"+f+"[i"+f+"]:c"+f}c.body.push("i",e,"=-1,n",e,"=0,c",e,"=",d,",a",e,"=",c.createArrayTest(e),",r",e,"=values,p",e,",k",e,";\n","p",e,"=parent=",g,"\n","for(k",e," in c",e,"){\n","xindex=++i",e,"+1;\n","xkey=k",e,";\n","values=c",e,"[k",e,"];");if(b.propName){c.body.push(".",b.propName)}if(b.between){c.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')}},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(a,b){var c=this,d="f"+c.definitions.length;c.definitions.push("function "+d+"("+c.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {","}","}");c.body.push(d+c.callFn+"\n")},addFn:function(a){var b=this,c="f"+b.definitions.length;if(a==="."){b.definitions.push("function "+c+"("+b.fnArgs+") {"," return values","}")}else if(a===".."){b.definitions.push("function "+c+"("+b.fnArgs+") {"," return parent","}")}else{b.definitions.push("function "+c+"("+b.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {","}","}")}return c},parseTag:function(a){var b=this,c=b.tagRe.exec(a),d,e,f,g,h;if(!c){return null}d=c[1];e=c[2];f=c[3];g=c[4];if(d=="."){if(!b.validTypes){b.definitions.push("var validTypes={string:1,number:1,boolean:1};");b.validTypes=true}h='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else if(d=="#"){h="xindex"}else if(d=="$"){h="xkey"}else if(d.substr(0,7)=="parent."){h=d}else if(isNaN(d)&&d.indexOf("-")==-1&&d.indexOf(".")!=-1){h="values."+d}else{h="values['"+d+"']"}if(g){h="("+h+g+")"}if(e&&b.useFormat){f=f?","+f:"";if(e.substr(0,5)!="this."){e="fm."+e+"("}else{e+="("}}else{return h}return e+h+f+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey";a.callFn=".call(this,"+a.fnArgs+")"});Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,c){var d=this,e;if(!d.fn){e=new Ext.XTemplateCompiler({useFormat:d.disableFormats!==true,definitions:d.definitions});d.fn=e.compile(d.html)}try{d.fn(b,a,c||d.emptyObj,1,1)}catch(f){}return b},compile:function(){return this},statics:{getTpl:function(a,b){var c=a[b],d;if(c&&!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(a.hasOwnProperty(b)){d=a}else{for(d=a.self.prototype;d&&!d.hasOwnProperty(b);d=d.superclass){}}d[b]=c;c.owner=d}return c||null}}});Ext.ns("Ext.core");Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var a=doc.createElement("div");a.innerHTML="<!-- -->text<!-- -->";return a.children&&a.children.length===0}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?true:false,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var a,b='<r><a:b xmlns:a="n"></a:b></r>';if(window.DOMParser){a=(new DOMParser).parseFromString(b,"application/xml")}else{a=new ActiveXObject("Microsoft.XMLDOM");a.loadXML(b)}return!!a.getElementsByTagName("a:b").length}(),longHexToChar=function(a,b){return String.fromCharCode(parseInt(b,16))},shortToLongHex=function(a,b){while(b.length<6){b="0"+b}return"\\"+b},charToLongHex=function(a,b){num=b.charCodeAt(0).toString(16);if(num.length===1){num="0"+num}return"\\0000"+num},unescapeCssSelector=function(a){return hasEscapes?a.replace(longHex,longHexToChar):a},setupEscapes=function(a){hasEscapes=a.indexOf("\\")>-1;if(hasEscapes){a=a.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")}return a};eval("var batch = 30803, child, next, prev, byClassName;");child=useChildrenCollection?function a(b,c){return b.children[c]}:function b(a,c){var d=0,e=a.firstChild;while(e){if(e.nodeType==1){if(++d==c){return e}}e=e.nextSibling}return null};next=useElementPointer?function(a){return a.nextElementSibling}:function(a){while((a=a.nextSibling)&&a.nodeType!=1);return a};prev=useElementPointer?function(a){return a.previousElementSibling}:function(a){while((a=a.previousSibling)&&a.nodeType!=1);return a};function children(a){var b=a.firstChild,c=-1,d;while(b){d=b.nextSibling;if(b.nodeType==3&&!nonSpace.test(b.nodeValue)){a.removeChild(b)}else{b.nodeIndex=++c}b=d}return this}byClassName=useClassList?function(a,b){b=unescapeCssSelector(b);if(!b){return a}var c=[],d=-1,e,f,g;for(e=0;f=a[e];e++){g=f.classList;if(g){if(g.contains(b)){c[++d]=f}}else if((" "+f.className+" ").indexOf(b)!==-1){c[++d]=f}}return c}:function(a,b){b=unescapeCssSelector(b);if(!b){return a}var c=[],d=-1,e,f;for(e=0;f=a[e];e++){if((" "+f.className+" ").indexOf(b)!==-1){c[++d]=f}}return c};function attrValue(a,b){if(!a.tagName&&typeof a.length!="undefined"){a=a[0]}if(!a){return null}if(b=="for"){return a.htmlFor}if(b=="class"||b=="className"){return a.className}return a.getAttribute(b)||a[b]}function getNodes(a,b,c){var d=[],e=-1,f,g,h,i,j,k,l,m,n;if(!a){return d}c=c.replace("|",":")||"*";if(typeof a.getElementsByTagName!="undefined"){a=[a]}if(!b){c=unescapeCssSelector(c);if(!supportsColonNsSeparator&&DQ.isXml(a[0])&&c.indexOf(":")!==-1){for(g=0;h=a[g];g++){f=h.getElementsByTagName(c.split(":").pop());for(i=0;j=f[i];i++){if(j.tagName===c){d[++e]=j}}}}else{for(g=0;h=a[g];g++){f=h.getElementsByTagName(c);for(i=0;j=f[i];i++){d[++e]=j}}}}else if(b=="/"||b==">"){l=c.toUpperCase();for(g=0;h=a[g];g++){k=h.childNodes;for(i=0;n=k[i];i++){if(n.nodeName==l||n.nodeName==c||c=="*"){d[++e]=n}}}}else if(b=="+"){l=c.toUpperCase();for(g=0;m=a[g];g++){while((m=m.nextSibling)&&m.nodeType!=1);if(m&&(m.nodeName==l||m.nodeName==c||c=="*")){d[++e]=m}}}else if(b=="~"){l=c.toUpperCase();for(g=0;m=a[g];g++){while(m=m.nextSibling){if(m.nodeName==l||m.nodeName==c||c=="*"){d[++e]=m}}}}return d}function concat(a,b){a.push.apply(a,b);return a}function byTag(a,b){if(a.tagName||a===doc){a=[a]}if(!b){return a}var c=[],d=-1,e,f;b=b.toLowerCase();for(e=0;f=a[e];e++){if(f.nodeType==1&&f.tagName.toLowerCase()==b){c[++d]=f}}return c}function byId(a,b){b=unescapeCssSelector(b);if(a.tagName||a===doc){a=[a]}if(!b){return a}var c=[],d=-1,e,f;for(e=0;f=a[e];e++){if(f&&f.id==b){c[++d]=f;return c}}return c}function byAttribute(a,b,c,d,e){var f=[],g=-1,h=e=="{",i=DQ.operators[d],j,k,l,m,n;c=unescapeCssSelector(c);for(m=0;n=a[m];m++){if(n.nodeType===1){if(!l){k=DQ.isXml(n);l=true}if(!k){if(h){j=DQ.getStyle(n,b)}else if(b=="class"||b=="className"){j=n.className}else if(b=="for"){j=n.htmlFor}else if(b=="href"){j=n.getAttribute("href",2)}else{j=n.getAttribute(b)}}else{j=n.getAttribute(b)}if(i&&i(j,c)||!i&&j){f[++g]=n}}}return f}function byPseudo(a,b,c){c=unescapeCssSelector(c);return DQ.pseudos[b](a,c)}function nodupIEXml(a){var b=++key,c,d,e,f;a[0].setAttribute("_nodup",b);c=[a[0]];for(d=1,e=a.length;d<e;d++){f=a[d];if(!f.getAttribute("_nodup")!=b){f.setAttribute("_nodup",b);c[c.length]=f}}for(d=0,e=a.length;d<e;d++){a[d].removeAttribute("_nodup")}return c}function nodup(a){if(!a){return[]}var b=a.length,c,d,e=a,f,g=-1,h,i;if(!b||typeof a.nodeType!="undefined"||b==1){return a}if(isIE&&typeof a[0].selectSingleNode!="undefined"){return nodupIEXml(a)}h=++key;a[0]._nodup=h;for(d=1;c=a[d];d++){if(c._nodup!=h){c._nodup=h}else{e=[];for(i=0;i<d;i++){e[++g]=a[i]}for(i=d+1;f=a[i];i++){if(f._nodup!=h){f._nodup=h;e[++g]=f}}return e}}return e}function quickDiffIEXml(a,b){var c=++key,d=[],e,f;for(e=0,f=a.length;e<f;e++){a[e].setAttribute("_qdiff",c)}for(e=0,f=b.length;e<f;e++){if(b[e].getAttribute("_qdiff")!=c){d[d.length]=b[e]}}for(e=0,f=a.length;e<f;e++){a[e].removeAttribute("_qdiff")}return d}function quickDiff(a,b){var c=a.length,d=++key,e=[],f,g;if(!c){return b}if(isIE&&typeof a[0].selectSingleNode!="undefined"){return quickDiffIEXml(a,b)}for(f=0;f<c;f++){a[f]._qdiff=d}for(f=0,g=b.length;f<g;f++){if(b[f]._qdiff!=d){e[e.length]=b[f]}}return e}function quickId(a,b,c,d){if(a==c){d=unescapeCssSelector(d);var e=c.ownerDocument||c;return e.getElementById(d)}a=getNodes(a,b,"*");return byId(a,d)}return DQ={getStyle:function(a,b){return Ext.fly(a,"_DomQuery").getStyle(b)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){matched=false;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(a,b){return m[b]});path=path.replace(m[0],"");matched=true;break}}if(!matched){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(a,b,c){b=b||doc;if(typeof b=="string"){b=doc.getElementById(b)}var d=a.split(","),e=[],f,g,h,i;for(f=0,g=d.length;f<g;f++){h=d[f].replace(trimRe,"");if(!cache[h]){cache[h]=DQ.compile(h,c);if(!cache[h]){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:h+" is not a valid selector"})}}else{setupEscapes(h)}i=cache[h](b);if(i&&i!==doc){e=e.concat(i)}}if(d.length>1){return nodup(e)}return e},isXml:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":false},select:doc.querySelectorAll?function(a,b,c,d){b=b||doc;if(!DQ.isXml(b)){try{if(b.parentNode&&b.nodeType!==9&&a.indexOf(",")===-1&&!startIdRe.test(a)){a="#"+Ext.escapeId(Ext.id(b))+" "+a;b=b.parentNode}return d?[b.querySelector(a)]:Ext.Array.toArray(b.querySelectorAll(a))}catch(e){}}return DQ.jsSelect.call(this,a,b,c)}:function(a,b,c){return DQ.jsSelect.call(this,a,b,c)},selectNode:function(a,b){return Ext.DomQuery.select(a,b,null,true)[0]},selectValue:function(a,b,c){a=a.replace(trimRe,"");if(!valueCache[a]){valueCache[a]=DQ.compile(a,"select")}else{setupEscapes(a)}var d=valueCache[a](b),e;d=d[0]?d[0]:d;if(typeof d.normalize=="function"){d.normalize()}e=d&&d.firstChild?d.firstChild.nodeValue:null;return e===null||e===undefined||e===""?c:e},selectNumber:function(a,b,c){var d=DQ.selectValue(a,b,c||0);return parseFloat(d)},is:function(a,b){if(typeof a=="string"){a=doc.getElementById(a)}var c=Ext.isArray(a),d=DQ.filter(c?a:[a],b);return c?d.length==a.length:d.length>0},filter:function(a,b,c){b=b.replace(trimRe,"");if(!simpleCache[b]){simpleCache[b]=DQ.compile(b,"simple")}else{setupEscapes(b)}var d=simpleCache[b](a);return c?quickDiff(d,a):d},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&a.indexOf(b)!==-1},"%=":function(a,b){return a%b===0},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&(" "+a+" ").indexOf(" "+b+" ")!=-1}},pseudos:{"first-child":function(a){var b=[],c=-1,d,e,f;for(e=0;f=d=a[e];e++){while((d=d.previousSibling)&&d.nodeType!=1);if(!d){b[++c]=f}}return b},"last-child":function(a){var b=[],c=-1,d,e,f;for(e=0;f=d=a[e];e++){while((d=d.nextSibling)&&d.nodeType!=1);if(!d){b[++c]=f}}return b},"nth-child":function(a,b){var c=[],d=-1,e=nthRe.exec(b=="even"&&"2n"||b=="odd"&&"2n+1"||!nthRe2.test(b)&&"n+"+b||b),f=(e[1]||1)-0,g=e[2]-0,h,i,j,k,l;for(h=0;i=a[h];h++){l=i.parentNode;if(batch!=l._batch){j=0;for(k=l.firstChild;k;k=k.nextSibling){if(k.nodeType==1){k.nodeIndex=++j}}l._batch=batch}if(f==1){if(g===0||i.nodeIndex==g){c[++d]=i}}else if((i.nodeIndex+g)%f===0){c[++d]=i}}return c},"only-child":function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++){if(!prev(e)&&!next(e)){b[++c]=e}}return b},empty:function(a){var b=[],c=-1,d,e,f,g,h,i;for(d=0;e=a[d];d++){f=e.childNodes;g=0;i=true;while(h=f[g]){++g;if(h.nodeType==1||h.nodeType==3){i=false;break}}if(i){b[++c]=e}}return b},contains:function(a,b){var c=[],d=-1,e,f;for(e=0;f=a[e];e++){if((f.textContent||f.innerText||f.text||"").indexOf(b)!=-1){c[++d]=f}}return c},nodeValue:function(a,b){var c=[],d=-1,e,f;for(e=0;f=a[e];e++){if(f.firstChild&&f.firstChild.nodeValue==b){c[++d]=f}}return c},checked:function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++){if(e.checked===true){b[++c]=e}}return b},not:function(a,b){return DQ.filter(a,b,true)},any:function(a,b){var c=b.split("|"),d=[],e=-1,f,g,h,i;for(g=0;h=a[g];g++){for(i=0;f=c[i];i++){if(DQ.is(h,f)){d[++e]=h;break}}}return d},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,b){var c=DQ.select,d=[],e=-1,f,g;for(f=0;g=a[f];f++){if(c(b,g).length>0){d[++e]=g}}return d},next:function(a,b){var c=DQ.is,d=[],e=-1,f,g,h;for(f=0;g=a[f];f++){h=next(g);if(h&&c(h,b)){d[++e]=g}}return d},prev:function(a,b){var c=DQ.is,d=[],e=-1,f,g,h;for(f=0;g=a[f];f++){h=prev(g);if(h&&c(h,b)){d[++e]=g}}return d},focusable:function(a){var b=a.length,c=[],d=0,e;for(;d<b;d++){e=a[d];if(Ext.fly(e,"_DomQuery").isFocusable()){c.push(e)}}return c},visible:function(a,b){var c=a.length,d=[],e=0,f;for(;e<c;e++){f=a[e];if(Ext.fly(f,"_DomQuery").isVisible(b)){d.push(f)}}return d}}}}();Ext.query=Ext.DomQuery.select;Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(a){var b=this,c,d,e=b.dom.id||Ext.id(b.dom);if(!Ext.fx.Manager.hasFxBlock(e)){if(a.listeners){c=a.listeners;delete a.listeners}if(a.internalListeners){a.listeners=a.internalListeners;delete a.internalListeners}d=new Ext.fx.Anim(b.anim(a));if(c){d.on(c)}Ext.fx.Manager.queueFx(d)}return b},anim:function(a){if(!Ext.isObject(a)){return a?{}:false}var b=this,c=a.duration||Ext.fx.Anim.prototype.duration,d=a.easing||"ease",e;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));Ext.fx.Manager.setFxDefaults(b.id,{delay:0});e={target:b.dom,remove:a.remove,alternate:a.alternate||false,duration:c,easing:d,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:true,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a)};Ext.apply(e.to,a.to);delete e.to.to;delete e.to.from;delete e.to.remove;delete e.to.alternate;delete e.to.keyframes;delete e.to.iterations;delete e.to.listeners;delete e.to.target;delete e.to.paused;delete e.to.callback;delete e.to.scope;delete e.to.duration;delete e.to.easing;delete e.to.concurrent;delete e.to.block;delete e.to.stopAnimation;delete e.to.delay;return e},slideIn:function(a,b,c){var d=this,e=d.dom,f=e.style,g,h,i,j;a=a||"t";b=b||{};g=function(){var g=this,k=b.listeners,l=Ext.fly(e,"_anim"),m,n,o,p;if(!c){l.fixDisplay()}m=l.getBox();if((a=="t"||a=="b")&&m.height===0){m.height=e.scrollHeight}else if((a=="l"||a=="r")&&m.width===0){m.width=e.scrollWidth}n=l.getStyles("width","height","left","right","top","bottom","position","z-index",true);l.setSize(m.width,m.height);if(b.preserveScroll){i=l.cacheScrollValues()}p=l.wrap({id:Ext.id()+"-anim-wrap-for-"+l.dom.id,style:{visibility:c?"visible":"hidden"}});j=p.dom.parentNode;p.setPositioning(l.getPositioning(true));if(p.isStyle("position","static")){p.position("relative")}l.clearPositioning("auto");p.clip();if(i){i()}l.setStyle({visibility:"",position:"absolute"});if(c){p.setSize(m.width,m.height)}switch(a){case"t":o={from:{width:m.width+"px",height:"0px"},to:{width:m.width+"px",height:m.height+"px"}};f.bottom="0px";break;case"l":o={from:{width:"0px",height:m.height+"px"},to:{width:m.width+"px",height:m.height+"px"}};d.anchorAnimX(a);break;case"r":o={from:{x:m.x+m.width,width:"0px",height:m.height+"px"},to:{x:m.x,width:m.width+"px",height:m.height+"px"}};d.anchorAnimX(a);break;case"b":o={from:{y:m.y+m.height,width:m.width+"px",height:"0px"},to:{y:m.y,width:m.width+"px",height:m.height+"px"}};break;case"tl":o={from:{x:m.x,y:m.y,width:"0px",height:"0px"},to:{width:m.width+"px",height:m.height+"px"}};f.bottom="0px";d.anchorAnimX("l");break;case"bl":o={from:{y:m.y+m.height,width:"0px",height:"0px"},to:{y:m.y,width:m.width+"px",height:m.height+"px"}};d.anchorAnimX("l");break;case"br":o={from:{x:m.x+m.width,y:m.y+m.height,width:"0px",height:"0px"},to:{x:m.x,y:m.y,width:m.width+"px",height:m.height+"px"}};d.anchorAnimX("r");break;case"tr":o={from:{x:m.x+m.width,width:"0px",height:"0px"},to:{x:m.x,width:m.width+"px",height:m.height+"px"}};f.bottom="0px";d.anchorAnimX("r");break}p.show();h=Ext.apply({},b);delete h.listeners;h=new Ext.fx.Anim(Ext.applyIf(h,{target:p,duration:500,easing:"ease-out",from:c?o.to:o.from,to:c?o.from:o.to}));h.on("afteranimate",function(){var a=Ext.fly(e,"_anim");a.setStyle(n);if(c){if(b.useDisplay){a.setDisplayed(false)}else{a.hide()}}if(p.dom){if(p.dom.parentNode){p.dom.parentNode.insertBefore(a.dom,p.dom)}else{j.appendChild(a.dom)}p.remove()}if(i){i()}g.end()});if(k){h.on(k)}};d.animate({duration:b.duration?Math.max(b.duration,500)*2:1e3,listeners:{beforeanimate:g}});return d},slideOut:function(a,b){return this.slideIn(a,b,true)},puff:function(a){var b=this,c=b.dom,d,e=b.getBox(),f=b.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",true);a=Ext.applyIf(a||{},{easing:"ease-out",duration:500,useDisplay:false});d=function(){var b=Ext.fly(c,"_anim");b.clearOpacity();b.show();this.to={width:e.width*2,height:e.height*2,x:e.x-e.width/2,y:e.y-e.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var b=Ext.fly(c,"_anim");if(b){if(a.useDisplay){b.setDisplayed(false)}else{b.hide()}b.setStyle(f);Ext.callback(a.callback,a.scope)}})};b.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:d}}});return b},switchOff:function(a){var b=this,c=b.dom,d;a=Ext.applyIf(a||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});d=function(){var b=Ext.fly(c,"_anim"),d=this,e=b.getSize(),f=b.getXY(),g,h;b.clearOpacity();b.clip();h=b.getPositioning();g=new Ext.fx.Animator({target:c,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:.3},66:{height:1,y:f[1]+e.height/2},100:{width:1,x:f[0]+e.width/2}}});g.on("afteranimate",function(){var b=Ext.fly(c,"_anim");if(a.useDisplay){b.setDisplayed(false)}else{b.hide()}b.clearOpacity();b.setPositioning(h);b.setSize(e);d.end()})};b.animate({duration:Math.max(a.duration,500)*2,listeners:{beforeanimate:{fn:d}},callback:a.callback,scope:a.scope});return b},frame:function(a,b,c){var d=this,e=d.dom,f;a=a||"#C3DAF9";b=b||1;c=c||{};f=function(){var d=Ext.fly(e,"_anim"),f=this,g,h,i;d.show();g=d.getBox();h=Ext.getBody().createChild({id:d.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+a}});i=new Ext.fx.Anim({target:h,duration:c.duration||1e3,iterations:b,from:{top:g.y,left:g.x,borderWidth:0,opacity:1,height:g.height,width:g.width},to:{top:g.y-20,left:g.x-20,borderWidth:10,opacity:0,height:g.height+40,width:g.width+40}});i.on("afteranimate",function(){h.remove();f.end()})};d.animate({duration:Math.max(c.duration,500)*2||2e3,listeners:{beforeanimate:{fn:f}},callback:c.callback,scope:c.scope});return d},ghost:function(a,b){var c=this,d=c.dom,e;a=a||"b";e=function(){var b=Ext.fly(d,"_anim"),c=b.getWidth(),e=b.getHeight(),f=b.getXY(),g=b.getPositioning(),h={opacity:0};switch(a){case"t":h.y=f[1]-e;break;case"l":h.x=f[0]-c;break;case"r":h.x=f[0]+c;break;case"b":h.y=f[1]+e;break;case"tl":h.x=f[0]-c;h.y=f[1]-e;break;case"bl":h.x=f[0]-c;h.y=f[1]+e;break;case"br":h.x=f[0]+c;h.y=f[1]+e;break;case"tr":h.x=f[0]+c;h.y=f[1]-e;break}this.to=h;this.on("afteranimate",function(){var a=Ext.fly(d,"_anim");if(a){a.hide();a.clearOpacity();a.setPositioning(g)}})};c.animate(Ext.applyIf(b||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:e}}));return c},highlight:function(a,b){var c=this,d=c.dom,e={},f,g,h,i,j,k;if(d.tagName.match(c.tableTagRe)){return c.select("div").highlight(a,b)}b=b||{};i=b.listeners||{};h=b.attr||"backgroundColor";e[h]=a||"ffff9c";if(!b.to){g={};g[h]=b.endColor||c.getColor(h,"ffffff","")}else{g=b.to}b.listeners=Ext.apply(Ext.apply({},i),{beforeanimate:function(){f=d.style[h];var a=Ext.fly(d,"_anim");a.clearOpacity();a.show();j=i.beforeanimate;if(j){k=j.fn||j;return k.apply(j.scope||i.scope||window,arguments)}},afteranimate:function(){if(d){d.style[h]=f}j=i.afteranimate;if(j){k=j.fn||j;k.apply(j.scope||i.scope||window,arguments)}}});c.animate(Ext.apply({},b,{duration:1e3,easing:"ease-in",from:e,to:g}));return c},pause:function(a){var b=this;Ext.fx.Manager.setFxDefaults(b.id,{delay:a});return b},fadeIn:function(a){var b=this,c=b.dom;b.animate(Ext.apply({},a,{opacity:1,internalListeners:{beforeanimate:function(a){var b=Ext.fly(c,"_anim");if(b.isStyle("display","none")){b.setDisplayed("")}else{b.show()}}}}));return this},fadeOut:function(a){var b=this,c=b.dom;a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(b){if(c&&b.to.opacity===0){var d=Ext.fly(c,"_anim");if(a.useDisplay){d.setDisplayed(false)}else{d.hide()}}}}},a);b.animate(a);return b},scale:function(a,b,c){this.animate(Ext.apply({},c,{width:a,height:b}));return this},shift:function(a){this.animate(a);return this},anchorAnimX:function(a){var b=a==="l"?"right":"left";this.dom.style[b]="0px"}});Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(a,b,c){var d=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDProxy:function(a,b,c){var d=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDTarget:function(a,b,c){var d=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);return Ext.apply(d,c)}});Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var a=Ext.dom.Element,b="visibility",c="display",d="none",e="hidden",f="visible",g="offsets",h="asclass",i="nosize",j="originalDisplay",k="visibilityMode",l="isVisible",m=Ext.baseCSSPrefix+"hide-offsets",n=function(a){var b=(a.$cache||a.getCache()).data,c=b[j];if(c===undefined){b[j]=c=""}return c},o=function(b){var c=(b.$cache||b.getCache()).data,d=c[k];if(d===undefined){c[k]=d=a.VISIBILITY}return d};a.override({originalDisplay:"",visibilityMode:1,setVisible:function(d,f){var j=this,k=j.dom,n=o(j);if(typeof f=="string"){switch(f){case c:n=a.DISPLAY;break;case b:n=a.VISIBILITY;break;case g:n=a.OFFSETS;break;case i:case h:n=a.ASCLASS;break}j.setVisibilityMode(n);f=false}if(!f||!j.anim){if(n==a.DISPLAY){return j.setDisplayed(d)}else if(n==a.OFFSETS){j[d?"removeCls":"addCls"](m)}else if(n==a.VISIBILITY){j.fixDisplay();k.style.visibility=d?"":e}else if(n==a.ASCLASS){j[d?"removeCls":"addCls"](j.visibilityCls||a.visibilityCls)}}else{if(d){j.setOpacity(.01);j.setVisible(true)}if(!Ext.isObject(f)){f={duration:350,easing:"ease-in"}}j.animate(Ext.applyIf({callback:function(){if(!d){Ext.fly(k,"_internal").setVisible(false).setOpacity(1)}},to:{opacity:d?1:0}},f))}(j.$cache||j.getCache()).data[l]=d;return j},hasMetrics:function(){var b=o(this);return this.isVisible()||b==a.OFFSETS||b==a.VISIBILITY},toggle:function(a){var b=this;b.setVisible(!b.isVisible(),b.anim(a));return b},setDisplayed:function(a){if(typeof a=="boolean"){a=a?n(this):d}this.setStyle(c,a);return this},fixDisplay:function(){var a=this;if(a.isStyle(c,d)){a.setStyle(b,e);a.setStyle(c,n(a));if(a.isStyle(c,d)){a.setStyle(c,"block")}}},hide:function(a){if(typeof a=="string"){this.setVisible(false,a);return this}this.setVisible(false,this.anim(a));return this},show:function(a){if(typeof a=="string"){this.setVisible(true,a);return this}this.setVisible(true,this.anim(a));return this}})});Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var a,b=this,c="left",d="right",e="top",f="bottom",g="position",h="static",i="relative",j="z-index",k="BODY",l="padding",m="border",n="-left",o="-right",p="-top",q="-bottom",r="-width",s={l:m+n+r,r:m+o+r,t:m+p+r,b:m+q+r},t={l:l+n,r:l+o,t:l+p,b:l+q},u=[t.l,t.r,t.t,t.b],v=[s.l,s.r,s.t,s.b],w=Math.round,x=document,y=function(b){if(!a){a=new Ext.Element.Fly}a.attach(b);return a};b.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(a){return b.getXY(a)[0]},getXY:function(a){var b=x.body,c=x.documentElement,d=0,e=0,f=[0,0],g,h;a=Ext.getDom(a);if(a!=x&&a!=b){if(Ext.isIE){try{g=a.getBoundingClientRect();e=c.clientTop||b.clientTop;d=c.clientLeft||b.clientLeft}catch(i){g={left:0,top:0}}}else{g=a.getBoundingClientRect()}h=y(x).getScroll();f=[w(g.left+h.left-d),w(g.top+h.top-e)]}return f},getY:function(a){return b.getXY(a)[1]},setX:function(a,c){b.setXY(a,[c,false])},setXY:function(a,b){(a=Ext.fly(a,"_setXY")).position();var c=a.translatePoints(b),d=a.dom.style,e;d.right="auto";for(e in c){if(!isNaN(c[e])){d[e]=c[e]+"px"}}},setY:function(a,c){b.setXY(a,[false,c])}},center:function(a){return this.alignTo(a||x,"c-c")},clearPositioning:function(a){a=a||"";return this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:h})},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getBottom:function(a){return(a?this.getLocalY():this.getY())+this.getHeight()
},getBorderPadding:function(){var a=this.getStyle(u),b=this.getStyle(v);return{beforeX:(parseFloat(b[s.l])||0)+(parseFloat(a[t.l])||0),afterX:(parseFloat(b[s.r])||0)+(parseFloat(a[t.r])||0),beforeY:(parseFloat(b[s.t])||0)+(parseFloat(a[t.t])||0),afterY:(parseFloat(b[s.b])||0)+(parseFloat(a[t.b])||0)}},getCenterXY:function(){return this.getAlignToXY(x,"c-c")},getLeft:function(a){return a?this.getLocalX():this.getX()},getLocalX:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle("left");if(!d||d==="auto"){d=0}else if(a.pxRe.test(d)){d=parseFloat(d)}else{d=a.getX();if(c){d-=b.getX(c)}}return d},getLocalXY:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle(["left","top"]),e=d.left,f=d.top;if(!e||e==="auto"){e=0}else if(a.pxRe.test(e)){e=parseFloat(e)}else{e=a.getX();if(c){e-=b.getX(c)}}if(!f||f==="auto"){f=0}else if(a.pxRe.test(f)){f=parseFloat(f)}else{f=a.getY();if(c){f-=b.getY(c)}}return[e,f]},getLocalY:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle("top");if(!d||d==="auto"){d=0}else if(a.pxRe.test(d)){d=parseFloat(d)}else{d=a.getY();if(c){d-=b.getY(c)}}return d},getPageBox:function(a){var b=this,c=b.dom,d=c.nodeName==k,e=d?Ext.Element.getViewWidth():c.offsetWidth,f=d?Ext.Element.getViewHeight():c.offsetHeight,g=b.getXY(),h=g[1],i=g[0]+e,j=g[1]+f,l=g[0];if(a){return new Ext.util.Region(h,i,j,l)}else{return{left:l,top:h,width:e,height:f,right:i,bottom:j}}},getPositioning:function(a){var b=this.getStyle(["left","top","position","z-index"]),c=this.dom;if(a){if(b.left==="auto"){b.left=c.offsetLeft+"px"}if(b.top==="auto"){b.top=c.offsetTop+"px"}}return b},getRight:function(a){return(a?this.getLocalX():this.getX())+this.getWidth()},getTop:function(a){return a?this.getLocalY():this.getY()},getX:function(){return b.getX(this.dom)},getXY:function(){return b.getXY(this.dom)},getY:function(){return b.getY(this.dom)},moveTo:function(a,b,c){return this.setXY([a,b],c)},position:function(a,b,c,d){var e=this;if(!a&&e.isStyle(g,h)){e.setStyle(g,i)}else if(a){e.setStyle(g,a)}if(b){e.setStyle(j,b)}if(c||d){e.setXY([c||false,d||false])}},setBottom:function(a){this.dom.style[f]=this.addUnits(a);return this},setBounds:function(a,b,c,d,e){return this.setBox({x:a,y:b,width:c,height:d},e)},setLeft:function(a){this.dom.style[c]=this.addUnits(a);return this},setLeftTop:function(a,b){var c=this,d=c.dom.style;d.left=c.addUnits(a);d.top=c.addUnits(b);return c},setLocalX:function(a){var b=this.dom.style;b.right="auto";b.left=a===null?"auto":a+"px"},setLocalXY:function(a,b){var c=this.dom.style;c.right="auto";if(a&&a.length){b=a[1];a=a[0]}if(a===null){c.left="auto"}else if(a!==undefined){c.left=a+"px"}if(b===null){c.top="auto"}else if(b!==undefined){c.top=b+"px"}},setLocalY:function(a){this.dom.style.top=a===null?"auto":a+"px"},setLocation:function(a,b,c){return this.setXY([a,b],c)},setPositioning:function(a){return this.setStyle(a)},setRight:function(a){this.dom.style[d]=this.addUnits(a);return this},setTop:function(a){this.dom.style[e]=this.addUnits(a);return this},setX:function(a,b){return this.setXY([a,this.getY()],b)},setXY:function(a,c){var d=this;if(!c||!d.anim){b.setXY(d.dom,a)}else{if(!Ext.isObject(c)){c={}}d.animate(Ext.applyIf({to:{x:a[0],y:a[1]}},c))}return this},setY:function(a,b){return this.setXY([this.getX(),a],b)}});b.getTrueXY=b.getXY});Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var a=this,b=a.dom,c=document,d=c.body,e=c.documentElement,f,g;if(b===c||b===d){f=e.scrollLeft||(d?d.scrollLeft:0);g=e.scrollTop||(d?d.scrollTop:0)}else{f=b.scrollLeft;g=b.scrollTop}return{left:f,top:g}},getScrollLeft:function(){var a=this.dom,b=document;if(a===b||a===b.body){return this.getScroll().left}else{return a.scrollLeft}},getScrollTop:function(){var a=this.dom,b=document;if(a===b||a===b.body){return this.getScroll().top}else{return a.scrollTop}},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},scrollBy:function(a,b,c){var d=this,e=d.dom;if(a.length){c=b;b=a[1];a=a[0]}else if(typeof a!="number"){c=b;b=a.y;a=a.x}if(a){d.scrollTo("left",d.constrainScrollLeft(e.scrollLeft+a),c)}if(b){d.scrollTo("top",d.constrainScrollTop(e.scrollTop+b),c)}return d},scrollTo:function(a,b,c){var d=/top/i.test(a),e=this,f=d?"scrollTop":"scrollLeft",g=e.dom,h;if(!c||!e.anim){g[f]=b;g[f]=b}else{h={to:{}};h.to[f]=b;if(Ext.isObject(c)){Ext.applyIf(h,c)}e.animate(h)}return e},scrollIntoView:function(a,b,c,d){var e=this,f=e.dom,g=e.getOffsetsTo(a=Ext.getDom(a)||Ext.getBody().dom),h=g[0]+a.scrollLeft,i=g[1]+a.scrollTop,j=i+f.offsetHeight,k=h+f.offsetWidth,l=a.clientHeight,m=parseInt(a.scrollTop,10),n=parseInt(a.scrollLeft,10),o=m+l,p=n+a.clientWidth,q;if(d){if(c){c=Ext.apply({listeners:{afteranimate:function(){e.scrollChildFly.attach(f).highlight()}}},c)}else{e.scrollChildFly.attach(f).highlight()}}if(f.offsetHeight>l||i<m){q=i}else if(j>o){q=j-l}if(q!=null){e.scrollChildFly.attach(a).scrollTo("top",q,c)}if(b!==false){q=null;if(f.offsetWidth>a.clientWidth||h<n){q=h}else if(k>p){q=k-a.clientWidth}if(q!=null){e.scrollChildFly.attach(a).scrollTo("left",q,c)}}return e},scrollChildIntoView:function(a,b){this.scrollChildFly.attach(Ext.getDom(a)).scrollIntoView(this,b)},scroll:function(a,b,c){if(!this.isScrollable()){return false}var d=this,e=d.dom,f=a==="r"||a==="l"?"left":"top",g=false,h,i;if(a==="r"){b=-b}if(f==="left"){h=e.scrollLeft;i=d.constrainScrollLeft(h+b)}else{h=e.scrollTop;i=d.constrainScrollTop(h+b)}if(i!==h){this.scrollTo(f,i,c);g=true}return g},constrainScrollLeft:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollHeight-b.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly;this.prototype.scrolltoFly=new this.Fly});Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){var a=this,b=document.defaultView,c=/table-row|table-.*-group/,d="_internal",e="hidden",f="height",g="width",h="isClipped",i="overflow",j="overflow-x",k="overflow-y",l="originalClip",m=/#document|body/i,n,o,p,q,r,s,t;if(!b||!b.getComputedStyle){a.prototype.getStyle=function(b,c){var d=this,e=d.dom,f=typeof b!="string",g=d.styleHooks,h=b,i=h,j=1,k=c,l,m,n,o,p,q,r;if(f){n={};h=i[0];r=0;if(!(j=i.length)){return n}}if(!e||e.documentElement){return n||""}m=e.style;if(c){q=m}else{q=e.currentStyle;if(!q){k=true;q=m}}do{o=g[h];if(!o){g[h]=o={name:a.normalize(h)}}if(o.get){p=o.get(e,d,k,q)}else{l=o.name;if(o.canThrow){try{p=q[l]}catch(s){p=""}}else{p=q?q[l]:""}}if(!f){return p}n[h]=p;h=i[++r]}while(r<j);return n}}a.override({getHeight:function(a,b){var c=this,d=c.isStyle("display","none"),e,g;if(d){return 0}e=c.dom.offsetHeight;if(Ext.supports.Direct2DBug){g=c.adjustDirect2DDimension(f);if(b){e+=g}else if(g>0&&g<.5){e++}}if(a){e-=c.getBorderWidth("tb")+c.getPadding("tb")}return e<0?0:e},getWidth:function(a,b){var c=this,d=c.dom,e=c.isStyle("display","none"),f,h,i;if(e){return 0}if(b&&Ext.supports.BoundingClientRect){f=d.getBoundingClientRect();h=c.vertical&&!Ext.isIE9&&!Ext.supports.RotatedBoundingClientRect?f.bottom-f.top:f.right-f.left}else{h=d.offsetWidth}if(Ext.supports.Direct2DBug&&!c.vertical){i=c.adjustDirect2DDimension(g);if(b){h+=i}else if(i>0&&i<.5){h++}}if(a){h-=c.getBorderWidth("lr")+c.getPadding("lr")}return h<0?0:h},setWidth:function(a,b){var c=this;a=c.adjustWidth(a);if(!b||!c.anim){c.dom.style.width=c.addUnits(a)}else{if(!Ext.isObject(b)){b={}}c.animate(Ext.applyIf({to:{width:a}},b))}return c},setHeight:function(a,b){var c=this;a=c.adjustHeight(a);if(!b||!c.anim){c.dom.style.height=c.addUnits(a)}else{if(!Ext.isObject(b)){b={}}c.animate(Ext.applyIf({to:{height:a}},b))}return c},applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},setSize:function(a,b,c){var d=this;if(Ext.isObject(a)){c=b;b=a.height;a=a.width}a=d.adjustWidth(a);b=d.adjustHeight(b);if(!c||!d.anim){d.dom.style.width=d.addUnits(a);d.dom.style.height=d.addUnits(b)}else{if(c===true){c={}}d.animate(Ext.applyIf({to:{width:a,height:b}},c))}return d},getViewSize:function(){var b=this,c=b.dom,d=m.test(c.nodeName),e;if(d){e={width:a.getViewWidth(),height:a.getViewHeight()}}else{e={width:c.clientWidth,height:c.clientHeight}}return e},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},adjustWidth:function(a){var b=this,c=typeof a=="number";if(c&&b.autoBoxAdjust&&!b.isBorderBox()){a-=b.getBorderWidth("lr")+b.getPadding("lr")}return c&&a<0?0:a},adjustHeight:function(a){var b=this,c=typeof a=="number";if(c&&b.autoBoxAdjust&&!b.isBorderBox()){a-=b.getBorderWidth("tb")+b.getPadding("tb")}return c&&a<0?0:a},getColor:function(a,b,c){var d=this.getStyle(a),e=c||c===""?c:"#",f,g,h=0;if(!d||/transparent|inherit/.test(d)){return b}if(/^r/.test(d)){d=d.slice(4,d.length-1).split(",");g=d.length;for(;h<g;h++){f=parseInt(d[h],10);e+=(f<16?"0":"")+f.toString(16)}}else{d=d.replace("#","");e+=d.length==3?d.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):d}return e.length>5?e.toLowerCase():b},setOpacity:function(a,b){var c=this;if(!c.dom){return c}if(!b||!c.anim){c.setStyle("opacity",a)}else{if(typeof b!="object"){b={duration:350,easing:"ease-in"}}c.animate(Ext.applyIf({to:{opacity:a}},b))}return c},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(a){var b=this,d=b.dom,e=b.getStyle("display"),f=d.style.display,h=d.style.position,i=a===g?0:1,j=d.currentStyle,k;if(e==="inline"){d.style.display="inline-block"}d.style.position=e.match(c)?"absolute":"static";k=(parseFloat(j[a])||parseFloat(j.msTransformOrigin.split(" ")[i])*2)%1;d.style.position=h;if(e==="inline"){d.style.display=f}return k},clip:function(){var a=this,b=(a.$cache||a.getCache()).data,c;if(!b[h]){b[h]=true;c=a.getStyle([i,j,k]);b[l]={o:c[i],x:c[j],y:c[k]};a.setStyle(i,e);a.setStyle(j,e);a.setStyle(k,e)}return a},unclip:function(){var a=this,b=(a.$cache||a.getCache()).data,c;if(b[h]){b[h]=false;c=b[l];if(c.o){a.setStyle(i,c.o)}if(c.x){a.setStyle(j,c.x)}if(c.y){a.setStyle(k,c.y)}}return a},boxWrap:function(b){b=b||Ext.baseCSSPrefix+"box";var c=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+Ext.String.format(a.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",c.dom).appendChild(this.dom);return c},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);if(!b){b=parseFloat(a.getStyle(f))||0;if(!a.isBorderBox()){b+=a.getFrameWidth("tb")}}return b},getComputedWidth:function(){var a=this,b=Math.max(a.dom.offsetWidth,a.dom.clientWidth);if(!b){b=parseFloat(a.getStyle(g))||0;if(!a.isBorderBox()){b+=a.getFrameWidth("lr")}}return b},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClsOnOver:function(a,b,c){var e=this,f=e.dom,g=Ext.isFunction(b);e.hover(function(){if(g&&b.call(c||e,e)===false){return}Ext.fly(f,d).addCls(a)},function(){Ext.fly(f,d).removeCls(a)});return e},addClsOnFocus:function(a,b,c){var e=this,f=e.dom,g=Ext.isFunction(b);e.on("focus",function(){if(g&&b.call(c||e,e)===false){return false}Ext.fly(f,d).addCls(a)});e.on("blur",function(){Ext.fly(f,d).removeCls(a)});return e},addClsOnClick:function(a,b,c){var e=this,f=e.dom,g=Ext.isFunction(b);e.on("mousedown",function(){if(g&&b.call(c||e,e)===false){return false}Ext.fly(f,d).addCls(a);var h=Ext.getDoc(),i=function(){Ext.fly(f,d).removeCls(a);h.removeListener("mouseup",i)};h.on("mouseup",i)});return e},getStyleSize:function(){var b=this,c=this.dom,d=m.test(c.nodeName),e,h,i;if(d){return{width:a.getViewWidth(),height:a.getViewHeight()}}e=b.getStyle([f,g],true);if(e.width&&e.width!="auto"){h=parseFloat(e.width);if(b.isBorderBox()){h-=b.getFrameWidth("lr")}}if(e.height&&e.height!="auto"){i=parseFloat(e.height);if(b.isBorderBox()){i-=b.getFrameWidth("tb")}}return{width:h||b.getWidth(true),height:i||b.getHeight(true)}},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){var b=this;b.dom.unselectable="";b.removeCls(a.unselectableCls);b.addCls(a.selectableCls);return b},unselectable:function(){var b=this;if(Ext.isOpera){b.dom.unselectable="on"}b.removeCls(a.selectableCls);b.addCls(a.unselectableCls);return b},setVertical:function(b,c){var d=this,e=a.prototype,f;d.vertical=true;if(c){d.addCls(d.verticalCls=c)}d.setWidth=e.setHeight;d.setHeight=e.setWidth;if(!Ext.isIE9m){d.getWidth=e.getHeight;d.getHeight=e.getWidth}d.styleHooks=b===270?a.prototype.verticalStyleHooks270:a.prototype.verticalStyleHooks90},setHorizontal:function(){var a=this,b=a.verticalCls;delete a.vertical;if(b){delete a.verticalCls;a.removeCls(b)}delete a.setWidth;delete a.setHeight;if(!Ext.isIE9m){delete a.getWidth;delete a.getHeight}delete a.styleHooks}});a.prototype.styleHooks=n=Ext.dom.AbstractElement.prototype.styleHooks;a.prototype.verticalStyleHooks90=o=Ext.Object.chain(a.prototype.styleHooks);a.prototype.verticalStyleHooks270=p=Ext.Object.chain(a.prototype.styleHooks);o.width={name:"height"};o.height={name:"width"};o["margin-top"]={name:"marginLeft"};o["margin-right"]={name:"marginTop"};o["margin-bottom"]={name:"marginRight"};o["margin-left"]={name:"marginBottom"};o["padding-top"]={name:"paddingLeft"};o["padding-right"]={name:"paddingTop"};o["padding-bottom"]={name:"paddingRight"};o["padding-left"]={name:"paddingBottom"};o["border-top"]={name:"borderLeft"};o["border-right"]={name:"borderTop"};o["border-bottom"]={name:"borderRight"};o["border-left"]={name:"borderBottom"};p.width={name:"height"};p.height={name:"width"};p["margin-top"]={name:"marginRight"};p["margin-right"]={name:"marginBottom"};p["margin-bottom"]={name:"marginLeft"};p["margin-left"]={name:"marginTop"};p["padding-top"]={name:"paddingRight"};p["padding-right"]={name:"paddingBottom"};p["padding-bottom"]={name:"paddingLeft"};p["padding-left"]={name:"paddingTop"};p["border-top"]={name:"borderRight"};p["border-right"]={name:"borderBottom"};p["border-bottom"]={name:"borderLeft"};p["border-left"]={name:"borderTop"};if(Ext.isIE7m){n.fontSize=n["font-size"]={name:"fontSize",canThrow:true};n.fontStyle=n["font-style"]={name:"fontStyle",canThrow:true};n.fontFamily=n["font-family"]={name:"fontFamily",canThrow:true}}if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){function u(a,b,c,d){if(d[this.styleName]=="none"){return"0px"}return d[this.name]}q=["Top","Right","Bottom","Left"];r=q.length;while(r--){s=q[r];t="border"+s+"Width";n["border-"+s.toLowerCase()+"-width"]=n[t]={name:t,styleName:"border"+s+"Style",get:u}}}Ext.getDoc().on("selectstart",function(b,c){var d=document.documentElement,e=a.selectableCls,f=a.unselectableCls,g=c&&c.tagName;g=g&&g.toLowerCase();if(g==="input"||g==="textarea"){return}while(c&&c.nodeType===1&&c!==d){var h=Ext.fly(c);if(h.hasCls(e)){return}if(h.hasCls(f)){b.stopEvent();return}c=c.parentNode}})});Ext.onReady(function(){var a=/alpha\(opacity=(.*)\)/i,b=/^\s+|\s+$/g,c=Ext.dom.Element.prototype.styleHooks;c.opacity={name:"opacity",afterSet:function(a,b,c){if(c.isLayer){c.onOpacitySet(b)}}};if(!Ext.supports.Opacity&&Ext.isIE){Ext.apply(c.opacity,{get:function(b){var c=b.style.filter,d,e;if(c.match){d=c.match(a);if(d){e=parseFloat(d[1]);if(!isNaN(e)){return e?e/100:0}}}return 1},set:function(c,d){var e=c.style,f=e.filter.replace(a,"").replace(b,"");e.zoom=1;if(typeof d=="number"&&d>=0&&d<1){d*=100;e.filter=f+(f.length?" ":"")+"alpha(opacity="+d+")"}else{e.filter=f}}})}});Ext.define("Ext.util.Positionable",{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(a,b){var c=this.getConstrainVector(b,a);if(c){a[0]+=c[0];a[1]+=c[1]}return a},alignTo:function(a,b,c,d){var e=this,f=e.el;return e.setXY(e.getAlignToXY(a,b,c),f.anim&&!!d?f.anim(d):false)},anchorTo:function(a,b,c,d,e,f){var g=this,h=!Ext.isEmpty(e),i=function(){g.alignTo(a,b,c,d);Ext.callback(f,g)},j=g.getAnchor();g.removeAnchor();Ext.apply(j,{fn:i,scroll:h});Ext.EventManager.onWindowResize(i,null);if(h){Ext.EventManager.on(window,"scroll",i,null,{buffer:!isNaN(e)?e:50})}i();return g},calculateAnchorXY:function(a,b,c,d){var e=this,f=e.el,g=document,h=f.dom==g.body||f.dom==g,i=Math.round,j,k,l;a=(a||"tl").toLowerCase();d=d||{};k=d.width||h?Ext.Element.getViewWidth():e.getWidth();l=d.height||h?Ext.Element.getViewHeight():e.getHeight();switch(a){case"tl":j=[0,0];break;case"bl":j=[0,l];break;case"tr":j=[k,0];break;case"c":j=[i(k*.5),i(l*.5)];break;case"t":j=[i(k*.5),0];break;case"l":j=[0,i(l*.5)];break;case"r":j=[k,i(l*.5)];break;case"b":j=[i(k*.5),l];break;case"tc":j=[i(k*.5),0];break;case"bc":j=[i(k*.5),l];break;case"br":j=[k,l]}return[j[0]+b,j[1]+c]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(a,b,c){var d=this,e=Ext.Element.getViewWidth()-10,f=Ext.Element.getViewHeight()-10,g=document,h=g.documentElement,i=g.body,j=h.scrollLeft||i.scrollLeft||0,k=h.scrollTop||i.scrollTop||0,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;a=Ext.get(a.el||a);if(!a||!a.dom){}c=c||[0,0];b=(!b||b=="?"?"tl-bl?":!/-/.test(b)&&b!==""?"tl-"+b:b||"tl-bl").toLowerCase();b=d.convertPositionSpec(b);l=b.match(d._alignRe);u=l[1];v=l[2];t=!!l[3];m=d.getAnchorXY(u,true);n=d.getAnchorToXY(a,v,false);A=n[0]-m[0]+c[0];B=n[1]-m[1]+c[1];if(t){o=d.getWidth();p=d.getHeight();q=a.getRegion();w=u.charAt(0);x=u.charAt(u.length-1);y=v.charAt(0);z=v.charAt(v.length-1);r=w=="t"&&y=="b"||w=="b"&&y=="t";s=x=="r"&&z=="l"||x=="l"&&z=="r";if(A+o>e+j){A=s?q.left-o:e+j-o}if(A<j){A=s?q.right:j}if(B+p>f+k){B=r?q.top-p:f+k-p}if(B<k){B=r?q.bottom:k}}return[A,B]},getAnchor:function(){var a=this.el,b=(a.$cache||a.getCache()).data,c;if(!a.dom){return}c=b._anchor;if(!c){c=b._anchor={}}return c},getAnchorXY:function(a,b,c){var d=this,e=d.getXY(),f=d.el,g=document,h=f.dom==g.body||f.dom==g,i=f.getScroll(),j=h?i.left:b?0:e[0],k=h?i.top:b?0:e[1];return d.calculateAnchorXY(a,j,k,c)},getBox:function(a,b){var c=this,d=b?c.getLocalXY():c.getXY(),e=d[0],f=d[1],g=c.getWidth(),h=c.getHeight(),i,j,k;if(a){i=c.getBorderPadding();j=i.beforeX;k=i.beforeY;e+=j;f+=k;g-=j+i.afterX;h-=k+i.afterY}return{x:e,left:e,0:e,y:f,top:f,1:f,width:g,height:h,right:e+g,bottom:f+h}},calculateConstrainedPosition:function(a,b,c,d){var e=this,f,g=e.floatParent,h=g?g.getTargetEl():null,i,j,k,l=false;if(c&&g){i=h.getXY();j=h.getBorderPadding();i[0]+=j.beforeX;i[1]+=j.beforeY;if(b){k=[b[0]+i[0],b[1]+i[1]]}}else{k=b}a=a||e.constrainTo||h||e.container||e.el.parent();f=(e.constrainHeader?e.header:e).getConstrainVector(a,k,d);if(f){l=b||e.getPosition(c);l[0]+=f[0];l[1]+=f[1]}return l},getConstrainVector:function(a,b,c){var d=this.getRegion(),e=[0,0],f=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():undefined,g=false,h=this.constraintInsets;if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a).getViewRegion()}if(h){h=Ext.isObject(h)?h:Ext.Element.parseBox(h);a.adjust(h.top,h.right,h.bottom,h.length)}if(b){d.translateBy(b[0]-d.x,b[1]-d.y)}if(c){d.right=d.left+c[0];d.bottom=d.top+c[1]}if(f){a.adjust(f[0],-f[1],-f[2],f[3])}if(d.right>a.right){g=true;e[0]=a.right-d.right}if(d.left+e[0]<a.left){g=true;e[0]=a.left-d.left}if(d.bottom>a.bottom){g=true;e[1]=a.bottom-d.bottom}if(d.top+e[1]<a.top){g=true;e[1]=a.top-d.top}return g?e:false},getOffsetsTo:function(a){var b=this.getXY(),c=Ext.fly(a.el||a,"_internal").getXY();return[b[0]-c[0],b[1]-c[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var a=this,b=a.el,c=b.dom.nodeName==="BODY",d,e,f,g,h,i,j;if(c){e=b.getScroll();h=e.left;g=e.top;i=Ext.dom.AbstractElement.getViewportWidth();j=Ext.dom.AbstractElement.getViewportHeight()}else{d=a.getBorderPadding();f=a.getXY();h=f[0]+d.beforeX;g=f[1]+d.beforeY;i=a.getWidth(true);j=a.getHeight(true)}return new Ext.util.Region(g,h+i,g+j,h)},move:function(a,b,c){var d=this,e=d.getXY(),f=e[0],g=e[1],h=[f-b,g],i=[f+b,g],j=[f,g-b],k=[f,g+b],l={l:h,left:h,r:i,right:i,t:j,top:j,up:j,b:k,bottom:k,down:k};a=a.toLowerCase();d.setXY([l[a][0],l[a][1]],c)},removeAnchor:function(){var a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);if(a.scroll){Ext.EventManager.un(window,"scroll",a.fn)}delete a.fn}return this},setBox:function(a,b){var c=this,d=c.el,e=a.x,f=a.y,g=[e,f],h=a.width,i=a.height,j=c.constrain||c.constrainHeader,k=j&&c.calculateConstrainedPosition(null,[e,f],false,[h,i]);if(k){e=k[0];f=k[1]}if(!b||!d.anim){c.setSize(h,i);c.setXY([e,f]);c.afterSetPosition(e,f)}else{c.animate(Ext.applyIf({to:{x:e,y:f,width:d.adjustWidth(h),height:d.adjustHeight(i)},listeners:{afteranimate:Ext.Function.bind(c.afterSetPosition,c,[e,f])}},b))}return c},setRegion:function(a,b){return this.setBox({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top},b)},translatePoints:function(a,b){var c=this.translateXY(a,b);return{left:c.x,top:c.y}},translateXY:function(a,b){var c=this,d=c.el,e=d.getStyle(c._positionTopLeft),f=e.position=="relative",g=parseFloat(e.left),h=parseFloat(e.top),i=c.getXY();if(Ext.isArray(a)){b=a[1];a=a[0]}if(isNaN(g)){g=f?0:d.dom.offsetLeft}if(isNaN(h)){h=f?0:d.dom.offsetTop}g=typeof a=="number"?a-i[0]+g:undefined;h=typeof b=="number"?b-i[1]+h:undefined;return{x:g,y:h}}});Ext.define("Ext.dom.Element",function(a){var b="hidden",c=document,d="visibility",e="display",f="none",g=Ext.baseCSSPrefix+"masked",h=Ext.baseCSSPrefix+"masked-relative",i=Ext.baseCSSPrefix+"mask-msg",j=/^body/i,k,l=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},m=function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++){if(e.scrollTop>0||e.scrollLeft>0){b[++c]=e}}return b};return{extend:Ext.dom.AbstractElement,alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,mixins:[Ext.util.Positionable],addUnits:function(){return a.addUnits.apply(a,arguments)},focus:function(a,b){var c=this;b=b||c.dom;try{if(Number(a)){Ext.defer(c.focus,a,c,[null,b])}else{b.focus()}}catch(d){}return c},blur:function(){var a=this,b=a.dom;if(b!==document.body){try{b.blur()}catch(c){}return a}else{return a.focus(undefined,b)}},isBorderBox:function(){var a=Ext.isBorderBox;if(a&&Ext.isIE7m){a=!((this.dom.tagName||"").toLowerCase()in l)}return a},hover:function(a,b,c,d){var e=this;e.on("mouseenter",a,c||e.dom,d);e.on("mouseleave",b,c||e.dom,d);return e},getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:Ext.isIE&&!(Ext.isIE9p&&c.documentMode>=9)?function(a,b){var c=this.dom,d;if(b){d=typeof c[b+":"+a];if(d!="undefined"&&d!="unknown"){return c[b+":"+a]||null}return null}if(a==="for"){a="htmlFor"}return c[a]||null}:function(a,b){var c=this.dom;if(b){return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)}return c.getAttribute(a)||c[a]||null},cacheScrollValues:function(){var a=this,b,c,d,e=[],f=function(){for(d=0;d<b.length;d++){c=b[d];c.scrollLeft=e[d][0];c.scrollTop=e[d][1]}};if(!Ext.DomQuery.pseudos.isScrolled){Ext.DomQuery.pseudos.isScrolled=m}b=a.query(":isScrolled");for(d=0;d<b.length;d++){c=b[d];e[d]=[c.scrollLeft,c.scrollTop]}return f},autoBoxAdjust:true,isVisible:function(c){var g=this,h=g.dom,i=h.ownerDocument.documentElement;if(!k){k=new a.Fly}while(h!==i){if(!h||h.nodeType===11||k.attach(h).isStyle(d,b)||k.isStyle(e,f)){return false}if(!c){break}h=h.parentNode}return true},isDisplayed:function(){return!this.isStyle(e,f)},enableDisplayMode:function(b){var c=this;c.setVisibilityMode(a.DISPLAY);if(!Ext.isEmpty(b)){(c.$cache||c.getCache()).data.originalDisplay=b}return c},mask:function(a,b,d){var e=this,f=e.dom,k=f.style.setExpression,l=(e.$cache||e.getCache()).data,m=l.maskShimEl,n=l.maskEl,o=l.maskMsg,p,q;if(!(j.test(f.tagName)&&e.getStyle("position")=="static")){e.addCls(h)}if(n){n.remove()}if(o){o.remove()}if(m){m.remove()}if(Ext.isIE6){m=Ext.DomHelper.append(f,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},true);l.maskShimEl=m;m.setDisplayed(true)}Ext.DomHelper.append(f,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:b?i+" "+b:i,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:a||""}}}]);o=Ext.get(f.lastChild);n=Ext.get(o.dom.previousSibling);l.maskMsg=o;l.maskEl=n;e.addCls(g);n.setDisplayed(true);if(typeof a=="string"){o.setDisplayed(true);o.center(e)}else{o.setDisplayed(false)}if(!Ext.supports.IncludePaddingInWidthCalculation&&k){try{n.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"');p='this.parentNode.clientWidth + "px"';if(m){m.dom.style.setExpression("width",p)}n.dom.style.setExpression("width",p)}catch(r){}}if(!Ext.supports.IncludePaddingInHeightCalculation&&k){try{q="this.parentNode."+(f==c.body?"scrollHeight":"offsetHeight")+' + "px"';if(m){m.dom.style.setExpression("height",q)}n.dom.style.setExpression("height",q)}catch(r){}}else if(Ext.isIE9m&&!(Ext.isIE7&&Ext.isStrict)&&e.getStyle("height")=="auto"){if(m){m.setSize(undefined,d||e.getHeight())}n.setSize(undefined,d||e.getHeight())}return n},unmask:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.maskEl,d=b.maskShimEl,e=b.maskMsg,f;if(c){f=c.dom.style;if(f.clearExpression){f.clearExpression("width");f.clearExpression("height")}if(c){c.remove();delete b.maskEl}if(e){e.remove();delete b.maskMsg}a.removeCls([g,h]);if(d){f=d.dom.style;if(f.clearExpression){f.clearExpression("width");f.clearExpression("height")}d.remove();delete b.maskShimEl}}},isMasked:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.maskEl,d=b.maskMsg,e=false;if(c&&c.isVisible()){if(d){d.center(a)}e=true}return e},createShim:function(){var a=c.createElement("iframe"),b;a.frameBorder="0";a.className=Ext.baseCSSPrefix+"shim";a.src=Ext.SSL_SECURE_URL;b=Ext.get(this.dom.parentNode.insertBefore(a,this.dom));b.autoBoxAdjust=false;return b},addKeyListener:function(a,b,c){var d;if(typeof a!="object"||Ext.isArray(a)){d={target:this,key:a,fn:b,scope:c}}else{d={target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c}}return new Ext.util.KeyMap(d)},addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},a))},on:function(a,b,c,d){Ext.EventManager.on(this,a,b,c||this,d);return this},un:function(a,b,c){Ext.EventManager.un(this,a,b,c||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this},select:function(b){return a.select(b,false,this.dom)}}},function(){var a=document,b=Ext.cache,c=this,d=Ext.dom.AbstractElement,e=/^a|button|embed|iframe|input|object|select|textarea$/i,f=/\S/,g=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,h=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,i=/\ssrc=([\'\"])(.*?)\1/i,j=/\stype=([\'\"])(.*?)\1/i,k=!Ext.isIE8m,l;c.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';function m(){if(!Ext.enableGarbageCollector){clearInterval(c.collectorThreadId)}else{var a,d,e,f;for(a in b){if(!b.hasOwnProperty(a)){continue}e=b[a];if(e.skipGarbageCollection){continue}d=e.dom;if(d&&(!d.parentNode||!d.offsetParent&&!Ext.getElementById(a))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(d)}delete b[a]}}if(Ext.isIE){f={};for(a in b){if(!b.hasOwnProperty(a)){continue}f[a]=b[a]}b=Ext.cache=f}}}c.collectorThreadId=setInterval(m,3e4);c.addMethods({monitorMouseLeave:function(a,b,c){var d=this,e,f={mouseleave:function(f){e=setTimeout(Ext.Function.bind(b,c||d,[f]),a)},mouseenter:function(){clearTimeout(e)},freezeEvent:true};d.on(f);return f},swallowEvent:function(a,b){var c=this,d,e,f=function(a){a.stopPropagation();if(b){a.preventDefault()}};if(Ext.isArray(a)){e=a.length;for(d=0;d<e;d++){c.on(a[d],f)}return c}c.on(a,f);return c},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(a){var b=this,c=b.dom,d=(b.$cache||b.getCache()).data,e=c.firstChild,g=-1,h;if(d.isCleaned&&a!==true){return b}while(e){h=e.nextSibling;if(e.nodeType==3){if(!f.test(e.nodeValue)){c.removeChild(e)}else if(h&&h.nodeType==3){e.appendData(Ext.String.trim(h.data));c.removeChild(h);h=e.nextSibling;e.nodeIndex=++g}}else{l.attach(e).clean();e.nodeIndex=++g}e=h}d.isCleaned=true;return b},load:function(a){this.getLoader().load(a);return this},getLoader:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.loader;if(!c){b.loader=c=new Ext.ElementLoader({target:a})}return c},syncContent:function(a){a=Ext.getDom(a);var b=a.childNodes,c=b.length,d=this.dom,e=d.childNodes,f=e.length,g,h,i,j,k,m,n;if(Ext.isIE9m&&d.mergeAttributes){d.mergeAttributes(a,true);d.src=a.src}else{k=a.attributes;m=k.length;for(g=0;g<m;g++){n=k[g].name;if(n!=="id"){d.setAttribute(n,k[g].value)}}}if(c!==f){d.innerHTML=a.innerHTML;return}for(g=0;g<c;g++){i=b[g];h=e[g];j=i.nodeType;if(j!==h.nodeType||j===1&&i.tagName!==h.tagName){d.innerHTML=a.innerHTML;return}if(j===3){h.data=i.data}else{if(i.id&&h.id!==i.id){h.id=i.id}h.style.cssText=i.style.cssText;h.className=i.className;l.attach(h).syncContent(i)}}},update:function(b,c,d){var e=this,f,k,l;if(!e.dom){return e}b=b||"";k=e.dom;if(c!==true){k.innerHTML=b;Ext.callback(d,e);return e}f=Ext.id();b+='<span id="'+f+'"></span>';l=setInterval(function(){var c,h,k,m,n,o,p;if(!(o=a.getElementById(f))){return false}clearInterval(l);Ext.removeNode(o);c=Ext.getHead().dom;while(h=g.exec(b)){k=h[1];m=k?k.match(i):false;if(m&&m[2]){p=a.createElement("script");p.src=m[2];n=k.match(j);if(n&&n[2]){p.type=n[2]}c.appendChild(p)}else if(h[2]&&h[2].length>0){if(window.execScript){window.execScript(h[2])}else{window.eval(h[2])}}}Ext.callback(d,e)},20);k.innerHTML=b.replace(h,"");return e},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(a,b,d){a=typeof a=="object"?a:{tag:"div",cls:a};var e=this,f=b?Ext.DomHelper.append(b,a,true):Ext.DomHelper.insertBefore(e.dom,a,true);f.setVisibilityMode(c.DISPLAY);f.hide();if(d&&e.setBox&&e.getBox){f.setBox(e.getBox())}return f},needsTabIndex:function(){if(this.dom){if(this.dom.nodeName==="a"&&!this.dom.href){return true}return!e.test(this.dom.nodeName)}},isFocusable:function(a){var b=this.dom,c=b.getAttributeNode("tabIndex"),d,f=b.nodeName,g=false;if(c&&c.specified){d=c.value}if(b&&!b.disabled){if(d==-1){g=Ext.FocusManager&&Ext.FocusManager.enabled&&a}else{if(e.test(f)){if(f!=="a"||b.href){g=true}}else{g=d!=null&&d>=0}}g=g&&this.isVisible(true)}return g}});if(Ext.isIE){c.prototype.getById=function(d,e){var f=this.dom,g,h,i;if(f){h=k&&a.getElementById(d)||f.all[d];if(h){if(e){i=h}else{g=b[d];if(g&&g.el){i=Ext.updateCacheEntry(g,h).el}else{i=new c(h)}}return i}}return e?Ext.getDom(d):c.get(d)}}c.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"});c.Fly=d.Fly=new Ext.Class({extend:c,isFly:true,constructor:function(a){this.dom=a;this.el=this},attach:d.Fly.prototype.attach});l=new c.Fly;if(Ext.isIE){Ext.getElementById=function(b){var c=a.getElementById(b),e;if(!c&&(e=d.detachedBodyEl)){c=e.dom.all[b]}return c}}else if(!a.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(b){return a.getElementById(b)}}});Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var a,b=Ext.dom.Element.prototype,c=this.prototype;for(a in b){if(typeof b[a]=="function"){(function(a){c[a]=c[a]||function(){return this.invoke(a,arguments)}}).call(c,a)}}}},constructor:function(a,b){this.elements=[];this.add(a,b);this.el=new Ext.dom.AbstractElement.Fly},isComposite:true,getElement:function(a){return this.el.attach(a)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,b){var c=this.elements,d,e;if(!a){return this}if(typeof a=="string"){a=Ext.dom.Element.selectorFunction(a,b)}else if(a.isComposite){a=a.elements
}else if(!Ext.isIterable(a)){a=[a]}for(d=0,e=a.length;d<e;++d){c.push(this.transformElement(a[d]))}return this},invoke:function(a,b){var c=this.elements,d=c.length,e,f;a=Ext.dom.Element.prototype[a];for(f=0;f<d;f++){e=c[f];if(e){a.apply(this.getElement(e),b)}}return this},item:function(a){var b=this.elements[a],c=null;if(b){c=this.getElement(b)}return c},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(a,b,c,d){var e=this.elements,f=e.length,g,h;for(g=0;g<f;g++){h=e[g];if(h){Ext.EventManager.on(h,a,b,c||h,d)}}return this},each:function(a,b){var c=this,d=c.elements,e=d.length,f,g;for(f=0;f<e;f++){g=d[f];if(g){g=this.getElement(g);if(a.call(b||g,g,c,f)===false){break}}}return c},fill:function(a){var b=this;b.elements=[];b.add(a);return b},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(a){var b=this,c=b.elements,d=c.length,e=[],f=0,g=typeof a=="function",h,i;for(;f<d;f++){i=c[f];h=false;if(i){i=b.getElement(i);if(g){h=a.call(i,i,b,f)!==false}else{h=i.is(a)}if(h){e.push(b.transformElement(i))}}}b.elements=e;return b},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(a,b,c){var d=!isNaN(a)?a:this.indexOf(a),e;if(d>-1){b=Ext.getDom(b);if(c){e=this.elements[d];e.parentNode.insertBefore(b,e);Ext.removeNode(e)}Ext.Array.splice(this.elements,d,1,b)}return this},clear:function(a){var b=this,c=b.elements,d=c.length-1;if(a){for(;d>=0;d--){Ext.removeNode(c[d])}}this.elements=[]},addElements:function(a,b){if(!a){return this}if(typeof a=="string"){a=Ext.dom.Element.selectorFunction(a,b)}var c=this.elements,d=a.length,e;for(e=0;e<d;e++){c.push(Ext.get(a[e]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(a,b){a=[].concat(a);var c=this,d=c.elements,e=a.length,f,g,h;for(h=0;h<e;h++){f=a[h];if(g=d[f]||d[f=c.indexOf(f)]){if(b){if(g.dom){g.remove()}else{Ext.removeNode(g)}}Ext.Array.erase(d,f,1)}}return c}},function(){this.importElementMethods();this.prototype.on=this.prototype.addListener;if(Ext.DomQuery){Ext.dom.Element.selectorFunction=Ext.DomQuery.select}Ext.dom.Element.select=function(a,b){var c;if(typeof a=="string"){c=Ext.dom.Element.selectorFunction(a,b)}else if(a.length!==undefined){c=a}else{}return new Ext.CompositeElementLite(c)};Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}});Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},function(){Ext.dom.Element.select=function(a,b,c){var d;if(typeof a=="string"){d=Ext.dom.Element.selectorFunction(a,c)}else if(a.length!==undefined){d=a}else{}return b===true?new Ext.CompositeElement(d):new Ext.CompositeElementLite(d)}});Ext.select=Ext.Element.select;Ext.define("Ext.util.HashMap",{mixins:{observable:Ext.util.Observable},generation:0,constructor:function(a){a=a||{};var b=this,c=a.keyFn;b.initialConfig=a;b.addEvents("add","clear","remove","replace");b.mixins.observable.constructor.call(b,a);b.clear(true);if(c){b.getKey=c}},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,b){var c=this;if(arguments.length===1){b=a;a=c.getKey(b)}if(c.containsKey(a)){return c.replace(a,b)}c.map[a]=b;++c.length;c.generation++;if(c.hasListeners.add){c.fireEvent("add",c,a,b)}return b},replace:function(a,b){var c=this,d=c.map,e;if(arguments.length===1){b=a;a=c.getKey(b)}if(!c.containsKey(a)){c.add(a,b)}e=d[a];d[a]=b;c.generation++;if(c.hasListeners.replace){c.fireEvent("replace",c,a,b,e)}return b},remove:function(a){var b=this.findKey(a);if(b!==undefined){return this.removeAtKey(b)}return false},removeAtKey:function(a){var b=this,c;if(b.containsKey(a)){c=b.map[a];delete b.map[a];--b.length;b.generation++;if(b.hasListeners.remove){b.fireEvent("remove",b,a,c)}return true}return false},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:undefined},clear:function(a){var b=this;if(a||b.generation){b.map={};b.length=0;b.generation=a?0:b.generation+1}if(a!==true&&b.hasListeners.clear){b.fireEvent("clear",b)}return b},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&b[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(a){var b=[],c,d=this.map;for(c in d){if(d.hasOwnProperty(c)){b.push(a?c:d[c])}}return b},each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length;b=b||this;for(d in c){if(c.hasOwnProperty(d)){if(a.call(b,d,c[d],e)===false){break}}}return this},clone:function(){var a=new this.self(this.initialConfig),b=this.map,c;a.suspendEvents();for(c in b){if(b.hasOwnProperty(c)){a.add(c,b[c])}}a.resumeEvents();return a},findKey:function(a){var b,c=this.map;for(b in c){if(c.hasOwnProperty(b)&&c[b]===a){return b}}return undefined}});Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap;this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,b){var c=a[this.typeName]||a.type||b,d=this.types[c];return new d(a)},onAvailable:function(a,b,c){var d=this.all,e,f;if(d.containsKey(a)){e=d.get(a);b.call(c||e,e)}else{f=function(e,g,h){if(g==a){b.call(c||h,h);d.un("add",f)}};d.on("add",f)}},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}});Ext.define("Ext.ComponentManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ComponentMgr",singleton:true,typeName:"xtype",create:function(a,b){if(typeof a=="string"){return Ext.widget(a)}if(a.isComponent){return a}return Ext.widget(a.xtype||b,a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a;b.prototype[this.typeName]=a}},function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}});Ext.define("Ext.ComponentQuery",{singleton:true},function(){var a=this,b=Ext.dom.Query.operators,c=/(\d*)n\+?(\d*)/,d=/\D/,e=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),f=function(a,b){return b.method.apply(this,[a].concat(b.args))},g=function(a,b){var c=[],d=0,e=a.length,f,g=b!==">";for(;d<e;d++){f=a[d];if(f.getRefItems){c=c.concat(f.getRefItems(g))}}return c},h=function(a){var b=[],c=0,d=a.length,e;for(;c<d;c++){e=a[c];while(!!(e=e.getRefOwner())){b.push(e)}}return b},i=function(a,b,c){if(b==="*"){return a.slice()}else{var d=[],e=0,f=a.length,g;for(;e<f;e++){g=a[e];if(g.isXType(b,c)){d.push(g)}}return d}},j=function(a,b){var c=[],d=0,e=a.length,f;for(;d<e;d++){f=a[d];if(f.hasCls(b)){c.push(f)}}return c},k=function(a,c,d,e){var f=[],g=0,h=a.length,i,j,k,l,m,n;if(c.charAt(0)==="@"){i=true;c=c.substr(1)}if(c.charAt(0)==="?"){i=true;j=true;c=c.substr(1)}for(;g<h;g++){k=a[g];if(!i||k.hasOwnProperty(c)){l=k[c];if(j){f.push(k)}else if(d==="~="){if(l){if(!Ext.isArray(l)){l=l.split(" ")}for(m=0,n=l.length;m<n;m++){if(b[d](Ext.coerce(l[m],e),e)){f.push(k);break}}}}else if(!e?!!k[c]:b[d](Ext.coerce(l,e),e)){f.push(k)}}}return f},l=function(a,b){var c=[],d=0,e=a.length,f;for(;d<e;d++){f=a[d];if(f.getItemId()===b){c.push(f)}}return c},m=function(b,c,d){return a.pseudos[c](b,d)},n=/^(\s?([>\^])\s?|\s|$)/,o=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,p=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:i},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:k},{re:/^#([\w\-]+)/,method:l},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:m},{re:/^(?:\{([^\}]+)\})/,method:e}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(a){var b=this.operations,c=0,d=b.length,e,i;if(!a){i=Ext.ComponentManager.all.getArray()}else if(Ext.isIterable(a)){i=a}else if(a.isMixedCollection){i=a.items}for(;c<d;c++){e=b[c];if(e.mode==="^"){i=h(i||[a])}else if(e.mode){i=g(i||[a],e.mode)}else{i=f(i||g([a]),e)}if(c===d-1){return i}}return[]},is:function(a){var b=this.operations,c=Ext.isArray(a)?a:[a],d=c.length,e=b[b.length-1],g,h;c=f(c,e);if(c.length===d){if(b.length>1){for(h=0,g=c.length;h<g;h++){if(Ext.Array.indexOf(this.execute(),c[h])===-1){return false}}}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(a,b){var c=Ext.ComponentQuery,d=0,e=a.length,f=[],g=-1,h;for(;d<e;++d){h=a[d];if(!c.is(h,b)){f[++g]=h}}return f},first:function(a){var b=[];if(a.length>0){b.push(a[0])}return b},last:function(a){var b=a.length,c=[];if(b>0){c.push(a[b-1])}return c},focusable:function(a){var b=a.length,c=[],d=0,e;for(;d<b;d++){e=a[d];if(e.isFocusable()){c.push(e)}}return c},"nth-child":function(a,b){var e=[],f=c.exec(b=="even"&&"2n"||b=="odd"&&"2n+1"||!d.test(b)&&"n+"+b||b),g=(f[1]||1)-0,h=f[2]-0,i,j,k;for(i=0;j=a[i];i++){k=i+1;if(g==1){if(h==0||k==h){e.push(j)}}else if((k+h)%g==0){e.push(j)}}return e}},query:function(a,b){var c=a.split(","),d=c.length,e=0,f=[],g=[],h={},i,j,k;for(;e<d;e++){a=Ext.String.trim(c[e]);i=this.cache[a]||(this.cache[a]=this.parse(a));f=f.concat(i.execute(b))}if(d>1){j=f.length;for(e=0;e<j;e++){k=f[e];if(!h[k.id]){g.push(k);h[k.id]=true}}f=g}return f},is:function(a,b){if(!b){return true}var c=b.split(","),d=c.length,e=0,f;for(;e<d;e++){b=Ext.String.trim(c[e]);f=this.cache[b]||(this.cache[b]=this.parse(b));if(f.is(a)){return true}}return false},parse:function(b){var c=[],d=p.length,e,f,g,h,k,m,q,r;while(b&&e!==b){e=b;f=b.match(o);if(f){g=f[1];if(g==="#"){c.push({method:l,args:[Ext.String.trim(f[2])]})}else if(g==="."){c.push({method:j,args:[Ext.String.trim(f[2])]})}else{c.push({method:i,args:[Ext.String.trim(f[2]),Boolean(f[3])]})}b=b.replace(f[0],"")}while(!(h=b.match(n))){for(m=0;b&&m<d;m++){q=p[m];k=b.match(q.re);r=q.method;if(k){c.push({method:Ext.isString(q.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[r].concat(k.slice(1)))):q.method,args:k.slice(1)});b=b.replace(k[0],"");break}if(m===d-1){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(h[1]){c.push({mode:h[2]||h[1]});b=b.replace(h[0],"")}}return new a.Query({operations:c})}})});Ext.define("Ext.util.ProtoElement",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(c){var d=this;Ext.apply(d,c);d.classList=a(d.cls);d.classMap=b(d.classList);delete d.cls;if(Ext.isFunction(d.style)){d.styleFn=d.style;delete d.style}else if(typeof d.style=="string"){d.style=Ext.Element.parseStyles(d.style)}else if(d.style){d.style=Ext.apply({},d.style)}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(b){var c=this,d=typeof b==="string"?a(b):b,e=d.length,f=c.classList,g=c.classMap,h=c.flushClassList,i=0,j;for(;i<e;++i){j=d[i];if(!g[j]){g[j]=true;f.push(j);if(h){h.push(j);delete c.removedClasses[j]}}}return c},hasCls:function(a){return a in this.classMap},removeCls:function(c){var d=this,e=d.classList,f=d.classList=[],g=b(a(c)),h=e.length,i=d.classMap,j=d.removedClasses,k,l;for(k=0;k<h;++k){l=e[k];if(g[l]){if(j){if(i[l]){j[l]=true;Ext.Array.remove(d.flushClassList,l)}}delete i[l]}else{f.push(l)}}return d},setStyle:function(a,b){var c=this,d=c.style||(c.style={});if(typeof a=="string"){if(arguments.length===1){c.setStyle(Ext.Element.parseStyles(a))}else{d[a]=b}}else{Ext.apply(d,a)}return c},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(a){var b=this,c=b.flushClassList||b.classList,d=b.removedClasses,e;if(b.styleFn){e=Ext.apply({},b.styleFn());Ext.apply(e,b.style)}else{e=b.style}a[b.clsProp]=c.join(" ");if(e){a[b.styleProp]=b.styleIsText?Ext.DomHelper.generateStyles(e):e}if(d){d=Ext.Object.getKeys(d);if(d.length){a[b.removedProp]=d.join(" ")}}if(b.unselectableAttr){a.unselectable="on"}return a}}}());Ext.define("Ext.PluginManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.PluginMgr",singleton:true,typeName:"ptype",create:function(a,b,c){var d;if(a.init){d=a}else{if(c){a=Ext.apply({},a);a.cmp=c}else{c=a.cmp}if(a.xclass){d=Ext.create(a)}else{d=Ext.ClassManager.getByAlias("plugin."+(a.ptype||b));if(typeof d==="function"){d=new d(a)}}}if(d&&c&&d.setCmp&&!d.setCmpCalled){d.setCmp(c);d.setCmpCalled=true}return d},findByType:function(a,b){var c=[],d=this.types,e,f;for(e in d){if(!d.hasOwnProperty(e)){continue}f=d[e];if(f.type==a&&(!b||b===true&&f.isDefault)){c.push(f)}}return c}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}});Ext.define("Ext.util.Filter",{id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,operator:null,statics:{createFilterFn:function(a){return a&&a.length?function(b){var c=true,d=a.length,e,f;for(e=0;c&&e<d;e++){f=a[e];if(!f.disabled){c=c&&f.filterFn.call(f.scope||f,b)}}return c}:function(){return true}}},operatorFns:{"<":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<this.value},"<=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<=this.value},"=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)==this.value},">=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>=this.value},">":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>this.value},"!=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)!=this.value}},constructor:function(a){var b=this;b.initialConfig=a;Ext.apply(b,a);b.filter=b.filter||b.filterFn;if(b.filter===undefined){b.setValue(a.value)}},setValue:function(a){var b=this;b.value=a;if(b.property===undefined||b.value===undefined){}else{b.filter=b.createFilterFn()}b.filterFn=b.filter},setFilterFn:function(a){this.filterFn=this.filter=a},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;if(a.operator){return a.operatorFns[a.operator]}else{return function(d){var e=a.getRoot(d)[c];return b===null?e===null:b.test(e)}}},getRoot:function(a){var b=this.root;return b===undefined?a:a[b]},createValueMatcher:function(){var a=this,b=a.value,c=a.anyMatch,d=a.exactMatch,e=a.caseSensitive,f=Ext.String.escapeRegex;if(b===null){return b}if(!b.exec){b=String(b);if(c===true){b=f(b)}else{b="^"+f(b);if(d===true){b+="$"}}b=new RegExp(b,e?"":"i")}return b},serialize:function(){var a=this,b=Ext.apply({},a.initialConfig);b.value=a.value;return b}},function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]});Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(a,b){var c=this;if(arguments.length===1&&Ext.isObject(a)){c.initialConfig=a;Ext.apply(c,a)}else{c.allowFunctions=a===true;if(b){c.getKey=b}c.initialConfig={allowFunctions:c.allowFunctions,getKey:c.getKey}}c.items=[];c.map={};c.keys=[];c.indexMap={};c.length=0;c.mixins.observable.constructor.call(c)},allowFunctions:false,add:function(a,b){var c=this.length,d;if(arguments.length===1){d=this.insert(c,a)}else{d=this.insert(c,a,b)}return d},getKey:function(a){return a.id},replace:function(a,b){var c=this,d,e;if(arguments.length==1){b=arguments[0];a=c.getKey(b)}d=c.map[a];if(typeof a=="undefined"||a===null||typeof d=="undefined"){return c.add(a,b)}c.generation++;e=c.indexOfKey(a);c.items[e]=b;c.map[a]=b;if(c.hasListeners.replace){c.fireEvent("replace",a,d,b)}return b},updateKey:function(a,b){var c=this,d=c.map,e=c.indexMap,f=c.indexOfKey(a),g;if(f>-1){g=d[a];delete d[a];delete e[a];d[b]=g;e[b]=f;c.keys[f]=b;c.generation++}},addAll:function(a){var b=this,c;if(arguments.length>1||Ext.isArray(a)){b.insert(b.length,arguments.length>1?arguments:a)}else{for(c in a){if(a.hasOwnProperty(c)){if(b.allowFunctions||typeof a[c]!="function"){b.add(c,a[c])}}}}},each:function(a,b){var c=Ext.Array.push([],this.items),d=0,e=c.length,f;for(;d<e;d++){f=c[d];if(a.call(b||f,f,d,e)===false){break}}},eachKey:function(a,b){var c=this.keys,d=this.items,e=0,f=c.length;for(;e<f;e++){a.call(b||window,c[e],d[e],e,f)}},findBy:function(a,b){var c=this.keys,d=this.items,e=0,f=d.length;for(;e<f;e++){if(a.call(b||window,d[e],c[e])){return d[e]}}return null},find:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.")}return this.findBy.apply(this,arguments)},insert:function(a,b,c){var d;if(Ext.isIterable(b)){d=this.doInsert(a,b,c)}else{if(arguments.length>2){d=this.doInsert(a,[b],[c])}else{d=this.doInsert(a,[b])}d=d[0]}return d},doInsert:function(a,b,c){var d=this,e,f,g,h=b.length,i=h,j=d.hasListeners.add,k,l={},m,n,o;if(c!=null){d.useLinearSearch=true}else{c=b;b=new Array(h);for(g=0;g<h;g++){b[g]=this.getKey(c[g])}}d.suspendEvents();for(g=0;g<h;g++){e=b[g];f=d.indexOfKey(e);if(f!==-1){if(f<a){a--}d.removeAt(f)}if(e!=null){if(l[e]!=null){m=true;i--}l[e]=g}}d.resumeEvents();if(m){n=b;o=c;b=new Array(i);c=new Array(i);g=0;for(e in l){b[g]=n[l[e]];c[g]=o[l[e]];g++}h=i}k=a===d.length&&d.indexGeneration===d.generation;Ext.Array.insert(d.items,a,c);Ext.Array.insert(d.keys,a,b);d.length+=h;d.generation++;if(k){d.indexGeneration=d.generation}for(g=0;g<h;g++,a++){e=b[g];if(e!=null){d.map[e]=c[g];if(k){d.indexMap[e]=a}}if(j){d.fireEvent("add",a,c[g],e)}}return c},remove:function(a){var b=this,c,d;if(!b.useLinearSearch&&(c=b.getKey(a))){d=b.indexOfKey(c)}else{d=Ext.Array.indexOf(b.items,a)}return d===-1?false:b.removeAt(d)},removeAll:function(a){var b=this,c;if(a||b.hasListeners.remove){if(a){for(c=a.length-1;c>=0;--c){b.remove(a[c])}}else{while(b.length){b.removeAt(0)}}}else{b.length=b.items.length=b.keys.length=0;b.map={};b.indexMap={};b.generation++;b.indexGeneration=b.generation}},removeAt:function(a){var b=this,c,d;if(a<b.length&&a>=0){b.length--;c=b.items[a];Ext.Array.erase(b.items,a,1);d=b.keys[a];if(typeof d!="undefined"){delete b.map[d]}Ext.Array.erase(b.keys,a,1);if(b.hasListeners.remove){b.fireEvent("remove",c,d)}b.generation++;return c}return false},removeRange:function(a,b){var c=this,d,e,f,g,h,i;if(a<c.length&&a>=0){if(!b){b=1}g=Math.min(a+b,c.length);b=g-a;i=g===c.length;h=i&&c.indexGeneration===c.generation;for(f=a;f<g;f++){e=c.keys[f];if(e!=null){delete c.map[e];if(h){delete c.indexMap[e]}}}d=c.items[f-1];c.length-=b;c.generation++;if(h){c.indexGeneration=c.generation}if(i){c.items.length=c.keys.length=c.length}else{c.items.splice(a,b);c.keys.splice(a,b)}return d}return false},removeAtKey:function(a){var b=this,c=b.keys,d;if(a==null){for(d=c.length-1;d>=0;d--){if(c[d]==null){b.removeAt(d)}}}else{return b.removeAt(b.indexOfKey(a))}},getCount:function(){return this.length},indexOf:function(a){var b=this,c;if(a!=null){if(!b.useLinearSearch&&(c=b.getKey(a))){return this.indexOfKey(c)}return Ext.Array.indexOf(b.items,a)}return-1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a)){return-1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[a]},rebuildIndexMap:function(){var a=this,b=a.indexMap={},c=a.keys,d=c.length,e;for(e=0;e<d;e++){b[c[e]]=e}a.indexGeneration=a.generation},get:function(a){var b=this,c=b.map[a],d=c!==undefined?c:typeof a=="number"?b.items[a]:undefined;return typeof d!="function"||b.allowFunctions?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var b=this,c;if(a!=null){if(!b.useLinearSearch&&(c=b.getKey(a))){return this.map[c]!=null}return Ext.Array.indexOf(this.items,a)!==-1}return false},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;if(a.generation){a.length=0;a.items=[];a.keys=[];a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}if(a.hasListeners.clear){a.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){var e=this.extractValues(a,b),f=e.length,g=0,h;c=c||0;d=d||d===0?d:f-1;for(h=c;h<=d;h++){g+=e[h]}return g},collect:function(a,b,c){var d=this.extractValues(a,b),e=d.length,f={},g=[],h,i,j;for(j=0;j<e;j++){h=d[j];i=String(h);if((c||!Ext.isEmpty(h))&&!f[i]){f[i]=true;g.push(h)}}return g},extractValues:function(a,b){var c=this.items;if(b){c=Ext.Array.pluck(c,b)}return Ext.Array.pluck(c,a)},hasRange:function(a,b){return b<this.length},getRange:function(a,b){var c=this,d=c.items,e=[],f=d.length,g,h;if(f<1){return e}if(a>b){h=true;g=a;a=b;b=g}if(a<0){a=0}if(b==null||b>=f){b=f-1}e=d.slice(a,b+1);if(h&&e.length){e.reverse()}return e},filter:function(a,b,c,d){var e=[];if(Ext.isString(a)){e.push(new Ext.util.Filter({property:a,value:b,anyMatch:c,caseSensitive:d}))}else if(Ext.isArray(a)||a instanceof Ext.util.Filter){e=e.concat(a)}return this.filterBy(Ext.util.Filter.createFilterFn(e))},filterBy:function(a,b){var c=this,d=new c.self(c.initialConfig),e=c.keys,f=c.items,g=f.length,h;d.getKey=c.getKey;for(h=0;h<g;h++){if(a.call(b||c,f[h],e[h])){d.add(e[h],f[h])}}return d},findIndex:function(a,b,c,d,e){if(Ext.isEmpty(b,false)){return-1}b=this.createValueMatcher(b,d,e);return this.findIndexBy(function(c){return c&&b.test(c[a])},null,c)},findIndexBy:function(a,b,c){var d=this,e=d.keys,f=d.items,g=c||0,h=f.length;for(;g<h;g++){if(a.call(b||d,f[g],e[g])){return g}}return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex;a=String(a);if(b===true){a=e(a)}else{a="^"+e(a);if(d===true){a+="$"}}a=new RegExp(a,c?"":"i")}return a},clone:function(){var a=this,b=new this.self(a.initialConfig);b.add(a.keys,a.items);return b}});Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(a){var b=this;Ext.apply(b,a);b.updateSortFunction()},createSortFunction:function(a){var b=this,c=b.direction||"ASC",d=c.toUpperCase()=="DESC"?-1:1;return function(c,e){return d*a.call(b,c,e)}},defaultSorterFn:function(a,b){var c=this,d=c.transform,e=c.getRoot(a)[c.property],f=c.getRoot(b)[c.property];if(d){e=d(e);f=d(f)}return e>f?1:e<f?-1:0},getRoot:function(a){return this.root===undefined?a:a[this.root]},setDirection:function(a){var b=this;b.direction=a?a.toUpperCase():a;b.updateSortFunction()},toggle:function(){var a=this;a.direction=Ext.String.toggle(a.direction,"ASC","DESC");a.updateSortFunction()},updateSortFunction:function(a){var b=this;a=a||b.sorterFn||b.defaultSorterFn;b.sort=b.createSortFunction(a)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}});Ext.define("Ext.util.Sortable",{isSortable:true,defaultSortDirection:"ASC",statics:{createComparator:function(a){return a&&a.length?function(b,c){var d=a[0].sort(b,c),e=a.length,f=1;for(;f<e;f++){d=d||a[f].sort.call(this,b,c)}return d}:function(){return 0}}},initSortable:function(){var a=this,b=a.sorters;a.sorters=new Ext.util.AbstractMixedCollection(false,function(a){return a.id||a.property});if(b){a.sorters.addAll(a.decodeSorters(b))}},sort:function(a,b,c,d){var e=this,f,g;if(Ext.isArray(a)){d=c;c=b;g=a}else if(Ext.isObject(a)){d=c;c=b;g=[a]}else if(Ext.isString(a)){f=e.sorters.get(a);if(!f){f={property:a,direction:b};g=[f]}else if(b===undefined){f.toggle()}else{f.setDirection(b)}}if(g&&g.length){g=e.decodeSorters(g);if(Ext.isString(c)){if(c==="prepend"){e.sorters.insert(0,g)}else{e.sorters.addAll(g)}}else{e.sorters.clear();e.sorters.addAll(g)}}if(d!==false){e.fireEvent("beforesort",e,g);e.onBeforeSort(g);a=e.sorters.items;if(a.length){e.doSort(e.generateComparator())}}return a},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){if(!Ext.isArray(a)){if(a===undefined){a=[]}else{a=[a]}}var b=a.length,c=Ext.util.Sorter,d=this.model?this.model.prototype.fields:null,e,f,g;for(g=0;g<b;g++){f=a[g];if(!(f instanceof c)){if(Ext.isString(f)){f={property:f}}Ext.applyIf(f,{root:this.sortRoot,direction:"ASC"});if(f.fn){f.sorterFn=f.fn}if(typeof f=="function"){f={sorterFn:f}}if(d&&!f.transform){e=d.get(f.property);f.transform=e&&e.sortType!==Ext.identityFn?e.sortType:undefined}a[g]=new Ext.util.Sorter(f)}}return a},getSorters:function(){return this.sorters.items},getFirstSorter:function(){var a=this.sorters.items,b=a.length,c=0,d;for(;c<b;++c){d=a[c];if(!d.isGrouper){return d}}return null}},function(){this.prototype.createComparator=this.createComparator});Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){var a=this;a.callParent(arguments);a.addEvents("sort");a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d=this,e,f,g=String(b).toUpperCase()=="DESC"?-1:1,h=[],i=d.keys,j=d.items,k;c=c||function(a,b){return a-b};for(e=0,f=j.length;e<f;e++){h[h.length]={key:i[e],value:j[e],index:e}}Ext.Array.sort(h,function(b,d){return c(b[a],d[a])*g||(b.index<d.index?-1:1)});for(e=0,f=h.length;e<f;e++){k=h[e];j[e]=k.value;i[e]=k.key;d.indexMap[k.key]=e}d.generation++;d.indexGeneration=d.generation;d.fireEvent("sort",d)},sortBy:function(a){var b=this,c=b.items,d,e=b.keys,f,g=c.length,h;for(h=0;h<g;h++){c[h].$extCollectionIndex=h}Ext.Array.sort(c,function(b,c){return a(b,c)||(b.$extCollectionIndex<c.$extCollectionIndex?-1:1)});for(h=0;h<g;h++){d=c[h];f=b.getKey(d);e[h]=f;b.indexMap[f]=h;delete c.$extCollectionIndex}b.generation++;b.indexGeneration=b.generation;b.fireEvent("sort",b,c,e)},findInsertionIndex:function(a,b){var c=this,d=c.items,e=0,f=d.length-1,g,h;if(!b){b=c.generateComparator()}while(e<=f){g=e+f>>1;h=b(a,d[g]);if(h>=0){e=g+1}else if(h<0){f=g-1}}return e},reorder:function(a){var b=this,c=b.items,d=0,e=c.length,f=[],g=[],h;b.suspendEvents();for(h in a){f[a[h]]=c[h]}for(d=0;d<e;d++){if(a[d]==undefined){g.push(c[d])}}for(d=0;d<e;d++){if(f[d]==undefined){f[d]=g.shift()}}b.clear();b.addAll(f);b.resumeEvents();b.fireEvent("sort",b)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var c=String(a).toUpperCase(),d=String(b).toUpperCase();return c>d?1:c<d?-1:0})}});Ext.define("Ext.fx.target.Target",{isAnimTarget:true,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id}});Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(a,b,c){if(c==undefined){if(b==="x"){c=a.getX()}else if(b==="y"){c=a.getY()}else if(b==="scrollTop"){c=a.getScroll().top}else if(b==="scrollLeft"){c=a.getScroll().left}else if(b==="height"){c=a.getHeight()}else if(b==="width"){c=a.getWidth()}else{c=a.getStyle(b)}}return c},getAttr:function(a,b){var c=this.target;return[[c,this.getElVal(c,a,b)]]},setAttr:function(a){var b=this.target,c=a.length,d,e,f,g,h,i;for(g=0;g<c;g++){d=a[g].attrs;for(e in d){if(d.hasOwnProperty(e)){i=d[e].length;for(h=0;h<i;h++){f=d[e][h];this.setElVal(f[0],e,f[1])}}}}},setElVal:function(a,b,c){if(b==="x"){a.setX(c)}else if(b==="y"){a.setY(c)}else if(b==="scrollTop"){a.scrollTo("top",c)}else if(b==="scrollLeft"){a.scrollTo("left",c)}else if(b==="width"){a.setWidth(c)}else if(b==="height"){a.setHeight(c)}else{a.setStyle(b,c)}}});Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(a,b){var c={attrs:[],duration:[],easing:[]},d=a.length,e,f,g,h,i,j,k,l,m;for(k=0;k<d;k++){f=a[k];i=f.duration;h=f.easing;f=f.attrs;for(g in f){if(Ext.Array.indexOf(c.attrs,g)==-1){c.attrs.push(g.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));c.duration.push(i+"ms");c.easing.push(h)}}}e=c.attrs.join(",");i=c.duration.join(",");h=c.easing.join(", ");for(k=0;k<d;k++){f=a[k].attrs;for(g in f){m=f[g].length;for(l=0;l<m;l++){j=f[g][l];j[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",b?"":e);j[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",b?"":i);j[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",b?"":h);j[0].setStyle(g,j[1]);if(b){j=j[0].dom.offsetWidth}else{j[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},j[0],{single:true})}}}}}});Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:true,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,b){var c=[],d=this.target,e=d.elements,f=e.length,g,h;for(g=0;g<f;g++){h=e[g];if(h){h=d.getElement(h);c.push([h,this.getElVal(h,a,b)])}}return c},setAttr:function(a){var b=this.target,c=a.length,d=b.elements,e=d.length,f,g,h,i,j,k,l,m;for(k=0;k<c;k++){h=a[k].attrs;for(i in h){if(h.hasOwnProperty(i)){m=h[i].length;for(l=0;l<m;l++){f=h[i][l][1];for(g=0;g<e;++g){el=d[g];if(el){el=b.getElement(el);this.setElVal(el,i,f)}}}}}}}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(a,b){var c;switch(b){case"rotate":case"rotation":c=a.attr.rotation;return{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case"scale":case"scaling":c=a.attr.scaling;return{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case"translate":case"translation":c=a.attr.translation;return{x:c.x||0,y:c.y||0};default:return a.attr[b]}},getAttr:function(a,b){return[[this.target,b!=undefined?b:this.getFromPrim(this.target,a)]]},setAttr:function(a){var b=a.length,c=[],d,e,f,g,h,i,j,k,l,m,n,o;for(k=0;k<b;k++){d=a[k].attrs;for(e in d){f=d[e];o=f.length;for(l=0;l<o;l++){h=f[l][0];g=f[l][1];if(e==="translate"||e==="translation"){j={x:g.x,y:g.y}}else if(e==="rotate"||e==="rotation"){m=g.x;if(isNaN(m)){m=null}n=g.y;if(isNaN(n)){n=null}j={degrees:g.degrees,x:m,y:n}}else if(e==="scale"||e==="scaling"){m=g.x;if(isNaN(m)){m=null}n=g.y;if(isNaN(n)){n=null}j={x:m,y:n,cx:g.cx,cy:g.cy}}else if(e==="width"||e==="height"||e==="x"||e==="y"){j=parseFloat(g)}else{j=g}i=Ext.Array.indexOf(c,h);if(i==-1){c.push([h,{}]);i=c.length-1}c[i][1][e]=j}}}b=c.length;for(k=0;k<b;k++){c[k][0].setAttributes(c[k][1])}this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(a,b){var c=[],d=[].concat(this.target.items),e=d.length,f,g;for(f=0;f<e;f++){g=d[f];c.push([g,b!=undefined?b:this.getFromPrim(g,a)])}return c}});Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,b!==undefined?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(a,b,c){var d=this,e=a.length,f,g,h,i,j,k,l,m,n,o,p={},q;for(i=0;i<e;i++){f=a[i].attrs;for(g in f){k=f[g].length;for(j=0;j<k;j++){h=f[g][j];q=p[d.setMethods[g]]||(p[d.setMethods[g]]={});q.target=h[0];q[g]=h[1]}}if(p.setPosition){h=p.setPosition;l=h.left===undefined?undefined:parseFloat(h.left);m=h.top===undefined?undefined:parseFloat(h.top);h.target.setPosition(l,m)}if(p.setPagePosition){h=p.setPagePosition;h.target.setPagePosition(h.x,h.y)
}if(p.setSize){h=p.setSize;n=h.width===undefined?h.target.getWidth():parseFloat(h.width);o=h.height===undefined?h.target.getHeight():parseFloat(h.height);h.target.el.setSize(n,o);if(c||d.dynamic){Ext.globalEvents.on({idle:Ext.Function.bind(h.target.setSize,h.target,[n,o]),single:true})}}if(p.setOpacity){h=p.setOpacity;h.target.el.setStyle("opacity",h.opacity)}}}});Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(a){var b=this.targets.get(a);if(b){return b.fxDefaults}return{}},setFxDefaults:function(a,b){var c=this.targets.get(a);if(c){c.fxDefaults=Ext.apply(c.fxDefaults||{},b)}},stopAnimation:function(a){var b=this,c=b.getFxQueue(a),d=c.length;while(d){c[d-1].end();d--}},getActiveAnimation:function(a){var b=this.getFxQueue(a);return b&&!!b.length?b[0]:false},hasFxBlock:function(a){var b=this.getFxQueue(a);return b&&b[0]&&b[0].block},getFxQueue:function(a){if(!a){return false}var b=this,c=b.fxQueue[a],d=b.targets.get(a);if(!d){return false}if(!c){b.fxQueue[a]=[];if(d.type!="element"){d.target.on("destroy",function(){b.fxQueue[a]=[]})}}return b.fxQueue[a]},queueFx:function(a){var b=this,c=a.target,d,e;if(!c){return}d=b.getFxQueue(c.getId());e=d.length;if(e){if(a.concurrent){a.paused=false}else{d[e-1].on("afteranimate",function(){a.paused=false})}}else{a.paused=false}a.on("afteranimate",function(){Ext.Array.remove(d,a);if(d.length===0){b.targets.remove(a.target)}if(a.remove){if(c.type=="element"){var e=Ext.get(c.id);if(e){e.remove()}}}},b,{single:true});d.push(a)}});Ext.define("Ext.fx.Manager",{singleton:true,mixins:{queue:Ext.fx.Queue},constructor:function(){var a=this;a.items=new Ext.util.MixedCollection;a.mixins.queue.constructor.call(a);a.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:true,createTarget:function(a){var b=this,c=!b.forceJS&&Ext.supports.Transitions,d;b.useCSS3=c;if(a){if(a.tagName||Ext.isString(a)||a.isFly){a=Ext.get(a);d=new Ext.fx.target["Element"+(c?"CSS":"")](a)}else if(a.dom){d=new Ext.fx.target["Element"+(c?"CSS":"")](a)}else if(a.isComposite){d=new Ext.fx.target["CompositeElement"+(c?"CSS":"")](a)}else if(a.isSprite){d=new Ext.fx.target.Sprite(a)}else if(a.isCompositeSprite){d=new Ext.fx.target.CompositeSprite(a)}else if(a.isComponent){d=new Ext.fx.target.Component(a)}else if(a.isAnimTarget){return a}else{return null}b.targets.add(d);return d}else{return null}},addAnim:function(a){var b=this,c=b.items,d=b.task;c.add(a.id,a);if(!d&&c.length){d=b.task={run:b.runner,interval:b.interval,scope:b};b.taskRunner.start(d)}},removeAnim:function(a){var b=this,c=b.items,d=b.task;c.removeAtKey(a.id);if(d&&!c.length){b.taskRunner.stop(d);delete b.task}},runner:function(){var a=this,b=a.items.getRange(),c=0,d=b.length,e;a.targetArr={};a.timestamp=new Date;for(;c<d;c++){e=b[c];if(e.isReady()){a.startAnim(e)}}for(c=0;c<d;c++){e=b[c];if(e.isRunning()){a.runAnim(e)}}a.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(!a){return}var b=this,c=b.useCSS3&&a.target.type=="element",d=b.timestamp-a.startTime,e=d>=a.duration,f,g;f=this.collectTargetData(a,d,c,e);if(c){a.target.setAttr(f.anims[a.id].attributes,true);b.collectTargetData(a,a.duration,c,e);a.paused=true;f=a.target.target;if(a.target.isComposite){f=a.target.target.last()}g={};g[Ext.supports.CSS3TransitionEnd]=a.lastFrame;g.scope=a;g.single=true;f.on(g)}},collectTargetData:function(a,b,c,d){var e=a.target.getId(),f=this.targetArr[e];if(!f){f=this.targetArr[e]={id:e,el:a.target,anims:{}}}f.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:d,attributes:[{duration:a.duration,easing:c&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]};return f},applyPendingAttrs:function(){var a=this.targetArr,b,c,d,e,f;for(c in a){if(a.hasOwnProperty(c)){b=a[c];for(f in b.anims){if(b.anims.hasOwnProperty(f)){d=b.anims[f];e=d.anim;if(d.attributes&&e.isRunning()){b.el.setAttr(d.attributes,false,d.isLastFrame);if(d.isLastFrame){e.lastFrame()}}}}}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){var b=this;a=Ext.apply(b,a||{});b.config=a;b.id=Ext.id(null,"ext-animator-");b.addEvents("beforeanimate","keyframe","afteranimate");b.mixins.observable.constructor.call(b,a);b.timeline=[];b.createTimeline(b.keyframes);if(b.target){b.applyAnimator(b.target);Ext.fx.Manager.addAnim(b)}},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(a){var b=this,c=[],d=b.to||{},e=b.duration,f,g,h,i,j,k;for(j in a){if(a.hasOwnProperty(j)&&b.animKeyFramesRE.test(j)){k={attrs:Ext.apply(a[j],d)};if(j=="from"){j=0}else if(j=="to"){j=100}k.pct=parseInt(j,10);c.push(k)}}Ext.Array.sort(c,b.sorter);i=c.length;for(h=0;h<i;h++){f=c[h-1]?e*(c[h-1].pct/100):0;g=e*(c[h].pct/100);b.timeline.push({duration:g-f,attrs:c[h].attrs})}},applyAnimator:function(a){var b=this,c=[],d=b.timeline,e=d.length,f,g,h,i,j;if(b.fireEvent("beforeanimate",b)!==false){for(j=0;j<e;j++){f=d[j];i=f.attrs;g=i.easing||b.easing;h=i.damper||b.damper;delete i.easing;delete i.damper;f=new Ext.fx.Anim({target:a,easing:g,damper:h,duration:f.duration,paused:true,to:i});c.push(f)}b.animations=c;b.target=f.target;for(j=0;j<e-1;j++){f=c[j];f.nextAnim=c[j+1];f.on("afteranimate",function(){this.nextAnim.paused=false});f.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},b)}c[e-1].on("afteranimate",function(){this.lastFrame()},b)}},start:function(a){var b=this,c=b.delay,d=b.delayStart,e;if(c){if(!d){b.delayStart=a;return}else{e=a-d;if(e<c){return}else{a=new Date(d.getTime()+c)}}}if(b.fireEvent("beforeanimate",b)!==false){b.startTime=a;b.running=true;b.animations[b.keyframeStep].paused=false}},lastFrame:function(){var a=this,b=a.iterations,c=a.currentIteration;c++;if(c<b){a.startTime=new Date;a.currentIteration=c;a.keyframeStep=0;a.applyAnimator(a.target);a.animations[a.keyframeStep].paused=false}else{a.currentIteration=0;a.end()}},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date-a.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(a,b,c,d,e,f){var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;function m(a){return((i*a+h)*a+g)*a}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;k<8;k++){f=m(e)-a;if(Math.abs(f)<b){return e}j=(3*i*e+2*h)*e+g;if(Math.abs(j)<1e-6){break}e=e-f/j}c=0;d=1;e=a;if(e<c){return c}if(e>d){return d}while(c<d){f=m(e);if(Math.abs(f-a)<b){return e}if(a>f){c=e}else{d=e}e=(d-c)/2+c}return e}return n(a,1/(200*f))},cubicBezier:function(a,b,c,d){var e=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,a,b,c,d,1)};e.toCSS3=function(){return"cubic-bezier("+[a,b,c,d].join(",")+")"};e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-d,1-a,1-b)};return e}});Ext.require("Ext.fx.CubicBezier",function(){var a=Math,b=a.PI,c=a.pow,d=a.sin,e=a.sqrt,f=a.abs,g=1.70158;Ext.define("Ext.fx.Easing",{singleton:true,linear:Ext.identityFn,ease:function(a){var b=.07813-a/2,d=-.25,g=e(.0066+b*b),h=g-b,i=c(f(h),1/3)*(h<0?-1:1),j=-g-b,k=c(f(j),1/3)*(j<0?-1:1),l=i+k+.25;return c(1-l,2)*3*l*.1+(1-l)*3*l*l+l*l*l},easeIn:function(a){return c(a,1.7)},easeOut:function(a){return c(a,.48)},easeInOut:function(a){var b=.48-a/1.04,d=e(.1734+b*b),g=d-b,h=c(f(g),1/3)*(g<0?-1:1),i=-d-b,j=c(f(i),1/3)*(i<0?-1:1),k=h+j+.5;return(1-k)*3*k*k+k*k*k},backIn:function(a){return a*a*((g+1)*a-g)},backOut:function(a){a=a-1;return a*a*((g+1)*a+g)+1},elasticIn:function(a){if(a===0||a===1){return a}var e=.3,f=e/4;return c(2,-10*a)*d((a-f)*(2*b)/e)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){var b=7.5625,c=2.75,d;if(a<1/c){d=b*a*a}else{if(a<2/c){a-=1.5/c;d=b*a*a+.75}else{if(a<2.5/c){a-=2.25/c;d=b*a*a+.9375}else{a-=2.625/c;d=b*a*a+.984375}}}return d}},function(){var a=Ext.fx.Easing.self,b=a.prototype;a.implement({"back-in":b.backIn,"back-out":b.backOut,"ease-in":b.easeIn,"ease-out":b.easeOut,"elastic-in":b.elasticIn,"elastic-out":b.elasticOut,"bounce-in":b.bounceIn,"bounce-out":b.bounceOut,"ease-in-out":b.easeInOut})})});Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(a,b,c){var d=this,e=Ext.Number.constrain;d.r=e(a,0,255);d.g=e(b,0,255);d.b=e(c,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return[a.r,a.g,a.b]},getHSL:function(){var a=this,b=a.r/255,c=a.g/255,d=a.b/255,e=Math.max(b,c,d),f=Math.min(b,c,d),g=e-f,h,i=0,j=.5*(e+f);if(f!=e){i=j<.5?g/(e+f):g/(2-e-f);if(b==e){h=60*(c-d)/g}else if(c==e){h=120+60*(d-b)/g}else{h=240+60*(b-c)/g}if(h<0){h+=360}if(h>=360){h-=360}}return[h,i,j]},getLighter:function(a){var b=this.getHSL();a=a||this.lightnessFactor;b[2]=Ext.Number.constrain(b[2]+a,0,1);return this.fromHSL(b[0],b[1],b[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var a=this,b=Math.round,c=b(a.r).toString(16),d=b(a.g).toString(16),e=b(a.b).toString(16);c=c.length==1?"0"+c:c;d=d.length==1?"0"+d:d;e=e.length==1?"0"+e:e;return["#",c,d,e].join("")},toHex:function(a){if(Ext.isArray(a)){a=a[0]}if(!Ext.isString(a)){return""}if(a.substr(0,1)==="#"){return a}var b=this.colorToHexRe.exec(a),c,d,e,f;if(Ext.isArray(b)){c=parseInt(b[2],10);d=parseInt(b[3],10);e=parseInt(b[4],10);f=e|d<<8|c<<16;return b[1]+"#"+("000000"+f.toString(16)).slice(-6)}else{return a}},fromString:function(a){var b,c,d,e,f=parseInt;if((a.length==4||a.length==7)&&a.substr(0,1)==="#"){b=a.match(this.hexRe);if(b){c=f(b[1],16)>>0;d=f(b[2],16)>>0;e=f(b[3],16)>>0;if(a.length==4){c+=c*16;d+=d*16;e+=e*16}}}else{b=a.match(this.rgbRe);if(b){c=b[1];d=b[2];e=b[3]}}return typeof c=="undefined"?undefined:new Ext.draw.Color(c,d,e)},getGrayscale:function(){return this.r*.3+this.g*.59+this.b*.11},fromHSL:function(a,b,c){var d,e,f,g,h=[],i=Math.abs,j=Math.floor;if(b==0||a==null){h=[c,c,c]}else{a/=60;d=b*(1-i(2*c-1));e=d*(1-i(a-2*j(a/2)-1));f=c-d/2;switch(j(a)){case 0:h=[d,e,0];break;case 1:h=[e,d,0];break;case 2:h=[0,d,e];break;case 3:h=[0,e,d];break;case 4:h=[e,0,d];break;case 5:h=[d,0,e];break}h=[h[0]+f,h[1]+f,h[2]+f]}return new Ext.draw.Color(h[0]*255,h[1]*255,h[2]*255)}},function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})});Ext.define("Ext.draw.Draw",{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(a,b){b=String(b).toLowerCase();return b=="object"&&a===Object(a)||b=="undefined"&&typeof a==b||b=="null"&&a===null||b=="array"&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},ellipsePath:function(a){var b=a.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",b.x,b.y-b.ry,b.rx,b.ry,b.y+b.ry)},rectPath:function(a){var b=a.attr;if(b.radius){return Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",b.x+b.radius,b.y,b.width-b.radius*2,b.radius,-b.radius,b.height-b.radius*2,b.radius*2-b.width,b.radius*2-b.height)}else{return Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",b.x,b.y,b.width+b.x,b.height+b.y)}},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(a){if(!a){return null}var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;if(d.is(a,"array")&&d.is(a[0],"array")){c=d.pathClone(a)}if(!c.length){String(a).replace(d.pathCommandRE,function(a,e,f){var g=[],h=e.toLowerCase();f.replace(d.pathValuesRE,function(a,b){b&&g.push(+b)});if(h=="m"&&g.length>2){c.push([e].concat(Ext.Array.splice(g,0,2)));h="l";e=e=="m"?"l":"L"}while(g.length>=b[h]){c.push([e].concat(Ext.Array.splice(g,0,b[h])));if(!b[h]){break}}})}c.toString=d.path2string;return c},mapPath:function(a,b){if(!b){return a}var c,d,e,f,g,h,i;a=this.path2curve(a);for(e=0,f=a.length;e<f;e++){i=a[e];for(g=1,h=i.length;g<h-1;g+=2){c=b.x(i[g],i[g+1]);d=b.y(i[g],i[g+1]);i[g]=c;i[g+1]=d}}return a},pathClone:function(a){var b=[],c,d,e,f;if(!this.is(a,"array")||!this.is(a&&a[0],"array")){a=this.parsePathString(a)}for(e=0,f=a.length;e<f;e++){b[e]=[];for(c=0,d=a[e].length;c<d;c++){b[e][c]=a[e][c]}}b.toString=this.path2string;return b},pathToAbsolute:function(a){if(!this.is(a,"array")||!this.is(a&&a[0],"array")){a=this.parsePathString(a)}var b=[],c=0,d=0,e=0,f=0,g=0,h=a.length,i,j,k,l;if(h&&a[0][0]=="M"){c=+a[0][1];d=+a[0][2];e=c;f=d;g++;b[0]=["M",c,d]}for(;g<h;g++){i=b[g]=[];j=a[g];if(j[0]!=j[0].toUpperCase()){i[0]=j[0].toUpperCase();switch(i[0]){case"A":i[1]=j[1];i[2]=j[2];i[3]=j[3];i[4]=j[4];i[5]=j[5];i[6]=+(j[6]+c);i[7]=+(j[7]+d);break;case"V":i[1]=+j[1]+d;break;case"H":i[1]=+j[1]+c;break;case"M":e=+j[1]+c;f=+j[2]+d;default:k=1;l=j.length;for(;k<l;k++){i[k]=+j[k]+(k%2?c:d)}}}else{k=0;l=j.length;for(;k<l;k++){b[g][k]=j[k]}}switch(i[0]){case"Z":c=e;d=f;break;case"H":c=i[1];break;case"V":d=i[1];break;case"M":j=b[g];l=j.length;e=j[l-2];f=j[l-1];default:j=b[g];l=j.length;c=j[l-2];d=j[l-1]}}b.toString=this.path2string;return b},pathToRelative:function(a){if(!this.is(a,"array")||!this.is(a&&a[0],"array")){a=this.parsePathString(a)}var b=[],c=0,d=0,e=0,f=0,g=0,h,i,j,k,l,m,n,o,p;if(a[0][0]=="M"){c=a[0][1];d=a[0][2];e=c;f=d;g++;b.push(["M",c,d])}for(j=g,n=a.length;j<n;j++){h=b[j]=[];i=a[j];if(i[0]!=i[0].toLowerCase()){h[0]=i[0].toLowerCase();switch(h[0]){case"a":h[1]=i[1];h[2]=i[2];h[3]=i[3];h[4]=i[4];h[5]=i[5];h[6]=+(i[6]-c).toFixed(3);h[7]=+(i[7]-d).toFixed(3);break;case"v":h[1]=+(i[1]-d).toFixed(3);break;case"m":e=i[1];f=i[2];default:for(k=1,o=i.length;k<o;k++){h[k]=+(i[k]-(k%2?c:d)).toFixed(3)}}}else{h=b[j]=[];if(i[0]=="m"){e=i[1]+c;f=i[2]+d}for(l=0,p=i.length;l<p;l++){b[j][l]=i[l]}}m=b[j].length;switch(b[j][0]){case"z":c=e;d=f;break;case"h":c+=+b[j][m-1];break;case"v":d+=+b[j][m-1];break;default:c+=+b[j][m-2];d+=+b[j][m-1]}}b.toString=this.path2string;return b},path2curve:function(a){var b=this,c=b.pathToAbsolute(a),d=c.length,e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f,g,h,i;for(f=0;f<d;f++){c[f]=b.command2curve(c[f],e);if(c[f].length>7){c[f].shift();i=c[f];while(i.length){Ext.Array.splice(c,f++,0,["C"].concat(Ext.Array.splice(i,0,6)))}Ext.Array.erase(c,f,1);d=c.length;f--}g=c[f];h=g.length;e.x=g[h-2];e.y=g[h-1];e.bx=parseFloat(g[h-4])||e.x;e.by=parseFloat(g[h-3])||e.y}return c},interpolatePaths:function(a,b){var c=this,d=c.pathToAbsolute(a),e=c.pathToAbsolute(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,b){if(a[b].length>7){a[b].shift();var c=a[b];while(c.length){Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(c,0,6)))}Ext.Array.erase(a,b,1);k=Math.max(d.length,e.length||0)}},i=function(a,b,c,f,g){if(a&&b&&a[g][0]=="M"&&b[g][0]!="M"){Ext.Array.splice(b,g,0,["M",f.x,f.y]);c.bx=0;c.by=0;c.x=a[g][1];c.y=a[g][2];k=Math.max(d.length,e.length||0)}},j,k,l,m,n,o;for(j=0,k=Math.max(d.length,e.length||0);j<k;j++){d[j]=c.command2curve(d[j],f);h(d,j);e[j]=c.command2curve(e[j],g);h(e,j);i(d,e,f,g,j);i(e,d,g,f,j);l=d[j];m=e[j];n=l.length;o=m.length;f.x=l[n-2];f.y=l[n-1];f.bx=parseFloat(l[n-4])||f.x;f.by=parseFloat(l[n-3])||f.y;g.bx=parseFloat(m[o-4])||g.x;g.by=parseFloat(m[o-3])||g.y;g.x=m[o-2];g.y=m[o-1]}return[d,e]},command2curve:function(a,b){var c=this;if(!a){return["C",b.x,b.y,b.x,b.y,b.x,b.y]}if(a[0]!="T"&&a[0]!="Q"){b.qx=b.qy=null}switch(a[0]){case"M":b.X=a[1];b.Y=a[2];break;case"A":a=["C"].concat(c.arc2curve.apply(c,[b.x,b.y].concat(a.slice(1))));break;case"S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(c.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(c.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(b.x,b.y,a[1],a[2],a[1],a[2]);break;case"H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case"V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;case"Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y);break}return a},quadratic2curve:function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},rotate:function(a,b,c){var d=Math.cos(c),e=Math.sin(c),f=a*d-b*e,g=a*e+b*d;return{x:f,y:g}},arc2curve:function(a,b,c,d,e,f,g,h,i,j){var k=this,l=Math.PI,m=k.radian,n=l*120/180,o=m*(+e||0),p=[],q=Math,r=q.cos,s=q.sin,t=q.sqrt,u=q.abs,v=q.asin,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y;if(!j){w=k.rotate(a,b,-o);a=w.x;b=w.y;w=k.rotate(h,i,-o);h=w.x;i=w.y;x=(a-h)/2;y=(b-i)/2;z=x*x/(c*c)+y*y/(d*d);if(z>1){z=t(z);c=z*c;d=z*d}A=c*c;B=d*d;C=(f==g?-1:1)*t(u((A*B-A*y*y-B*x*x)/(A*y*y+B*x*x)));D=C*c*y/d+(a+h)/2;E=C*-d*x/c+(b+i)/2;F=v(((b-E)/d).toFixed(7));G=v(((i-E)/d).toFixed(7));F=a<D?l-F:F;G=h<D?l-G:G;if(F<0){F=l*2+F}if(G<0){G=l*2+G}if(g&&F>G){F=F-l*2}if(!g&&G>F){G=G-l*2}}else{F=j[0];G=j[1];D=j[2];E=j[3]}H=G-F;if(u(H)>n){W=G;X=h;Y=i;G=F+n*(g&&G>F?1:-1);h=D+c*r(G);i=E+d*s(G);p=k.arc2curve(h,i,c,d,e,0,g,X,Y,[G,W,D,E])}H=G-F;I=r(F);J=s(F);K=r(G);L=s(G);M=q.tan(H/4);N=4/3*c*M;O=4/3*d*M;P=[a,b];Q=[a+N*J,b-O*I];R=[h+N*L,i-O*K];S=[h,i];Q[0]=2*P[0]-Q[0];Q[1]=2*P[1]-Q[1];if(j){return[Q,R,S].concat(p)}else{p=[Q,R,S].concat(p).join().split(",");T=[];V=p.length;for(U=0;U<V;U++){T[U]=U%2?k.rotate(p[U-1],p[U],o).y:k.rotate(p[U],p[U+1],o).x}return T}},rotateAndTranslatePath:function(a){var b=a.rotation.degrees,c=a.rotation.x,d=a.rotation.y,e=a.translation.x,f=a.translation.y,g,h,i,j,k,l=[];if(!b&&!e&&!f){return this.pathToAbsolute(a.attr.path)}e=e||0;f=f||0;g=this.pathToAbsolute(a.attr.path);for(h=g.length;h--;){i=l[h]=g[h].slice();if(i[0]=="A"){j=this.rotatePoint(i[6],i[7],b,c,d);i[6]=j.x+e;i[7]=j.y+f}else{k=1;while(i[k+1]!=null){j=this.rotatePoint(i[k],i[k+1],b,c,d);i[k]=j.x+e;i[k+1]=j.y+f;k+=2}}}return l},rotatePoint:function(a,b,c,d,e){if(!c){return{x:a,y:b}}d=d||0;e=e||0;a=a-d;b=b-e;c=c*this.radian;var f=Math.cos(c),g=Math.sin(c);return{x:a*f-b*g+d,y:a*g+b*f+e}},pathDimensions:function(a){if(!a||!(a+"")){return{x:0,y:0,width:0,height:0}}a=this.path2curve(a);var b=0,c=0,d=[],e=[],f=0,g=a.length,h,i,j,k,l,m;for(;f<g;f++){h=a[f];if(h[0]=="M"){b=h[1];c=h[2];d.push(b);e.push(c)}else{m=this.curveDim(b,c,h[1],h[2],h[3],h[4],h[5],h[6]);d=d.concat(m.min.x,m.max.x);e=e.concat(m.min.y,m.max.y);b=h[5];c=h[6]}}i=Math.min.apply(0,d);j=Math.min.apply(0,e);k=Math.max.apply(0,d);l=Math.max.apply(0,e);return{x:Math.round(i),y:Math.round(j),path:a,width:Math.round(k-i),height:Math.round(l-j)}},intersectInside:function(a,b,c){return(c[0]-b[0])*(a[1]-b[1])>(c[1]-b[1])*(a[0]-b[0])},intersectIntersection:function(a,b,c,d){var e=[],f=c[0]-d[0],g=c[1]-d[1],h=a[0]-b[0],i=a[1]-b[1],j=c[0]*d[1]-c[1]*d[0],k=a[0]*b[1]-a[1]*b[0],l=1/(f*i-g*h);e[0]=(j*h-k*f)*l;e[1]=(j*i-k*g)*l;return e},intersect:function(a,b){var c=this,d=0,e=b.length,f=b[e-1],g=a,h,i,j,k,l,m;for(;d<e;++d){h=b[d];l=g;g=[];i=l[l.length-1];m=0;k=l.length;for(;m<k;m++){j=l[m];if(c.intersectInside(j,f,h)){if(!c.intersectInside(i,f,h)){g.push(c.intersectIntersection(i,j,f,h))}g.push(j)}else if(c.intersectInside(i,f,h)){g.push(c.intersectIntersection(i,j,f,h))}i=j}f=h}return g},bezier:function(a,b,c,d,e){if(e===0){return a}else if(e===1){return d}var f=1-e,g=f*f*f,h=e/f;return g*(a+h*(3*b+h*(3*c+d*h)))},bezierDim:function(a,b,c,d){var e=[],f,g,h,i,j,k,l,m,n,o;if(a+3*c==d+3*b){f=a-b;f/=2*(a-b-b+c);if(f<1&&f>0){e.push(f)}}else{g=a-3*b+3*c-d;h=2*(a-b-b+c);i=a-b;j=h*h-4*g*i;k=g+g;if(j===0){f=h/k;if(f<1&&f>0){e.push(f)}}else if(j>0){l=Math.sqrt(j);f=(l+h)/k;if(f<1&&f>0){e.push(f)}f=(h-l)/k;if(f<1&&f>0){e.push(f)}}}m=Math.min(a,d);n=Math.max(a,d);for(o=0;o<e.length;o++){m=Math.min(m,this.bezier(a,b,c,d,e[o]));n=Math.max(n,this.bezier(a,b,c,d,e[o]))}return[m,n]},curveDim:function(a,b,c,d,e,f,g,h){var i=this.bezierDim(a,c,e,g),j=this.bezierDim(b,d,f,h);return{min:{x:i[0],y:j[0]},max:{x:i[1],y:j[1]}}},getAnchors:function(a,b,c,d,e,f,g){g=g||4;var h=Math,i=h.PI,j=i/2,k=h.abs,l=h.sin,m=h.cos,n=h.atan,o,p,q,r,s,t,u,v,w;o=(c-a)/g;p=(e-c)/g;if(d>=b&&d>=f||d<=b&&d<=f){q=r=j}else{q=n((c-a)/k(d-b));if(b<d){q=i-q}r=n((e-c)/k(d-f));if(f<d){r=i-r}}w=j-(q+r)%(i*2)/2;if(w>j){w-=i}q+=w;r+=w;s=c-o*l(q);t=d+o*m(q);u=c+p*l(r);v=d+p*m(r);if(d>b&&t<b||d<b&&t>b){s+=k(b-t)*(s-c)/(t-d);t=b}if(d>f&&v<f||d<f&&v>f){u-=k(f-v)*(u-c)/(v-d);v=f}return{x1:s,y1:t,x2:u,y2:v}},smooth:function(a,b){var c=this.path2curve(a),d=[c[0]],e=c[0][1],f=c[0][2],g,h,i=1,j=c.length,k=1,l=e,m=f,n,o,p,q,r,s,t;for(;i<j;i++){n=c[i];o=n.length;p=c[i-1];q=p.length;r=c[i+1];s=r&&r.length;if(n[0]=="M"){l=n[1];m=n[2];g=i+1;while(c[g][0]!="C"){g++}d.push(["M",l,m]);k=d.length;e=l;f=m;continue}if(n[o-2]==l&&n[o-1]==m&&(!r||r[0]=="M")){t=d[k].length;h=this.getAnchors(p[q-2],p[q-1],l,m,d[k][t-2],d[k][t-1],b);d[k][1]=h.x2;d[k][2]=h.y2}else if(!r||r[0]=="M"){h={x1:n[o-2],y1:n[o-1]}}else{h=this.getAnchors(p[q-2],p[q-1],n[o-2],n[o-1],r[s-2],r[s-1],b)}d.push(["C",e,f,h.x1,h.y1,n[o-2],n[o-1]]);e=h.x2;f=h.y2}return d},findDotAtSegment:function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:Math.pow(j,3)*a+Math.pow(j,2)*3*i*c+j*3*i*i*e+Math.pow(i,3)*g,y:Math.pow(j,3)*b+Math.pow(j,2)*3*i*d+j*3*i*i*f+Math.pow(i,3)*h}},snapEnds:function(a,b,c,d){if(Ext.isDate(a)){return this.snapEndsByDate(a,b,c)}var e=(b-a)/c,f=Math.floor(Math.log(e)/Math.LN10)+1,g=Math.pow(10,f),h,i,j=Math.round(e%g*Math.pow(10,2-f)),k=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],l=0,m,n,o,p,q=1e9,r=k.length;i=Math.floor(a/g)*g;if(a==i&&i>0){i=Math.floor((a-g/10)/g)*g}if(d){for(o=0;o<r;o++){m=k[o][0];n=m-j<0?1e6:(m-j)/k[o][1];if(n<q){p=m;q=n}}e=Math.floor(e*Math.pow(10,-f))*Math.pow(10,f)+p*Math.pow(10,f-2);if(a<0&&b>=0){h=0;while(h>a){h-=e;l++}a=+h.toFixed(10);h=0;while(h<b){h+=e;l++}b=+h.toFixed(10)}else{h=a=i;while(h<b){h+=e;l++}}b=+h.toFixed(10)}else{a=i;l=c}return{from:a,to:b,power:f,step:e,steps:l}},snapEndsByDate:function(a,b,c,d){var e=false,f=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],g=f.length,h=false,i,j,k,l;for(l=0;l<g;l++){i=f[l];if(!h){for(j=0;j<i[1].length;j++){if(b<Ext.Date.add(a,i[0],i[1][j]*c)){e=[i[0],i[1][j]];h=true;break}}}}if(!e){k=this.snapEnds(a.getFullYear(),b.getFullYear()+1,c,d);e=[Date.YEAR,Math.round(k.step)]}return this.snapEndsByDateAndStep(a,b,e,d)},snapEndsByDateAndStep:function(a,b,c,d){var e=[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()],f,g,h,i,j,k,l,m,n=c[0],o=c[1];if(d){g=a}else{switch(n){case Ext.Date.MILLI:g=new Date(e[0],e[1],e[2],e[3],e[4],e[5],Math.floor(e[6]/o)*o);break;case Ext.Date.SECOND:g=new Date(e[0],e[1],e[2],e[3],e[4],Math.floor(e[5]/o)*o,0);break;case Ext.Date.MINUTE:g=new Date(e[0],e[1],e[2],e[3],Math.floor(e[4]/o)*o,0,0);break;case Ext.Date.HOUR:g=new Date(e[0],e[1],e[2],Math.floor(e[3]/o)*o,0,0,0);break;case Ext.Date.DAY:g=new Date(e[0],e[1],Math.floor((e[2]-1)/o)*o+1,0,0,0,0);break;case Ext.Date.MONTH:g=new Date(e[0],Math.floor(e[1]/o)*o,1,0,0,0,0);break;default:g=new Date(Math.floor(e[0]/o)*o,0,1,0,0,0,0);break}}m=n===Ext.Date.MONTH&&(o==1/2||o==1/3||o==1/4);f=m?[]:0;h=new Date(g);while(h<b){if(m){i=new Date(h);j=i.getFullYear();k=i.getMonth();l=i.getDate();switch(o){case 1/2:if(l>=15){l=1;if(++k>11){j++}}else{l=15}break;case 1/3:if(l>=20){l=1;if(++k>11){j++}}else{if(l>=10){l=20}else{l=10}}break;case 1/4:if(l>=22){l=1;if(++k>11){j++}}else{if(l>=15){l=22}else{if(l>=8){l=15}else{l=8}}}break}h.setYear(j);h.setMonth(k);h.setDate(l);f.push(new Date(h))}else{h=Ext.Date.add(h,n,o);f++}}if(d){h=b}if(m){return{from:+g,to:+h,steps:f}}else{return{from:+g,to:+h,step:(h-g)/f,steps:f}}},sorter:function(a,b){return a.offset-b.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},withinBox:function(a,b,c){c=c||{};return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},parseGradient:function(a){var b=this,c=a.type||"linear",d=a.angle||0,e=b.radian,f=a.stops,g=[],h,i,j,k;if(c=="linear"){i=[0,0,Math.cos(d*e),Math.sin(d*e)];j=1/(Math.max(Math.abs(i[2]),Math.abs(i[3]))||1);i[2]*=j;i[3]*=j;if(i[2]<0){i[0]=-i[2];i[2]=0}if(i[3]<0){i[1]=-i[3];i[3]=0}}for(h in f){if(f.hasOwnProperty(h)&&b.stopsRE.test(h)){k={offset:parseInt(h,10),color:Ext.draw.Color.toHex(f[h].color)||"#ffffff",opacity:f[h].opacity||1};g.push(k)}}Ext.Array.sort(g,b.sorter);if(c=="linear"){return{id:a.id,type:c,vector:i,stops:g}}else{return{id:a.id,type:c,centerX:a.centerX,centerY:a.centerY,focalX:a.focalX,focalY:a.focalY,radius:a.radius,vector:i,stops:g}}}});Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(a,b,c,d,e){c=typeof c=="number"?c:1;var f=this.unitRE,g=f.exec(a),h,i;if(g){a=g[1];i=g[2];if(!this.scrollRE.test(e)&&!i&&this.pixelDefaultsRE.test(e)){i="px"}}a=+a||0;g=f.exec(b);if(g){b=g[1];i=g[2]||i}b=+b||0;h=d!=null?d:a;return{from:a,delta:(b-h)*c,units:i}},get:function(a,b,c,d,e){var f=a.length,g=[],h,i,j,k,l;for(h=0;h<f;h++){if(d){i=d[h][1].from}if(Ext.isArray(a[h][1])&&Ext.isArray(b)){j=[];k=0;l=a[h][1].length;for(;k<l;k++){j.push(this.computeDelta(a[h][1][k],b[k],c,i,e))}g.push([a[h][0],j])}else{g.push([a[h][0],this.computeDelta(a[h][1],b,c,i,e)])}}return g},set:function(a,b){var c=a.length,d=[],e,f,g,h,i;for(e=0;e<c;e++){f=a[e][1];if(Ext.isArray(f)){g=[];i=0;h=f.length;for(;i<h;i++){g.push(f[i].from+f[i].delta*b+(f[i].units||0))}d.push([a[e][0],g])}else{d.push([a[e][0],f.from+f.delta*b+(f.units||0)])}}return d}},stringHandler:{computeDelta:function(a,b,c,d,e){return{from:a,delta:b}},get:function(a,b,c,d,e){var f=a.length,g=[],h,i,j,k,l;for(h=0;h<f;h++){g.push([a[h][0],this.computeDelta(a[h][1],b,c,i,e)])}return g},set:function(a,b){var c=a.length,d=[],e,f,g,h,i;for(e=0;e<c;e++){f=a[e][1];d.push([a[e][0],f.delta])}return d}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(a,b){b=typeof b=="number"?b:1;var c=false,d=[this.hexRE,this.rgbRE,this.hex3RE],e=d.length,f,g,h,i;for(i=0;i<e;i++){h=d[i];g=i%2===0?16:10;f=h.exec(a);if(f&&f.length===4){if(i===2){f[1]+=f[1];f[2]+=f[2];f[3]+=f[3]}c={red:parseInt(f[1],g),green:parseInt(f[2],g),blue:parseInt(f[3],g)};break}}return c||a},computeDelta:function(a,b,c,d){a=this.parseColor(a);b=this.parseColor(b,c);var e=d?d:a,f=typeof e,g=typeof b;if(f=="string"||f=="undefined"||g=="string"||g=="undefined"){return b||e}return{from:a,delta:{red:Math.round((b.red-e.red)*c),green:Math.round((b.green-e.green)*c),blue:Math.round((b.blue-e.blue)*c)}}},get:function(a,b,c,d){var e=a.length,f=[],g,h;for(g=0;g<e;g++){if(d){h=d[g][1].from}f.push([a[g][0],this.computeDelta(a[g][1],b,c,h)])}return f},set:function(a,b){var c=a.length,d=[],e,f,g,h,i;for(e=0;e<c;e++){f=a[e][1];if(f){h=f.from;i=f.delta;f=typeof f=="object"&&"red"in f?"rgb("+f.red+", "+f.green+", "+f.blue+")":f;f=typeof f=="object"&&f.length?f[0]:f;if(typeof f=="undefined"){return[]}g=typeof f=="string"?f:"rgb("+[(h.red+Math.round(i.red*b))%256,(h.green+Math.round(i.green*b))%256,(h.blue+Math.round(i.blue*b))%256].join(",")+")";d.push([a[e][0],g])}}return d}},object:{interpolate:function(a,b){b=typeof b=="number"?b:1;var c={},d;for(d in a){c[d]=parseFloat(a[d])*b}return c},computeDelta:function(a,b,c,d){a=this.interpolate(a);b=this.interpolate(b,c);var e=d?d:a,f={},g;for(g in b){f[g]=b[g]-e[g]}return{from:a,delta:f}},get:function(a,b,c,d){var e=a.length,f=[],g,h;for(g=0;g<e;g++){if(d){h=d[g][1].from}f.push([a[g][0],this.computeDelta(a[g][1],b,c,h)])}return f},set:function(a,b){var c=a.length,d=[],e={},f,g,h,i,j;for(f=0;f<c;f++){i=a[f][1];g=i.from;h=i.delta;for(j in g){e[j]=g[j]+h[j]*b}d.push([a[f][0],e])}return d}},path:{computeDelta:function(a,b,c,d){c=typeof c=="number"?c:1;var e;a=+a||0;b=+b||0;e=d!=null?d:a;return{from:a,delta:(b-e)*c}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0])){a=Ext.draw.Draw.parsePathString(a)}return a},get:function(a,b,c,d){var e=this.forcePath(b),f=[],g=a.length,h,i,j,k,l,m,n,o,p;for(j=0;j<g;j++){p=this.forcePath(a[j][1]);k=Ext.draw.Draw.interpolatePaths(p,e);p=k[0];e=k[1];h=p.length;o=[];for(m=0;m<h;m++){k=[p[m][0]];i=p[m].length;for(n=1;n<i;n++){l=d&&d[0][1][m][n].from;k.push(this.computeDelta(p[m][n],e[m][n],c,l))}o.push(k)}f.push([a[j][0],o])}return f},set:function(a,b){var c=a.length,d=[],e,f,g,h,i,j,k,l;for(e=0;e<c;e++){j=a[e][1];h=[];k=j.length;for(f=0;f<k;f++){i=[j[f][0]];l=j[f].length;for(g=1;g<l;g++){i.push(j[f][g].from+j[f][g].delta*b)}h.push(i.join(","))}d.push([a[e][0],h.join(",")])}return d}}}},function(){var a=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],b=a.length,c=0,d;for(;c<b;c++){d=a[c];this[d]=this.color}a=["cursor"];b=a.length;c=0;for(;c<b;c++){d=a[c];this[d]=this.stringHandler}});Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var b=this,c;a=a||{};if(a.keyframes){return new Ext.fx.Animator(a)}Ext.apply(b,a);if(b.from===undefined){b.from={}}b.propHandlers={};b.config=a;b.target=Ext.fx.Manager.createTarget(b.target);b.easingFn=Ext.fx.Easing[b.easing];b.target.dynamic=b.dynamic;if(!b.easingFn){b.easingFn=String(b.easing).match(b.bezierRE);if(b.easingFn&&b.easingFn.length==5){c=b.easingFn;b.easingFn=Ext.fx.CubicBezier.cubicBezier(+c[1],+c[2],+c[3],+c[4])}}b.id=Ext.id(null,"ext-anim-");b.addEvents("beforeanimate","afteranimate","lastframe");b.mixins.observable.constructor.call(b);Ext.fx.Manager.addAnim(b)},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var a=this,b=a.from,c=a.to,d=a.initialFrom||{},e={},f,g,h,i;for(i in c){if(c.hasOwnProperty(i)){f=a.target.getAttr(i,b[i]);g=c[i];if(!Ext.fx.PropertyHandler[i]){if(Ext.isObject(g)){h=a.propHandlers[i]=Ext.fx.PropertyHandler.object}else{h=a.propHandlers[i]=Ext.fx.PropertyHandler.defaultHandler}}else{h=a.propHandlers[i]=Ext.fx.PropertyHandler[i]}e[i]=h.get(f,g,a.damper,d[i],i)}}a.currentAttrs=e},start:function(a){var b=this,c=b.delay,d=b.delayStart,e;if(c){if(!d){b.delayStart=a;return}else{e=a-d;if(e<c){return}else{a=new Date(d.getTime()+c)}}}if(b.fireEvent("beforeanimate",b)!==false){b.startTime=a;if(!b.paused&&!b.currentAttrs){b.initAttrs()}b.running=true;b.frameCount=0
}},runAnim:function(a){var b=this,c=b.currentAttrs,d=b.duration,e=b.easingFn,f=b.propHandlers,g={},h,i,j,k;if(a>=d){a=d;k=true}if(b.reverse){a=d-a}for(j in c){if(c.hasOwnProperty(j)){i=c[j];h=k?1:e(a/d);g[j]=f[j].set(i,h)}}b.frameCount++;return g},lastFrame:function(){var a=this,b=a.iterations,c=a.currentIteration;c++;if(c<b){if(a.alternate){a.reverse=!a.reverse}a.startTime=new Date;a.currentIteration=c;a.paused=false}else{a.currentIteration=0;a.end();a.fireEvent("lastframe",a,a.startTime)}},endWasCalled:0,end:function(){if(this.endWasCalled++){return}var a=this;a.startTime=0;a.paused=false;a.running=false;Ext.fx.Manager.removeAnim(a);a.fireEvent("afteranimate",a,a.startTime);Ext.callback(a.callback,a.scope,[a,a.startTime])},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=true;Ext.define("Ext.util.Animate",{isAnimate:true,animate:function(a){var b=this;if(Ext.fx.Manager.hasFxBlock(b.id)){return b}Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a)));return this},anim:function(a){if(!Ext.isObject(a)){return a?{}:false}var b=this;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));return Ext.apply({target:b,paused:true},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()});Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var a=this,b;if(a.hasOwnProperty("childEls")){b=a.childEls;delete a.childEls;a.addChildEls.apply(a,b)}},destroy:function(){var a=this,b=a.getChildEls(),c,d,e,f;for(e=b.length;e--;){d=b[e];if(typeof d!="string"){d=d.name}c=a[d];if(c){a[d]=null;c.remove()}}},addChildEls:function(){var a=this,b=arguments;if(a.hasOwnProperty("childEls")){a.childEls.push.apply(a.childEls,b)}else{a.childEls=a.getChildEls().concat(Array.prototype.slice.call(b))}a.prune(a.childEls,false)},applyChildEls:function(a,b){var c=this,d=c.getChildEls(),e,f,g,h,i;e=(b||c.id)+"-";for(g=d.length;g--;){f=d[g];if(typeof f=="string"){i=a.getById(e+f)}else{if(h=f.select){i=Ext.select(h,true,a.dom)}else if(h=f.selectNode){i=Ext.get(Ext.DomQuery.selectNode(h,a.dom))}else{i=a.getById(f.id||e+f.itemId)}f=f.name}c[f]=i}},getChildEls:function(){var a=this,b;if(a.hasOwnProperty("childEls")){return a.childEls}b=a.self;return b.$childEls||a.getClassChildEls(b)},getClassChildEls:function(a){var b=this,c=a.$childEls,d,e,f,g,h,i,j,k,l,m,n;if(!c){m=a.superclass;if(m){m=m.self;k=[m.$childEls||b.getClassChildEls(m)];n=m.prototype.mixins||{}}else{k=[];n={}}l=a.prototype;i=l.mixins;for(j in i){if(i.hasOwnProperty(j)&&!n.hasOwnProperty(j)){h=i[j].self;k.push(h.$childEls||b.getClassChildEls(h))}}k.push(l.hasOwnProperty("childEls")&&l.childEls);for(e=0,f=k.length;e<f;++e){d=k[e];if(d&&d.length){if(!c){c=d}else{if(!g){g=true;c=c.slice(0)}c.push.apply(c,d)}}}a.$childEls=c=c?b.prune(c,!g):[]}return c},prune:function(a,b){var c=a.length,d={},e;while(c--){e=a[c];if(typeof e!="string"){e=e.name}if(!d[e]){d[e]=1}else{if(b){b=false;a=a.slice(0)}Ext.Array.erase(a,c,1)}}return a},removeChildEls:function(a){var b=this,c=b.getChildEls(),d=b.childEls=[],e,f,g;for(f=0,e=c.length;f<e;++f){g=c[f];if(!a(g)){d.push(g)}}}});Ext.define("Ext.util.Renderable",{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.plainTableCls,'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var a=this,b={},c=a.protoEl,d=a.el,e,f,g,h;a.finishRenderChildren();if(a.contentEl){f=Ext.baseCSSPrefix;g=f+"hide-";h=Ext.get(a.contentEl);h.removeCls([f+"hidden",g+"display",g+"offsets",g+"nosize"]);a.getContentTarget().appendChild(h.dom)}c.writeTo(b);e=b.removed;if(e){d.removeCls(e)}e=b.cls;if(e.length){d.addCls(e)}e=b.style;if(b.style){d.setStyle(e)}a.protoEl=null;if(!a.ownerCt){a.updateLayout()}},afterFirstLayout:function(a,b){var c=this,d=c.x,e=c.y,f,g,h,i;if(!c.ownerLayout){f=Ext.isDefined(d);g=Ext.isDefined(e)}if(c.floating&&(!f||!g)){if(c.floatParent){h=c.floatParent.getTargetEl().getViewRegion();i=c.el.getAlignToXY(c.floatParent.getTargetEl(),"c-c");h.x=i[0]-h.x;h.y=i[1]-h.y}else{i=c.el.getAlignToXY(c.container,"c-c");h=c.container.translateXY(i[0],i[1])}d=f?d:h.x;e=g?e:h.y;f=g=true}if(f||g){c.setPosition(d,e)}c.onBoxReady(a,b)},applyRenderSelectors:function(){var a=this,b=a.renderSelectors,c=a.el,d=c.dom,e;a.applyChildEls(c);if(b){for(e in b){if(b.hasOwnProperty(e)&&b[e]){a[e]=Ext.get(Ext.DomQuery.selectNode(b[e],d))}}}},beforeRender:function(){var a=this,b=a.getTargetEl(),c=a.getOverflowEl(),d=a.getComponentLayout(),e=a.getOverflowStyle();a.frame=a.frame||a.alwaysFramed;if(!d.initialized){d.initLayout()}if(c){c.setStyle(e);a.overflowStyleSet=true}a.setUI(a.ui);if(a.disabled){a.disable(true)}},doApplyRenderTpl:function(a,b){var c=b.$comp,d;if(!c.rendered){d=c.initRenderTpl();d.applyOut(b.renderData,a)}},doAutoRender:function(){var a=this;if(!a.rendered){if(a.floating){a.render(document.body)}else{a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)}}},doRenderContent:function(a,b){var c=b.$comp;if(c.html){Ext.DomHelper.generateMarkup(c.html,a);delete c.html}if(c.tpl){if(!c.tpl.isTemplate){c.tpl=new Ext.XTemplate(c.tpl)}if(c.data){c.tpl.applyOut(c.data,a);delete c.data}}},doRenderFramingDockedItems:function(a,b,c){var d=b.$comp;if(!d.rendered&&d.doRenderDockedItems){b.renderData.$skipDockedItems=true;d.doRenderDockedItems.call(this,a,b,c)}},finishRender:function(a){var b=this,c,d,e;if(!b.el||b.$pid){if(b.container){e=b.container.getById(b.id,true)}else{e=Ext.getDom(b.id)}if(!b.el){b.wrapPrimaryEl(e)}else{delete b.$pid;if(!b.el.dom){b.wrapPrimaryEl(b.el)}e.parentNode.insertBefore(b.el.dom,e);Ext.removeNode(e)}}else if(!b.rendering){c=b.initRenderTpl();if(c){d=b.initRenderData();c.insertFirst(b.getTargetEl(),d)}}if(!b.container){b.container=Ext.get(b.el.dom.parentNode)}if(b.ctCls){b.container.addCls(b.ctCls)}b.onRender(b.container,a);if(!b.overflowStyleSet){b.getOverflowEl().setStyle(b.getOverflowStyle())}b.el.setVisibilityMode(Ext.Element[b.hideMode.toUpperCase()]);if(b.overCls){b.el.hover(b.addOverCls,b.removeOverCls,b)}if(b.hasListeners.render){b.fireEvent("render",b)}b.afterRender();if(b.hasListeners.afterrender){b.fireEvent("afterrender",b)}b.initEvents();if(b.hidden){b.el.hide()}},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var a=this,b=a.autoEl,c=a.getFrameInfo(),d={tag:"div",tpl:c?a.initFramingTpl(c.table):a.initRenderTpl()},e=a.protoEl,f,g,h,i,j,k;a.initStyles(e);e.writeTo(d);e.flush();if(Ext.isString(b)){d.tag=b}else{Ext.apply(d,b)}d.id=a.id;if(d.tpl){if(c){g=a.frameElNames;h=g.length;d.tplData=k=a.getFrameRenderData();k.renderData=a.initRenderData();j=k.fgid;for(f=0;f<h;f++){i=g[f];a.addChildEls({name:"frame"+i,id:j+i})}a.addChildEls({name:"frameBody",id:j+"MC"})}else{d.tplData=a.initRenderData()}}return d},initFramingTpl:function(a){var b=this.getFrameTpl(a);if(b&&!b.applyRenderTpl){this.setupFramingTpl(b)}return b},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}return a},getRenderTree:function(){var a=this;if(!a.hasListeners.beforerender||a.fireEvent("beforerender",a)!==false){a.beforeRender();a.rendering=true;if(a.el){return{tag:"div",id:a.$pid=Ext.id()}}return a.getElConfig()}return null},initContainer:function(a){var b=this;if(!a&&b.el){a=b.el.dom.parentNode;b.allowDomMove=false}b.container=a.dom?a:Ext.get(a);return b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame,childElCls:""},a.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");if(a&&!a.renderContent){this.setupRenderTpl(a)}return a},onRender:function(a,b){var c=this,d=c.x,e=c.y,f=null,g,h,i=c.el;c.applyRenderSelectors();c.rendering=null;c.rendered=true;if(d!=null){f={x:d}}if(e!=null){(f=f||{}).y=e}if(!c.getFrameInfo()&&Ext.isBorderBox){g=c.width;h=c.height;if(typeof g==="number"){f=f||{};f.width=g}if(typeof h==="number"){f=f||{};f.height=h}}c.lastBox=i.lastBox=f},render:function(a,b){var c=this,d=c.el&&(c.el=Ext.get(c.el)),e,f,g;Ext.suspendLayouts();a=c.initContainer(a);g=c.getInsertPosition(b);if(!d){f=c.getRenderTree();if(c.ownerLayout&&c.ownerLayout.transformItemRenderTree){f=c.ownerLayout.transformItemRenderTree(f)}if(f){if(g){d=Ext.DomHelper.insertBefore(g,f)}else{d=Ext.DomHelper.append(a,f)}c.wrapPrimaryEl(d)}}else{if(!c.hasListeners.beforerender||c.fireEvent("beforerender",c)!==false){c.beforeRender();c.initStyles(d);if(c.allowDomMove!==false){if(g){a.dom.insertBefore(d.dom,g)}else{a.dom.appendChild(d.dom)}}}else{e=true}}if(d&&!e){c.finishRender(b)}Ext.resumeLayouts(!c.hidden&&!a.isDetachedBody)},ensureAttachedToBody:function(a){var b=this,c;while(b.ownerCt){b=b.ownerCt}if(b.container.isDetachedBody){b.container=c=Ext.getBody();c.appendChild(b.el.dom);if(a){b.updateLayout()}if(typeof b.x=="number"||typeof b.y=="number"){b.setPosition(b.x,b.y)}}},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,true)},initFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,b=a.getFrameInfo(),c,d,e=a.frameElNames,f=e.length,g,h,i;if(b){c=a.getFrameTpl(b.table);h=a.getFrameRenderData();d=h.fgid;c.insertFirst(a.el,h);a.frameBody=a.el.down("."+a.frameCls+"-mc");a.removeChildEls(function(b){return b.id&&a.frameIdRegex.test(b.id)});for(g=0;g<f;g++){i=e[g];a["frame"+i]=a.el.getById(d+i)}}},getFrameRenderData:function(){var a=this,b=a.frameSize,c=(a.frameGenId||0)+1;a.frameGenId=c;return{$comp:a,fgid:a.id+"-frame"+c,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,frameElCls:""}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,b=a.frameSize&&a.frameSize.table,c=a.frameTL,d=a.frameBL,e=a.frameML,f=a.frameMC,g;a.initFrame();if(f){if(a.frame){g=a.frameMC.dom.className;f.insertAfter(a.frameMC);a.frameMC.remove();a.frameBody=a.frameMC=f;f.dom.className=g;if(b){a.el.query("> table")[1].remove()}else{if(c){c.remove()}if(d){d.remove()}if(e){e.remove()}}}}else if(a.frame){a.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var a=this,b=a.frameInfoCache,c=a.getFramingInfoCls()+"-frameInfo",d=b[c],e=Math.max,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;if(d==null){f=Ext.fly(a.getStyleProxy(c),"frame-style-el");h=f.getStyle("font-family");if(h){h=h.split("-");u=parseInt(h[1],10);v=parseInt(h[2],10);w=parseInt(h[3],10);x=parseInt(h[4],10);m=parseInt(h[5],10);n=parseInt(h[6],10);o=parseInt(h[7],10);p=parseInt(h[8],10);q=parseInt(h[9],10);r=parseInt(h[10],10);s=parseInt(h[11],10);t=parseInt(h[12],10);i=e(m,e(u,v));j=e(n,e(v,w));k=e(o,e(x,w));l=e(p,e(u,x));d={table:h[0].charAt(0)==="t",vertical:h[0].charAt(1)==="v",top:i,right:j,bottom:k,left:l,width:l+j,height:i+k,maxWidth:e(i,j,k,l),border:{top:m,right:n,bottom:o,left:p,width:p+n,height:m+o},padding:{top:q,right:r,bottom:s,left:t,width:t+r,height:q+s},radius:{tl:u,tr:v,br:w,bl:x}}}else{d=false}b[c]=d}a.frame=!!d;a.frameSize=d;return d},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(a){var b=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,true));b.className=a;return b},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}});Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(a){a=a||{};var b=this;Ext.apply(b,a);b.addEvents("statechange");b.state={};b.mixins.observable.constructor.call(b)},get:function(a,b){return typeof this.state[a]=="undefined"?b:this.state[a]},clear:function(a){var b=this;delete b.state[a];b.fireEvent("statechange",b,a,null)},set:function(a,b){var c=this;c.state[a]=b;c.fireEvent("statechange",c,a,b)},decodeValue:function(a){var b=this,c=/^(a|n|d|b|s|o|e)\:(.*)$/,d=c.exec(unescape(a)),e,f,g,h,i,j;if(!d||!d[1]){return}f=d[1];a=d[2];switch(f){case"e":return null;case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return a=="1";case"a":e=[];if(a!=""){h=a.split("^");i=h.length;for(j=0;j<i;j++){a=h[j];e.push(b.decodeValue(a))}}return e;case"o":e={};if(a!=""){h=a.split("^");i=h.length;for(j=0;j<i;j++){a=h[j];g=a.split("=");e[g[0]]=b.decodeValue(g[1])}}return e;default:return a}},encodeValue:function(a){var b="",c=0,d,e,f;if(a==null){return"e:1"}else if(typeof a=="number"){d="n:"+a}else if(typeof a=="boolean"){d="b:"+(a?"1":"0")}else if(Ext.isDate(a)){d="d:"+a.toGMTString()}else if(Ext.isArray(a)){for(e=a.length;c<e;c++){b+=this.encodeValue(a[c]);if(c!=e-1){b+="^"}}d="a:"+b}else if(typeof a=="object"){for(f in a){if(typeof a[f]!="function"&&a[f]!==undefined){b+=f+"="+this.encodeValue(a[f])+"^"}}d="o:"+b.substring(0,b.length-1)}else{d="s:"+a}return escape(d)}});Ext.define("Ext.state.Manager",{singleton:true,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(a,b){return this.provider.get(a,b)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});Ext.define("Ext.state.Stateful",{mixins:{observable:Ext.util.Observable},stateful:false,saveDelay:100,constructor:function(a){var b=this;a=a||{};if(a.stateful!==undefined){b.stateful=a.stateful}if(a.saveDelay!==undefined){b.saveDelay=a.saveDelay}b.stateId=b.stateId||a.stateId;if(!b.stateEvents){b.stateEvents=[]}if(a.stateEvents){b.stateEvents.concat(a.stateEvents)}this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave");b.mixins.observable.constructor.call(b);if(b.stateful!==false){b.addStateEvents(b.stateEvents);b.initState()}},addStateEvents:function(a){var b=this,c,d,e;if(b.stateful&&b.getStateId()){if(typeof a=="string"){a=Array.prototype.slice.call(arguments,0)}e=b.stateEventsByName||(b.stateEventsByName={});for(c=a.length;c--;){d=a[c];if(!e[d]){e[d]=1;b.on(d,b.onStateChange,b)}}}},onStateChange:function(){var a=this,b=a.saveDelay,c,d;if(!a.stateful){return}if(b){if(!a.stateTask){c=Ext.state.Stateful;d=c.runner||(c.runner=new Ext.util.TaskRunner);a.stateTask=d.newTask({run:a.saveState,scope:a,interval:b,repeat:1})}a.stateTask.start()}else{a.saveState()}},saveState:function(){var a=this,b=a.stateful&&a.getStateId(),c=a.hasListeners,d;if(b){d=a.getState()||{};if(!c.beforestatesave||a.fireEvent("beforestatesave",a,d)!==false){Ext.state.Manager.set(b,d);if(c.statesave){a.fireEvent("statesave",a,d)}}}},getState:function(){return null},applyState:function(a){if(a){Ext.apply(this,a)}},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var a=this,b=a.stateful&&a.getStateId(),c=a.hasListeners,d;if(b){d=Ext.state.Manager.get(b);if(d){d=Ext.apply({},d);if(!c.beforestaterestore||a.fireEvent("beforestaterestore",a,d)!==false){a.applyState(d);if(c.staterestore){a.fireEvent("staterestore",a,d)}}}}},savePropToState:function(a,b,c){var d=this,e=d[a],f=d.initialConfig;if(d.hasOwnProperty(a)){if(!f||f[a]!==e){if(b){b[c||a]=e}return true}}return false},savePropsToState:function(a,b){var c=this,d,e;if(typeof a=="string"){c.savePropToState(a,b)}else{for(d=0,e=a.length;d<e;++d){c.savePropToState(a[d],b)}}return b},destroy:function(){var a=this,b=a.stateTask;if(b){b.destroy();a.stateTask=null}a.clearListeners()}});Ext.define("Ext.AbstractComponent",{mixins:{positionable:Ext.util.Positionable,observable:Ext.util.Observable,animate:Ext.util.Animate,elementCt:Ext.util.ElementContainer,renderable:Ext.util.Renderable,state:Ext.state.Stateful},statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(a,b){var c=this.runningLayoutContext||this.pendingLayouts;if(c){c.cancelComponent(a,false,b)}},flushLayouts:function(){var a=this,b=a.pendingLayouts;if(b&&b.invalidQueue.length){a.pendingLayouts=null;a.runningLayoutContext=b;Ext.override(b,{runComplete:function(){a.runningLayoutContext=null;var b=this.callParent();if(Ext.globalEvents.hasListeners.afterlayout){Ext.globalEvents.fireEvent("afterlayout")}return b}});b.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(a){this.flushLayouts()}if(Ext.globalEvents.hasListeners.resumelayouts){Ext.globalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c=this,d=c.runningLayoutContext,e;if(d){d.queueInvalidate(a)}else{e=c.pendingLayouts||(c.pendingLayouts=new Ext.layout.Context);e.queueInvalidate(a);if(!b&&!c.layoutSuspendCount&&!a.isLayoutSuspended()){c.flushLayouts()}}}},isComponent:true,getAutoId:function(){this.autoGenId=true;return++Ext.AbstractComponent.AUTO_ID},deferLayouts:false,autoGenId:false,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:false,disabled:false,draggable:false,floating:false,hideMode:"display",autoShow:false,autoRender:false,allowDomMove:true,rendered:false,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:true,_isLayoutRoot:false,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",constructor:function(a){var b=this,c,d,e;if(a){Ext.apply(b,a);e=b.xhooks;if(e){delete b.xhooks;Ext.override(b,e)}}else{a={}}b.initialConfig=a;b.mixins.elementCt.constructor.call(b);b.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur");b.getId();b.setupProtoEl();if(b.cls){b.initialCls=b.cls;b.protoEl.addCls(b.cls)}if(b.style){b.initialStyle=b.style;b.protoEl.setStyle(b.style)}b.renderData=b.renderData||{};b.renderSelectors=b.renderSelectors||{};if(b.plugins){b.plugins=b.constructPlugins()}if(!b.hasListeners){b.hasListeners=new b.HasListeners}b.initComponent();Ext.ComponentManager.register(b);b.mixins.observable.constructor.call(b);b.mixins.state.constructor.call(b,a);this.addStateEvents("resize");if(b.plugins){for(c=0,d=b.plugins.length;c<d;c++){b.plugins[c]=b.initPlugin(b.plugins[c])}}b.loader=b.getLoader();if(b.renderTo){b.render(b.renderTo)}if(b.autoShow&&!b.isContained){b.show()}},initComponent:function(){this.plugins=this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var a=this,b=null,c=a.getSizeModel();if(c.width.configured){b=a.addPropertyToState(b,"width")}if(c.height.configured){b=a.addPropertyToState(b,"height")}return b},addPropertyToState:function(a,b,c){var d=this,e=arguments.length;if(e==3||d.hasOwnProperty(b)){if(e<3){c=d[b]}if(c!==d.initialConfig[b]){(a||(a={}))[b]=c}}return a},show:Ext.emptyFn,animate:function(a){var b=this,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;a=a||{};g=a.to||{};if(Ext.fx.Manager.hasFxBlock(b.id)){return b}c=Ext.isDefined(g.width);if(c){f=Ext.Number.constrain(g.width,b.minWidth,b.maxWidth)}d=Ext.isDefined(g.height);if(d){e=Ext.Number.constrain(g.height,b.minHeight,b.maxHeight)}if(!a.dynamic&&(c||d)){j=(a.from?a.from.width:undefined)||b.getWidth();k=j;l=(a.from?a.from.height:undefined)||b.getHeight();m=l;n=false;if(d&&e>l){m=e;n=true}if(c&&f>j){k=f;n=true}if(d||c){r=b.el.getStyle("overtflow");if(r!=="hidden"){b.el.setStyle("overflow","hidden")}}if(n){h=!Ext.isNumber(b.width);i=!Ext.isNumber(b.height);b.setSize(k,m);b.el.setSize(j,l);if(h){delete b.width}if(i){delete b.height}}if(c){g.width=f}if(d){g.height=e}}o=b.constrain;p=b.constrainHeader;if(o||p){b.constrain=b.constrainHeader=false;q=a.callback;a.callback=function(){b.constrain=o;b.constrainHeader=p;if(q){q.call(a.scope||b,arguments)}if(r!=="hidden"){b.el.setStyle("overflow",r)}}}return b.mixins.animate.animate.apply(b,arguments)},setHiddenState:function(a){var b=this.getHierarchyState();this.hidden=a;if(a){b.hidden=true}else{delete b.hidden}},onHide:function(){if(this.ownerLayout){this.updateLayout({isRoot:false})}},onShow:function(){this.updateLayout({isRoot:false})},constructPlugin:function(a){var b=this;if(typeof a=="string"){a=Ext.PluginManager.create({},a,b)}else{a=Ext.PluginManager.create(a,null,b)}return a},constructPlugins:function(){var a=this,b=a.plugins,c,d,e;if(b){c=[];if(!Ext.isArray(b)){b=[b]}for(d=0,e=b.length;d<e;d++){c[d]=a.constructPlugin(b[d])}}a.pluginsInitialized=true;return c},initPlugin:function(a){a.init(this);return a},addPlugin:function(a){var b=this;a=b.constructPlugin(a);if(b.plugins){b.plugins.push(a)}else{b.plugins=[a]}if(b.pluginsInitialized){b.initPlugin(a)}return a},removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},findPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;b<d;b++){if(c[b].ptype===a){return c[b]}}},getPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;b<d;b++){if(c[b].pluginId===a){return c[b]}}},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(a){var b=this;if(!b.floatingDescendants){b.floatingDescendants=new Ext.ZIndexManager(b)}b.floatingDescendants.register(a)},unregisterFloatingItem:function(a){var b=this;if(b.floatingDescendants){b.floatingDescendants.unregister(a)}},layoutSuspendCount:0,suspendLayouts:function(){var a=this;if(!a.rendered){return}if(++a.layoutSuspendCount==1){a.suspendLayout=true}},resumeLayouts:function(a){var b=this;if(!b.rendered){return}if(!--b.layoutSuspendCount){b.suspendLayout=false;if(a&&!b.isLayoutSuspended()){b.updateLayout(a)}}},setupProtoEl:function(){var a=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:a.join(" ")})},initCls:function(){var a=this,b=[a.baseCls,a.getComponentLayout().targetCls];if(Ext.isDefined(a.cmpCls)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.")}a.componentCls=a.cmpCls;delete a.cmpCls}if(a.componentCls){b.push(a.componentCls)}else{a.componentCls=a.baseCls}return b},setUI:function(a){var b=this,c=b.uiCls,d=b.activeUI,e;if(a===d){return}if(d){e=b.removeClsWithUI(c,true);if(e.length){b.removeCls(e)}b.removeUIFromElement()}else{b.uiCls=[]}b.ui=a;b.activeUI=a;b.addUIToElement();e=b.addClsWithUI(c,true);if(e.length){b.addCls(e)}if(b.rendered){b.updateLayout()}},addClsWithUI:function(a,b){var c=this,d=[],e=0,f=c.uiCls=Ext.Array.clone(c.uiCls),g=c.activeUI,h,i;if(typeof a==="string"){a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a)}h=a.length;for(;e<h;e++){i=a[e];if(i&&!c.hasUICls(i)){f.push(i);if(g){d=d.concat(c.addUIClsToElement(i))}}}if(b!==true&&g){c.addCls(d)}return d},removeClsWithUI:function(a,b){var c=this,d=[],e=0,f=Ext.Array,g=f.remove,h=c.uiCls=f.clone(c.uiCls),i=c.activeUI,j,k;if(typeof a==="string"){a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a)}j=a.length;for(e=0;e<j;e++){k=a[e];if(k&&c.hasUICls(k)){g(h,k);if(i){d=d.concat(c.removeUIClsFromElement(k))}}}if(b!==true&&i){c.removeCls(d)}return d},hasUICls:function(a){var b=this,c=b.uiCls||[];return Ext.Array.contains(c,a)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(a){var b=this,c=b.baseCls+"-"+b.ui+"-"+a,d=[Ext.baseCSSPrefix+a,b.baseCls+"-"+a,c],e,f,g,h,i;if(b.rendered&&b.frame&&!Ext.supports.CSS3BorderRadius){e=b.frameElementsArray;f=e.length;for(g=0;g<f;g++){i=e[g];h=b["frame"+i.toUpperCase()];if(h){h.addCls(c+"-"+i)}}}return d},removeUIClsFromElement:function(a){var b=this,c=b.baseCls+"-"+b.ui+"-"+a,d=[Ext.baseCSSPrefix+a,b.baseCls+"-"+a,c],e,f,g,h,i;if(b.rendered&&b.frame&&!Ext.supports.CSS3BorderRadius){e=b.frameElementsArray;f=e.length;for(g=0;g<f;g++){i=e[g];h=b["frame"+i.toUpperCase()];if(h){h.removeCls(c+"-"+i)}}}return d},addUIToElement:function(){var a=this,b=a.baseCls+"-"+a.ui,c,d,e,f,g;a.addCls(b);if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;d=c.length;for(e=0;e<d;e++){g=c[e];f=a["frame"+g.toUpperCase()];if(f){f.addCls(b+"-"+g)}}}},removeUIFromElement:function(){var a=this,b=a.baseCls+"-"+a.ui,c,d,e,f,g;a.removeCls(b);if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;d=c.length;for(e=0;e<d;e++){g=c[e];f=a["frame"+g.toUpperCase()];if(f){f.removeCls(b+"-"+g)}}}},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(a){var b=this,c=Ext.Element,d=b.margin,e=b.border,f=b.cls,g=b.style,h=b.x,i=b.y,j,k;b.initPadding(a);if(d!=null){a.setStyle("margin",this.unitizeBox(d===true?5:d))}if(e!=null){b.setBorder(e,a)}if(f&&f!=b.initialCls){a.addCls(f);b.cls=b.initialCls=null}if(g&&g!=b.initialStyle){a.setStyle(g);b.style=b.initialStyle=null}if(h!=null){a.setStyle(b.horizontalPosProp,typeof h=="number"?h+"px":h)}if(i!=null){a.setStyle("top",typeof i=="number"?i+"px":i)}if(Ext.isBorderBox&&(!b.ownerCt||b.floating)){a.addCls(b.borderBoxCls)}if(!b.getFrameInfo()){j=b.width;k=b.height;if(j!=null){if(typeof j==="number"){if(Ext.isBorderBox){a.setStyle("width",j+"px")}}else{a.setStyle("width",j)}}if(k!=null){if(typeof k==="number"){if(Ext.isBorderBox){a.setStyle("height",k+"px")}}else{a.setStyle("height",k)}}}},initPadding:function(a){var b=this,c=b.padding;if(c!=null){if(b.layout&&b.layout.managePadding&&b.contentPaddingProperty==="padding"){a.setStyle("padding",0)}else{a.setStyle("padding",this.unitizeBox(c===true?5:c))}}},parseBox:function(a){return Ext.dom.Element.parseBox(a)},unitizeBox:function(a){return Ext.dom.Element.unitizeBox(a)},setMargin:function(a,b){var c=this;if(c.rendered){if(!a&&a!==0){a=""}else{if(a===true){a=5}a=this.unitizeBox(a)}c.getTargetEl().setStyle("margin",a);if(!b){c.updateLayout()}}else{c.margin=a}},initEvents:function(){var a=this,b=a.afterRenderEvents,c,d,e,f,g;if(b){for(e in b){d=a[e];if(d&&d.on){c=b[e];for(f=0,g=c.length;f<g;++f){a.mon(d,c[f])}}}}a.addFocusListener()},addFocusListener:function(){var a=this,b=a.getFocusEl(),c;if(b){if(b.isComponent){return b.addFocusListener()}c=b.needsTabIndex();if(!a.focusListenerAdded&&(!c||Ext.FocusManager.enabled)){if(c){b.dom.tabIndex=-1}b.on({focus:a.onFocus,blur:a.onBlur,scope:a});a.focusListenerAdded=true}}},getFocusEl:Ext.emptyFn,isFocusable:function(){var a=this,b;if(a.focusable!==false&&(b=a.getFocusEl())&&a.rendered&&!a.destroying&&!a.isDestroyed&&!a.disabled&&a.isVisible(true)){return b.isFocusable(true)}},beforeFocus:Ext.emptyFn,onFocus:function(a){var b=this,c=b.focusCls,d=b.getFocusEl();if(!b.disabled){b.beforeFocus(a);if(c&&d){d.addCls(b.addClsWithUI(c,true))}if(!b.hasFocus){b.hasFocus=true;b.fireEvent("focus",b,a)}}},beforeBlur:Ext.emptyFn,onBlur:function(a){var b=this,c=b.focusCls,d=b.getFocusEl();if(b.destroying){return}b.beforeBlur(a);if(c&&d){d.removeCls(b.removeClsWithUI(c,true))}if(b.validateOnBlur){b.validate()}b.hasFocus=false;b.fireEvent("blur",b,a);b.postBlur(a)},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(a,b){var c=this.getRefOwner(),d=typeof b==="string",e=typeof b==="number",f=b&&b.isComponent,g=0;if(a){for(;c;c=c.getRefOwner()){g++;if(a.isComponent){if(c===a){return c}}else{if(Ext.ComponentQuery.is(c,a)){return c}}if(d&&c.is(b)){return}if(e&&g===b){return}if(f&&c===b){return
}}}return c},nextSibling:function(a){var b=this.ownerCt,c,d,e,f;if(b){c=b.items;e=c.indexOf(this)+1;if(e){if(a){for(d=c.getCount();e<d;e++){if((f=c.getAt(e)).is(a)){return f}}}else{if(e<c.getCount()){return c.getAt(e)}}}}return null},previousSibling:function(a){var b=this.ownerCt,c,d,e;if(b){c=b.items;d=c.indexOf(this);if(d!=-1){if(a){for(--d;d>=0;d--){if((e=c.getAt(d)).is(a)){return e}}}else{if(d){return c.getAt(--d)}}}}return null},previousNode:function(a,b){var c=this,d=c.ownerCt,e,f,g,h;if(b&&c.is(a)){return c}if(d){for(f=d.items.items,g=Ext.Array.indexOf(f,c)-1;g>-1;g--){h=f[g];if(h.query){e=h.query(a);e=e[e.length-1];if(e){return e}}if(h.is(a)){return h}}return d.previousNode(a,true)}return null},nextNode:function(a,b){var c=this,d=c.ownerCt,e,f,g,h,i;if(b&&c.is(a)){return c}if(d){for(f=d.items.items,h=Ext.Array.indexOf(f,c)+1,g=f.length;h<g;h++){i=f[h];if(i.is(a)){return i}if(i.down){e=i.down(a);if(e){return e}}}return d.nextNode(a)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var a=this,b=null,c,d,e;if(typeof a.autoScroll==="boolean"){b={overflow:e=a.autoScroll?"auto":""};a.scrollFlags={overflowX:e,overflowY:e,x:true,y:true,both:true}}else{c=a.overflowX;d=a.overflowY;if(c!==undefined||d!==undefined){b={overflowX:c=c||"",overflowY:d=d||""};a.scrollFlags={overflowX:c,overflowY:d,x:c=c==="auto"||c==="scroll",y:d=d==="auto"||d==="scroll",both:c&&d}}else{a.scrollFlags={overflowX:"",overflowY:"",x:false,y:false,both:false}}}if(b&&Ext.isIE7m){b.position="relative"}return b},isXType:function(a,b){if(b){return this.xtype===a}else{return this.xtypesMap[a]}},getXTypes:function(){var a=this.self,b,c,d;if(!a.xtypes){b=[];c=this;while(c){d=c.xtypes;if(d!==undefined){b.unshift.apply(b,d)}c=c.superclass}a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},update:function(a,b,c){var d=this,e=d.tpl&&!Ext.isString(a),f;if(e){d.data=a}else{d.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a}if(d.rendered){f=d.isContainer?d.layout.getRenderTarget():d.getTargetEl();if(e){d.tpl[d.tplWriteMode](f,a||{})}else{f.update(d.html,b,c)}d.updateLayout()}},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(a){var b=this,c;if(b.hidden||!b.rendered||b.isDestroyed){c=true}else if(a){c=b.isHierarchicallyHidden()}return!c},isHierarchicallyHidden:function(){var a=this,b=false,c,d;for(;c=a.ownerCt||a.floatParent;a=c){d=c.getHierarchyState();if(d.hidden){b=true;break}if(a.getHierarchyState().collapseImmune){if(c.collapsed&&!a.collapseImmune){b=true;break}}else{b=!!d.collapsed;break}}return b},onBoxReady:function(a,b){var c=this;if(c.disableOnBoxReady){c.onDisable()}else if(c.enableOnBoxReady){c.onEnable()}if(c.resizable){c.initResizable(c.resizable)}if(c.draggable){c.initDraggable()}if(c.hasListeners.boxready){c.fireEvent("boxready",c,a,b)}},enable:function(a){var b=this;delete b.disableOnBoxReady;b.removeCls(b.disabledCls);if(b.rendered){b.onEnable()}else{b.enableOnBoxReady=true}b.disabled=false;delete b.resetDisable;if(a!==true){b.fireEvent("enable",b)}return b},disable:function(a){var b=this;delete b.enableOnBoxReady;b.addCls(b.disabledCls);if(b.rendered){b.onDisable()}else{b.disableOnBoxReady=true}b.disabled=true;if(a!==true){delete b.resetDisable;b.fireEvent("disable",b)}return b},onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=false;this.unmask()}},onDisable:function(){var a=this,b=a.focusCls,c=a.getFocusEl();if(b&&c){c.removeCls(a.removeClsWithUI(b,true))}if(a.maskOnDisable){a.el.dom.disabled=true;a.mask()}},mask:function(){var a=this.lastBox,b=this.getMaskTarget(),c=[];if(a){c[2]=a.height}b.mask.apply(b,c)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(a){var b=this,c=b.rendered?b.el:b.protoEl;c.addCls.apply(c,arguments);return b},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(a){var b=this,c=b.rendered?b.el:b.protoEl;return c.hasCls.apply(c,arguments)},removeCls:function(a){var b=this,c=b.rendered?b.el:b.protoEl;c.removeCls.apply(c,arguments);return b},addOverCls:function(){var a=this;if(!a.disabled){a.el.addCls(a.overCls)}},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(a,b,c,d){var e=this,f,g;if(Ext.isString(a)&&(Ext.isObject(b)||d&&d.element)){if(d.element){f=b;b={};b[a]=f;a=d.element;if(c){b.scope=c}for(g in d){if(d.hasOwnProperty(g)){if(e.eventOptionsRe.test(g)){b[g]=d[g]}}}}if(e[a]&&e[a].on){e.mon(e[a],b)}else{e.afterRenderEvents=e.afterRenderEvents||{};if(!e.afterRenderEvents[a]){e.afterRenderEvents[a]=[]}e.afterRenderEvents[a].push(b)}return}return e.mixins.observable.addListener.apply(e,arguments)},removeManagedListenerItem:function(a,b,c,d,e,f){var g=this,h=b.options?b.options.element:null;if(h){h=g[h];if(h&&h.un){if(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!f||b.scope===f)){h.un(b.ename,b.fn,b.scope);if(!a){Ext.Array.remove(g.managedListeners,b)}}}}else{return g.mixins.observable.removeManagedListenerItem.apply(g,arguments)}},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(a,b){var c=this;c.ownerCt=a;if(c.hierarchyState){c.hierarchyState.invalid=true;delete c.hierarchyState}if(c.hasListeners.added){c.fireEvent("added",c,a,b)}},onRemoved:function(a){var b=this;if(b.hasListeners.removed){b.fireEvent("removed",b,b.ownerCt)}delete b.ownerCt;delete b.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(a,b,c,d){var e=this;if(e.floating&&e.constrain){e.doConstrain()}if(e.hasListeners.resize){e.fireEvent("resize",e,a,b,c,d)}},setSize:function(a,b){var c=this;if(a&&typeof a=="object"){b=a.height;a=a.width}if(typeof a=="number"){c.width=Ext.Number.constrain(a,c.minWidth,c.maxWidth)}else if(a===null){delete c.width}if(typeof b=="number"){c.height=Ext.Number.constrain(b,c.minHeight,c.maxHeight)}else if(b===null){delete c.height}if(c.rendered&&c.isVisible()){c.updateLayout({isRoot:false})}return c},isLayoutRoot:function(){var a=this,b=a.ownerLayout;if(!b||a._isLayoutRoot||a.floating){return true}return b.isItemLayoutRoot(a)},isLayoutSuspended:function(){var a=this,b;while(a){if(a.layoutSuspendCount||a.suspendLayout){return true}b=a.ownerLayout;if(!b){break}a=b.owner}return false},updateLayout:function(a){var b=this,c,d=b.lastBox,e=a&&a.isRoot;if(d){d.invalid=true}if(!b.rendered||b.layoutSuspendCount||b.suspendLayout){return}if(b.hidden){Ext.AbstractComponent.cancelLayout(b)}else if(typeof e!="boolean"){e=b.isLayoutRoot()}if(e||!b.ownerLayout||!b.ownerLayout.onContentChange(b)){if(!b.isLayoutSuspended()){c=a&&a.hasOwnProperty("defer")?a.defer:b.deferLayouts;Ext.AbstractComponent.updateLayout(b,c)}}},getSizeModel:function(a){var b=this,c=Ext.layout.SizeModel,d=b.componentLayout.ownerContext,e=b.width,f=b.height,g,h,i,j,k,l,m,n,o,p;if(d){p=d.widthModel;k=d.heightModel}if(!p||!k){i=(g=typeof e)=="number";j=(h=typeof f)=="number";o=b.floating||!(l=b.ownerLayout);if(o){m=Ext.layout.Layout.prototype.autoSizePolicy;n=b.floating?3:b.shrinkWrap;if(i){p=c.configured}if(j){k=c.configured}}else{m=l.getItemSizePolicy(b,a);n=l.isItemShrinkWrap(b)}if(d){d.ownerSizePolicy=m}n=n===true?3:n||0;if(o&&n){if(e&&g=="string"){n&=2}if(f&&h=="string"){n&=1}}if(n!==3){if(!a){a=b.ownerCt&&b.ownerCt.getSizeModel()}if(a){n|=(a.width.shrinkWrap?1:0)|(a.height.shrinkWrap?2:0)}}if(!p){if(!m.setsWidth){if(i){p=c.configured}else{p=n&1?c.shrinkWrap:c.natural}}else if(m.readsWidth){if(i){p=c.calculatedFromConfigured}else{p=n&1?c.calculatedFromShrinkWrap:c.calculatedFromNatural}}else{p=c.calculated}}if(!k){if(!m.setsHeight){if(j){k=c.configured}else{k=n&2?c.shrinkWrap:c.natural}}else if(m.readsHeight){if(j){k=c.calculatedFromConfigured}else{k=n&2?c.calculatedFromShrinkWrap:c.calculatedFromNatural}}else{k=c.calculated}}}return p.pairsByHeightOrdinal[k.ordinal]},isDescendant:function(a){if(a.isContainer){for(var b=this.ownerCt;b;b=b.ownerCt){if(b===a){return true}}}return false},doComponentLayout:function(){this.updateLayout();return this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(a){var b=this.componentLayout;if(b&&b.isLayout&&b!=a){b.setOwner(null)}this.componentLayout=a;a.setOwner(this)},getComponentLayout:function(){var a=this;if(!a.componentLayout||!a.componentLayout.isLayout){a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent"))}return a.componentLayout},afterComponentLayout:function(a,b,c,d){var e=this;if(++e.componentLayoutCounter===1){e.afterFirstLayout(a,b)}if(a!==c||b!==d){e.onResize(a,b,c,d)}},beforeComponentLayout:function(a,b){return true},setPosition:function(a,b,c){var d=this,e=d.beforeSetPosition.apply(d,arguments);if(e&&d.rendered){a=e.x;b=e.y;if(c){if(a!==d.getLocalX()||b!==d.getLocalY()){d.stopAnimation();d.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(d.afterSetPosition,d,[a,b])},to:{x:a,y:b}},c))}}else{d.setLocalXY(a,b);d.afterSetPosition(a,b)}}return d},beforeSetPosition:function(a,b,c){var d,e;if(a){if(Ext.isNumber(e=a[0])){c=b;b=a[1];a=e}else if((e=a.x)!==undefined){c=b;b=a.y;a=e}}if(this.constrain||this.constrainHeader){d=this.calculateConstrainedPosition(null,[a,b],true);if(d){a=d[0];b=d[1]}}d={x:this.x=a,y:this.y=b,anim:c,hasX:a!==undefined,hasY:b!==undefined};return d.hasX||d.hasY?d:null},afterSetPosition:function(a,b){var c=this;c.onPosition(a,b);if(c.hasListeners.move){c.fireEvent("move",c,a,b)}},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var a=this,b=a.autoLoad?Ext.isObject(a.autoLoad)?a.autoLoad:{url:a.autoLoad}:null,c=a.loader||b;if(c){if(!c.isLoader){a.loader=new Ext.ComponentLoader(Ext.apply({target:a,autoLoad:b},c))}else{c.setTarget(a)}return a.loader}return null},setDocked:function(a,b){var c=this;c.dock=a;if(b&&c.ownerCt&&c.rendered){c.ownerCt.updateLayout()}return c},setBorder:function(a,b){var c=this,d=!!b;if(c.rendered||d){if(!d){b=c.el}if(!a){a=0}else if(a===true){a="1px"}else{a=this.unitizeBox(a)}b.setStyle("border-width",a);if(!d){c.updateLayout()}}c.border=a},onDestroy:function(){var a=this;if(a.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(a.setSize,a)}Ext.destroy(a.componentLayout,a.loadMask,a.floatingDescendants)},destroy:function(){var a=this,b=a.renderSelectors,c,d;if(!a.isDestroyed){if(!a.hasListeners.beforedestroy||a.fireEvent("beforedestroy",a)!==false){a.destroying=true;a.beforeDestroy();if(a.floating){delete a.floatParent;if(a.zIndexManager){a.zIndexManager.unregister(a)}}else if(a.ownerCt&&a.ownerCt.remove){a.ownerCt.remove(a,false)}a.stopAnimation();a.onDestroy();Ext.destroy(a.plugins);if(a.hasListeners.destroy){a.fireEvent("destroy",a)}Ext.ComponentManager.unregister(a);a.mixins.state.destroy.call(a);a.clearListeners();if(a.rendered){if(!a.preserveElOnDestroy){a.el.remove()}a.mixins.elementCt.destroy.call(a);if(b){for(c in b){if(b.hasOwnProperty(c)){d=a[c];if(d){delete a[c];d.remove()}}}}delete a.el;delete a.frameBody;delete a.rendered}a.destroying=false;a.isDestroyed=true}}},isDescendantOf:function(a){return!!this.findParentBy(function(b){return b===a})},getHierarchyState:function(a){var b=this,c=a&&b.hierarchyStateInner||b.hierarchyState,d=b.ownerCt,e,f,g,h;if(!c||c.invalid){e=b.getRefOwner();if(d){h=b.ownerLayout===d.layout}b.hierarchyState=c=Ext.Object.chain(e?e.getHierarchyState(h):Ext.rootHierarchyState);b.initHierarchyState(c);if((f=b.componentLayout).initHierarchyState){f.initHierarchyState(c)}if(b.isContainer){b.hierarchyStateInner=g=Ext.Object.chain(c);f=b.layout;if(f&&f.initHierarchyState){f.initHierarchyState(g,c)}if(a){c=g}}}return c},initHierarchyState:function(a){var b=this;if(b.collapsed){a.collapsed=true}if(b.hidden){a.hidden=true}if(b.collapseImmune){a.collapseImmune=true}},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,b)},setXY:function(a,b){this.el.setXY(a,b)},setY:function(a,b){this.el.setY(a,b)}},function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(b,c){a.suspendLayouts();b.call(c);a.resumeLayouts(true)}});Ext.define("Ext.AbstractPlugin",{disabled:false,isPlugin:true,constructor:function(a){this.pluginConfig=a;Ext.apply(this,a)},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true},onClassExtended:function(a,b,c){var d=b.alias;if(d&&!b.ptype){if(Ext.isArray(d)){d=d[0]}a.prototype.ptype=d.split("plugin.")[1]}}});Ext.define("Ext.Action",{constructor:function(a){this.initialConfig=a;this.itemId=a.itemId=a.itemId||a.id||Ext.id();this.items=[]},isAction:true,setText:function(a){this.initialConfig.text=a;this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconCls:function(a){this.initialConfig.iconCls=a;this.callEach("setIconCls",[a])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a;this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a;this.callEach("setVisible",[!a])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(a,b){this.initialConfig.handler=a;this.initialConfig.scope=b;this.callEach("setHandler",[a,b])},each:function(a,b){Ext.each(this.items,a,b)},callEach:function(a,b){var c=this.items,d=0,e=c.length,f;Ext.suspendLayouts();for(;d<e;d++){f=c[d];f[a].apply(f,b)}Ext.resumeLayouts(true)},addComponent:function(a){this.items.push(a);a.on("destroy",this.removeComponent,this)},removeComponent:function(a){Ext.Array.remove(this.items,a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}});Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.globalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(a,b,c){var d;d=this.liveConnections[Number(a)];if(d){d.onFlashStateChange(b,c)}},registerConnection:function(a){var b=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[b]=a;return b},injectFlashPlugin:function(){var a,b,c,d,e=this,f,g;d=document.createElement("img");d.setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif");d.setAttribute("alt","Get Adobe Flash player");c=document.createElement("a");c.setAttribute("href","http://www.adobe.com/go/getflashplayer");c.appendChild(d);b=document.createElement("p");b.innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.";a=document.createElement("div");a.setAttribute("id","ext-flash-polyfill");a.appendChild(b);a.appendChild(d);Ext.getBody().dom.appendChild(a);f=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");g="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath){g=Ext.flashPluginPath}Ext.Loader.loadScript({url:f,onLoad:function(){var a="11.4.0";var b="playerProductInstall.swf";var c={};var d={};d.quality="high";d.bgcolor="#ffffff";d.allowscriptaccess="sameDomain";d.allowfullscreen="true";var e={};e.id="ext-flash-polyfill";e.name="polyfill";e.align="middle";swfobject.embedSWF(g,"ext-flash-polyfill","0","0",a,b,c,d,e)},onError:function(){},scope:e});Ext.globalEvents.addEvents("flashready");Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var b=this;Ext.apply(b,a);b.requestHeaders={}},abort:function(){var a=this;if(a.readyState==4){return}a.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.removeListener("flashready",a.onFlashReady,a);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(b,c){a.push(b+": "+c)});return a.join("\r\n")},getResponseHeader:function(a){var b=this.responseHeaders;return b&&b[a]||null},open:function(a,b,c,d,e){var f=this;f.method=a;f.url=b;f.async=c!==false;f.user=d;f.password=e},overrideMimeType:function(a){this.mimeType=a},send:function(a){var b=this;b.body=a;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.addListener("flashready",b.onFlashReady,b)}else{this.onFlashReady()}},onFlashReady:function(){var a=this,b,c;a.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(a);b={method:a.method,url:a.url,user:a.user,password:a.password,mimeType:a.mimeType,requestHeaders:a.requestHeaders,body:a.body,javascriptId:a.javascriptId};c=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)},setReadyState:function(a){var b=this;if(b.readyState!=a){b.readyState=a;b.onreadystatechange()}},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,parseData:function(a){var b=this;this.status=a.status||0;b.responseHeaders={};if(b.mimeType){b.responseHeaders["content-type"]=b.mimeType}if(a.reason=="complete"){this.responseBytes=a.data;b.responseHeaders["content-length"]=a.data.length}else if(a.reason=="error"||a.reason=="securityError"){this.statusText=a.text;b.responseHeaders["content-length"]=0}},onFlashStateChange:function(a,b){var c=this;if(a==4){c.parseData(b);delete Ext.data.flash.BinaryXhr.liveConnections[c.javascriptId]}c.setReadyState(a)}});Ext.define("Ext.data.Connection",{mixins:{observable:Ext.util.Observable},statics:{requestId:0},url:null,async:true,method:null,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{};Ext.apply(this,a);this.requests={};this.mixins.observable.constructor.call(this)},request:function(a){a=a||{};var b=this,c=a.scope||window,d=a.username||b.username,e=a.password||b.password||"",f,g,h,i,j;if(b.fireEvent("beforerequest",b,a)!==false){g=b.setOptions(a,c);if(b.isFormUpload(a)){b.upload(a.form,g.url,g.data,a);return null}if(a.autoAbort||b.autoAbort){b.abort()}f=a.async!==false?a.async||b.async:false;j=b.openRequest(a,g,f,d,e);if(!b.isXdr){i=b.setupHeaders(j,a,g.data,g.params)}h={id:++Ext.data.Connection.requestId,xhr:j,headers:i,options:a,async:f,binary:a.binary||b.binary,timeout:setTimeout(function(){h.timedout=true;b.abort(h)},a.timeout||b.timeout)};b.requests[h.id]=h;b.latestId=h.id;if(f){if(!b.isXdr){j.onreadystatechange=Ext.Function.bind(b.onStateChange,b,[h])}}if(b.isXdr){b.processXdrRequest(h,j)}j.send(g.data);if(!f){return b.onComplete(h)}return h}else{Ext.callback(a.callback,a.scope,[a,undefined,undefined]);return null}},processXdrRequest:function(a,b){var c=this;delete a.headers;a.contentType=a.options.contentType||c.defaultXdrContentType;b.onload=Ext.Function.bind(c.onStateChange,c,[a,true]);b.onerror=b.ontimeout=Ext.Function.bind(c.onStateChange,c,[a,false])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]};a.getResponseHeader=function(){return""};a.contentType=b.contentType||this.defaultXdrContentType},upload:function(a,b,c,d){a=Ext.getDom(a);d=d||{};var e=Ext.id(),f=document.createElement("iframe"),g=[],h="multipart/form-data",i={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},j=function(b,c){k=document.createElement("input");Ext.fly(k).set({type:"hidden",value:c,name:b});a.appendChild(k);g.push(k)},k,l,m,n,o,p,q,r;Ext.fly(f).set({id:e,name:e,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(f);if(document.frames){document.frames[e].name=e}Ext.fly(a).set({target:e,method:"POST",enctype:h,encoding:h,action:b||i.action});if(c){l=Ext.Object.fromQueryString(c)||{};for(n in l){if(l.hasOwnProperty(n)){m=l[n];if(Ext.isArray(m)){o=m.length;for(p=0;p<o;p++){j(n,m[p])}}else{j(n,m)}}}}Ext.fly(f).on("load",Ext.Function.bind(this.onUploadComplete,this,[f,d]),null,{single:!Ext.isOpera});a.submit();Ext.fly(a).set(i);q=g.length;for(r=0;r<q;r++){Ext.removeNode(g[r])}},onUploadComplete:function(a,b){var c=this,d={responseText:"",responseXML:null},e,f,g,h;try{g=a.contentWindow.document||a.contentDocument||window.frames[a.id].document;if(g){if(Ext.isOpera&&g.location=="about:blank"){return}if(g.body){if((h=g.body.firstChild)&&/pre/i.test(h.tagName)){d.responseText=h.textContent}else if(h=g.getElementsByTagName("textarea")[0]){d.responseText=h.value}else{d.responseText=g.body.textContent||g.body.innerText}}d.responseXML=g.XMLDocument||g;e=b.success;f=true}}catch(i){d.responseText='{success:false,message:"'+Ext.String.trim(i.message||i.description)+'"}';e=b.failure;f=false}c.fireEvent("requestcomplete",c,d,b);Ext.callback(e,b.scope,[d,b]);Ext.callback(b.callback,b.scope,[b,f,d]);setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);if(b){return a.isUpload||/multipart\/form-data/i.test(b.getAttribute("enctype"))}return false},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(a,b){var c=this,d=a.params||{},e=c.extraParams,f=a.urlParams,g=a.url||c.url,h=a.jsonData,i,j,k;if(Ext.isFunction(d)){d=d.call(b,a)}if(Ext.isFunction(g)){g=g.call(b,a)}g=this.setupUrl(a,g);k=a.rawData||a.binaryData||a.xmlData||h||null;if(h&&!Ext.isPrimitive(h)){k=Ext.encode(k)}if(a.binaryData){if(c.nativeBinaryPostSupport()){k=new Uint8Array(a.binaryData);if(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko){k=k.buffer}}}if(Ext.isObject(d)){d=Ext.Object.toQueryString(d)}if(Ext.isObject(e)){e=Ext.Object.toQueryString(e)}d=d+(e?(d?"&":"")+e:"");f=Ext.isObject(f)?Ext.Object.toQueryString(f):f;d=this.setupParams(a,d);i=(a.method||c.method||(d||k?"POST":"GET")).toUpperCase();this.setupMethod(a,i);j=a.disableCaching!==false?a.disableCaching||c.disableCaching:false;if(i==="GET"&&j){g=Ext.urlAppend(g,(a.disableCachingParam||c.disableCachingParam)+"="+(new Date).getTime())}if((i=="GET"||k)&&d){g=Ext.urlAppend(g,d);d=null}if(f){g=Ext.urlAppend(g,f)}return{url:g,method:i,data:k||d||null}},setupUrl:function(a,b){var c=this.getForm(a);if(c){b=b||c.action}return b},setupParams:function(a,b){var c=this.getForm(a),d;if(c&&!this.isFormUpload(a)){d=Ext.Element.serializeForm(c);b=b?b+"&"+d:d}return b},setupMethod:function(a,b){if(this.isFormUpload(a)){return"POST"}return b},setupHeaders:function(a,b,c,d){var e=this,f=Ext.apply({},b.headers||{},e.defaultHeaders||{}),g=e.defaultPostHeader,h=b.jsonData,i=b.xmlData,j,k;if(!f["Content-Type"]&&(c||d)){if(c){if(b.rawData){g="text/plain"}else{if(i&&Ext.isDefined(i)){g="text/xml"}else if(h&&Ext.isDefined(h)){g="application/json"}}}f["Content-Type"]=g}if(e.useDefaultXhrHeader&&!f["X-Requested-With"]){f["X-Requested-With"]=e.defaultXhrHeader}try{for(j in f){if(f.hasOwnProperty(j)){k=f[j];a.setRequestHeader(j,k)}}}catch(l){e.fireEvent("exception",j,k)}return f},newRequest:function(a){var b=this,c;if(a.binaryData){if(b.nativeBinaryPostSupport()){c=this.getXhrInstance()}else{c=new Ext.data.flash.BinaryXhr}}else if((a.cors||b.cors)&&Ext.isIE&&Ext.ieVersion<=9){c=b.getXdrInstance();b.isXdr=true}else{c=b.getXhrInstance()}return c},openRequest:function(a,b,c,d,e){var f=this,g=f.newRequest(a);if(d){g.open(b.method,b.url,c,d,e)}else{if(f.isXdr){g.open(b.method,b.url)}else{g.open(b.method,b.url,c)}}if(a.binary||f.binary){if(window.Uint8Array){g.responseType="arraybuffer"}else if(g.overrideMimeType){g.overrideMimeType("text/plain; charset=x-user-defined")}}if(a.withCredentials||f.withCredentials){g.withCredentials=true}return g},getXdrInstance:function(){var a;if(Ext.ieVersion>=8){a=new XDomainRequest}else{Ext.Error.raise({msg:"Your browser does not support CORS"})}return a},getXhrInstance:function(){var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=a.length,d;for(;b<c;++b){try{d=a[b];d();break}catch(e){}}return d}(),isLoading:function(a){if(!a){a=this.getLatest()}if(!(a&&a.xhr)){return false}var b=a.xhr.readyState;return a.xhr instanceof Ext.data.flash.BinaryXhr&&b!=4||!(b===0||b==4)},abort:function(a){var b=this,c;if(!a){a=b.getLatest()}if(a&&b.isLoading(a)){c=a.xhr;try{c.onreadystatechange=null}catch(d){c.onreadystatechange=Ext.emptyFn}c.abort();b.clearTimeout(a);if(!a.timedout){a.aborted=true}b.onComplete(a);b.cleanup(a)}},abortAll:function(){var a=this.requests,b;for(b in a){if(a.hasOwnProperty(b)){this.abort(a[b])}}},getLatest:function(){var a=this.latestId,b;if(a){b=this.requests[a]}return b||null},onStateChange:function(a,b){var c=this;if(a.xhr&&a.xhr.readyState==4||c.isXdr){c.clearTimeout(a);c.onComplete(a,b);c.cleanup(a);Ext.EventManager.idleEvent.fire()}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(a,b){var c=this,d=a.options,e,f,g;try{e=c.parseStatus(a.xhr.status)}catch(h){e={success:false,isException:false}}f=c.isXdr?b:e.success;if(f){g=c.createResponse(a);c.fireEvent("requestcomplete",c,g,d);Ext.callback(d.success,d.scope,[g,d])}else{if(e.isException||a.aborted||a.timedout){g=c.createException(a)}else{g=c.createResponse(a)}c.fireEvent("requestexception",c,g,d);Ext.callback(d.failure,d.scope,[g,d])}Ext.callback(d.callback,d.scope,[d,f,g]);delete c.requests[a.id];return g},parseStatus:function(a){a=a==1223?204:a;var b=a>=200&&a<300||a==304,c=false;if(!b){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=true;break}}return{success:b,isException:c}},createResponse:function(a){var b=this,c=a.xhr,d=b.isXdr,e={},f=d?[]:c.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),g=f.length,h,i,j,k,l;while(g--){h=f[g];i=h.indexOf(":");if(i>=0){j=h.substr(0,i).toLowerCase();if(h.charAt(i+1)==" "){++i}e[j]=h.substr(i+1)}}a.xhr=null;delete a.xhr;k={request:a,requestId:a.id,status:c.status,statusText:c.statusText,getResponseHeader:function(a){return e[a.toLowerCase()]},getAllResponseHeaders:function(){return e}};if(d){b.processXdrResponse(k,c)}if(a.binary){k.responseBytes=b.getByteArray(c)}else{k.responseText=c.responseText;k.responseXML=c.responseXML}c=null;return k},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}},getByteArray:function(a){var b=a.response,c=a.responseBody,d,e,f,g;if(a instanceof Ext.data.flash.BinaryXhr){d=a.responseBytes}else if(window.Uint8Array){d=b?new Uint8Array(b):[]}else if(Ext.isIE9p){try{d=new VBArray(c).toArray()}catch(h){d=[]}}else if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(a.responseBody,d=[])}else{d=[];e=a.responseText;f=e.length;for(g=0;g<f;g++){d.push(e.charCodeAt(g)&255)}}return d},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript";a.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=true},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}});Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:true,autoAbort:false});Ext.define("Ext.util.Floating",{focusOnToFront:true,shadow:"sides",constrain:false,constructor:function(a){var b=this;b.fixed=b.fixed&&!(Ext.isIE6||Ext.isIEQuirks);b.el=new Ext.dom.Layer(Ext.apply({preventSync:true,hideMode:b.hideMode,hidden:b.hidden,shadow:typeof b.shadow!="undefined"?b.shadow:"sides",shadowOffset:b.shadowOffset,constrain:false,fixed:b.fixed,shim:b.shim===false?false:undefined},b.floating),a);if(b.modal&&!(Ext.FocusManager&&Ext.FocusManager.enabled)){b.mon(b.el,{keydown:b.onKeyDown,scope:b})}b.mon(b.el,{mousedown:b.onMouseDown,scope:b});b.floating=true;b.registerWithOwnerCt();b.initHierarchyEvents()},initHierarchyEvents:function(){var a=this,b=this.syncHidden;if(!a.hasHierarchyEventListeners){a.mon(a.hierarchyEventSource,{hide:b,collapse:b,show:b,expand:b,added:b,scope:a});a.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var a=this,b=a.ownerCt,c=a.zIndexParent;if(c){c.unregisterFloatingItem(a)}c=a.zIndexParent=a.up("[floating]");a.setFloatParent(b||c);delete a.ownerCt;if(c){c.registerFloatingItem(a)}else{Ext.WindowManager.register(a)}},onKeyDown:function(a){var b=this,c,d,e,f;if(a.getKey()==Ext.EventObject.TAB){c=a.shiftKey;d=b.el.query(":focusable");e=d[0];f=d[d.length-1];if(e&&f&&a.target===(c?e:f)){a.stopEvent();(c?f:e).focus(false,true)}}},onMouseDown:function(a){var b=this.focusTask;if(this.floating&&(!b||!b.id)){this.toFront(!!a.getTarget(":focusable"))}},setFloatParent:function(a){var b=this;b.floatParent=a;if((b.constrain||b.constrainHeader)&&!b.constrainTo){b.constrainTo=a?a.getTargetEl():b.container}},syncShadow:function(){if(this.floating){this.el.sync(true)}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var a=this,b=a.hidden||!a.rendered,c=a.hierarchicallyHidden=a.isHierarchicallyHidden(),d=a.pendingShow;if(b!==c){if(c){a.hide();a.pendingShow=true}else if(d){delete a.pendingShow;if(d.length){a.show.apply(a,d)}else{a.show()}}}},setZIndex:function(a){var b=this;b.el.setZIndex(a);a+=10;if(b.floatingDescendants){a=Math.floor(b.floatingDescendants.setBase(a)/100)*100+1e4}return a},doConstrain:function(a){var b=this,c=b.calculateConstrainedPosition(a,null,true);if(c){b.setPosition(c)}},toFront:function(a){var b=this,c=b.zIndexParent,d=b.preventFocusOnActivate;if(c&&b.bringParentToFront!==false){c.toFront(true)}if(!Ext.isDefined(a)){a=!b.focusOnToFront}if(a){b.preventFocusOnActivate=true}if(b.zIndexManager.bringToFront(b,a)){if(!a){b.focus(false,true)}}b.preventFocusOnActivate=d;return b},setActive:function(a,b){var c=this;
if(a){if(c.el.shadow&&!c.maximized){c.el.enableShadow(true)}if(!c.preventFocusOnActivate){c.focus(false,true)}c.fireEvent("activate",c)}else{if(c.isWindow&&(b&&b.isWindow)&&c.hideShadowOnDeactivate){c.el.disableShadow()}c.fireEvent("deactivate",c)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this,b;if(a.isVisible()){b=a.getAlignToXY(a.container,"c-c");a.setPagePosition(b)}else{a.needsCenter=true}return a},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter},fitContainer:function(a){var b=this,c=b.floatParent,d=c?c.getTargetEl():b.container,e=d.getViewSize(false),f=c||d.dom!==document.body?[0,0]:d.getXY();e.x=f[0];e.y=f[1];b.setBox(e,a)}});Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:Ext.AbstractComponent,mixins:{floating:Ext.util.Floating},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:false,defaultAlign:"tl-bl?",toFrontOnShow:true,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(a){var b=this;a=a||{};if(a.initialConfig){if(a.isAction){b.baseAction=a}a=a.initialConfig}else if(a.tagName||a.dom||Ext.isString(a)){a={applyTo:a,id:a.id||a}}b.callParent([a]);if(b.baseAction){b.baseAction.addComponent(b)}},initComponent:function(){var a=this;a.callParent();if(a.listeners){a.on(a.listeners);a.listeners=null}a.enableBubble(a.bubbleEvents)},afterRender:function(){var a=this;a.callParent();if(!(a.x&&a.y)&&(a.pageX||a.pageY)){a.setPagePosition(a.pageX,a.pageY)}},setAutoScroll:function(a){var b=this;b.autoScroll=!!a;if(b.rendered){b.getOverflowEl().setStyle(b.getOverflowStyle())}b.updateLayout();return b},setOverflowXY:function(a,b){var c=this,d=arguments.length;if(d){c.overflowX=a||"";if(d>1){c.overflowY=b||""}}if(c.rendered){c.getOverflowEl().setStyle(c.getOverflowStyle())}c.updateLayout();return c},beforeRender:function(){var a=this,b=a.floating,c;if(b){a.addCls(Ext.baseCSSPrefix+"layer");c=b.cls;if(c){a.addCls(c)}}return a.callParent()},beforeLayout:function(){this.callParent(arguments);if(this.floating){this.onBeforeFloatLayout()}},afterComponentLayout:function(){this.callParent(arguments);if(this.floating){this.onAfterFloatLayout()}},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){if(this.floating){this.makeFloating(a)}else{this.callParent(arguments)}},initResizable:function(a){var b=this;a=Ext.apply({target:b,dynamic:false,constrainTo:b.constrainTo||(b.floatParent?b.floatParent.getTargetEl():null),handles:b.resizeHandles},a);a.target=b;b.resizer=new Ext.resizer.Resizer(a)},getDragEl:function(){return this.el},initDraggable:function(){var a=this,b=a.resizer&&a.resizer.el!==a.el?a.resizerComponent=new Ext.Component({el:a.resizer.el,rendered:true,container:a.container}):a,c=Ext.applyIf({el:b.getDragEl(),constrainTo:a.constrain||a.draggable.constrain?a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():a.container):undefined},a.draggable);if(a.constrain||a.constrainDelegate){c.constrain=a.constrain;c.constrainDelegate=a.constrainDelegate}a.dd=new Ext.util.ComponentDragger(b,c)},scrollBy:function(a,b,c){var d;if((d=this.getTargetEl())&&d.dom){d.scrollBy.apply(d,arguments)}},setLoading:function(a,b){var c=this,d={target:c};if(c.rendered){Ext.destroy(c.loadMask);c.loadMask=null;if(a!==false&&!c.collapsed){if(Ext.isObject(a)){Ext.apply(d,a)}else if(Ext.isString(a)){d.msg=a}if(b){Ext.applyIf(d,{useTargetEl:true})}c.loadMask=new Ext.LoadMask(d);c.loadMask.show()}}return c.loadMask},beforeSetPosition:function(){var a=this,b=a.callParent(arguments),c;if(b){c=a.adjustPosition(b.x,b.y);b.x=c.x;b.y=c.y}return b||null},afterSetPosition:function(a,b){this.onPosition(a,b);this.fireEvent("move",this,a,b)},showAt:function(a,b,c){var d=this;if(!d.rendered&&(d.autoRender||d.floating)){d.x=a;d.y=b;return d.show()}if(d.floating){d.setPosition(a,b,c)}else{d.setPagePosition(a,b,c)}d.show()},showBy:function(a,b,c){var d=this;if(d.floating&&a){d.show();if(d.rendered&&!d.hidden){d.alignTo(a,b||d.defaultAlign,c)}}return d},setPagePosition:function(a,b,c){var d=this,e,f;if(Ext.isArray(a)){b=a[1];a=a[0]}d.pageX=a;d.pageY=b;if(d.floating){if(d.isContainedFloater()){f=d.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(a)&&Ext.isNumber(f.left)){a-=f.left}if(Ext.isNumber(b)&&Ext.isNumber(f.top)){b-=f.top}}else{e=d.el.translateXY(a,b);a=e.x;b=e.y}d.setPosition(a,b,c)}else{e=d.el.translateXY(a,b);d.setPosition(e.x,e.y,c)}return d},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(a,b){var c=this,d;if(c.isContainedFloater()){d=c.floatParent.getTargetEl().getViewRegion();a+=d.left;b+=d.top}return{x:a,y:b}},getPosition:function(a){var b=this,c,d=b.isContainedFloater(),e;if(a===true&&!d){return[b.getLocalX(),b.getLocalY()]}c=b.getXY();if(a===true&&d){e=b.floatParent.getTargetEl().getViewRegion();c[0]-=e.left;c[1]-=e.top}return c},getId:function(){var a=this,b;if(!a.id){b=a.getXType();if(b){b=b.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{b=Ext.name.toLowerCase()+"-comp"}a.id=b+"-"+a.getAutoId()}return a.id},show:function(a,b,c){var d=this,e=d.rendered;if(d.hierarchicallyHidden||d.floating&&!e&&d.isHierarchicallyHidden()){if(!e){d.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;d.pendingShow=arguments}else{d.pendingShow=true}}else if(e&&d.isVisible()){if(d.toFrontOnShow&&d.floating){d.toFront()}}else{if(d.fireEvent("beforeshow",d)!==false){d.hidden=false;delete this.getHierarchyState().hidden;Ext.suspendLayouts();if(!e&&(d.autoRender||d.floating)){d.doAutoRender();e=d.rendered}if(e){d.beforeShow();Ext.resumeLayouts();d.onShow.apply(d,arguments);d.afterShow.apply(d,arguments)}else{Ext.resumeLayouts(true)}}else{d.onShowVeto()}}return d},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var a=this;a.el.show();a.callParent(arguments);if(a.floating){if(a.maximized){a.fitContainer()}else if(a.constrain){a.doConstrain()}}},getAnimateTarget:function(a){a=a||this.animateTarget;if(a){a=a.isComponent?a.getEl():Ext.get(a)}return a||null},afterShow:function(a,b,c){var d=this,e=d.el,f,g,h;a=d.getAnimateTarget(a);if(!d.ghost){a=null}if(a){g={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight};f={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight};e.addCls(d.offsetsCls);h=d.ghost();h.el.stopAnimation();h.setX(-1e4);d.ghostBox=g;h.el.animate({from:f,to:g,listeners:{afteranimate:function(){delete h.componentLayout.lastComponentSize;d.unghost();delete d.ghostBox;e.removeCls(d.offsetsCls);d.onShowComplete(b,c)}}})}else{d.onShowComplete(b,c)}d.fireHierarchyEvent("show")},onShowComplete:function(a,b){var c=this;if(c.floating){c.toFront();c.onFloatShow()}Ext.callback(a,b||c);c.fireEvent("show",c);delete c.hiddenByLayout},hide:function(a,b,c){var d=this,e;if(d.pendingShow){delete d.pendingShow}if(!(d.rendered&&!d.isVisible())){e=d.fireEvent("beforehide",d)!==false;if(d.hierarchicallyHidden||e){d.hidden=true;d.getHierarchyState().hidden=true;if(d.rendered){d.onHide.apply(d,arguments)}}}return d},onHide:function(a,b,c){var d=this,e,f,g;a=d.getAnimateTarget(a);if(!d.ghost){a=null}if(a){g={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight};e=d.ghost();e.el.stopAnimation();f=d.getSize();e.el.animate({to:g,listeners:{afteranimate:function(){delete e.componentLayout.lastComponentSize;e.el.hide();e.el.setSize(f);d.afterHide(b,c)}}})}d.el.hide();if(!a){d.afterHide(b,c)}},afterHide:function(a,b){var c=this,d=Ext.Element.getActiveElement();c.hiddenByLayout=null;Ext.AbstractComponent.prototype.onHide.call(c);if(d===c.el||c.el.contains(d)){Ext.fly(d).blur()}Ext.callback(a,b||c);c.fireEvent("hide",c);c.fireHierarchyEvent("hide")},onDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.dd,a.resizer,a.proxy,a.proxyWrap,a.resizerComponent)}delete a.focusTask;a.callParent()},deleteMembers:function(){var a=arguments,b=a.length,c=0;for(;c<b;++c){delete this[a[c]]}},focus:function(a,b,c,d){var e=this,f,g,h;if(b){if(!e.focusTask){Ext.Component.prototype.focusTask=new Ext.util.DelayedTask(e.focus)}e.focusTask.delay(Ext.isNumber(b)?b:10,null,e,[a,false,c,d]);return e}if(e.focusTask){e.focusTask.cancel()}if(e.rendered&&!e.isDestroyed&&e.isVisible(true)&&(f=e.getFocusEl())){if(f.isComponent){return f.focus(a,b)}if(g=f.dom){if(f.needsTabIndex()){g.tabIndex=-1}if(e.floating){h=e.container.dom.scrollTop}f.focus();if(a===true){g.select()}Ext.callback(c,d)}if(e.floating){e.toFront(true);if(h!==undefined){e.container.dom.scrollTop=h}}}return e},cancelFocus:function(){var a=this.focusTask;if(a){a.cancel()}},blur:function(){var a;if(this.rendered&&(a=this.getFocusEl())){a.blur()}return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(a){a=a||{};var b=a.id||Ext.id(),c=Ext.applyIf(a,this.initialConfig),d;c.id=b;d=Ext.getClass(this);return new d(c)},getXType:function(){return this.self.xtype},findParentBy:function(a){var b;for(b=this.getBubbleTarget();b&&!a(b,this);b=b.getBubbleTarget()){}return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(a,b,c){var d=this;while(d){if(a.apply(b||d,c||[d])===false){break}d=d.getBubbleTarget()}return this},getProxy:function(){var a=this,b;if(!a.proxy){b=Ext.getBody();a.proxy=a.el.createProxy(Ext.baseCSSPrefix+"proxy-el",b,true)}return a.proxy},fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},onAdded:function(){this.callParent(arguments);if(this.hierarchyEventSource.hasListeners.added){this.fireHierarchyEvent("added")}}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:true,show:true,collapse:true,expand:true,added:true}})});Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;if(!a._borderRegionInited){a._borderRegionInited=true;a.addStateEvents(["changeregion","changeweight"]);Ext.override(a,{getState:function(){var b=a.callParent();b=a.addPropertyToState(b,"region");b=a.addPropertyToState(b,"weight");return b}})}},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return a&&a.isBorderLayout?a:null},setBorderRegion:function(a){var b=this,c,d=b.region;if(a!==d){c=b.getOwningBorderLayout();if(c){var e=c.regionFlags[a],f=b.placeholder,g=b.splitter,h=c.owner,i=c.regionMeta,j=b.collapsed||b.floated,k,l,m;if(b.fireEventArgs("beforechangeregion",[b,a])===false){return d}Ext.suspendLayouts();b.region=a;Ext.apply(b,e);if(b.updateCollapseTool){b.updateCollapseTool()}if(g){Ext.apply(g,e);g.updateOrientation();l=h.items;m=l.indexOf(b);if(m>=0){k=i[a].splitterDelta;if(l.getAt(m+k)!==g){l.remove(g);m=l.indexOf(b);if(k>0){++m}l.insert(m,g)}}}if(f){if(j){b.expand(false)}h.remove(f);b.placeholder=null;if(j){b.collapse(null,false)}}h.updateLayout();Ext.resumeLayouts(true);b.fireEventArgs("changeregion",[b,d])}else{b.region=a}}return d},setRegionWeight:function(a){var b=this,c=b.getOwningBorderContainer(),d=b.placeholder,e=b.weight;if(a!==e){if(b.fireEventArgs("beforechangeweight",[b,a])!==false){b.weight=a;if(d){d.weight=a}if(c){c.updateLayout()}b.fireEventArgs("changeweight",[b,e])}}return e}});Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(a,b,c){a.getTarget().update(b.responseText,c.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(a){var b=this,c;a=a||{};Ext.apply(b,a);b.setTarget(b.target);b.addEvents("beforeload","exception","load");b.mixins.observable.constructor.call(b);if(b.autoLoad){c=b.autoLoad;if(c===true){c={}}b.load(c)}},setTarget:function(a){var b=this;a=Ext.get(a);if(b.target&&b.target!=a){b.abort()}b.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);if(a.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===true?null:a)},load:function(a){a=Ext.apply({},a);var b=this,c=Ext.isDefined(a.loadMask)?a.loadMask:b.loadMask,d=Ext.apply({},a.params),e=Ext.apply({},a.ajaxOptions),f=a.callback||b.callback,g=a.scope||b.scope||b;Ext.applyIf(e,b.ajaxOptions);Ext.applyIf(a,e);Ext.applyIf(d,b.params);Ext.apply(d,b.baseParams);Ext.applyIf(a,{url:b.url});Ext.apply(a,{scope:b,params:d,callback:b.onComplete});if(b.fireEvent("beforeload",b,a)===false){return}if(c){b.addMask(c)}b.active={options:a,mask:c,scope:g,callback:f,success:a.success||b.success,failure:a.failure||b.failure,renderer:a.renderer||b.renderer,scripts:Ext.isDefined(a.scripts)?a.scripts:b.scripts};b.active.request=Ext.Ajax.request(a);b.setOptions(b.active,a)},setOptions:Ext.emptyFn,onComplete:function(a,b,c){var d=this,e=d.active,f;if(e){f=e.scope;if(b){b=d.getRenderer(e.renderer).call(d,d,c,e)!==false}if(b){Ext.callback(e.success,f,[d,c,a]);d.fireEvent("load",d,c,a)}else{Ext.callback(e.failure,f,[d,c,a]);d.fireEvent("exception",d,c,a)}Ext.callback(e.callback,f,[d,b,c,a]);if(e.mask){d.removeMask()}}delete d.active},getRenderer:function(a){if(Ext.isFunction(a)){return a}return this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh();c.autoRefresh=setInterval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh();delete a.target;a.abort();a.clearListeners()}});Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(a,b,c){var d=true;try{a.getTarget().update(Ext.decode(b.responseText))}catch(e){d=false}return d},Component:function(a,b,c){var d=true,e=a.getTarget(),f=[];try{f=Ext.decode(b.responseText)}catch(g){d=false}if(d){e.suspendLayouts();if(c.removeAll){e.removeAll()}e.add(f);e.resumeLayouts(true)}return d}}},target:null,loadMask:false,renderer:"html",setTarget:function(a){var b=this;if(Ext.isString(a)){a=Ext.getCmp(a)}if(b.target&&b.target!=a){b.abort()}b.target=a},removeMask:function(){this.target.setLoading(false)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a)){return a}var b=this.statics().Renderer;switch(a){case"component":return b.Component;case"data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}});Ext.define("Ext.layout.SizeModel",{constructor:function(a){var b=this,c=b.self,d=c.sizeModelsArray,e;Ext.apply(b,a);b[e=b.name]=true;b.fixed=!(b.auto=b.natural||b.shrinkWrap);d[b.ordinal=d.length]=c[e]=c.sizeModels[e]=b},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},function(){var a=this,b=a.sizeModelsArray,c,d,e,f,g;new a({name:"calculated"});new a({name:"configured",names:{width:"width",height:"height"}});new a({name:"natural"});new a({name:"shrinkWrap"});new a({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new a({name:"calculatedFromNatural",natural:true});new a({name:"calculatedFromShrinkWrap",shrinkWrap:true});new a({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new a({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new a({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(c=0,e=b.length;c<e;++c){g=b[c];g.pairsByHeightOrdinal=f=[];for(d=0;d<e;++d){f.push({width:g,height:b[d]})}}});Ext.define("Ext.layout.Layout",{isLayout:true,initialized:false,running:false,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(a,b){var c=Ext.ClassManager,d=this.layoutsByType,e,f,g,h,i,j;if(!a||typeof a==="string"){i=a||b;g={}}else if(a.isLayout){return a}else{g=a;i=a.type||b}if(!(h=d[i])){e="layout."+i;f=c.getNameByAlias(e);if(!f){j=true}h=c.get(f);if(j||!h){return c.instantiateByAlias(e,g||{})}d[i]=h}return new h(g)}},constructor:function(a){var b=this;b.id=Ext.id(null,b.type+"-");Ext.apply(b,a);b.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(a){var b=this,c=b.context,d;if(b.lastWidthModel!=a.widthModel){if(b.lastWidthModel){d=true}b.lastWidthModel=a.widthModel}if(b.lastHeightModel!=a.heightModel){if(b.lastWidthModel){d=true}b.lastHeightModel=a.heightModel}if(d){(c=a.context).clearTriggers(b,false);c.clearTriggers(b,true);b.triggerCount=0}},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},isItemBoxParent:function(a){return false},isItemLayoutRoot:function(a){var b=a.getSizeModel(),c=b.width,d=b.height;if(!a.componentLayout.lastComponentSize&&(c.calculated||d.calculated)){return false}return!c.shrinkWrap&&!d.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(a,b){var c=a.length,d,e,f,g;if(c){g=[];for(d=0;d<c;++d){e=a[d];if(!e.rendered){if(b&&b[e.id]!==undefined){f=b[e.id]}else{this.configureItem(e);f=e.getRenderTree();if(b){b[e.id]=f}}if(f){g.push(f)}}}}return g},finishRender:Ext.emptyFn,finishRenderItems:function(a,b){var c=b.length,d,e;for(d=0;d<c;d++){e=b[d];if(e.rendering){e.finishRender(d);this.afterRenderItem(e)}}},renderChildren:function(){var a=this,b=a.getLayoutItems(),c=a.getRenderTarget();a.renderItems(b,c)},renderItems:function(a,b){var c=this,d=a.length,e=0,f;if(d){Ext.suspendLayouts();for(;e<d;e++){f=a[e];if(f&&!f.rendered){c.renderItem(f,b,e)}else if(!c.isValidParent(f,b,e)){c.moveItem(f,b,e)}else{c.configureItem(f)}}Ext.resumeLayouts(true)}},isValidParent:function(a,b,c){var d=a.el?a.el.dom:Ext.getDom(a),e=b&&b.dom||b,f=d.parentNode,g;if(f){g=f.className;if(g&&g.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1){d=d.parentNode}}if(d&&e){if(typeof c=="number"){c=this.getPositionOffset(c);return d===e.childNodes[c]}return d.parentNode===e}return false},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,b,c){var d=this;if(!a.rendered){d.configureItem(a);a.render(b,c);d.afterRenderItem(a)}},moveItem:function(a,b,c){b=b.dom||b;if(typeof c=="number"){c=b.childNodes[c]}b.insertBefore(a.el.dom,c||null);a.container=Ext.get(b);this.configureItem(a)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){var b=this,c=a.el,d=b.owner,e;if(a.rendered){e=[].concat(b.itemCls||[]);if(d.itemCls){e=Ext.Array.push(e,d.itemCls)}if(e.length){c.removeCls(e)}}delete a.ownerLayout},destroy:function(){var a=this,b;if(a.targetCls){b=a.getTarget();if(b){b.removeCls(a.targetCls)}}a.onDestroy()},sortWeightedItems:function(a,b){for(var c=0,d=a.length;c<d;++c){a[c].$i=c}Ext.Array.sort(a,function(a,c){var d=c.weight-a.weight;if(!d){d=a.$i-c.$i;if(a[b]){d=-d}}return d});for(c=0;c<d;++c){delete a[c].$i}}},function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels});Ext.define("Ext.layout.container.Container",{alias:["layout.container"],extend:Ext.layout.Layout,alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:Ext.util.ElementContainer},type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.paddingContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(a,b){var c=this;c.callParent(arguments);if(b){if(c.usesContainerHeight){++a.consumersContainerHeight}if(c.usesContainerWidth){++a.consumersContainerWidth}}},cacheChildItems:function(a){var b=a.context,c=[],d=this.getVisibleItems(),e=d.length,f;a.childItems=c;a.visibleItems=d;for(f=0;f<e;++f){c.push(b.getCmp(d[f]))}},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},configureItem:function(a){var b=this,c=b.itemCls,d=b.owner.itemCls,e;a.ownerLayout=b;if(c){e=typeof c==="string"?[c]:c}if(d){e=Ext.Array.push(e||[],d)}if(e){a.addCls(e)}},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(a,b){var c=b.$comp.layout,d=c.getRenderTpl(),e=c.getRenderData();d.applyOut(e,a)},doRenderItems:function(a,b){var c=b.$layout,d=c.getRenderTree();if(d){Ext.DomHelper.generateMarkup(d,a)}},finishRender:function(){var a=this,b,c;a.callParent();a.cacheElements();b=a.getRenderTarget();c=a.getLayoutItems();a.finishRenderItems(b,c)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(a,b){var c=a.targetContext,d=c.getFrameInfo(),e=a.paddingContext.getPaddingInfo(),f=0,g=0,h,i,j,k;if(!a.widthModel.shrinkWrap){++g;j=b?c.getDomProp("width"):c.getProp("width");h=typeof j=="number";if(h){++f;j-=d.width+e.width;if(j<0){j=0}}}if(!a.heightModel.shrinkWrap){++g;k=b?c.getDomProp("height"):c.getProp("height");i=typeof k=="number";if(i){++f;k-=d.height+e.height;if(k<0){k=0}}}return{width:j,height:k,needed:g,got:f,gotAll:f==g,gotWidth:h,gotHeight:i}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;if(b){a+=b}}return a},getLayoutItems:function(){var a=this.owner,b=a&&a.items;return b&&b.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var a=this,b=a.getRenderTarget(),c=a.getLayoutItems(),d=c.length,e=[],f,g;for(f=0;f<d;f++){g=c[f];if(g.rendered&&a.isValidParent(g,b,f)){e.push(g)}}return e},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=this,b=Ext.XTemplate.getTpl(this,"renderTpl");if(!b.renderContent){a.owner.setupRenderTpl(b)}return b},getRenderTree:function(){var a,b=this.owner.items,c,d={};do{c=b.generation;a=this.getItemsRenderTree(this.getLayoutItems(),d)}while(b.generation!==c);return a},renderChildren:function(){var a=this,b=a.owner.items,c=a.getRenderTarget(),d,e;do{d=b.generation;e=a.getLayoutItems();a.renderItems(e,c)}while(b.generation!==d)},getScrollbarsNeeded:function(a,b,c,d){var e=Ext.getScrollbarSize(),f=typeof a=="number",g=typeof b=="number",h=0,i=0;if(!e.width){return 0}if(g&&b<d){i=2;a-=e.width}if(f&&a<c){h=1;if(!i&&g){b-=e.height;if(b<d){i=2}}}return i+h},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var a=this.getRenderTarget(),b=this.getLayoutItems(),c=b.length,d=[],e,f;for(e=0;e<c;e++){f=b[e];if(f.rendered&&this.isValidParent(f,a,e)&&f.hidden!==true){d.push(f)}}return d},setupRenderTpl:function(a){var b=this;a.renderBody=b.doRenderBody;a.renderContainer=b.doRenderContainer;a.renderItems=b.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:false,managePadding:true,manageOverflow:false,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>","</table>"],isShrinkWrapTpl:true,beginLayout:function(a){var b=this,c,d,e,f;b.callParent(arguments);b.initContextItems(a);if(!b.isShrinkWrapTpl){if(a.widthModel.shrinkWrap){f=true}if(Ext.isStrict&&Ext.isIE7){e=b.getOverflowXStyle(a);if((e==="auto"||e==="scroll")&&a.paddingContext.getPaddingInfo().right){f=true}}if(f){b.insertTableCt(a)}}if(!b.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!b.clearElHasPadding){c=a.paddingContext.getPaddingInfo().bottom;d=b.getOverflowYStyle(a);if(c&&(d==="auto"||d==="scroll")){b.clearEl.setStyle("height",c);b.clearElHasPadding=true}}},beforeLayoutCycle:function(a){var b=this.owner,c=b.hierarchyState,d=b.hierarchyStateInner;if(!c||c.invalid){c=b.getHierarchyState();d=b.hierarchyStateInner}if(a.widthModel.shrinkWrap&&this.isShrinkWrapTpl){d.inShrinkWrapTable=true}else{delete d.inShrinkWrapTable}},beginLayoutCycle:function(a){var b=this,c=b.outerCt,d=b.lastOuterCtWidth||"",e=b.lastOuterCtHeight||"",f=b.lastOuterCtTableLayout||"",g=a.state,h,i,j,k,l,m,n;b.callParent(arguments);j=k=l="";if(!a.widthModel.shrinkWrap&&b.isShrinkWrapTpl){if(Ext.isIE7m&&Ext.isStrict){i=b.getOverflowYStyle(a);if(i==="auto"||i==="scroll"){m=true}}if(!m){j="100%"}n=b.owner.hierarchyStateInner;h=b.getOverflowXStyle(a);l=n.inShrinkWrapTable||h==="auto"||h==="scroll"?"":"fixed"}if(!a.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){k="100%"}if(j!==d||b.hasOuterCtPxWidth){c.setStyle("width",j);b.lastOuterCtWidth=j;b.hasOuterCtPxWidth=false}if(l!==f){c.setStyle("table-layout",l);b.lastOuterCtTableLayout=l}if(k!==e||b.hasOuterCtPxHeight){c.setStyle("height",k);b.lastOuterCtHeight=k;b.hasOuterCtPxHeight=false}if(b.hasInnerCtPxHeight){b.innerCt.setStyle("height","");b.hasInnerCtPxHeight=false}g.overflowAdjust=g.overflowAdjust||b.lastOverflowAdjust},calculate:function(a){var b=this,c=a.state,d=b.getContainerSize(a,true),e=c.calculatedItems||(c.calculatedItems=b.calculateItems?b.calculateItems(a,d):true);b.setCtSizeIfNeeded(a,d);if(e&&a.hasDomProp("containerChildrenSizeDone")){b.calculateContentSize(a);if(d.gotAll){if(b.manageOverflow&&!a.state.secondPass&&!b.reserveScrollbar){b.calculateOverflow(a,d)}return}}b.done=false},calculateContentSize:function(a){var b=this,c=(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),d=c&1||undefined,e=c&2||undefined,f=0,g=a.props;if(d){if(isNaN(g.contentWidth)){++f}else{d=undefined}}if(e){if(isNaN(g.contentHeight)){++f}else{e=undefined}}if(f){if(d&&!a.setContentWidth(b.measureContentWidth(a))){b.done=false}if(e&&!a.setContentHeight(b.measureContentHeight(a))){b.done=false}}},calculateOverflow:function(a){var b=this,c,d,e,f,g,h,i;g=b.getOverflowXStyle(a)==="auto";h=b.getOverflowYStyle(a)==="auto";if(g||h){e=Ext.getScrollbarSize();i=a.overflowContext.el.dom;f=0;if(i.scrollWidth>i.clientWidth){f|=1}if(i.scrollHeight>i.clientHeight){f|=2}c=h&&f&2?e.width:0;d=g&&f&1?e.height:0;if(c!==b.lastOverflowAdjust.width||d!==b.lastOverflowAdjust.height){b.done=false;a.invalidate({state:{overflowAdjust:{width:c,height:d},overflowState:f,secondPass:true}})}}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadding:function(a,b){var c=b.$layout,d=b.$layout.owner,e=d[d.contentPaddingProperty];if(c.managePadding&&e){a.push("padding:",d.unitizeBox(e))}},finishedLayout:function(a){var b=this.innerCt;this.callParent(arguments);if(Ext.isIEQuirks||Ext.isIE8m){b.repaint()}if(Ext.isOpera){b.setStyle("position","relative");b.dom.scrollWidth;b.setStyle("position","")}},getContainerSize:function(a,b){var c=this.callParent(arguments),d=a.state.overflowAdjust;if(d){c.width-=d.width;c.height-=d.height}return c},getRenderData:function(){var a=this.owner,b=this.callParent();if((Ext.isIEQuirks||Ext.isIE7m)&&(a.shrinkWrap&1||a.floating&&!a.width)){b.shrinkWrapWidth=true}return b},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle("overflow-y"))},initContextItems:function(a){var b=this,c=a.target,d=b.owner.customOverflowEl;a.outerCtContext=a.getEl("outerCt",b);a.innerCtContext=a.getEl("innerCt",b);if(d){a.overflowContext=a.getEl(d)}else{a.overflowContext=a.targetContext}if(c[c.contentPaddingProperty]!==undefined){a.paddingContext=b.isShrinkWrapTpl?a.innerCtContext:a.outerCtContext}},initLayout:function(){var a=this,b=Ext.getScrollbarSize().width,c=a.owner;a.callParent();if(b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")){if(c.autoScroll||a.reserveScrollbar){a.lastOverflowAdjust={width:b,height:0}}}},insertTableCt:function(a){var b=this,c=b.owner,d=0,e,f,g,h,i;e=Ext.XTemplate.getTpl(this,"tableTpl");e.renderPadding=b.doRenderPadding;b.outerCt.dom.removeChild(b.innerCt.dom);f=document.createDocumentFragment();g=b.innerCt.dom.childNodes;h=g.length;for(;d<h;d++){f.appendChild(g[0])}i=b.getTarget();i.dom.innerHTML=e.apply({$layout:b,ownerId:b.owner.id});i.down("td").dom.appendChild(f);b.applyChildEls(c.el,c.id);b.isShrinkWrapTpl=true;a.removeEl(b.outerCt);a.removeEl(b.innerCt);b.initContextItems(a)},measureContentHeight:function(a){var b=this.outerCt.getHeight(),c=a.target;if(this.managePadding&&c[c.contentPaddingProperty]===undefined){b+=a.targetContext.getPaddingInfo().height}return b},measureContentWidth:function(a){var b,c,d,e,f;if(this.chromeCellMeasureBug){b=this.innerCt.dom;c=b.style;d=c.display;if(d=="table-cell"){c.display="";b.offsetWidth;c.display=d}}e=this.outerCt.getWidth();f=a.target;if(this.managePadding&&f[f.contentPaddingProperty]===undefined){e+=a.targetContext.getPaddingInfo().width
}return e},setCtSizeIfNeeded:function(a,b){var c=this,d=b.width,e=b.height,f=a.paddingContext.getPaddingInfo(),g=c.getTarget(),h=c.getOverflowXStyle(a),i=c.getOverflowYStyle(a),j=h==="auto"||h==="scroll",k=i==="auto"||i==="scroll",l=Ext.getScrollbarSize(),m=c.isShrinkWrapTpl,n=c.manageOverflow,o,p,q,r;if(d&&!a.widthModel.shrinkWrap&&(Ext.isIE7m&&Ext.isStrict&&m&&k||Ext.isIEQuirks&&!m&&!j)){if(!n){if(k&&g.dom.scrollHeight>g.dom.clientHeight){d-=l.width}}a.outerCtContext.setProp("width",d+f.width);c.hasOuterCtPxWidth=true}if(e&&!a.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){p=true}if(Ext.isIE8&&Ext.isStrict||Ext.isIE7m&&Ext.isStrict&&m){q=true;r=!Ext.isIE8}if((p||q)&&j&&g.dom.scrollWidth>g.dom.clientWidth){e=Math.max(e-l.height,0)}if(p){a.outerCtContext.setProp("height",e+f.height);c.hasOuterCtPxHeight=true}if(q){if(r){e+=f.height}a.innerCtContext.setProp("height",e);c.hasInnerCtPxHeight=true}}if(Ext.isIE7&&Ext.isStrict&&!m&&i==="auto"){o=h==="auto"?"overflow-x":"overflow-y";g.setStyle(o,"hidden");g.setStyle(o,"auto")}},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(a){var b=this;b.list={};b.zIndexStack=[];b.front=null;if(a){if(a.isContainer){a.on("resize",b._onContainerResize,b);b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):undefined,b.getNextZSeed());b.targetEl=a.getTargetEl();b.container=a}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();b.targetEl=Ext.get(a)}}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();Ext.onDocumentReady(function(){b.targetEl=Ext.getBody()})}},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(a){this.zseed=a;var b=this.assignZIndices();this._activateLast();return b},assignZIndices:function(){var a=this.zIndexStack,b=a.length,c=0,d=this.zseed,e,f;for(;c<b;c++){e=a[c];if(e&&!e.hidden){d=e.setZIndex(d);if(e.modal){f=e}}}if(f){this._showModalMask(f)}return d},_setActiveChild:function(a,b){var c=this.front,d=a.preventFocusOnActivate;if(a!==c){if(c&&!c.destroying){c.setActive(false,a)}this.front=a;if(a&&a!=b){a.preventFocusOnActivate=a.preventFocusOnActivate||b&&(b.preventFocusOnActivate||!b.focusOnToFront);a.setActive(true);if(a.modal){this._showModalMask(a)}a.preventFocusOnActivate=d}}},onComponentHide:function(a){this._activateLast()},_activateLast:function(){var a=this,b=a.zIndexStack,c=b.length-1,d;for(;c>=0&&b[c].hidden;--c);if(d=b[c]){a._setActiveChild(d,a.front);if(d.modal){return}}else{if(a.front&&!a.front.destroying){a.front.setActive(false)}a.front=null}for(;c>=0;--c){d=b[c];if(d.isVisible()&&d.modal){a._showModalMask(d);return}}a._hideModalMask()},_showModalMask:function(a){var b=this,c=a.el.getStyle("zIndex")-4,d=a.floatParent?a.floatParent.getTargetEl():a.container,e=b.mask,f=b.maskShim,g;if(!e){if(Ext.isIE6){f=b.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"});f.setVisibilityMode(Ext.Element.DISPLAY)}e=b.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"});e.setVisibilityMode(Ext.Element.DISPLAY);e.on("click",b._onMaskClick,b)}e.maskTarget=d;g=b.getMaskBox();if(f){f.setStyle("zIndex",c);f.show();f.setBox(g)}e.setStyle("zIndex",c);e.show();e.setBox(g)},_hideModalMask:function(){var a=this.mask,b=this.maskShim;if(a&&a.isVisible()){a.maskTarget=undefined;a.hide();if(b){b.hide()}}},_onMaskClick:function(){if(this.front){this.front.focus()}},getMaskBox:function(){var a=this.mask.maskTarget;if(a.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return a.getBox()}},_onContainerResize:function(){var a=this,b=a.mask,c=a.maskShim,d;if(b&&b.isVisible()){b.hide();if(c){c.hide()}d=a.getMaskBox();if(c){c.setSize(d);c.show()}b.setSize(d);b.show()}},register:function(a){var b=this,c=a.afterHide;if(a.zIndexManager){a.zIndexManager.unregister(a)}a.zIndexManager=b;b.list[a.id]=a;b.zIndexStack.push(a);a.afterHide=function(){c.apply(a,arguments);b.onComponentHide(a)}},unregister:function(a){var b=this,c=b.list;delete a.zIndexManager;if(c&&c[a.id]){delete c[a.id];delete a.afterHide;Ext.Array.remove(b.zIndexStack,a);b._activateLast()}},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a,b){var c=this,d=false,e=c.zIndexStack;a=c.get(a);if(a!==c.front){Ext.Array.remove(e,a);if(a.preventBringToFront){e.unshift(a)}else{e.push(a)}c.assignZIndices();if(!b){c._activateLast()}d=true;c.front=a;if(a.modal){c._showModalMask(a)}}return d},sendToBack:function(a){var b=this;a=b.get(a);Ext.Array.remove(b.zIndexStack,a);b.zIndexStack.unshift(a);b.assignZIndices();this._activateLast();return a},hideAll:function(){var a=this.list,b,c;for(c in a){if(a.hasOwnProperty(c)){b=a[c];if(b.isComponent&&b.isVisible()){b.hide()}}}},hide:function(){var a=0,b=this.zIndexStack,c=b.length,d;this.tempHidden=[];for(;a<c;a++){d=b[a];if(d.isVisible()){this.tempHidden.push(d);d.el.hide();d.hidden=true}}},show:function(){var a=0,b=this.tempHidden,c=b?b.length:0,d;for(;a<c;a++){d=b[a];d.el.show();d.hidden=false;d.setPosition(d.x,d.y)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(a,b){var c=[],d=0,e=this.zIndexStack,f=e.length,g;for(;d<f;d++){g=e[d];if(a.call(b||g,g)!==false){c.push(g)}}return c},each:function(a,b){var c=this.list,d,e;for(d in c){if(c.hasOwnProperty(d)){e=c[d];if(e.isComponent&&a.call(b||e,e)===false){return}}}},eachBottomUp:function(a,b){var c=this.zIndexStack,d=0,e=c.length,f;for(;d<e;d++){f=c[d];if(f.isComponent&&a.call(b||f,f)===false){return}}},eachTopDown:function(a,b){var c=this.zIndexStack,d=c.length,e;for(;d-->0;){e=c[d];if(e.isComponent&&a.call(b||e,e)===false){return}}},destroy:function(){var a=this,b=a.list,c,d;for(d in b){if(b.hasOwnProperty(d)){c=b[d];if(c.isComponent){c.destroy()}}}delete a.zIndexStack;delete a.list;delete a.container;delete a.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this});Ext.define("Ext.Queryable",{isQueryable:true,query:function(a){a=a||"*";return Ext.ComponentQuery.query(a,this)},queryBy:function(a,b){var c=[],d=this.getRefItems(true),e=0,f=d.length,g;for(;e<f;++e){g=d[e];if(a.call(b||g,g)!==false){c.push(g)}}return c},queryById:function(a){return this.down("#"+a)},child:function(a){if(a&&a.isComponent){a="#"+Ext.escapeId(a.getItemId())}a=a||"";return this.query("> "+a)[0]||null},down:function(a){if(a&&a.isComponent){a="#"+Ext.escapeId(a.getItemId())}a=a||"";return this.query(a)[0]||null},getRefItems:function(){return[]}});Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,beginLayoutCycle:function(a,b){var c=this,d=c.owner,e=a.ownerCtContext,f=a.heightModel,g=a.widthModel,h=d.el.dom===document.body,i=d.lastBox||c.nullBox,j=d.el.lastBox||c.nullBox,k=!h,l,m,n,o;c.callParent(arguments);if(b){if(c.usesContentWidth){++a.consumersContentWidth}if(c.usesContentHeight){++a.consumersContentHeight}if(c.usesWidth){++a.consumersWidth}if(c.usesHeight){++a.consumersHeight}if(e&&!e.hasRawContent){l=d.ownerLayout;if(l.usesWidth){++a.consumersWidth}if(l.usesHeight){++a.consumersHeight}}}if(g.configured){n=g.names.width;if(!h){k=b?d[n]!==j.width:g.constrained}a.setWidth(d[n],k)}else if(a.isTopLevel){if(g.calculated){m=i.width;a.setWidth(m,m!=j.width)}m=i.x;a.setProp("x",m,m!=j.x)}if(f.configured){o=f.names.height;if(!h){k=b?d[o]!==j.height:f.constrained}a.setHeight(d[o],k)}else if(a.isTopLevel){if(f.calculated){m=i.height;a.setHeight(m,m!=j.height)}m=i.y;a.setProp("y",m,m!=j.y)}},finishedLayout:function(a){var b=this,c=a.children,d=b.owner,e,f,g,h,i;if(c){e=c.length;for(f=0;f<e;f++){g=c[f];g.el.lastBox=g.props}}a.previousSize=b.lastComponentSize;b.lastComponentSize=d.el.lastBox=i=a.props;h=d.lastBox||(d.lastBox={});h.x=i.x;h.y=i.y;h.width=i.width;h.height=i.height;h.invalid=false;b.callParent(arguments)},notifyOwner:function(a){var b=this,c=b.lastComponentSize,d=a.previousSize,e=[c.width,c.height];if(d){e.push(d.width,d.height)}b.owner.afterComponentLayout.apply(b.owner,e)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(a){var b=this,c=b.targetInfo,d;if(!c){d=a.getEl("getTarget",b);b.targetInfo=c={padding:d.getPaddingInfo(),border:d.getBorderInfo()}}return c},measureAutoDimensions:function(a,b){var c=this,d=c.owner,e=d.layout,f=a.heightModel,g=a.widthModel,h=a.boxParent,i=a.isBoxParent,j=a.props,k,l={gotWidth:false,gotHeight:false,isContainer:k=!a.hasRawContent},m=b||3,n,o,p=0,q=0,r,s,t;if(g.shrinkWrap&&a.consumersContentWidth){++p;n=!(m&1);if(k){if(n){l.contentWidth=0;l.gotWidth=true;++q}else if((l.contentWidth=a.getProp("contentWidth"))!==undefined){l.gotWidth=true;++q}}else{s=j.contentWidth;if(typeof s=="number"){l.contentWidth=s;l.gotWidth=true;++q}else{if(n){r=true}else if(!a.hasDomProp("containerChildrenSizeDone")){r=false}else if(i||!h||h.widthModel.shrinkWrap){r=true}else{r=h.hasDomProp("width")}if(r){if(n){t=0}else if(e&&e.measureContentWidth){t=e.measureContentWidth(a)}else{t=c.measureContentWidth(a)}if(!isNaN(l.contentWidth=t)){a.setContentWidth(t,true);l.gotWidth=true;++q}}}}}else if(g.natural&&a.consumersWidth){++p;s=j.width;if(typeof s=="number"){l.width=s;l.gotWidth=true;++q}else{if(i||!h){r=true}else{r=h.hasDomProp("width")}if(r){if(!isNaN(l.width=c.measureOwnerWidth(a))){a.setWidth(l.width,false);l.gotWidth=true;++q}}}}if(f.shrinkWrap&&a.consumersContentHeight){++p;o=!(m&2);if(k){if(o){l.contentHeight=0;l.gotHeight=true;++q}else if((l.contentHeight=a.getProp("contentHeight"))!==undefined){l.gotHeight=true;++q}}else{s=j.contentHeight;if(typeof s=="number"){l.contentHeight=s;l.gotHeight=true;++q}else{if(o){r=true}else if(!a.hasDomProp("containerChildrenSizeDone")){r=false}else if(d.noWrap){r=true}else if(!g.shrinkWrap){r=(a.bodyContext||a).hasDomProp("width")}else if(i||!h||h.widthModel.shrinkWrap){r=true}else{r=h.hasDomProp("width")}if(r){if(o){t=0}else if(e&&e.measureContentHeight){t=e.measureContentHeight(a)}else{t=c.measureContentHeight(a)}if(!isNaN(l.contentHeight=t)){a.setContentHeight(t,true);l.gotHeight=true;++q}}}}}else if(f.natural&&a.consumersHeight){++p;s=j.height;if(typeof s=="number"){l.height=s;l.gotHeight=true;++q}else{if(i||!h){r=true}else{r=h.hasDomProp("width")}if(r){if(!isNaN(l.height=c.measureOwnerHeight(a))){a.setHeight(l.height,false);l.gotHeight=true;++q}}}}if(h){a.onBoxMeasured()}l.gotAll=q==p;return l},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(a,b){var c=this,d=c.lastWidthModel,e=c.lastHeightModel,f=c.owner.el;c.callParent(arguments);if(d&&d.fixed&&a.widthModel.shrinkWrap){f.setWidth(null)}if(e&&e.fixed&&a.heightModel.shrinkWrap){f.setHeight(null)}},calculate:function(a){var b=this,c=b.measureAutoDimensions(a),d=a.heightModel,e=a.widthModel,f,g;if(c.gotWidth){if(e.shrinkWrap){b.publishOwnerWidth(a,c.contentWidth)}else if(b.publishInnerWidth){b.publishInnerWidth(a,c.width)}}else if(!e.auto&&b.publishInnerWidth){f=b.waitForOuterWidthInDom?a.getDomProp("width"):a.getProp("width");if(f===undefined){b.done=false}else{b.publishInnerWidth(a,f)}}if(c.gotHeight){if(d.shrinkWrap){b.publishOwnerHeight(a,c.contentHeight)}else if(b.publishInnerHeight){b.publishInnerHeight(a,c.height)}}else if(!d.auto&&b.publishInnerHeight){g=b.waitForOuterHeightInDom?a.getDomProp("height"):a.getProp("height");if(g===undefined){b.done=false}else{b.publishInnerHeight(a,g)}}if(!c.gotAll){b.done=false}},calculateOwnerHeightFromContentHeight:function(a,b){return b+a.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getFrameInfo().width},publishOwnerHeight:function(a,b){var c=this,d=c.owner,e=c.calculateOwnerHeightFromContentHeight(a,b),f,g,h;if(isNaN(e)){c.done=false}else{f=Ext.Number.constrain(e,d.minHeight,d.maxHeight);if(f==e){g=c.setHeightInDom}else{h=c.sizeModels[f<e?"constrainedMax":"constrainedMin"];e=f;if(a.heightModel.calculatedFromShrinkWrap){a.heightModel=h}else{a.invalidate({heightModel:h})}}a.setHeight(e,g)}},publishOwnerWidth:function(a,b){var c=this,d=c.owner,e=c.calculateOwnerWidthFromContentWidth(a,b),f,g,h;if(isNaN(e)){c.done=false}else{f=Ext.Number.constrain(e,d.minWidth,d.maxWidth);if(f==e){g=c.setWidthInDom}else{h=c.sizeModels[f<e?"constrainedMax":"constrainedMin"];e=f;if(a.widthModel.calculatedFromShrinkWrap){a.widthModel=h}else{a.invalidate({widthModel:h})}}a.setWidth(e,g)}}});Ext.define("Ext.container.AbstractContainer",{extend:Ext.Component,mixins:{queryable:Ext.Queryable},renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:false,autoDestroy:true,defaultType:"panel",detachOnRemove:true,isContainer:true,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){var a=this;a.addEvents("afterlayout","beforeadd","beforeremove","add","remove");a.callParent();a.getLayout();a.initItems()},initItems:function(){var a=this,b=a.items;a.items=new Ext.util.AbstractMixedCollection(false,a.getComponentId);a.floatingItems=new Ext.util.MixedCollection(false,a.getComponentId);if(b){if(!Ext.isArray(b)){b=[b]}a.add(b)}},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();if(a){a.finishRender()}},beforeRender:function(){var a=this,b=a.getLayout(),c;a.callParent();if(!b.initialized){b.initLayout()}c=b.targetCls;if(c){a.applyTargetCls(c)}},applyTargetCls:function(a){this.addCls(a)},afterComponentLayout:function(){var a=this.floatingItems.items,b=a.length,c,d;this.callParent(arguments);for(c=0;c<b;c++){d=a[c];if(!d.rendered&&d.autoShow){d.show()}}},onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},repositionFloatingItems:function(){var a=this.floatingItems.items,b=a.length,c,d;for(c=0;c<b;c++){d=a[c];if(d.el&&!d.hidden){d.setPosition(d.x,d.y)}}},setupRenderTpl:function(a){this.callParent(arguments);this.getLayout().setupRenderTpl(a)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(a){var b=this.layout;if(b&&b.isLayout&&b!=a){b.setOwner(null)}this.layout=a;a.setOwner(this)},getLayout:function(){var a=this;if(!a.layout||!a.layout.isLayout){a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout||a.defaultLayoutType))}return a.layout},doLayout:function(){this.updateLayout();return this},afterLayout:function(a){var b=this;++b.layoutCounter;if(b.hasListeners.afterlayout){b.fireEvent("afterlayout",b,a)}},prepareItems:function(a,b){if(Ext.isArray(a)){a=a.slice()}else{a=[a]}var c=this,d=0,e=a.length,f;for(;d<e;d++){f=a[d];if(f==null){Ext.Array.erase(a,d,1);--d;--e}else{if(b){f=this.applyDefaults(f)}f.isContained=c;a[d]=c.lookupComponent(f);delete f.isContained;delete a[d].isContained}}return a},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentManager.get(a)}Ext.applyIf(a,b)}return a},lookupComponent:function(a){return typeof a=="string"?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId&&a.getItemId()},add:function(){var a=this,b=Ext.Array.slice(arguments),c=typeof b[0]=="number"?b.shift():-1,d=a.getLayout(),e,f,g,h,i,j,k;if(b.length==1&&Ext.isArray(b[0])){f=b[0];e=true}else{f=b}if(a.rendered){Ext.suspendLayouts()}k=f=a.prepareItems(f,true);h=f.length;if(!e&&h==1){k=f[0]}for(g=0;g<h;g++){i=f[g];j=c<0?a.items.length:c+g;if(i.floating){a.floatingItems.add(i);i.onAdded(a,j);if(a.hasListeners.add){a.fireEvent("add",a,i,j)}}else if((!a.hasListeners.beforeadd||a.fireEvent("beforeadd",a,i,j)!==false)&&a.onBeforeAdd(i)!==false){a.items.insert(j,i);i.onAdded(a,j);a.onAdd(i,j);d.onAdd(i,j);if(a.hasListeners.add){a.fireEvent("add",a,i,j)}}}a.updateLayout();if(a.rendered){Ext.resumeLayouts(true)}return k},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(a,b){var c;if(b&&b.isComponent){c=this.items.indexOf(b);if(c!==-1){return this.move(c,a)}}return this.add(a,b)},move:function(a,b){var c=this.items,d;if(a.isComponent){a=c.indexOf(a)}d=c.removeAt(a);if(d===false){return false}c.insert(b,d);this.onMove(d,a,b);this.updateLayout();return d},onMove:Ext.emptyFn,onBeforeAdd:function(a){if(a.ownerCt&&a.ownerCt!==this){a.ownerCt.remove(a,false)}},remove:function(a,b){var c=this,d=c.getComponent(a);if(d&&(!c.hasListeners.beforeremove||c.fireEvent("beforeremove",c,d)!==false)){c.doRemove(d,b);if(c.hasListeners.remove){c.fireEvent("remove",c,d)}if(!c.destroying&&!d.floating){c.updateLayout()}}return d},doRemove:function(a,b){b=b===true||b!==false&&this.autoDestroy;var c=this,d=c.layout,e=d&&c.rendered,f=a.destroying||b,g=a.floating;if(g){c.floatingItems.remove(a)}else{c.items.remove(a)}if(e&&!g){if(d.running){Ext.AbstractComponent.cancelLayout(a,f)}d.onRemove(a,f)}a.onRemoved(f);c.onRemove(a,f);if(b){a.destroy()}else{if(e&&!g){d.afterRemove(a)}if(c.detachOnRemove&&a.rendered){c.detachComponent(a)}}},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},removeAll:function(a){var b=this,c=b.items.items.slice().concat(b.floatingItems.items),d=[],e=0,f=c.length,g;b.suspendLayouts();for(;e<f;e++){g=c[e];b.remove(g,a);if(g.ownerCt!==b){d.push(g)}}b.resumeLayouts(!!f);return d},getRefItems:function(a){var b=this,c=b.items.items,d=c.length,e=0,f,g=[];for(;e<d;e++){f=c[e];g[g.length]=f;if(a&&f.getRefItems){g.push.apply(g,f.getRefItems(true))}}c=b.floatingItems.items;d=c.length;for(e=0;e<d;e++){f=c[e];g[g.length]=f;if(a&&f.getRefItems){g.push.apply(g,f.getRefItems(true))}}return g},cascade:function(a,b,c){var d=this,e=d.items?d.items.items:[],f=e.length,g=0,h,i=c?c.concat(d):[d],j=i.length-1;if(a.apply(b||d,i)!==false){for(;g<f;g++){h=e[g];if(h.cascade){h.cascade(a,b,c)}else{i[j]=h;a.apply(b||e,i)}}}return this},isAncestor:function(a){while(a){if(a.ownerCt===this){return true}a=a.ownerCt}},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}var b=this.items.get(a);if(!b&&typeof a!="number"){b=this.floatingItems.get(a)}return b},contains:function(a,b){var c=false;if(b){this.cascade(function(b){if(b.contains&&b.contains(a)){c=true;return false}});return c}else{return this.items.contains(a)||this.floatingItems.contains(a)}},nextChild:function(a,b){var c=this,d,e=c.items.indexOf(a);if(e!==-1){d=b?Ext.ComponentQuery(b,c.items.items.slice(e+1)):c.items.getAt(e+1);if(!d&&c.ownerCt){d=c.ownerCt.nextChild(c,b)}}return d},prevChild:function(a,b){var c=this,d,e=c.items.indexOf(a);if(e!==-1){d=b?Ext.ComponentQuery(b,c.items.items.slice(e+1)):c.items.getAt(e+1);if(!d&&c.ownerCt){d=c.ownerCt.nextChild(c,b)}}return d},enable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++){c=a[d];if(c.resetDisable){c.enable()}}return this},disable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++){c=a[d];if(c.resetDisable!==false&&!c.disabled){c.disable();c.resetDisable=true}}return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var a=this,b=a.items,c=a.floatingItems,d;if(b){while(d=b.first()){a.doRemove(d,true)}}if(c){while(d=c.first()){a.doRemove(d,true)}}Ext.destroy(a.layout);a.callParent()}});Ext.define("Ext.container.Container",{extend:Ext.container.AbstractContainer,alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(a,b){var c,d,e=0,f=this.getRefItems(),g=f.length;a=Ext.getDom(a);for(;e<g;e++){c=f[e];d=c.getEl();if(d&&(d.dom===a||d.contains(a))){return b&&c.getChildByElement?c.getChildByElement(a,b):c}}return null}});Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:Ext.layout.container.Container,autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(a){var b=this,c=b.owner.autoSize,d=c&&c.width,e=b.sizePolicies;e=e[d]||e.$;d=c&&c.height;e=e[d]||e.$;return e},calculate:function(a){var b=this,c=b.owner,d=c.autoSize,e,f;if(d===true){d=b.autoSizeDefault}if(d){e=b.getDimension(c,d.width,"getWidth",c.width);f=b.getDimension(c,d.height,"getHeight",c.height)}a.childItems[0].setSize(e,f);a.setWidth(e);a.setHeight(f);a.setContentSize(e||c.field.getWidth(),f||c.field.getHeight())},getDimension:function(a,b,c,d){switch(b){case"boundEl":return a.boundEl[c]();case"field":return undefined;default:return d}}});Ext.define("Ext.Editor",{extend:Ext.container.Container,alias:"widget.editor",layout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,focusOnToFront:false,hidden:true,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var a=this,b=a.field=Ext.ComponentManager.create(a.field,"textfield");Ext.apply(b,{inEditor:true,msgTarget:b.msgTarget=="title"?"title":"qtip"});a.mon(b,{scope:a,blur:a.onFieldBlur,specialkey:a.onSpecialKey});if(b.grow){a.mon(b,"autosize",a.onFieldAutosize,a,{delay:1})}a.floating={constrain:a.constrain};a.items=b;a.callParent(arguments);a.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(a,b){var c=this,d=c.field,e=d.inputEl;c.callParent(arguments);if(e){e.dom.name="";if(c.swallowKeys){e.swallowEvent(["keypress","keydown"])}}},onSpecialKey:function(a,b){var c=this,d=b.getKey(),e=c.completeOnEnter&&d==b.ENTER,f=c.cancelOnEsc&&d==b.ESC;if(e||f){b.stopEvent();Ext.defer(function(){if(e){c.completeEdit()}else{c.cancelEdit()}if(a.triggerBlur){a.triggerBlur(b)}},10)}c.fireEvent("specialkey",c,a,b)},startEdit:function(a,b){var c=this,d=c.field;c.completeEdit();c.boundEl=Ext.get(a);b=Ext.isDefined(b)?b:Ext.String.trim(c.boundEl.dom.innerText||c.boundEl.dom.innerHTML);if(!c.rendered){if(c.ownerCt){c.parentEl=c.ownerCt.el;c.parentEl.position()}c.render(c.parentEl||document.body)}if(c.fireEvent("beforestartedit",c,c.boundEl,b)!==false){c.startValue=b;c.show();d.suspendEvents();d.reset();d.setValue(b);d.resumeEvents();c.realign(true);d.focus();if(d.autoSize){d.autoSize()}c.editing=true}},realign:function(a){var b=this;if(a===true){b.updateLayout()}b.alignTo(b.boundEl,b.alignment,b.offsets)},completeEdit:function(a){var b=this,c=b.field,d;if(!b.editing){return}if(c.assertValue){c.assertValue()}d=b.getValue();if(!c.isValid()){if(b.revertInvalid!==false){b.cancelEdit(a)}return}if(String(d)===String(b.startValue)&&b.ignoreNoChange){b.hideEdit(a);return}if(b.fireEvent("beforecomplete",b,d,b.startValue)!==false){d=b.getValue();if(b.updateEl&&b.boundEl){b.boundEl.update(d)}b.hideEdit(a);b.fireEvent("complete",b,d,b.startValue)}},onShow:function(){var a=this;a.callParent(arguments);if(a.hideEl!==false){a.boundEl.hide()}a.fireEvent("startedit",a,a.boundEl,a.startValue)},cancelEdit:function(a){var b=this,c=b.startValue,d=b.field,e;if(b.editing){e=b.getValue();d.suspendEvents();b.setValue(c);d.resumeEvents();b.hideEdit(a);b.fireEvent("canceledit",b,e,c)}},hideEdit:function(a){if(a!==true){this.editing=false;this.hide()}},onFieldBlur:function(a,b){var c=this,d=Ext.Element.getActiveElement();if(c.allowBlur===true&&c.editing&&c.selectSameEditor!==true){c.completeEdit()}if(Ext.fly(d).isFocusable()||d.getAttribute("tabIndex")){d.focus()}},onHide:function(){var a=this,b=a.field;if(a.editing){a.completeEdit();return}if(b.hasFocus&&b.triggerBlur){b.triggerBlur()}if(b.collapse){b.collapse()}if(a.hideEl!==false){a.boundEl.show()}a.callParent(arguments)},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var a=this;Ext.destroy(a.field);delete a.field;delete a.parentEl;delete a.boundEl;a.callParent(arguments)}});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){var b=this;if(arguments.length!==1||typeof a==="string"||a.dom||a.tagName||a===document||a.isComponent){b.legacyConstructor.apply(b,arguments);return}Ext.apply(b,a);b.bindings=[];if(!b.target.isComponent){b.target=Ext.get(b.target)}if(b.binding){b.addBinding(b.binding)}else if(a.key){b.addBinding(a)}b.enable()},legacyConstructor:function(a,b,c){var d=this;Ext.apply(d,{target:Ext.get(a),eventName:c||d.eventName,bindings:[]});if(b){d.addBinding(b)}d.enable()},addBinding:function(a){var b=this,c=a.key,d,e;if(b.processing){b.bindings=bindings.slice(0)}if(Ext.isArray(a)){for(d=0,e=a.length;d<e;d++){b.addBinding(a[d])}return}b.bindings.push(Ext.apply({keyCode:b.processKeys(c)},a))},removeBinding:function(a){var b=this,c=b.bindings,d=c.length,e,f,g;if(b.processing){b.bindings=c.slice(0)}g=b.processKeys(a.key);for(e=0;e<d;++e){f=c[e];if(f.fn===a.fn&&f.scope===a.scope){if(a.alt==f.alt&&a.crtl==f.crtl&&a.shift==f.shift){if(Ext.Array.equals(f.keyCode,g)){Ext.Array.erase(b.bindings,e,1);return}}}}},processKeys:function(a){var b=false,c,d,e,f,g;if(Ext.isString(a)){d=[];e=a.toUpperCase();for(g=0,f=e.length;g<f;++g){d.push(e.charCodeAt(g))}a=d;b=true}if(!Ext.isArray(a)){a=[a]}if(!b){for(g=0,f=a.length;g<f;++g){c=a[g];if(Ext.isString(c)){a[g]=c.toUpperCase().charCodeAt(0)}}}return a},handleTargetEvent:function(){var a=/input|textarea/i;return function(b){var c=this,d,e,f,g,h;if(c.enabled){d=c.bindings;e=0;f=d.length;b=c.processEvent.apply(c||c.processEventScope,arguments);if(c.ignoreInputFields){g=b.target;h=g.contentEditable;if(a.test(g.tagName)||(h===""||h==="true")){return}}if(!b.getKey){return b}c.processing=true;for(;e<f;++e){c.processBinding(d[e],b)}c.processing=false}}}(),processEvent:Ext.identityFn,processBinding:function(a,b){if(this.checkModifiers(a,b)){var c=b.getKey(),d=a.fn||a.handler,e=a.scope||this,f=a.keyCode,g=a.defaultEventAction,h,i,j=new Ext.EventObjectImpl(b);for(h=0,i=f.length;h<i;++h){if(c===f[h]){if(d.call(e,c,b)!==true&&g){j[g]()}break}}}},checkModifiers:function(a,b){var c=["shift","ctrl","alt"],d=0,e=c.length,f,g;for(;d<e;++d){g=c[d];f=a[g];if(!(f===undefined||f===b[g+"Key"])){return false}}return true},on:function(a,b,c){var d,e,f,g;if(Ext.isObject(a)&&!Ext.isArray(a)){d=a.key;e=a.shift;f=a.ctrl;g=a.alt}else{d=a}this.addBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},un:function(a,b,c){var d,e,f,g;if(Ext.isObject(a)&&!Ext.isArray(a)){d=a.key;e=a.shift;f=a.ctrl;g=a.alt}else{d=a}this.removeBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},isEnabled:function(){return this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleTargetEvent,a);a.enabled=true}},disable:function(){var a=this;if(a.enabled){a.target.removeListener(a.eventName,a.handleTargetEvent,a);a.enabled=false}},setDisabled:function(a){if(a){this.disable()}else{this.enable()}},destroy:function(a){var b=this,c=b.target;b.bindings=[];b.disable();if(a===true){if(c.isComponent){c.destroy()}else{c.remove()}}delete b.target}});Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this;if(arguments.length===2){b.legacyConstructor.apply(b,arguments);return}b.setConfig(a)},legacyConstructor:function(a,b){this.setConfig(Ext.apply({target:a},b))},setConfig:function(a){var b=this,c={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:b.getKeyEvent("forceKeyDown"in a?a.forceKeyDown:b.forceKeyDown,a.eventName)},d,e,f,g,h;if(b.map){b.map.destroy()}if(a.processEvent){c.processEvent=a.processEvent;c.processEventScope=a.processEventScope||b}if(a.keyMap){d=b.map=a.keyMap}else{d=b.map=new Ext.util.KeyMap(c);b.destroyKeyMap=true}e=Ext.util.KeyNav.keyOptions;f=a.scope||b;for(g in e){if(e.hasOwnProperty(g)){if(h=a[g]){if(typeof h==="function"){h={handler:h,defaultEventAction:a.defaultEventAction!==undefined?a.defaultEventAction:b.defaultEventAction}}d.addBinding({key:e[g],handler:Ext.Function.bind(b.handleEvent,h.scope||f,h.handler||h.fn,true),defaultEventAction:h.defaultEventAction!==undefined?h.defaultEventAction:b.defaultEventAction})}}}d.disable();if(!a.disabled){d.enable()}},handleEvent:function(a,b,c){return c.call(this,b)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,eventName:"keypress",destroy:function(a){if(this.destroyKeyMap){this.map.destroy(a)}delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(a,b){if(a||Ext.EventManager.useKeyDown&&!b){return"keydown"}else{return b||this.eventName}}});Ext.define("Ext.FocusManager",{singleton:true,alternateClassName:["Ext.FocusMgr"],mixins:{observable:Ext.util.Observable},enabled:false,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var b=this,c=Ext.ComponentQuery;b.mixins.observable.constructor.call(b,a);b.addEvents("beforecomponentfocus","componentfocus","disable","enable");b.focusTask=new Ext.util.DelayedTask(b.handleComponentFocus,b);Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments);if(b.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentFocus.apply(b,arguments)}},onBlur:function(){this.callParent(arguments);if(b.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentBlur.apply(b,arguments)}},onDestroy:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentDestroy.apply(b,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentHide.apply(b,arguments)}}});b.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:true,scope:b,backspace:b.focusLast,enter:b.navigateIn,esc:b.navigateOut,tab:b.navigateSiblings,space:b.navigateIn,del:b.focusLast,left:b.navigateSiblings,right:b.navigateSiblings,down:b.navigateSiblings,up:b.navigateSiblings});b.focusData={};b.subscribers=new Ext.util.HashMap;b.focusChain={};Ext.apply(c.pseudos,{nextFocus:function(a,b,c){c=c||1;b=parseInt(b,10);var d=a.length,e=b,f;for(;;){if((e+=c)>=d){e=0}else if(e<0){e=d-1}if(e===b){return[]}if((f=a[e]).isFocusable()){return[f]}}return[]},prevFocus:function(a,b){return this.nextFocus(a,b,-1)},root:function(a){var b=a.length,c=[],d=0,e;for(;d<b;d++){e=a[d];if(!e.ownerCt){c.push(e)}}return c}})},addXTypeToWhitelist:function(a){var b=this;if(Ext.isArray(a)){Ext.Array.forEach(a,b.addXTypeToWhitelist,b);return}if(!Ext.Array.contains(b.whitelist,a)){b.whitelist.push(a)}},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);
if(!a.isDestroyed){a.blur()}},disable:function(){var a=this;if(!a.enabled){return}delete a.options;a.enabled=false;a.removeDOM();a.keyNav.disable();a.fireEvent("disable",a)},enable:function(a){var b=this;if(a===true){a={focusFrame:true}}b.options=a=a||{};if(b.enabled){return}b.enabled=true;b.initDOM(a);b.keyNav.enable();b.focusEl.focus();delete b.focusedCmp;b.fireEvent("enable",b)},focusLast:function(a){var b=this;if(b.isWhitelisted(b.focusedCmp)){return true}if(b.previousFocusedCmp){b.previousFocusedCmp.focus()}},getRootComponents:function(){var a=Ext.ComponentQuery,b=a.query(":focusable:root:not([floating])"),c=a.query(":focusable:root[floating]");c.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()});return c.concat(b)},initDOM:function(a){var b=this,c=b.focusFrameCls,d=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),e=0,f=d.length;if(!Ext.isReady){return Ext.onReady(b.initDOM,b)}for(;e<f;e++){d[e].addFocusListener()}if(!b.focusEl){b.focusEl=Ext.getBody();b.focusEl.dom.tabIndex=-1}if(!b.focusFrame&&a.focusFrame){b.focusFrame=Ext.getBody().createChild({cls:c,children:[{cls:c+"-top"},{cls:c+"-bottom"},{cls:c+"-left"},{cls:c+"-right"}],style:"top: -100px; left: -100px;"});b.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);b.focusFrame.hide().setLocalXY(0,0)}},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(a){var b=this,c=b.focusedCmp,d,e;if(b.isWhitelisted(c)){return true}if(!c){d=b.getRootComponents()[0];if(d){if(d.getFocusEl()===b.focusEl){b.focusEl.blur()}d.focus()}}else{e=c.hasFocus?Ext.ComponentQuery.query(">:focusable",c)[0]:c;if(e){e.focus()}else{if(Ext.isFunction(c.onClick)){a.button=0;c.onClick(a);if(c.isVisible(true)){c.focus()}else{b.navigateOut()}}}}},navigateOut:function(a){var b=this,c;if(!b.focusedCmp||!(c=b.focusedCmp.up(":focusable"))){b.focusEl.focus()}else{c.focus()}return true},navigateSiblings:function(a,b,c){var d=this,e=b||d,f=a.getKey(),g=Ext.EventObject,h=a.shiftKey||f==g.LEFT||f==g.UP,i=f==g.LEFT||f==g.RIGHT||f==g.UP||f==g.DOWN,j=h?"prev":"next",k,l,m,n;m=e.focusedCmp&&e.focusedCmp.comp||e.focusedCmp;if(!m&&!c){return true}if(i&&d.isWhitelisted(m)){return true}if(!m||m.is(":root")){n=d.getRootComponents()}else{c=c||m.up();if(c){n=c.getRefItems()}}if(n){k=m?Ext.Array.indexOf(n,m):-1;l=Ext.ComponentQuery.query(":"+j+"Focus("+k+")",n)[0];if(l&&m!==l){l.focus();return l}}},onComponentBlur:function(a,b){var c=this;if(c.focusedCmp===a){c.previousFocusedCmp=a;delete c.focusedCmp}if(c.focusFrame){c.focusFrame.hide()}},onComponentFocus:function(a,b){var c=this,d=c.focusChain,e;if(!a.isFocusable()){c.clearComponent(a);if(d[a.id]){return}e=a.up();if(e){d[a.id]=true;e.focus()}return}c.focusChain={};c.focusTask.delay(10,null,null,[a,a.getFocusEl()])},handleComponentFocus:function(a,b){var c=this,d,e,f,g,h,i,j,k,l,m,n;if(c.fireEvent("beforecomponentfocus",c,a,c.previousFocusedCmp)===false){c.clearComponent(a);return}c.focusedCmp=a;if(c.shouldShowFocusFrame(a)){d="."+c.focusFrameCls+"-";e=c.focusFrame;f=(b.dom?b:b.el).getBox();g=f.top;h=f.left;i=f.width;j=f.height;k=e.child(d+"top");l=e.child(d+"bottom");m=e.child(d+"left");n=e.child(d+"right");k.setWidth(i).setLocalXY(h,g);l.setWidth(i).setLocalXY(h,g+j-2);m.setHeight(j-2).setLocalXY(h,g+2);n.setHeight(j-2).setLocalXY(h+i-2,g+2);e.show()}c.fireEvent("componentfocus",c,a,c.previousFocusedCmp)},onComponentHide:function(a){var b=this,c=false,d=b.focusedCmp,e;if(d){c=a.hasFocus||a.isContainer&&a.isAncestor(b.focusedCmp)}b.clearComponent(a);if(c&&(e=a.up(":focusable"))){e.focus()}else{b.focusEl.focus()}},onComponentDestroy:function(){},removeDOM:function(){var a=this;if(a.enabled||a.subscribers.length){return}Ext.destroy(a.focusFrame);delete a.focusEl;delete a.focusFrame},removeXTypeFromWhitelist:function(a){var b=this;if(Ext.isArray(a)){Ext.Array.forEach(a,b.removeXTypeFromWhitelist,b);return}Ext.Array.remove(b.whitelist,a)},setupSubscriberKeys:function(a,b){var c=this,d=a.getFocusEl(),e=b.scope,f={backspace:c.focusLast,enter:c.navigateIn,esc:c.navigateOut,scope:c},g=function(b){if(c.focusedCmp===a){return c.navigateSiblings(b,c,a)}else{return c.navigateSiblings(b)}};Ext.iterate(b,function(b,c){f[b]=function(b){var d=g(b);if(Ext.isFunction(c)&&c.call(e||a,b,d)===true){return true}return d}},c);return new Ext.util.KeyNav(d,f)},shouldShowFocusFrame:function(a){var b=this,c=b.options||{};if(!b.focusFrame||!a){return false}if(c.focusFrame){return true}if(b.focusData[a.id].focusFrame){return true}return false}});Ext.define("Ext.Img",{extend:Ext.Component,alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){if(this.glyph){this.autoEl="div"}this.callParent()},getElConfig:function(){var a=this,b=a.callParent(),c=Ext._glyphFontFamily,d=a.glyph,e,f;if(a.autoEl=="img"){e=b}else if(a.glyph){if(typeof d==="string"){f=d.split("@");d=f[0];c=f[1]}b.html="&#"+d+";";if(c){b.style="font-family:"+c}}else{b.cn=[e={tag:"img",id:a.id+"-img"}]}if(e){if(a.imgCls){e.cls=(e.cls?e.cls+" ":"")+a.imgCls}e.src=a.src||Ext.BLANK_IMAGE_URL}if(a.alt){(e||b).alt=a.alt}if(a.title){(e||b).title=a.title}return b},onRender:function(){var a=this,b;a.callParent(arguments);b=a.el;a.imgEl=a.autoEl=="img"?b:b.getById(a.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;this.callParent()},setSrc:function(a){var b=this,c=b.imgEl;b.src=a;if(c){c.dom.src=a||Ext.BLANK_IMAGE_URL}},setGlyph:function(a){var b=this,c=Ext._glyphFontFamily,d,e;if(a!=b.glyph){if(typeof a==="string"){d=a.split("@");a=d[0];c=d[1]}e=b.el.dom;e.innerHTML="&#"+a+";";if(c){e.style="font-family:"+c}}}});Ext.define("Ext.util.Bindable",{bindStore:function(a,b,c){c=c||"store";var d=this,e=d[c];if(!b&&e){d.onUnbindStore(e,b,c);if(a!==e&&e.autoDestroy){e.destroyStore()}else{d.unbindStoreListeners(e)}}if(a){a=Ext.data.StoreManager.lookup(a);d.bindStoreListeners(a);d.onBindStore(a,b,c)}d[c]=a||null;return d},getStore:function(){return this.store},unbindStoreListeners:function(a){var b=this.storeListeners;if(b){a.un(b)}},bindStoreListeners:function(a){var b=this,c=Ext.apply({},b.getStoreListeners(a));if(!c.scope){c.scope=b}b.storeListeners=c;a.on(c)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:{floating:Ext.util.Floating,bindable:Ext.util.Bindable},msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:true,useTargetEl:false,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:false,bringParentToFront:false,constructor:function(a){var b=this,c;if(arguments.length===2){c=a;a=arguments[1]}else{c=a.target}if(!c.isComponent){c=Ext.get(c);this.isElement=true}b.ownerCt=c;if(!this.isElement){b.bindComponent(c)}b.callParent([a]);if(b.store){b.bindStore(b.store,true)}},bindComponent:function(a){var b=this,c={scope:this,resize:b.sizeMask,added:b.onComponentAdded,removed:b.onComponentRemoved};if(a.floating){c.move=b.sizeMask;b.activeOwner=a}else if(a.ownerCt){b.onComponentAdded(a.ownerCt)}else{b.preventBringToFront=true}b.mon(a,c);b.mon(b.hierarchyEventSource,{show:b.onContainerShow,hide:b.onContainerHide,expand:b.onContainerExpand,collapse:b.onContainerCollapse,scope:b})},onComponentAdded:function(a){var b=this;delete b.activeOwner;b.floatParent=a;if(!a.floating){a=a.up("[floating]")}if(a){b.activeOwner=a;b.mon(a,"move",b.sizeMask,b)}else{b.preventBringToFront=true}a=b.floatParent.ownerCt;if(b.rendered&&b.isVisible()&&a){b.floatOwner=a;b.mon(a,"afterlayout",b.sizeMask,b,{single:true})}},onComponentRemoved:function(a){var b=this,c=b.activeOwner,d=b.floatOwner;if(c){b.mun(c,"move",b.sizeMask,b)}if(d){b.mun(d,"afterlayout",b.sizeMask,b)}delete b.activeOwner;delete b.floatOwner},afterRender:function(){this.callParent(arguments);this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerHide:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},onContainerExpand:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerCollapse:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){var a=this;if(a.rendered&&a.isVisible()){a.hide();a.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var a=this,b;if(a.rendered&&a.isVisible()){a.center();b=a.getMaskTarget();a.getMaskEl().show().setSize(b.getSize()).alignTo(b,"tl-tl")}},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments);a=c.store;if(a&&a.isLoading()){c.onBeforeLoad()}},getStoreListeners:function(a){var b=this.onLoad,c=this.onBeforeLoad,d={cachemiss:c,cachefilled:b};if(!a.proxy.isSynchronous){d.beforeLoad=c;d.load=b}return d},onDisable:function(){this.callParent(arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},onBeforeLoad:function(){var a=this,b=a.getOwner(),c;if(!a.disabled){a.loading=true;if(b.componentLayoutCounter){a.maybeShow()}else{c=b.afterComponentLayout;b.afterComponentLayout=function(){b.afterComponentLayout=c;c.apply(b,arguments);a.maybeShow()}}}},maybeShow:function(){var a=this,b=a.getOwner();if(!b.isVisible(true)){a.showNext=true}else if(a.loading&&b.rendered){a.show()}},getMaskEl:function(){var a=this;return a.maskEl||(a.maskEl=a.el.insertSibling({cls:a.maskCls,style:{zIndex:a.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var a=this,b=a.msgEl;a.callParent(arguments);a.loading=true;if(a.useMsg){b.show();a.msgTextEl.update(a.msg)}else{b.parent().hide()}},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent("hide",this);return}delete this.showNext;return this.callParent(arguments)},onHide:function(){this.callParent();this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);this.fireEvent("show",this);return}return this.callParent(arguments)},afterShow:function(){this.callParent(arguments);this.sizeMask()},setZIndex:function(a){var b=this,c=b.activeOwner;if(c){a=parseInt(c.el.getStyle("zIndex"),10)+1}b.getMaskEl().setStyle("zIndex",a-1);return b.mixins.floating.setZIndex.apply(b,arguments)},onLoad:function(){this.loading=false;this.hide()},onDestroy:function(){var a=this;if(a.isElement){a.ownerCt.unmask()}Ext.destroy(a.maskEl);a.callParent()}});Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:true,initialConfig:null,statics:{AUTO_ID:1e3,create:function(a){if(Ext.isString(a)){a={type:a}}switch(a.type){case"belongsTo":return new Ext.data.association.BelongsTo(a);case"hasMany":return new Ext.data.association.HasMany(a);case"hasOne":return new Ext.data.association.HasOne(a);default:}return a}},constructor:function(a){Ext.apply(this,a);var b=this,c=Ext.ModelManager.types,d=a.ownerModel,e=a.associatedModel,f=c[d],g=c[e],h=a.associationKey,i;if(h){i=String(h).search(/[\[\.]/);if(i>=0){b.associationKeyFunction=Ext.functionFactory("obj","return obj"+(i>0?".":"")+h)}}b.initialConfig=a;b.ownerModel=f;b.associatedModel=g;Ext.applyIf(b,{ownerName:d,associatedName:e});b.associationId="association"+ ++b.statics().AUTO_ID},getReader:function(){var a=this,b=a.reader,c=a.associatedModel;if(b){if(Ext.isString(b)){b={type:b}}if(b.isReader){b.setModel(c)}else{Ext.applyIf(b,{model:c,type:a.defaultReaderType})}a.reader=Ext.createByAlias("reader."+b.type,b)}return a.reader||null}});Ext.define("Ext.ModelManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ModelMgr",singleton:true,typeName:"mtype",associationStack:[],registerType:function(a,b){var c=b.prototype,d;if(c&&c.isModel){d=b}else{if(!b.extend){b.extend="Ext.data.Model"}d=Ext.define(a,b)}this.types[a]=d;return d},unregisterType:function(a){delete this.types[a]},onModelDefined:function(a){var b=this.associationStack,c=b.length,d=[],e,f,g;for(f=0;f<c;f++){e=b[f];if(e.associatedModel==a.modelName){d.push(e)}}for(f=0,c=d.length;f<c;f++){g=d[f];this.types[g.ownerModel].prototype.associations.add(Ext.data.association.Association.create(g));Ext.Array.remove(b,g)}},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(a){var b=a;if(typeof b=="string"){b=this.types[b]}return b},create:function(a,b,c){var d=typeof b=="function"?b:this.types[b||a.name];return new d(a,c)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(a){var b=this,c,d;b.callParent(arguments);if(!a.textEls){d=b.owner.textEl;if(d.isComposite){a.textEls=[];d=d.elements;for(c=d.length;c--;){a.textEls[c]=a.getEl(Ext.get(d[c]))}}else{a.textEls=[a.getEl("textEl")]}}},calculate:function(a){var b=this,c,d,e;b.callParent(arguments);if(Ext.isNumber(e=a.getProp("width"))){e-=a.getBorderInfo().width;d=a.textEls;for(c=d.length;c--;){d[c].setWidth(e)}}else{b.done=false}}});Ext.define("Ext.ProgressBar",{extend:Ext.Component,alias:"widget.progressbar",baseCls:Ext.baseCSSPrefix+"progress",animate:false,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent();this.addEvents("update")},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{internalText:!a.hasOwnProperty("textEl"),text:a.text||"&#160;",percentage:a.value?a.value*100:0})},onRender:function(){var a=this;a.callParent(arguments);if(a.textEl){a.textEl=Ext.get(a.textEl);a.updateText(a.text)}else{a.textEl=a.el.select("."+a.baseCls+"-text")}},updateProgress:function(a,b,c){var d=this,e=d.value;d.value=a||0;if(b){d.updateText(b)}if(d.rendered&&!d.isDestroyed){if(c===true||c!==false&&d.animate){d.bar.stopAnimation();d.bar.animate(Ext.apply({from:{width:e*100+"%"},to:{width:d.value*100+"%"}},d.animate))}else{d.bar.setStyle("width",d.value*100+"%")}}d.fireEvent("update",d,d.value,b);return d},updateText:function(a){var b=this;b.text=a;if(b.rendered){b.textEl.update(b.text)}return b},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(a){var b=this,c;if(!b.waitTimer){c=b;a=a||{};b.updateText(a.text);b.waitTimer=Ext.TaskManager.start({run:function(c){var d=a.increment||10;c-=1;b.updateProgress(((c+d)%d+1)*(100/d)*.01,null,a.animate)},interval:a.interval||1e3,duration:a.duration,onStop:function(){if(a.fn){a.fn.apply(a.scope||b)}b.reset()},scope:c})}return b},isWaiting:function(){return this.waitTimer!==null},reset:function(a){var b=this;b.updateProgress(0);b.clearTimer();if(a===true){b.hide()}return b},clearTimer:function(){var a=this;if(a.waitTimer){a.waitTimer.onStop=null;Ext.TaskManager.stop(a.waitTimer);a.waitTimer=null}},onDestroy:function(){var a=this,b=a.bar;a.clearTimer();if(a.rendered){if(a.textEl.isComposite){a.textEl.clear()}Ext.destroyMembers(a,"textEl","progressBar");if(b&&a.animate){b.stopAnimation()}}a.callParent()}});Ext.define("Ext.ShadowPool",{singleton:true,markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));a.autoBoxAdjust=false}return a},push:function(a){this.shadows.push(a)},reset:function(){var a=[].concat(this.shadows),b,c=a.length;for(b=0;b<c;b++){a[b].remove()}this.shadows=[]}});Ext.define("Ext.Shadow",{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a){var b=this,c,d,e;Ext.apply(b,a);if(!Ext.isString(b.mode)){b.mode=b.defaultMode}d=b.offset;e=Math.floor(d/2);b.opacity=50;switch(b.mode.toLowerCase()){case"drop":if(Ext.supports.CSS3BoxShadow){c={t:d,l:d,h:-d,w:-d}}else{c={t:-e,l:-e,h:-e,w:-e}}break;case"sides":if(Ext.supports.CSS3BoxShadow){c={t:d,l:0,h:-d,w:0}}else{c={t:-(1+e),l:1+e-2*d,h:-1,w:e-1}}break;case"frame":if(Ext.supports.CSS3BoxShadow){c={t:0,l:0,h:0,w:0}}else{c={t:1+e-2*d,l:1+e-2*d,h:d-e-1,w:d-e-1}}break;case"bottom":if(Ext.supports.CSS3BoxShadow){c={t:d,l:0,h:-d,w:0}}else{c={t:d,l:0,h:0,w:0}}break}b.adjusts=c},getShadowSize:function(){var a=this,b=a.el?a.offset:0,c=[b,b,b,b],d=a.mode.toLowerCase();if(a.el&&d!=="frame"){c[0]=0;if(d=="drop"){c[3]=0}}return c},offset:4,defaultMode:"drop",boxShadowProperty:function(){var a="boxShadow",b=document.documentElement.style;if(!("boxShadow"in b)){if("WebkitBoxShadow"in b){a="WebkitBoxShadow"}else if("MozBoxShadow"in b){a="MozBoxShadow"}}return a}(),show:function(a){var b=this,c,d;a=Ext.get(a);c=parseInt(a.getStyle("z-index"),10)-1||0;d=a[b.localXYNames.get]();if(!b.el){b.el=Ext.ShadowPool.pull();if(b.fixed){b.el.dom.style.position="fixed"}else{b.el.dom.style.position=""}if(b.el.dom.nextSibling!=a.dom){b.el.insertBefore(a)}}b.el.setStyle("z-index",b.zIndex||c);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){b.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+b.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+b.offset+")"}b.realign(d[0],d[1],a.dom.offsetWidth,a.dom.offsetHeight);b.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(a,b,c,d){if(!this.el){return}var e=this.adjusts,f=this.el,g=f.dom.style,h,i,j,k;f[this.localXYNames.set](a+e.l,b+e.t);h=Math.max(c+e.w,0);i=Math.max(d+e.h,0);j=h+"px";k=i+"px";if(g.width!=j||g.height!=k){g.width=j;g.height=k;if(Ext.supports.CSS3BoxShadow){g[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"}}},hide:function(){var a=this;if(a.el){a.el.dom.style.display="none";Ext.ShadowPool.push(a.el);delete a.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle("z-index",a)}},setOpacity:function(a){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a=Math.floor(a*100/2)/100}this.opacity=a;this.el.setOpacity(a)}}});Ext.define("Ext.app.EventDomain",{statics:{instances:{}},isEventDomain:true,constructor:function(){var a=this;Ext.app.EventDomain.instances[a.type]=a;a.bus={};a.monitoredClasses=[]},dispatch:function(a,b,c){var d=this,e=d.bus,f=e[b],g,h,i,j,k,l,m;if(!f){return true}for(g in f){if(f.hasOwnProperty(g)&&d.match(a,g)){h=f[g];for(i in h){if(h.hasOwnProperty(i)){j=h[i];for(l=0,m=j.length;l<m;l++){k=j[l];if(k.fire.apply(k,c)===false){return false}}}}}}return true},listen:function(a,b){var c=this,d=c.bus,e=c.idProperty,f=c.monitoredClasses,g=f.length,h,i,j,k,l,m,n,o,p,q;for(k in a){if(a.hasOwnProperty(k)&&(p=a[k])){if(e){k=k==="*"?k:k.substring(1)}for(q in p){if(p.hasOwnProperty(q)){l=null;m=p[q];n=b;o=new Ext.util.Event(b,q);if(Ext.isObject(m)){l=m;m=l.fn;n=l.scope||b;delete l.fn;delete l.scope}if(typeof m==="string"){m=n[m]}o.addListener(m,n,l);for(h=g;h-->0;){f[h].hasListeners._incr_(q)}i=d[q]||(d[q]={});i=i[k]||(i[k]={});j=i[b.id]||(i[b.id]=[]);j.push(o)}}}}},match:function(a,b){var c=this.idProperty;if(c){return b==="*"||a[c]===b}return false},monitor:function(a){var b=this,c=a.isInstance?a:a.prototype,d=c.fireEventArgs;b.monitoredClasses.push(a);c.fireEventArgs=function(a,c){var e=d.apply(this,arguments);if(e!==false){e=b.dispatch(this,a,c)}return e}},unlisten:function(a){var b=this.bus,c,d,e,f;for(d in b){if(b.hasOwnProperty(d)&&(f=b[d])){for(e in f){c=f[e];delete c[a]}}}}});Ext.define("Ext.app.domain.Component",{extend:Ext.app.EventDomain,singleton:true,type:"component",constructor:function(){var a=this;a.callParent();a.monitor(Ext.Component)},match:function(a,b){return a.is(b)}});Ext.define("Ext.app.EventBus",{singleton:true,constructor:function(){var a=this,b=Ext.app.EventDomain.instances;a.callParent();a.domains=b;a.bus=b.component.bus},control:function(a,b){return this.domains.component.listen(a,b)},listen:function(a,b){var c=this.domains,d;for(d in a){if(a.hasOwnProperty(d)){c[d].listen(a[d],b)}}},unlisten:function(a){var b=Ext.app.EventDomain.instances,c;for(c in b){b[c].unlisten(a)}}});Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var a=0,b;b=arguments[a];a++){this.add(b)}},unregister:function(){for(var a=0,b;b=arguments[a];a++){this.remove(this.lookup(b))}},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]),d=a,e,f;if(c){d=[];for(e=0,f=a.length;e<f;++e){d.push([a[e]])}}else{for(e=2,f=a[0].length;e<=f;++e){b.push("field"+e)}}return new Ext.data.ArrayStore({data:d,fields:b,autoDestroy:true,autoCreated:true,expanded:c})}if(Ext.isString(a)){return this.get(a)}else{return Ext.data.AbstractStore.create(a)}},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(a,b){var c;if(Ext.isObject(a)){b=a}else{b.storeId=a}if(b instanceof Ext.data.Store){c=b}else{c=new Ext.data.Store(b)}return Ext.data.StoreManager.register(c)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});Ext.define("Ext.app.domain.Global",{extend:Ext.app.EventDomain,singleton:true,type:"global",constructor:function(){var a=this;a.callParent();a.monitor(Ext.globalEvents)},listen:function(a,b){this.callParent([{global:a},b])},match:function(){return true}});Ext.define("Ext.data.ResultSet",{loaded:true,count:0,total:0,success:false,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count===undefined){this.count=this.records.length}}});Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:Ext.util.Observable},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:true,readRecordsOnFailure:true,isReader:true,applyDefaults:true,lastFieldGeneration:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.fieldCount=0;b.model=Ext.ModelManager.getModel(b.model);if(b.model&&b.model.prototype.fields){b.buildExtractors()}this.addEvents("exception")},setModel:function(a,b){var c=this;c.model=Ext.ModelManager.getModel(a);if(a){c.buildExtractors(true)}if(b&&c.proxy){c.proxy.setModel(c.model,true)}},read:function(a){var b;if(a){b=a.responseText?this.getResponseData(a):this.readRecords(a)}return b||this.nullResultSet},readRecords:function(a){var b=this,c,d,e,f,g,h,i;if(b.lastFieldGeneration!==b.model.prototype.fields.generation){b.buildExtractors(true)}b.rawData=a;a=b.getData(a);c=true;d=0;e=[];if(b.successProperty){h=b.getSuccess(a);if(h===false||h==="false"){c=false}}if(b.messageProperty){i=b.getMessage(a)}if(b.readRecordsOnFailure||c){f=Ext.isArray(a)?a:b.getRoot(a);if(f){g=f.length}if(b.totalProperty){h=parseInt(b.getTotal(a),10);if(!isNaN(h)){g=h}}if(f){e=b.extractData(f);d=e.length}}return new Ext.data.ResultSet({total:g||d,count:d,records:e,success:c,message:i})},extractData:function(a){var b=this,c=b.model,d=a.length,e=new Array(d),f,g,h,i;if(!a.length&&Ext.isObject(a)){a=[a];d=1}for(i=0;i<d;i++){g=a[i];if(g.isModel){e[i]=g}else{e[i]=h=new c(undefined,b.getId(g),g,f={});h.phantom=false;b.convertRecordData(f,g,h);if(b.implicitIncludes&&h.associations.length){b.readAssociated(h,g)}}}return e},readAssociated:function(a,b){var c=a.associations.items,d=0,e=c.length,f,g,h,i;for(;d<e;d++){f=c[d];g=this.getAssociatedDataRoot(b,f.associationKeyFunction||f.associationKey||f.name);if(g){i=f.getReader();if(!i){h=f.associatedModel.getProxy();if(h){i=h.getReader()}else{i=new this.constructor({model:f.associatedName})}}f.read(a,i,g)}}},getAssociatedDataRoot:function(a,b){if(Ext.isFunction(b)){return b(a)}return a[b]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){},onMetaChange:function(a){var b=this,c=a.fields||b.getFields(),d,e;b.metaData=a;b.root=a.root||b.root;b.idProperty=a.idProperty||b.idProperty;b.totalProperty=a.totalProperty||b.totalProperty;b.successProperty=a.successProperty||b.successProperty;b.messageProperty=a.messageProperty||b.messageProperty;e=a.clientIdProperty;if(b.model){b.model.setFields(c,b.idProperty,e);b.setModel(b.model,true)}else{d=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:c,clientIdProperty:e});if(b.idProperty){d.idProperty=b.idProperty}b.setModel(d,true)}},getIdProperty:function(){var a=this.model.prototype.idField,b=this.idProperty;if(!b&&a&&(b=a.mapping)==null){b=a.name}return b},buildExtractors:function(a){var b=this,c=b.getIdProperty(),d=b.totalProperty,e=b.successProperty,f=b.messageProperty,g;if(a===true){delete b.convertRecordData}if(b.convertRecordData){return}if(d){b.getTotal=b.createAccessor(d)}if(e){b.getSuccess=b.createAccessor(e)}if(f){b.getMessage=b.createAccessor(f)}if(c){g=b.createAccessor(c);b.getId=function(a){var c=g.call(b,a);return c===undefined||c===""?null:c}}else{b.getId=function(){return null}}b.convertRecordData=b.buildRecordDataExtractor();b.lastFieldGeneration=b.model.prototype.fields.generation},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var a=this,b=a.model.prototype,c={clientIdProp:b.clientIdProperty,fields:b.fields.items};a.recordDataExtractorTemplate.createFieldAccessExpression=function(){return a.createFieldAccessExpression.apply(a,arguments)};return Ext.functionFactory(a.recordDataExtractorTemplate.apply(c)).call(a)},destroyReader:function(){var a=this;delete a.proxy;delete a.model;delete a.convertRecordData;delete a.getId;delete a.getTotal;delete a.getSuccess;delete a.getMessage}},function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})});Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",metaProperty:"metaData",useSimpleAccessors:false,readRecords:function(a){var b=this,c;if(b.getMeta){c=b.getMeta(a);if(c){b.onMetaChange(c)}}else if(a.metaData){b.onMetaChange(a.metaData)}b.jsonData=a;return b.callParent([a])},getResponseData:function(a){var b,c;try{b=Ext.decode(a.responseText);return this.readRecords(b)}catch(d){c=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:d.message});this.fireEvent("exception",this,a,c);Ext.Logger.warn("Unable to parse the JSON returned by the server");return c}},buildExtractors:function(){var a=this,b=a.metaProperty;a.callParent(arguments);if(a.root){a.getRoot=a.createAccessor(a.root)}else{a.getRoot=Ext.identityFn}if(b){a.getMeta=a.createAccessor(b)}},extractData:function(a){var b=this.record,c=[],d,e;if(b){d=a.length;if(!d&&Ext.isObject(a)){d=1;a=[a]}for(e=0;e<d;e++){c[e]=a[e][b]}}else{c=a}return this.callParent([c])},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b)){return Ext.emptyFn}if(Ext.isFunction(b)){return b}if(this.useSimpleAccessors!==true){var c=String(b).search(a);if(c>=0){return Ext.functionFactory("obj","return obj"+(c>0?".":"")+b)}}return function(a){return a[b]}}}(),createFieldAccessExpression:function(){var a=/[\[\.]/;return function(b,c,d){var e=b.mapping,f=e||e===0,g=f?e:b.name,h,i;if(e===false){return}if(typeof g==="function"){h=c+".mapping("+d+", this)"}else if(this.useSimpleAccessors===true||(i=String(g).search(a))<0){if(!f||isNaN(g)){g='"'+g+'"'}h=d+"["+g+"]"}else if(i===0){h=d+g}else{var j=g.split("."),k=j.length,l=1,m=d+"."+j[0],n=[m];for(;l<k;l++){m+="."+j[l];n.push(m)}h=n.join(" && ")}return h}}()});Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:true,nameProperty:"name",writeRecordId:true,isWriter:true,constructor:function(a){Ext.apply(this,a)},write:function(a){var b=a.operation,c=b.records||[],d=c.length,e=0,f=[];for(;e<d;e++){f.push(this.getRecordData(c[e],b))}return this.writeRecords(a,f)},getRecordData:function(a,b){var c=a.phantom===true,d=this.writeAllFields||c,e=a.fields,f=e.items,g={},h=a.clientIdProperty,i,j,k,l,m,n;if(d){n=f.length;for(m=0;m<n;m++){j=f[m];if(j.persist){this.writeValue(g,j,a)}}}else{i=a.getChanges();for(k in i){if(i.hasOwnProperty(k)){j=e.get(k);if(j.persist){this.writeValue(g,j,a)}}}}if(c){if(h&&b&&b.records.length>1){g[h]=a.internalId}}else if(this.writeRecordId){l=e.get(a.idProperty)[this.nameProperty]||a.idProperty;g[l]=a.getId()}return g},writeValue:function(a,b,c){var d=b[this.nameProperty],e=this.dateFormat||b.dateWriteFormat||b.dateFormat,f=c.get(b.name);if(d==null){d=b.name}if(b.serialize){a[d]=b.serialize(f,c)}else if(b.type===Ext.data.Types.DATE&&e&&Ext.isDate(f)){a[d]=Ext.Date.format(f,e)}else{a[d]=f}}});Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:undefined,encode:false,allowSingle:true,expandData:false,getExpandedData:function(a){var b=a.length,c=0,d,e,f,g,h,i=function(a,b){var c={};c[a]=b;return c};for(;c<b;c++){d=a[c];for(e in d){if(d.hasOwnProperty(e)){f=e.split(".");g=f.length-1;if(g>0){h=d[e];for(;g>0;g--){h=i(f[g],h)}d[f[0]]=d[f[0]]||{};Ext.Object.merge(d[f[0]],h);delete d[e]}}}}return a},writeRecords:function(a,b){var c=this.root;if(this.expandData){b=this.getExpandedData(b)}if(this.allowSingle&&b.length===1){b=b[0]}if(this.encode){if(c){a.params[c]=Ext.encode(b)}else{}}else{a.jsonData=a.jsonData||{};
if(c){a.jsonData[c]=b}else{a.jsonData=b}}return a}});Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],mixins:{observable:Ext.util.Observable},batchOrder:"create,update,destroy",batchActions:true,defaultReaderType:"json",defaultWriterType:"json",isProxy:true,isSynchronous:false,constructor:function(a){var b=this;a=a||{};b.proxyConfig=a;b.mixins.observable.constructor.call(b,a);if(b.model!==undefined&&!(b.model instanceof Ext.data.Model)){b.setModel(b.model)}else{if(b.reader){b.setReader(b.reader)}if(b.writer){b.setWriter(b.writer)}}},setModel:function(a,b){var c=this;c.model=Ext.ModelManager.getModel(a);c.setReader(this.reader);c.setWriter(this.writer);if(b&&c.store){c.store.setModel(c.model)}},getModel:function(){return this.model},setReader:function(a){var b=this,c=true,d=b.reader;if(a===undefined||typeof a=="string"){a={type:a};c=false}if(a.isReader){a.setModel(b.model)}else{if(c){a=Ext.apply({},a)}Ext.applyIf(a,{proxy:b,model:b.model,type:b.defaultReaderType});a=Ext.createByAlias("reader."+a.type,a)}if(a!==d&&a.onMetaChange){a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)}b.reader=a;return b.reader},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(a){var b=this,c=true;if(a===undefined||typeof a=="string"){a={type:a};c=false}if(!a.isWriter){if(c){a=Ext.apply({},a)}Ext.applyIf(a,{model:b.model,type:b.defaultWriterType});a=Ext.createByAlias("writer."+a.type,a)}b.writer=a;return b.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,b){var c=this,d=c.batchActions,e,f,g,h,i,j,k,l,m;if(a.operations===undefined){a={operations:a,listeners:b}}if(a.batch){if(Ext.isDefined(a.batch.runOperation)){e=Ext.applyIf(a.batch,{proxy:c,listeners:{}})}}else{a.batch={proxy:c,listeners:a.listeners||{}}}if(!e){e=new Ext.data.Batch(a.batch)}e.on("complete",Ext.bind(c.onBatchComplete,c,[a],0));g=c.batchOrder.split(",");h=g.length;for(j=0;j<h;j++){i=g[j];f=a.operations[i];if(f){if(d){e.add(new Ext.data.Operation({action:i,records:f}))}else{l=f.length;for(k=0;k<l;k++){m=f[k];e.add(new Ext.data.Operation({action:i,records:[m]}))}}}}e.start();return e},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,c,[b,a])}}else if(Ext.isFunction(a.success)){Ext.callback(a.success,c,[b,a])}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,c,[b,a])}},clone:function(){return new this.self(this.proxyConfig)}});Ext.define("Ext.data.Operation",{synchronous:true,action:undefined,filters:undefined,sorters:undefined,groupers:undefined,start:undefined,limit:undefined,batch:undefined,callback:undefined,scope:undefined,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(a){var b=this,c=b.actionCommitRecordsRe.test(b.action),d,e,f,g,h,i,j,k,l;if(!b.actionSkipSyncRe.test(b.action)){f=b.records;if(f&&f.length){if(c){l=[]}if(f.length>1){if(b.action=="update"||f[0].clientIdProperty){d=new Ext.util.MixedCollection;d.addAll(a);for(e=f.length;e--;){h=f[e];g=d.findBy(b.matchClientRec,h);k=h.copyFrom(g);if(c){l.push(k)}}}else{for(i=0,j=f.length;i<j;++i){h=f[i];g=a[i];if(h&&g){k=b.updateRecord(h,g);if(c){l.push(k)}}}}}else{k=b.updateRecord(f[0],a[0]);if(c){l[0]=k}}if(c){for(e=f.length;e--;){f[e].commit(false,l[e])}}}}},updateRecord:function(a,b){if(b&&(a.phantom||a.getId()===b.getId())){return a.copyFrom(b)}return[]},matchClientRec:function(a){var b=this,c=b.getId();if(c&&a.getId()===c){return true}return a.internalId===b.internalId},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.success=false;this.running=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}});Ext.define("Ext.data.AbstractStore",{mixins:{observable:Ext.util.Observable,sortable:Ext.util.Sortable},statics:{create:function(a){if(!a.isStore){if(!a.type){a.type="store"}a=Ext.createByAlias("store."+a.type,a)}return a}},onClassExtended:function(a,b,c){var d=b.model,e;if(typeof d=="string"){e=c.onBeforeCreated;c.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(d,function(){e.apply(a,b)})}}},remoteSort:false,remoteFilter:false,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",filterOnLoad:true,sortOnLoad:true,implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,sortRoot:"data",constructor:function(a){var b=this,c;Ext.apply(b,a);b.removed=[];b.mixins.observable.constructor.apply(b,arguments);b.model=Ext.ModelManager.getModel(b.model);Ext.applyIf(b,{modelDefaults:null});if(!b.model&&b.fields){b.model=Ext.define("Ext.data.Store.ImplicitModel-"+(b.storeId||Ext.id()),{extend:"Ext.data.Model",fields:b.fields,proxy:b.proxy||b.defaultProxyType});delete b.fields;b.implicitModel=true}b.setProxy(b.proxy||b.model.getProxy());if(!b.disableMetaChangeEvent){b.proxy.on("metachange",b.onMetaChange,b)}if(b.id&&!b.storeId){b.storeId=b.id;delete b.id}if(b.storeId){Ext.data.StoreManager.register(b)}b.mixins.sortable.initSortable.call(b);c=b.decodeFilters(b.filters);b.filters=new Ext.util.MixedCollection;b.filters.addAll(c)},setProxy:function(a){var b=this;if(a instanceof Ext.data.proxy.Proxy){a.setModel(b.model)}else{if(Ext.isString(a)){a={type:a}}Ext.applyIf(a,{model:b.model});a=Ext.createByAlias("proxy."+a.type,a)}b.proxy=a;return b.proxy},getProxy:function(){return this.proxy},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(a,b){var c=this,d=Ext.ModelManager.create(Ext.applyIf(a,c.modelDefaults),c.model.modelName),e;b=b||{};Ext.applyIf(b,{action:"create",records:[d]});e=new Ext.data.Operation(b);c.proxy.create(e,c.onProxyWrite,c);return d},read:function(){return this.load.apply(this,arguments)},update:function(a){var b=this,c;a=a||{};Ext.applyIf(a,{action:"update",records:b.getUpdatedRecords()});c=new Ext.data.Operation(a);return b.proxy.update(c,b.onProxyWrite,b)},onProxyWrite:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords();switch(a.action){case"create":b.onCreateRecords(d,a,c);break;case"update":b.onUpdateRecords(d,a,c);break;case"destroy":b.onDestroyRecords(d,a,c);break}if(c){b.fireEvent("write",b,a);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}Ext.callback(a.callback,a.scope||b,[d,a,c])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(a,b,c){if(c){this.removed=[]}},destroy:function(a){var b=this,c;a=a||{};Ext.applyIf(a,{action:"destroy",records:b.getRemovedRecords()});c=new Ext.data.Operation(a);return b.proxy.destroy(c,b.onProxyWrite,b)},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a,b){var c=this,d=a.operations,e=d.length,f;c.suspendEvents();for(f=0;f<e;f++){c.onProxyWrite(d[f])}c.resumeEvents();c.fireEvent("datachanged",c);c.fireEvent("refresh",c)},onBatchException:function(a,b){},filterNew:function(a){return a.phantom===true&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(a,b){},decodeFilters:function(a){if(!Ext.isArray(a)){if(a===undefined){a=[]}else{a=[a]}}var b=a.length,c=Ext.util.Filter,d,e;for(e=0;e<b;e++){d=a[e];if(!(d instanceof c)){Ext.apply(d,{root:"data"});if(d.fn){d.filterFn=d.fn}if(typeof d=="function"){d={filterFn:d}}a[e]=new c(d)}}return a},clearFilter:function(a){},isFiltered:function(){},filterBy:function(a,b){},sync:function(a){var b=this,c={},d=b.getNewRecords(),e=b.getUpdatedRecords(),f=b.getRemovedRecords(),g=false;if(d.length>0){c.create=d;g=true}if(e.length>0){c.update=e;g=true}if(f.length>0){c.destroy=f;g=true}if(g&&b.fireEvent("beforesync",c)!==false){a=a||{};b.proxy.batch(Ext.apply(a,{operations:c,listeners:b.getBatchListeners()}))}return b},getBatchListeners:function(){var a=this,b={scope:a,exception:a.onBatchException};if(a.batchUpdateMode=="operation"){b.operationcomplete=a.onBatchOperationComplete}else{b.complete=a.onBatchComplete}return b},save:function(){return this.sync.apply(this,arguments)},load:function(a){var b=this,c;a=Ext.apply({action:"read",filters:b.filters.items,sorters:b.getSorters()},a);b.lastOptions=a;c=new Ext.data.Operation(a);if(b.fireEvent("beforeload",b,c)!==false){b.loading=true;b.proxy.read(c,b.onProxyLoad,b)}return b},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(a,b){var c=this,d,e;if(c.autoSync&&!c.autoSyncSuspended){for(d=b.length;d--;){if(a.fields.get(b[d]).persist){e=true;break}}if(e){c.sync()}}c.onUpdate(a,Ext.data.Model.EDIT,b);c.fireEvent("update",c,a,Ext.data.Model.EDIT,b)},afterReject:function(a){this.onUpdate(a,Ext.data.Model.REJECT,null);this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(a,b){if(!b){b=null}this.onUpdate(a,Ext.data.Model.COMMIT,b);this.fireEvent("update",this,a,Ext.data.Model.COMMIT,b)},onUpdate:Ext.emptyFn,onIdChanged:function(a,b,c,d){this.fireEvent("idchanged",this,a,b,c,d)},destroyStore:function(){var a,b=this;if(!b.isDestroyed){b.clearListeners();if(b.storeId){Ext.data.StoreManager.unregister(b)}b.clearData();b.data=b.tree=b.sorters=b.filters=b.groupers=null;if(b.reader){b.reader.destroyReader()}b.proxy=b.reader=b.writer=null;b.isDestroyed=true;if(b.implicitModel){a=Ext.getClassName(b.model);Ext.undefine(a);Ext.ModelManager.unregisterType(a)}else{b.model=null}}},getState:function(){var a=this,b,c,d=!!a.groupers,e=[],f=[],g=[];if(d){a.groupers.each(function(a){e[e.length]=a.serialize();b=true})}if(a.sorters){a.sorters.each(function(c){if(d&&!a.groupers.contains(c)){f[f.length]=c.serialize();b=true}})}if(a.filters&&a.statefulFilters){a.filters.each(function(a){g[g.length]=a.serialize();b=true})}if(b){c={};if(e.length){c.groupers=e}if(f.length){c.sorters=f}if(g.length){c.filters=g}return c}},applyState:function(a){var b=this,c=!!b.sorters,d=!!b.groupers,e=!!b.filters,f;if(d&&a.groupers){b.groupers.clear();b.groupers.addAll(b.decodeGroupers(a.groupers))}if(c&&a.sorters){b.sorters.clear();b.sorters.addAll(b.decodeSorters(a.sorters))}if(e&&a.filters){b.filters.clear();b.filters.addAll(b.decodeFilters(a.filters))}if(c&&d){b.sorters.insert(0,b.groupers.getRange())}if(b.autoLoad&&(b.remoteSort||b.remoteGroup||b.remoteFilter)){if(b.autoLoad===true){b.reload()}else{b.reload(b.autoLoad)}}if(e&&b.filters.length&&!b.remoteFilter){b.filter();f=b.sortOnFilter}if(c&&b.sorters.length&&!b.remoteSort&&!f){b.sort()}},doSort:function(a){var b=this;if(b.remoteSort){b.load()}else{b.data.sortBy(a);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}b.fireEvent("sort",b,b.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=true},resumeAutoSync:function(){this.autoSyncSuspended=false}});Ext.define("Ext.app.domain.Store",{extend:Ext.app.EventDomain,singleton:true,type:"store",idProperty:"storeId",constructor:function(){var a=this;a.callParent();a.monitor(Ext.data.AbstractStore)}});Ext.define("Ext.app.Controller",{mixins:{observable:Ext.util.Observable},statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(a,b){var c="get",d=a.split("."),e=d.length,f;for(f=0;f<e;f++){c+=Ext.String.capitalize(d[f])}c+=b;return c},processDependencies:function(a,b,c,d,e){if(!e||!e.length){return}var f=this,g=f.strings[d],h,i,j,k,l,m,n,o;if(!Ext.isArray(e)){e=[e]}for(l=0,m=e.length;l<m;l++){k=e[l];h=f.getFullName(k,d,c);i=h.absoluteName;j=h.shortName;b.push(i);n=f.getGetterName(j,g.upper);a[n]=o=f.createGetter(g.getter,k);if(d!=="controller"){o["Ext.app.getter"]=true}}},getFullName:function(a,b,c){var d=a,e,f;if((e=a.indexOf("@"))>0){d=a.substring(0,e);f=a.substring(e+1)+"."+d}else if(a.indexOf(".")>0&&(Ext.ClassManager.isCreated(a)||Ext.Loader.isAClassNameWithAKnownPrefix(a))){f=a}else{if(c){f=c+"."+b+"."+a;d=a}else{f=a}}return{absoluteName:f,shortName:d}}},application:null,onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var c=Ext.app.Controller,e=c.controllerRegex,f=[],g,h,f,i,j;i=a.prototype;g=Ext.getClassName(a);h=b.$namespace||Ext.app.getNamespace(g)||(j=e.exec(g))&&j[1];if(h){i.$namespace=h}c.processDependencies(i,f,h,"model",b.models);c.processDependencies(i,f,h,"view",b.views);c.processDependencies(i,f,h,"store",b.stores);c.processDependencies(i,f,h,"controller",b.controllers);Ext.require(f,Ext.Function.pass(d,arguments,this))}},constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);if(b.refs){b.ref(b.refs)}b.eventbus=Ext.app.EventBus;b.initAutoGetters()},initAutoGetters:function(){var a=this.self.prototype,b,c;for(b in a){c=a[b];if(c&&c["Ext.app.getter"]){c.call(this)}}},doInit:function(a){var b=this;if(!b._initialized){b.init(a);b._initialized=true}},finishInit:function(a){var b=this,c=b.controllers,d,e,f;if(b._initialized&&c&&c.length){for(e=0,f=c.length;e<f;e++){d=b.getController(c[e]);d.finishInit(a)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(a){var b=this,c=0,d=a.length,e,f,g;a=Ext.Array.from(a);b.references=b.references||[];for(;c<d;c++){e=a[c];f=e.ref;g="get"+Ext.String.capitalize(f);if(!b[g]){b[g]=Ext.Function.pass(b.getRef,[f,e],b)}b.references.push(f.toLowerCase())}},addRef:function(a){this.ref(a)},getRef:function(a,b,c){var d=this,e=d.refCache||(d.refCache={}),f=e[a];b=b||{};c=c||{};Ext.apply(b,c);if(b.forceCreate){return Ext.ComponentManager.create(b,"component")}if(!f){if(b.selector){e[a]=f=Ext.ComponentQuery.query(b.selector)[0]}if(!f&&b.autoCreate){e[a]=f=Ext.ComponentManager.create(b,"component")}if(f){f.on("beforedestroy",function(){e[a]=null})}}return f},hasRef:function(a){var b=this.references;return b&&Ext.Array.indexOf(b,a.toLowerCase())!==-1},control:function(a,b,c){var d=this,e=c,f;if(Ext.isString(a)){f={};f[a]=b}else{f=a;e=b}d.eventbus.control(f,e||d)},listen:function(a,b){this.eventbus.listen(a,b||this)},getController:function(a){var b=this,c=b.application;if(a===b.id){return b}return c&&c.getController(a)},getStore:function(a){var b,c;b=a.indexOf("@")==-1?a:a.split("@")[0];c=Ext.StoreManager.get(b);if(!c){a=Ext.app.Controller.getFullName(a,"store",this.$namespace);if(a){c=Ext.create(a.absoluteName,{storeId:b})}}return c},getModel:function(a){var b=Ext.app.Controller.getFullName(a,"model",this.$namespace);return b&&Ext.ModelManager.getModel(b.absoluteName)},getView:function(a){var b=Ext.app.Controller.getFullName(a,"view",this.$namespace);return b&&Ext.ClassManager.get(b.absoluteName)},getApplication:function(){return this.application}});Ext.define("Ext.container.DockingContainer",{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(a,b){var c=this,d=0,e,f;a=c.prepareItems(a);f=a.length;for(;d<f;d++){e=a[d];e.dock=e.dock||"top";if(e.dock==="left"||e.dock==="right"){c.horizontalDocks++}if(b!==undefined){d+=b;c.dockedItems.insert(d,e)}else{c.dockedItems.add(e)}e.onAdded(c,d);if(c.hasListeners.dockedadd){c.fireEvent("dockedadd",c,e,d)}if(c.onDockedAdd!==Ext.emptyFn){c.onDockedAdd(e)}}if(c.rendered&&!c.suspendLayout){c.updateLayout()}return a},destroyDockedItems:function(){var a=this.dockedItems,b;if(a){while(b=a.first()){this.removeDocked(b,true)}}},doRenderDockedItems:function(a,b,c){var d=b.$comp,e=d.componentLayout,f,g;if(e.getDockedItems&&!b.$skipDockedItems){f=e.getDockedItems("render",!c);g=f&&e.getItemsRenderTree(f);if(g){Ext.DomHelper.generateMarkup(g,a)}}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getDockedItems:function(a,b){var c=this.getComponentLayout().getDockedItems("render",b);if(a&&c.length){c=Ext.ComponentQuery.query(a,c)}return c},getDockingRefItems:function(a,b){var c=a&&"*,* *",d=this.getDockedItems(c,true),e;d.push.apply(d,b);e=this.getDockedItems(c,false);d.push.apply(d,e);return d},initDockingItems:function(){var a=this,b=a.dockedItems;a.dockedItems=new Ext.util.AbstractMixedCollection(false,a.getComponentId);if(b){a.addDocked(b)}},insertDocked:function(a,b){this.addDocked(b,a)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,b){var c=this,d,e;b=b===true||b!==false&&c.autoDestroy;if(!c.dockedItems.contains(a)){return a}if(a.dock==="left"||a.dock==="right"){c.horizontalDocks--}d=c.componentLayout;e=d&&c.rendered;if(e){d.onRemove(a)}c.dockedItems.remove(a);a.onRemoved(a.destroying||b);c.onDockedRemove(a);if(b){a.destroy()}else if(e){d.afterRemove(a)}if(c.hasListeners.dockedremove){c.fireEvent("dockedremove",c,a)}if(!c.destroying&&!c.suspendLayout){c.updateLayout()}return a},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}});Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:true,flex:1});Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(a,b){this.layout=a;Ext.apply(this,b)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(a){var b=this,c=a.state.boxPlan,d;if(c&&c.tooNarrow){d=b.handleOverflow(a);if(d){if(d.reservedSpace){b.layout.publishInnerCtSize(a,d.reservedSpace)}}}else{b.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(a){var b=this,c=b.layout.owner,d,e;if(c.hasListeners.overflowchange){d=c.query(">[hidden]");e=d.length;if(e!==b.lastHiddenCount){c.fireEvent("overflowchange",b.lastHiddenCount,e,d);b.lastHiddenCount=e}}},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){var b;if(a.isToolbar){b="toolbar"}else if(a.isTabBar){b="tabbar"}else if(a.isMenu){b="menu"}else{b=a.getXType()}return b},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}});Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:false});Ext.define("Ext.button.Manager",{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var a=this;if(!a.initialized){Ext.getDoc().on({keydown:a.onDocumentKeyDown,mouseup:a.onDocumentMouseUp,scope:a});a.initialized=true}},onDocumentKeyDown:function(a){var b=a.getKey(),c;if(b===a.SPACE||b===a.ENTER){c=a.getTarget(this.buttonSelector);if(c){Ext.getCmp(c.id).onClick(a)}}},onButtonMousedown:function(a,b){var c=this.pressedButton;if(c){c.onMouseUp(b)}this.pressedButton=a},onDocumentMouseUp:function(a){var b=this.pressedButton;if(b){b.onMouseUp(a);this.pressedButton=null}},toggleGroup:function(a,b){if(b){var c=this.groups[a.toggleGroup],d=c.length,e;for(e=0;e<d;e++){if(c[e]!==a){c[e].toggle(false)}}}},register:function(a){var b=this,c=this.groups,d=c[a.toggleGroup];b.init();if(!a.toggleGroup){return}if(!d){d=c[a.toggleGroup]=[]}d.push(a);a.on("toggle",b.toggleGroup,b)},unregister:function(a){if(!a.toggleGroup){return}var b=this,c=b.groups[a.toggleGroup];if(c){Ext.Array.remove(c,a);a.un("toggle",b.toggleGroup,b)}},getPressed:function(a){var b=this.groups[a],c=0,d;if(b){for(d=b.length;c<d;c++){if(b[c].pressed===true){return b[c]}}}return null}});Ext.define("Ext.menu.Manager",{singleton:true,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:false,lastShow:new Date,init:function(){var a=this;a.active=new Ext.util.MixedCollection;Ext.getDoc().addKeyListener(27,function(){if(a.active.length>0){a.hideAll()}},a)},hideAll:function(){var a=this.active,b,c,d;if(a&&a.length>0){b=Ext.Array.slice(a.items);d=b.length;for(c=0;c<d;c++){b[c].hide()}return true}return false},onHide:function(a){var b=this,c=b.active;c.remove(a);if(c.length<1){Ext.getDoc().un("mousedown",b.onMouseDown,b);b.attached=false}},onShow:function(a){var b=this,c=b.active,d=b.attached;b.lastShow=new Date;c.add(a);if(!d){Ext.getDoc().on("mousedown",b.onMouseDown,b,{buffer:Ext.isIE9m?10:undefined});b.attached=true}a.toFront()},onBeforeHide:function(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(a){var b=this.active,c=a.parentMenu;b.remove(a);if(!c&&!a.allowOtherMenus){this.hideAll()}else if(c&&c.activeChild&&a!=c.activeChild){c.activeChild.hide()}},onMouseDown:function(a){var b=this,c=b.active,d=b.lastShow,e=true;if(Ext.Date.getElapsed(d)>50&&c.length>0&&!a.getTarget(b.menuSelector)){if(Ext.isIE9m&&!Ext.getDoc().contains(a.target)){e=false}if(e){b.hideAll()}}},register:function(a){var b=this;if(!b.active){b.init()}if(a.floating){b.menus[a.id]=a;a.on({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})}},get:function(a){var b=this.menus;if(typeof a=="string"){if(!b){return null}return b[a]}else if(a.isMenu){return a}else if(Ext.isArray(a)){return new Ext.menu.Menu({items:a})}else{return Ext.ComponentManager.create(a,"menu")}},unregister:function(a){var b=this,c=b.menus,d=b.active;delete c[a.id];d.remove(a);a.un({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})},registerCheckable:function(a){var b=this.groups,c=a.group;if(c){if(!b[c]){b[c]=[]}b[c].push(a)}},unregisterCheckable:function(a){var b=this.groups,c=a.group;if(c){Ext.Array.remove(b[c],a)}},onCheckChange:function(a,b){var c=this.groups,d=a.group,e=0,f,g,h;if(d&&b){f=c[d];g=f.length;for(;e<g;e++){h=f[e];if(h!=a){h.setChecked(false)}}}}});Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(a,b){var c=this;c.el=Ext.get(a);c.el.unselectable();Ext.apply(c,b);c.callParent();c.addEvents("mousedown","click","mouseup");if(!c.disabled){c.disabled=true;c.enable()}if(c.handler){c.on("click",c.handler,c.scope||c)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE&&!(Ext.isIE10p||Ext.isStrict&&Ext.isIE9)){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate){this.delay=400}a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,a)}});Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:Ext.layout.component.Auto,type:"button",htmlRE:/<.*>/,beginLayout:function(a){var b=this,c=b.owner,d=c.text;b.callParent(arguments);a.btnWrapContext=a.getEl("btnWrap");a.btnElContext=a.getEl("btnEl");a.btnInnerElContext=a.getEl("btnInnerEl");a.btnIconElContext=a.getEl("btnIconEl");if(d&&b.htmlRE.test(d)){a.isHtmlText=true;c.btnInnerEl.setStyle("line-height","normal");c.btnInnerEl.setStyle("padding-top","")}},beginLayoutCycle:function(a){var b=this.owner,c=this.lastWidthModel;this.callParent(arguments);if(c&&!this.lastWidthModel.shrinkWrap&&a.widthModel.shrinkWrap){b.btnWrap.setStyle("height","");b.btnEl.setStyle("height","");b.btnInnerEl.setStyle("line-height","")}},calculate:function(a){var b=this,c=b.owner,d=a.btnElContext,e=a.btnInnerElContext,f=a.btnWrapContext,g=Math.max,h,i,j,k;b.callParent(arguments);if(a.heightModel.shrinkWrap){j=c.btnEl.getHeight();if(a.isHtmlText){b.centerInnerEl(a,j);b.ieCenterIcon(a,j)}}else{h=a.getProp("height");if(h){i=h-a.getFrameInfo().height-a.getPaddingInfo().height;j=i;if((c.menu||c.split)&&c.arrowAlign==="bottom"){j-=f.getPaddingInfo().bottom}k=j;if((c.icon||c.iconCls||c.glyph)&&(c.iconAlign==="top"||c.iconAlign==="bottom")){k-=e.getPaddingInfo().height}f.setProp("height",g(0,i));d.setProp("height",g(0,j));if(a.isHtmlText){b.centerInnerEl(a,j)}else{e.setProp("line-height",g(0,k)+"px")}b.ieCenterIcon(a,j)}else if(h!==0){b.done=false}}},centerInnerEl:function(a,b){var c=this,d=a.btnInnerElContext,e=c.owner.btnInnerEl.getHeight();if(a.heightModel.shrinkWrap&&b<e){a.btnElContext.setHeight(e)}else if(b>e){d.setProp("padding-top",Math.round((b-e)/2)+d.getPaddingInfo().top)}},ieCenterIcon:function(a,b){var c=this.owner.iconAlign;if((Ext.isIEQuirks||Ext.isIE6)&&(c==="left"||c==="right")){a.btnIconElContext.setHeight(b)}},publishInnerWidth:function(a,b){if(this.owner.getFrameInfo().table){a.btnInnerElContext.setWidth(b-a.getFrameInfo().width-a.getPaddingInfo().width-a.btnWrapContext.getPaddingInfo().width)}}});Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(a,b,c){var d=this,e=d.shared;if(!e){e=d.shared=new d(a,c)}e.bind(a);e.setFixedWidth(c||"auto");return e.getSize(b)},destroy:function(){var a=this;Ext.destroy(a.shared);a.shared=null}},constructor:function(a,b){var c=this,d=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});c.measure=d;if(a){c.bind(a)}d.position("absolute");d.setLocalXY(-1e3,-1e3);d.hide();if(b){d.setWidth(b)}},getSize:function(a){var b=this.measure,c;b.update(a);c=b.getSize();b.update("");return c},bind:function(a){var b=this;b.el=Ext.get(a);b.measure.setStyle(b.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.remove();delete a.el;delete a.measure}},function(){Ext.Element.addMethods({getTextWidth:function(a,b,c){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,true)).width,b||0,c||1e6)}})});Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,mixins:{queryable:Ext.Queryable},alternateClassName:"Ext.Button",isButton:true,componentLayout:"button",hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,textAlign:"center",clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<tpl if="closable">','<span id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" tabIndex="0"></span>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,_triggerRegion:{},initComponent:function(){var a=this;a.autoEl={tag:"a",role:"button",hidefocus:"on",unselectable:"on"};a.addCls("x-unselectable");a.callParent(arguments);a.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange");if(a.menu){a.split=true;a.menu=Ext.menu.Manager.get(a.menu);a.menu.ownerButton=a}if(a.url){a.href=a.url}if(a.href&&!a.hasOwnProperty("preventDefault")){a.preventDefault=false}if(Ext.isString(a.toggleGroup)&&a.toggleGroup!==""){a.enableToggle=true}if(a.html&&!a.text){a.text=a.html;delete a.html}a.glyphCls=a.baseCls+"-glyph"},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){this.callParent(arguments)},setComponentCls:function(){var a=this,b=a.getComponentCls();if(!Ext.isEmpty(a.oldCls)){a.removeClsWithUI(a.oldCls);a.removeClsWithUI(a.pressedCls)}a.oldCls=b;a.addClsWithUI(b)},getComponentCls:function(){var a=this,b;if(a.iconCls||a.icon||a.glyph){b=[a.text?"icon-text-"+a.iconAlign:"icon"]}else if(a.text){b=["noicon"]}else{b=[]}if(a.pressed){b[b.length]=a.pressedCls}return b},beforeRender:function(){var a=this,b=a.autoEl,c=a.getHref(),d=a.hrefTarget;if(!a.disabled){b.tabIndex=a.tabIndex}if(c){b.href=c;if(d){b.target=d}}a.callParent();a.oldCls=a.getComponentCls();a.addClsWithUI(a.oldCls);Ext.applyIf(a.renderData,a.getTemplateArgs())},onRender:function(){var a=this,b,c,d;a.doc=Ext.getDoc();a.callParent(arguments);
c=a.el;if(a.tooltip){a.setTooltip(a.tooltip,true)}if(a.handleMouseEvents){d={scope:a,mouseover:a.onMouseOver,mouseout:a.onMouseOut,mousedown:a.onMouseDown};if(a.split){d.mousemove=a.onMouseMove}}else{d={scope:a}}if(a.menu){a.mon(a.menu,{scope:a,show:a.onMenuShow,hide:a.onMenuHide});a.keyMap=new Ext.util.KeyMap({target:a.el,key:Ext.EventObject.DOWN,handler:a.onDownKey,scope:a})}if(a.repeat){a.mon(new Ext.util.ClickRepeater(c,Ext.isObject(a.repeat)?a.repeat:{}),"click",a.onRepeatClick,a)}else{if(d[a.clickEvent]){b=true}else{d[a.clickEvent]=a.onClick}}a.mon(c,d);if(b){a.mon(c,a.clickEvent,a.onClick,a)}Ext.button.Manager.register(a)},getTemplateArgs:function(){var a=this,b=a.glyph,c=Ext._glyphFontFamily,d;if(typeof b==="string"){d=b.split("@");b=d[0];c=d[1]}return{innerCls:a.getInnerCls(),splitCls:a.getSplitCls(),iconUrl:a.icon,iconCls:a.iconCls,glyph:b,glyphCls:b?a.glyphCls:"",glyphFontFamily:c,text:a.text||"&#160;"}},setHref:function(a){this.href=a;this.el.dom.href=this.getHref()},getHref:function(){var a=this,b=a.href;return b?Ext.urlAppend(b,Ext.Object.toQueryString(Ext.apply({},a.params,a.baseParams))):false},setParams:function(a){this.params=a;this.el.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?a.baseCls+"-"+a.arrowCls+" "+(a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign):""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(a){a=a||"";var b=this,c=b.btnIconEl,d=b.icon||"";b.icon=a;if(a!=d){if(c){c.setStyle("background-image",a?"url("+a+")":"");b.setComponentCls();if(b.didIconStateChange(d,a)){b.updateLayout()}}b.fireEvent("iconchange",b,d,a)}return b},setIconCls:function(a){a=a||"";var b=this,c=b.btnIconEl,d=b.iconCls||"";b.iconCls=a;if(d!=a){if(c){c.removeCls(d);c.addCls(a);b.setComponentCls();if(b.didIconStateChange(d,a)){b.updateLayout()}}b.fireEvent("iconchange",b,d,a)}return b},setGlyph:function(a){a=a||0;var b=this,c=b.btnIconEl,d=b.glyph,e,f;b.glyph=a;if(c){if(typeof a==="string"){f=a.split("@");a=f[0];e=f[1]||Ext._glyphFontFamily}if(!a){c.dom.innerHTML=""}else if(d!=a){c.dom.innerHTML="&#"+a+";"}if(e){c.setStyle("font-family",e)}}b.fireEvent("glyphchange",b,b.glyph,d);return b},setTooltip:function(a,b){var c=this;if(c.rendered){if(!b||!a){c.clearTip()}if(a){if(Ext.quickTipsActive&&Ext.isObject(a)){Ext.tip.QuickTipManager.register(Ext.apply({target:c.el.id},a));c.tooltip=a}else{c.el.dom.setAttribute(c.getTipAttr(),a)}}}else{c.tooltip=a}return c},setTextAlign:function(a){var b=this,c=b.btnEl;if(c){c.removeCls(b.baseCls+"-inner-"+b.textAlign);c.addCls(b.baseCls+"-inner-"+a)}b.textAlign=a;return b},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(a){var b=this.menu,c;if(b){c=b.getRefItems(a);c.unshift(b)}return c||[]},clearTip:function(){var a=this,b=a.el;if(Ext.quickTipsActive&&Ext.isObject(a.tooltip)){Ext.tip.QuickTipManager.unregister(b)}else{b.dom.removeAttribute(a.getTipAttr())}},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}if(a.menu&&a.destroyMenu!==false){Ext.destroy(a.menu)}Ext.destroy(a.btnInnerEl,a.repeater);a.callParent()},onDestroy:function(){var a=this;if(a.rendered){a.doc.un("mouseover",a.monitorMouseOver,a);delete a.doc;Ext.destroy(a.keyMap);delete a.keyMap}Ext.button.Manager.unregister(a);a.callParent()},setHandler:function(a,b){this.handler=a;this.scope=b;return this},setText:function(a){a=a||"";var b=this,c=b.text||"";if(a!=c){b.text=a;if(b.rendered){b.btnInnerEl.update(a||"&#160;");b.setComponentCls();if(Ext.isStrict&&Ext.isIE8){b.el.repaint()}b.updateLayout()}b.fireEvent("textchange",b,c,a)}return b},didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},getText:function(){return this.text},toggle:function(a,b){var c=this;a=a===undefined?!c.pressed:!!a;if(a!==c.pressed){if(c.rendered){c[a?"addClsWithUI":"removeClsWithUI"](c.pressedCls)}c.pressed=a;if(!b){c.fireEvent("toggle",c,a);Ext.callback(c.toggleHandler,c.scope||c,[c,a])}}return c},maybeShowMenu:function(){var a=this;if(a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick){a.showMenu(true)}},showMenu:function(a){var b=this,c=b.menu;if(b.rendered){if(b.tooltip&&Ext.quickTipsActive&&b.getTipAttr()!="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(b.el)}if(c.isVisible()){c.hide()}if(!a||b.showEmptyMenu||c.items.getCount()>0){c.showBy(b.el,b.menuAlign)}}return b},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(a){var b=this;if(b.preventDefault||b.disabled&&b.getHref()&&a){a.preventDefault()}if(a.type!=="keydown"&&a.button!==0){return}if(!b.disabled){b.doToggle();b.maybeShowMenu();b.fireHandler(a)}},fireHandler:function(a){var b=this,c=b.handler;if(b.fireEvent("click",b,a)!==false){if(c){c.call(b.scope||b,b,a)}}},doToggle:function(){var a=this;if(a.enableToggle&&(a.allowDepress!==false||!a.pressed)){a.toggle()}},onMouseOver:function(a){var b=this;if(!b.disabled&&!a.within(b.el,true,true)){b.onMouseEnter(a)}},onMouseOut:function(a){var b=this;if(!a.within(b.el,true,true)){if(b.overMenuTrigger){b.onMenuTriggerOut(a)}b.onMouseLeave(a)}},onMouseMove:function(a){var b=this,c=b.el,d=b.overMenuTrigger,e,f;if(b.split){e=b.arrowAlign==="right"?a.getX()-b.getX():a.getY()-c.getY();f=b.getTriggerRegion();if(e>f.begin&&e<f.end){if(!d){b.onMenuTriggerOver(a)}}else{if(d){b.onMenuTriggerOut(a)}}}},getTriggerRegion:function(){var a=this,b=a._triggerRegion,c=a.getTriggerSize(),d=a.arrowAlign==="right"?a.getWidth():a.getHeight();b.begin=d-c;b.end=d;return b},getTriggerSize:function(){var a=this,b=a.triggerSize,c,d;if(b==null){c=a.arrowAlign;d=c.charAt(0);b=a.triggerSize=a.el.getFrameWidth(d)+a.getBtnWrapFrameWidth(d);if(a.frameSize){b=a.triggerSize+=a.frameSize[c]}}return b},getBtnWrapFrameWidth:function(a){return this.btnWrap.getFrameWidth(a)},addOverCls:function(){if(!this.disabled){this.addClsWithUI(this.overCls)}},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(a){var b=this,c=b.arrowTooltip;b.overMenuTrigger=true;if(b.split&&c){b.btnWrap.dom.setAttribute(b.getTipAttr(),c)}b.fireEvent("menutriggerover",b,b.menu,a)},onMenuTriggerOut:function(a){var b=this;delete b.overMenuTrigger;if(b.split&&b.arrowTooltip){b.btnWrap.dom.setAttribute(b.getTipAttr(),"")}b.fireEvent("menutriggerout",b,b.menu,a)},enable:function(a){var b=this;b.callParent(arguments);b.removeClsWithUI("disabled");if(b.rendered){b.el.dom.setAttribute("tabIndex",b.tabIndex)}return b},disable:function(a){var b=this;b.callParent(arguments);b.addClsWithUI("disabled");b.removeClsWithUI(b.overCls);if(b.rendered){b.el.dom.removeAttribute("tabIndex")}if(b.btnInnerEl&&Ext.isIE7m){b.btnInnerEl.repaint()}return b},setScale:function(a){var b=this,c=b.ui.replace("-"+b.scale,"");if(!Ext.Array.contains(b.allowedScales,a)){throw"#setScale: scale must be an allowed scale ("+b.allowedScales.join(", ")+")"}b.scale=a;b.setUI(c)},setUI:function(a){var b=this;if(b.scale&&!a.match(b.scale)){a=a+"-"+b.scale}b.callParent([a])},onMouseDown:function(a){var b=this;if(Ext.isIE){b.getFocusEl().focus()}if(!b.disabled&&a.button===0){Ext.button.Manager.onButtonMousedown(b,a);b.addClsWithUI(b.pressedCls)}},onMouseUp:function(a){var b=this;if(a.button===0){if(!b.pressed){b.removeClsWithUI(b.pressedCls)}}},onMenuShow:function(a){var b=this;b.ignoreNextClick=0;b.addClsWithUI(b.menuActiveCls);b.fireEvent("menushow",b,b.menu)},onMenuHide:function(a){var b=this;b.removeClsWithUI(b.menuActiveCls);b.ignoreNextClick=Ext.defer(b.restoreClick,250,b);b.fireEvent("menuhide",b,b.menu);b.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(a,b){var c=this;if(c.menu&&!c.disabled){c.showMenu();b.stopEvent();return false}}});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(a){var b=this;b.callParent(arguments);b.triggerButtonCls=b.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after";b.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},beginLayoutCycle:function(a,b){this.callParent(arguments);if(!b){this.clearOverflow(a);this.layout.cacheChildItems(a)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner,d=c.id;a.menu=new Ext.menu.Menu({listeners:{scope:a,beforeshow:a.beforeMenuShow}});a.menuTrigger=new Ext.button.Button({id:d+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+a.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:c.usePlainButtons,ownerCt:c,ownerLayout:b,iconCls:Ext.baseCSSPrefix+a.getOwnerType(c)+"-more-icon",ui:c instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:a.menu,showEmptyMenu:true,getSplitCls:function(){return""}});return a.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(a){var b=this,c=b.layout,d=c.names,e=a.state.boxPlan,f=[null,null];b.showTrigger(a);if(b.layout.direction!=="vertical"){f[d.heightIndex]=(e.maxSize-b.menuTrigger[d.getHeight]())/2;b.menuTrigger.setPosition.apply(b.menuTrigger,f)}return{reservedSpace:b.triggerTotalWidth}},captureChildElements:function(){var a=this,b=a.menuTrigger,c=a.layout.names;if(b.rendering){b.finishRender();a.triggerTotalWidth=b[c.getWidth]()+b.el.getMargin(c.parallelMargins)}},_asLayoutRoot:{isRoot:true},clearOverflow:function(a){var b=this,c=b.menuItems,d,e=0,f=c.length,g=b.layout.owner,h=b._asLayoutRoot;g.suspendLayouts();b.captureChildElements();b.hideTrigger();g.resumeLayouts();for(;e<f;e++){d=c[e];d.suspendLayouts();d.show();d.resumeLayouts(h)}c.length=0},showTrigger:function(a){var b=this,c=b.layout,d=c.owner,e=c.names,f=e.x,g=e.width,h=a.state.boxPlan,i=h.targetSize[g],j=a.childItems,k=j.length,l=b.menuTrigger,m,n,o,p;l.suspendLayouts();l.show();l.resumeLayouts(b._asLayoutRoot);i-=b.triggerTotalWidth;d.suspendLayouts();b.menuItems.length=0;for(o=0;o<k;o++){m=j[o];p=m.props;if(p[f]+p[g]>i){n=m.target;b.menuItems.push(n);n.hide()}}d.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;if(a){a.hide()}},beforeMenuShow:function(a){var b=this,c=b.menuItems,d=0,e=c.length,f,g,h=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.toolbar.Separator)};a.suspendLayouts();b.clearMenu();a.removeAll();for(;d<e;d++){f=c[d];if(!d&&f instanceof Ext.toolbar.Separator){continue}if(g&&(h(f,g)||h(g,f))){a.add("-")}b.addComponentToMenu(a,f);g=f}if(a.items.length<1){a.add(b.noItemsMenuText)}a.resumeLayouts()},createMenuConfig:function(a,b){var c=this,d=Ext.apply({},a.initialConfig),e=a.toggleGroup;Ext.copyTo(d,a,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]);Ext.apply(d,{text:a.overflowText||a.text,hideOnClick:b,destroyMenu:false,listeners:{}});if(a.isFormField){d.value=a.getValue();d.listeners.change=function(b,c,d){a.setValue(c)}}else if(e||a.enableToggle){Ext.apply(d,{hideOnClick:false,group:e,checked:a.pressed,handler:function(b,c){a.onClick(c)}})}if(a.isButton&&!a.changeListenersAdded){a.on({textchange:c.onButtonAttrChange,iconchange:c.onButtonAttrChange,toggle:c.onButtonToggle});a.changeListenersAdded=true}delete d.margin;delete d.ownerCt;delete d.xtype;delete d.id;delete d.itemId;return d},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts();b.setText(a.text);b.setIcon(a.icon);b.setIconCls(a.iconCls);b.resumeLayouts(true)},onButtonToggle:function(a,b){if(a.overflowClone.checked!==b){a.overflowClone.setChecked(b)}},addComponentToMenu:function(a,b){var c=this,d,e,f;if(b instanceof Ext.toolbar.Separator){a.add("-")}else if(b.isComponent){if(b.isXType("splitbutton")){b.overflowClone=a.add(c.createMenuConfig(b,true))}else if(b.isXType("button")){b.overflowClone=a.add(c.createMenuConfig(b,!b.menu))}else if(b.isXType("buttongroup")){e=b.items.items;f=e.length;for(d=0;d<f;d++){c.addComponentToMenu(a,e[d])}}else{b.overflowClone=a.add(Ext.create(Ext.getClassName(b),c.createMenuConfig(b)))}}},clearMenu:function(){var a=this.menu,b,c,d,e;if(a&&a.items){b=a.items.items;d=b.length;for(c=0;c<d;c++){e=b[c];if(e.setMenu){e.setMenu(null)}}}},destroy:function(){var a=this.menuTrigger;if(a&&!this.layout.owner.items.contains(a)){delete a.ownerCt}Ext.destroy(this.menu,a)}});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:Ext.util.Observable},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(a,b){var c=this;c.layout=a;Ext.apply(c,b||{});c.mixins.observable.constructor.call(c);c.addEvents("scroll");c.scrollPosition=0;c.scrollSize=0},getPrefixConfig:function(){var a=this,b=a.layout,c=b.owner,d;a.initCSSClasses();d=Ext.layout.container.Box.prototype.innerCls+" "+a.beforeCtCls;if(c.plain){d+=" "+a.scrollerCls+"-plain"}return{cls:d,cn:{id:c.id+b.names.beforeScrollerSuffix,cls:a.scrollerCls+" "+a.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner,d=Ext.layout.container.Box.prototype.innerCls+" "+a.afterCtCls;if(c.plain){d+=" "+a.scrollerCls+"-plain"}return{cls:d,cn:{id:c.id+b.names.afterScrollerSuffix,cls:a.scrollerCls+" "+a.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var a=this,b=Ext.baseCSSPrefix,c=a.layout,d=c.names,e=d.beforeX,f=d.afterX,g=a.getOwnerType(c.owner);a.beforeCtCls=a.beforeCtCls||b+"box-scroller-"+e;a.afterCtCls=a.afterCtCls||b+"box-scroller-"+f;a.beforeScrollerCls=a.beforeScrollerCls||b+g+"-scroll-"+e;a.afterScrollerCls=a.afterScrollerCls||b+g+"-scroll-"+f},beginLayout:function(a){var b=this.layout;a.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},completeLayout:function(a){var b=this,c=a.state.boxPlan,d=b.layout.names,e;if(c&&c.tooNarrow){e=a.childItems[a.childItems.length-1];b.scrollSize=e.props[d.x]+e.props[d.width];b.updateScrollButtons()}this.callParent(arguments)},finishedLayout:function(a){var b=this,c=b.layout,d=Math.min(b.getMaxScrollPosition(),a.innerCtScrollPos);c.innerCt[c.names.setScrollLeft](d)},handleOverflow:function(a){var b=this,c=b.layout.names.getWidth;b.showScrollers();return{reservedSpace:b.beforeCt[c]()+b.afterCt[c]()}},captureChildElements:function(){var a=this,b=a.layout.owner.el,c,d,e,f,g,h;if(!a.beforeCt){h="-hover";f="-pressed";e=a.scrollerCls+h;g=a.scrollerCls+f;c=a.beforeScroller=b.getById(a.layout.owner.id+"-before-scroller");d=a.afterScroller=b.getById(a.layout.owner.id+"-after-scroller");a.beforeCt=c.up("");a.afterCt=d.up("");a.createWheelListener();c.addClsOnOver(e);c.addClsOnOver(a.beforeScrollerCls+h);c.addClsOnClick(g);c.addClsOnClick(a.beforeScrollerCls+f);d.addClsOnOver(e);d.addClsOnOver(a.afterScrollerCls+h);d.addClsOnClick(g);d.addClsOnClick(a.afterScrollerCls+f);c.setVisibilityMode(Ext.Element.DISPLAY);d.setVisibilityMode(Ext.Element.DISPLAY);a.beforeRepeater=new Ext.util.ClickRepeater(c,{interval:a.scrollRepeatInterval,handler:a.scrollLeft,scope:a});a.afterRepeater=new Ext.util.ClickRepeater(d,{interval:a.scrollRepeatInterval,handler:a.scrollRight,scope:a})}},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,false)},stopEvent:true})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements();a.beforeScroller.show();a.afterScroller.show();a.layout.owner.addClsWithUI(a.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var a=this;if(a.beforeScroller!==undefined){a.beforeScroller.hide();a.afterScroller.hide();a.layout.owner.removeClsWithUI(a.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(a,b){this.scrollTo(this.getScrollPosition()+a,b)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a=this,b,c,d,e,f,g="-disabled";if(a.beforeScroller==null||a.afterScroller==null){return}b=a.atExtremeBefore()?"addCls":"removeCls";c=a.atExtremeAfter()?"addCls":"removeCls";f=a.scrollerCls+g;d=[f,a.beforeScrollerCls+g];e=[f,a.afterScrollerCls+g];a.beforeScroller[b](d);a.afterScroller[c](e);a.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var a=this,b=a.layout,c;if(isNaN(a.scrollPosition)){c=b.innerCt[b.names.getScrollLeft]()}else{c=a.scrollPosition}return c},getMaxScrollPosition:function(){var a=this,b=a.layout,c=a.scrollSize-b.innerCt[b.names.getWidth]();return c<0?0:c},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(a,b){var c=this,d=c.layout,e=d.names,f=c.getScrollPosition(),g=Ext.Number.constrain(a,0,c.getMaxScrollPosition());if(g!=f&&!c.scrolling){c.scrollPosition=NaN;if(b===undefined){b=c.animateScroll}d.innerCt[e.scrollTo](e.beforeScrollX,g,b?c.getScrollAnim():false);if(b){c.scrolling=true}else{c.updateScrollButtons()}c.fireEvent("scroll",c,g,b?c.getScrollAnim():false)}},scrollToItem:function(a,b){var c=this,d=c.layout,e=d.owner,f=d.names,g,h,i;a=c.getItem(a);if(a!==undefined){if(a==e.items.first()){i=0}else if(a===e.items.last()){i=c.getMaxScrollPosition()}else{g=c.getItemVisibility(a);if(!g.fullyVisible){h=a.getBox(false,true);i=h[f.x];if(g.hiddenEnd){i-=c.layout.innerCt[f.getWidth]()-h[f.width]}}}if(i!==undefined){c.scrollTo(i,b)}}},getItemVisibility:function(a){var b=this,c=b.getItem(a).getBox(true,true),d=b.layout,e=d.names,f=c[e.x],g=f+c[e.width],h=b.getScrollPosition(),i=h+d.innerCt[e.getWidth]();return{hiddenStart:f<h,hiddenEnd:g>i,fullyVisible:f>h&&g<i}}});Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=a!=null&&!isNaN(a)?a:0;this.y=b!=null&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},round:function(a){if(!isNaN(a)){var b=Math.pow(10,a);this.x=Math.round(this.x*b)/b;this.y=Math.round(this.y*b)/b}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.util.Region",{statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(a,b,c,d){var e=this;e.y=e.top=e[1]=a;e.right=b;e.bottom=c;e.x=e.left=e[0]=d},contains:function(a){var b=this;return a.x>=b.x&&a.right<=b.right&&a.y>=b.y&&a.bottom<=b.bottom},intersect:function(a){var b=this,c=Math.max(b.y,a.y),d=Math.min(b.right,a.right),e=Math.min(b.bottom,a.bottom),f=Math.max(b.x,a.x);if(e>c&&d>f){return new this.self(c,d,e,f)}else{return false}},union:function(a){var b=this,c=Math.min(b.y,a.y),d=Math.max(b.right,a.right),e=Math.max(b.bottom,a.bottom),f=Math.min(b.x,a.x);return new this.self(c,d,e,f)},constrainTo:function(a){var b=this,c=Ext.Number.constrain;b.top=b.y=c(b.top,a.y,a.bottom);b.bottom=c(b.bottom,a.y,a.bottom);b.left=b.x=c(b.left,a.x,a.right);b.right=c(b.right,a.x,a.right);return b},adjust:function(a,b,c,d){var e=this;e.top=e.y+=a;e.left=e.x+=d;e.right+=b;e.bottom+=c;return e},getOutOfBoundOffset:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.getOutOfBoundOffsetX(b)}else{return this.getOutOfBoundOffsetY(b)}}else{b=a;var c=new Ext.util.Offset;c.x=this.getOutOfBoundOffsetX(b.x);c.y=this.getOutOfBoundOffsetY(b.y);return c}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else if(a>=this.right){return this.right-a}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else if(a>=this.bottom){return this.bottom-a}return 0},isOutOfBound:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=a;return this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y)}},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(a,b,c){if(Ext.isObject(a)){var d;c=b;b=a;if(b.copy){d=b.copy()}else{d={x:b.x,y:b.y}}d.x=this.restrictX(b.x,c);d.y=this.restrictY(b.y,c);return d}else{if(a=="x"){return this.restrictX(b,c)}else{return this.restrictY(b,c)}}},restrictX:function(a,b){if(!b){b=1}if(a<=this.x){a-=(a-this.x)*b}else if(a>=this.right){a-=(a-this.right)*b}return a},restrictY:function(a,b){if(!b){b=1}if(a<=this.y){a-=(a-this.y)*b}else if(a>=this.bottom){a-=(a-this.bottom)*b}return a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(a){var b=this;b.top=b.y=b[1]=a.y;b.right=a.right;b.bottom=a.bottom;b.left=b.x=b[0]=a.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,b){if(arguments.length==1){b=a.y;a=a.x}var c=this;c.top=c.y+=b;c.right+=a;c.bottom+=b;c.left=c.x+=a;return c},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left}});Ext.define("Ext.dd.DragDropManager",{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(a,b){var c,d,e;for(c in this.ids){for(d in this.ids[c]){e=this.ids[c][d];if(!this.isTypeOfDD(e)){continue}e[a].apply(e,b)}}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){if(!this.initialized){this.init()}if(!this.ids[b]){this.ids[b]={}}this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){if(!this.ids[b]){this.ids[b]={}}var c=this.ids[b];if(c&&c[a.id]){delete c[a.id]}},_remove:function(a){for(var b in a.groups){if(b&&this.ids[b]&&this.ids[b][a.id]){delete this.ids[b][a.id]}}delete this.handleIds[a.id]},regHandle:function(a,b){if(!this.handleIds[a]){this.handleIds[a]={}}this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?true:false},getRelated:function(a,b){var c=[],d,e,f;for(d in a.groups){for(e in this.ids[d]){f=this.ids[d][e];if(!this.isTypeOfDD(f)){continue}if(!b||f.isTarget){c[c.length]=f}}}return c},isLegalTarget:function(a,b){var c=this.getRelated(a,true),d,e;for(d=0,e=c.length;d<e;++d){if(c[d].id==b.id){return true}}return false},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a){var b,c;for(b in this.ids){c=this.ids[b][a];if(c instanceof Ext.dd.DDTarget){return c}}return null},handleMouseDown:function(a,b){var c=this,d;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}if(c.dragCurrent){c.handleMouseUp(a)}c.currentTarget=a.getTarget();c.dragCurrent=b;d=b.getEl();if(Ext.isIE9m&&d.setCapture){d.setCapture()}c.startX=a.getPageX();c.startY=a.getPageY();c.deltaX=c.startX-d.offsetLeft;c.deltaY=c.startY-d.offsetTop;c.dragThreshMet=false;c.clickTimeout=setTimeout(function(){c.startDrag(c.startX,c.startY)},c.clickTimeThresh)},startDrag:function(a,b){var c=this,d=c.dragCurrent,e;clearTimeout(c.clickTimeout);if(d){d.b4StartDrag(a,b);d.startDrag(a,b);e=d.getDragEl();if(e){Ext.fly(e).addCls(c.dragCls)}}c.dragThreshMet=true},handleMouseUp:function(a){var b=this;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!b.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(b.clickTimeout);if(b.dragThreshMet){b.fireEvents(a,true)}b.stopDrag(a);b.stopEvent(a)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(a){var b=this,c=b.dragCurrent,d;if(c){if(b.dragThreshMet){d=c.getDragEl();if(d){Ext.fly(d).removeCls(b.dragCls)}c.b4EndDrag(a);c.endDrag(a)}b.dragCurrent.onMouseUp(a)}b.dragCurrent=null;b.dragOvers={}},handleMouseMove:function(a){var b=this,c=b.dragCurrent,d,e;if(!c){return true}if(!b.dragThreshMet){d=Math.abs(b.startX-a.getPageX());e=Math.abs(b.startY-a.getPageY());if(d>b.clickPixelThresh||e>b.clickPixelThresh){b.startDrag(b.startX,b.startY)}}if(b.dragThreshMet){c.b4Drag(a);c.onDrag(a);if(!c.moveOnly){b.fireEvents(a,false)}}b.stopEvent(a);return true},fireEvents:function(a,b){var c=this,d=c.dragCurrent,e,f,g=a.getPoint(),h,i,j=[],k=[],l=[],m=[],n=[],o=[],p,q,r,s,t;if(!d||d.isLocked()){return}if(!c.notifyOccluded&&(!Ext.supports.PointerEvents||Ext.isIE10m||Ext.isOpera)&&!(d.deltaX<0||d.deltaY<0)){e=d.getDragEl();f=e.style.top;e.style.top="-10000px";p=a.getXY();a.target=document.elementFromPoint(p[0],p[1]);e.style.top=f}for(r in c.dragOvers){h=c.dragOvers[r];if(!c.isTypeOfDD(h)){continue}if(c.notifyOccluded){if(!this.isOverTarget(g,h,c.mode)){l.push(h)}}else{if(!a.within(h.getEl())){l.push(h)}}k[r]=true;delete c.dragOvers[r]}for(t in d.groups){if("string"!=typeof t){continue}for(r in c.ids[t]){h=c.ids[t][r];if(c.isTypeOfDD(h)&&(i=h.getEl())&&h.isTarget&&!h.isLocked()&&Ext.fly(i).isVisible(true)&&(h!=d||d.ignoreSelf===false)){if(c.notifyOccluded){if((h.zIndex=c.getZIndex(i))!==-1){q=true}j.push(h)}else{if(a.within(h.getEl())){j.push(h);break}}}}}if(q){Ext.Array.sort(j,c.byZIndex)}for(r=0,s=j.length;r<s;r++){h=j[r];if(c.isOverTarget(g,h,c.mode)){if(b){n.push(h)}else{if(!k[h.id]){o.push(h)}else{m.push(h)}c.dragOvers[h.id]=h}if(!c.notifyOccluded){break}}}if(c.mode){if(l.length){d.b4DragOut(a,l);d.onDragOut(a,l)}if(o.length){d.onDragEnter(a,o)}if(m.length){d.b4DragOver(a,m);d.onDragOver(a,m)}if(n.length){d.b4DragDrop(a,n);d.onDragDrop(a,n)}}else{for(r=0,s=l.length;r<s;++r){d.b4DragOut(a,l[r].id);d.onDragOut(a,l[r].id)}for(r=0,s=o.length;r<s;++r){d.onDragEnter(a,o[r].id)}for(r=0,s=m.length;r<s;++r){d.b4DragOver(a,m[r].id);d.onDragOver(a,m[r].id)}for(r=0,s=n.length;r<s;++r){d.b4DragDrop(a,n[r].id);d.onDragDrop(a,n[r].id)}}if(b&&!n.length){d.onInvalidDrop(a)}},getZIndex:function(a){var b=document.body,c,d=-1;a=Ext.getDom(a);while(a!==b){if(!isNaN(c=Number(Ext.fly(a).getStyle("zIndex")))){d=c}a=a.parentNode}return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(a){var b=null,c=a.length,d,e;if(c==1){b=a[0]}else{for(d=0;d<c;++d){e=a[d];if(e.cursorIsOver){b=e;break}else{if(!b||b.overlap.getArea()<e.overlap.getArea()){b=e}}}}return b},refreshCache:function(a){var b,c,d,e;for(b in a){if("string"!=typeof b){continue}for(c in this.ids[b]){d=this.ids[b][c];if(this.isTypeOfDD(d)){e=this.getLocation(d);if(e){this.locationCache[d.id]=e}else{delete this.locationCache[d.id]}}}}},verifyEl:function(a){if(a){var b;if(Ext.isIE){try{b=a.offsetParent}catch(c){}}else{b=a.offsetParent}if(b){return true}}return false},getLocation:function(a){if(!this.isTypeOfDD(a)){return null}if(a.getRegion){return a.getRegion()}var b=a.getEl(),c,d,e,f,g,h,i,j,k;try{c=Ext.Element.getXY(b)}catch(l){}if(!c){return null}d=c[0];e=d+b.offsetWidth;f=c[1];g=f+b.offsetHeight;h=f-a.padding[0];i=e+a.padding[1];j=g+a.padding[2];k=d-a.padding[3];return new Ext.util.Region(h,i,j,k)},isOverTarget:function(a,b,c){var d=this.locationCache[b.id],e,f,g,h,i;if(!d||!this.useCache){d=this.getLocation(b);this.locationCache[b.id]=d}if(!d){return false}b.cursorIsOver=d.contains(a);e=this.dragCurrent;if(!e||!e.getTargetCoord||!c&&!e.constrainX&&!e.constrainY){return b.cursorIsOver}b.overlap=null;f=e.getTargetCoord(a.x,a.y);g=e.getDragEl();h=new Ext.util.Region(f.y,f.x+g.offsetWidth,f.y+g.offsetHeight,f.x);i=h.intersect(d);if(i){b.overlap=i;return c?true:b.cursorIsOver}else{return false}},_onUnload:function(a,b){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];if(!b||!b.el){b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a))}return b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){var b=Ext.getDom(a);return b?b.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode){a.swapNode(b)}else{var c=b.parentNode,d=b.nextSibling;if(d==a){c.insertBefore(a,b)}else if(b==a.nextSibling){c.insertBefore(b,a)}else{a.parentNode.replaceChild(b,a);c.insertBefore(a,d)}}},getScroll:function(){var a=window.document,b=a.documentElement,c=a.body,d=0,e=0;if(Ext.isGecko4){d=window.scrollYOffset;e=window.scrollXOffset}else{if(b&&(b.scrollTop||b.scrollLeft)){d=b.scrollTop;e=b.scrollLeft}else if(c){d=c.scrollTop;e=c.scrollLeft}}return{top:d,left:e}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.Element.getXY(b);Ext.Element.setXY(a,c)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){if(document){this._onLoad()}else{if(this._timeoutCount<=2e3){setTimeout(this._addListeners,10);if(document&&document.body){this._timeoutCount+=1}}}},handleWasClicked:function(a,b){if(this.isHandle(b,a.id)){return true}else{var c=a.parentNode;while(c){if(this.isHandle(b,c.id)){return true}else{c=c.parentNode}}}return false}},function(){this._addListeners()});Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:undefined,stretchMaxPartner:undefined,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:true,manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var b=this,c;
b.callParent(arguments);b.flexSortFn=Ext.Function.bind(b.flexSort,b);b.initOverflowHandler();c=typeof b.padding;if(c=="string"||c=="number"){b.padding=Ext.util.Format.parseBox(b.padding);b.padding.height=b.padding.top+b.padding.bottom;b.padding.width=b.padding.left+b.padding.right}},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(a,b){var c=this,d=c.sizePolicy,e=c.align,f=a.flex,g=e,h=c.names,i=a[h.width],j=a[h.height],k=c._percentageRe,l=k.test(i),m=e=="stretch",n=e=="stretchmax",o=c.constrainAlign;if(!b&&(m||f||l||o&&!n)){b=c.owner.getSizeModel()}if(m){if(!k.test(j)&&b[h.height].shrinkWrap){g="stretchmax"}}else if(!n){if(k.test(j)){g="stretch"}else if(o&&!b[h.height].shrinkWrap){g="stretchmax"}else{g=""}}if(f||l){if(!b[h.width].shrinkWrap){d=d.flex}}return d[g]},flexSort:function(a,b){var c=this.names.maxWidth,d=this.names.minWidth,e=Infinity,f=a.target,g=b.target,h=0,i,j,k,l,m,n;k=f[c]||e;l=g[c]||e;i=f[d]||0;j=g[d]||0;m=isFinite(i)||isFinite(j);n=isFinite(k)||isFinite(l);if(m||n){if(n){h=k-l}if(h===0&&m){h=j-i}}return h},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){var b=this;if(b.direction==="vertical"&&a.collapsedVertical()){a.collapseMemento.capture(["flex"]);delete a.flex}else if(b.direction==="horizontal"&&a.collapsedHorizontal()){a.collapseMemento.capture(["flex"]);delete a.flex}},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(a){var b=this,c=b.owner,d=c.stretchMaxPartner,e=b.innerCt.dom.style,f=b.names;a.boxNames=f;b.overflowHandler.beginLayout(a);if(typeof d==="string"){d=Ext.getCmp(d)||c.query(d)[0]}a.stretchMaxPartner=d&&a.context.getCmp(d);b.callParent(arguments);a.innerCtContext=a.getEl("innerCt",b);b.scrollParallel=c.scrollFlags[f.x];b.scrollPerpendicular=c.scrollFlags[f.y];if(b.scrollParallel){b.scrollPos=c.getTargetEl().dom[f.scrollLeft]}e.width="";e.height=""},beginLayoutCycle:function(a,b){var c=this,d=c.align,e=a.boxNames,f=c.pack,g=e.heightModel;c.overflowHandler.beginLayoutCycle(a,b);c.callParent(arguments);a.parallelSizeModel=a[e.widthModel];a.perpendicularSizeModel=a[g];a.boxOptions={align:d={stretch:d=="stretch",stretchmax:d=="stretchmax",center:d==e.center,bottom:d==e.afterY},pack:f={center:f=="center",end:f=="end"}};if(d.stretch&&a.perpendicularSizeModel.shrinkWrap){d.stretchmax=true;d.stretch=false}d.nostretch=!(d.stretch||d.stretchmax);if(a.parallelSizeModel.shrinkWrap){f.center=f.end=false}c.cacheFlexes(a);c.targetEl.setWidth(2e4)},cacheFlexes:function(a){var b=this,c=a.boxNames,d=c.widthModel,e=c.heightModel,f=a.boxOptions.align.nostretch,g=0,h=a.childItems,i=h.length,j=[],k=0,l=c.minWidth,m=b._percentageRe,n=0,o=0,p,q,r,s;while(i--){q=h[i];p=q.target;if(q[d].calculated){q.flex=r=p.flex;if(r){g+=r;j.push(q);k+=p[l]||0}else{s=m.exec(p[c.width]);q.percentageParallel=parseFloat(s[1])/100;++n}}if(f&&q[e].calculated){s=m.exec(p[c.height]);q.percentagePerpendicular=parseFloat(s[1])/100;++o}}a.flexedItems=j;a.flexedMinSize=k;a.totalFlex=g;a.percentageWidths=n;a.percentageHeights=o;Ext.Array.sort(j,b.flexSortFn)},calculate:function(a){var b=this,c=b.getContainerSize(a),d=a.boxNames,e=a.state,f=e.boxPlan||(e.boxPlan={}),g=a.targetContext;f.targetSize=c;if(!a.parallelSizeModel.shrinkWrap&&!c[d.gotWidth]){b.done=false;return}if(!e.parallelDone){e.parallelDone=b.calculateParallel(a,d,f)}if(!e.perpendicularDone){e.perpendicularDone=b.calculatePerpendicular(a,d,f)}if(e.parallelDone&&e.perpendicularDone){if(b.owner.dock&&(Ext.isIE7m||Ext.isIEQuirks)&&!b.owner.width&&!b.horizontal){f.isIEVerticalDock=true;f.calculatedWidth=f.maxSize+a.getPaddingInfo().width+a.getFrameInfo().width;if(g!==a){f.calculatedWidth+=g.getPaddingInfo().width}}b.publishInnerCtSize(a,b.reserveOffset?b.availableSpaceOffset:0);if(b.done&&(a.childItems.length>1||a.stretchMaxPartner)&&a.boxOptions.align.stretchmax&&!e.stretchMaxDone){b.calculateStretchMax(a,d,f);e.stretchMaxDone=true}b.overflowHandler.calculate(a)}else{b.done=false}},calculateParallel:function(a,b,c){var d=this,e=b.width,f=a.childItems,g=b.beforeX,h=b.afterX,i=b.setWidth,j=f.length,k=a.flexedItems,l=k.length,m=a.boxOptions.pack,n=d.padding,o=c.targetSize[e],p=0,q=n[g],r=q+n[h]+d.scrollOffset+(d.reserveOffset?d.availableSpaceOffset:0),s=Ext.getScrollbarSize()[b.width],t,u,v,w,x,y,z,A,B,C,D;if(s&&d.scrollPerpendicular&&a.parallelSizeModel.shrinkWrap&&!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone){return false}B=true}for(t=0;t<j;++t){x=f[t];u=x.marginInfo||x.getMarginInfo();p+=u[e];if(!x[b.widthModel].calculated){C=x.getProp(e);r+=C;if(isNaN(r)){return false}}}r+=p;if(a.percentageWidths){D=o-p;if(isNaN(D)){return false}for(t=0;t<j;++t){x=f[t];if(x.percentageParallel){C=Math.ceil(D*x.percentageParallel);C=x.setWidth(C);r+=C}}}if(a.parallelSizeModel.shrinkWrap){c.availableSpace=0;c.tooNarrow=false}else{c.availableSpace=o-r;c.tooNarrow=c.availableSpace<a.flexedMinSize;if(c.tooNarrow&&Ext.getScrollbarSize()[b.height]&&d.scrollParallel&&a.state.perpendicularDone){a.state.perpendicularDone=false;for(t=0;t<j;++t){f[t].invalidate()}}}A=r;v=c.availableSpace;w=a.totalFlex;for(t=0;t<l;t++){x=k[t];y=x.flex;z=d.roundFlex(y/w*v);z=x[i](z);A+=z;v=Math.max(0,v-z);w-=y}if(m.center){q+=v/2;if(q<0){q=0}}else if(m.end){q+=v}for(t=0;t<j;++t){x=f[t];u=x.marginInfo;q+=u[g];x.setProp(b.x,q);q+=u[h]+x.props[e]}A+=a.targetContext.getPaddingInfo()[e];a.state.contentWidth=A;if(B&&a.peek(b.contentHeight)>c.targetSize[b.height]){A+=s;a[b.hasOverflowY]=true;a.target.componentLayout[b.setWidthInDom]=true;a[b.invalidateScrollY]=Ext.isStrict&&Ext.isIE8}a[b.setContentWidth](A);return true},calculatePerpendicular:function(a,b,c){var d=this,e=a.perpendicularSizeModel.shrinkWrap,f=c.targetSize,g=a.childItems,h=g.length,i=Math.max,j=b.height,k=b.setHeight,l=b.beforeY,m=b.y,n=d.padding,o=n[l],p=f[j]-o-n[b.afterY],q=a.boxOptions.align,r=q.stretch,s=q.stretchmax,t=q.center,u=q.bottom,v=d.constrainAlign,w=0,x=0,y=d.onBeforeConstrainInvalidateChild,z=d.onAfterConstrainInvalidateChild,A=Ext.getScrollbarSize().height,B,C,D,E,F,G,H,I,J,K,L;if(r||(t||u)&&!e){if(isNaN(p)){return false}}if(d.scrollParallel&&c.tooNarrow){if(e){K=true}else{p-=A;c.targetSize[j]-=A}}if(r){G=p}else{for(C=0;C<h;C++){H=g[C];E=(H.marginInfo||H.getMarginInfo())[j];if(!(L=H.percentagePerpendicular)){D=H.getProp(j)}else{++x;if(e){continue}else{D=L*p-E;D=H[b.setHeight](D)}}if(!e&&v&&H[b.heightModel].shrinkWrap&&D>p){H.invalidate({before:y,after:z,layout:d,childHeight:p,names:b});a.state.parallelDone=false}if(isNaN(w=i(w,D+E,H.target[b.minHeight]||0))){return false}}if(K){w+=A;a[b.hasOverflowX]=true;a.target.componentLayout[b.setHeightInDom]=true;a[b.invalidateScrollX]=Ext.isStrict&&Ext.isIE8}I=a.stretchMaxPartner;if(I){a.setProp("maxChildHeight",w);J=I.childItems;if(J&&J.length){w=i(w,I.getProp("maxChildHeight"));if(isNaN(w)){return false}}}a[b.setContentHeight](w+d.padding[j]+a.targetContext.getPaddingInfo()[j]);if(K){w-=A}c.maxSize=w;if(s){G=w}else if(t||u||x){if(v){G=e?w:p}else{G=e?w:i(p,w)}G-=a.innerCtContext.getBorderInfo()[j]}}for(C=0;C<h;C++){H=g[C];E=H.marginInfo||H.getMarginInfo();B=o+E[l];if(r){H[k](G-E[j])}else{L=H.percentagePerpendicular;if(e&&L){E=H.marginInfo||H.getMarginInfo();D=L*G-E[j];D=H.setHeight(D)}if(t){F=G-H.props[j];if(F>0){B=o+Math[d.alignRoundingMethod](F/2)}}else if(u){B=i(0,G-B-H.props[j])}}H.setProp(m,B)}return true},onBeforeConstrainInvalidateChild:function(a,b){var c=b.names.heightModel;if(!a[c].constrainedMin){a[c]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(a,b){var c=b.names;a.setProp(c.beforeY,0);if(a[c.heightModel].calculated){a[c.setHeight](b.childHeight)}},calculateStretchMax:function(a,b,c){var d=this,e=b.height,f=b.width,g=a.childItems,h=g.length,i=c.maxSize,j=d.onBeforeStretchMaxInvalidateChild,k=d.onAfterStretchMaxInvalidateChild,l,m,n,o;for(n=0;n<h;++n){l=g[n];m=l.props;o=i-l.getMarginInfo()[e];if(o!=m[e]||l[b.heightModel].constrained){l.invalidate({before:j,after:k,layout:d,childWidth:m[f],childHeight:o,childX:m.x,childY:m.y,names:b})}}},onBeforeStretchMaxInvalidateChild:function(a,b){var c=b.names.heightModel;if(!a[c].constrainedMax){a[c]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(a,b){var c=b.names,d=b.childHeight,e=b.childWidth;a.setProp("x",b.childX);a.setProp("y",b.childY);if(a[c.heightModel].calculated){a[c.setHeight](d)}if(a[c.widthModel].calculated){a[c.setWidth](e)}},completeLayout:function(a){var b=this,c=a.boxNames,d=a.invalidateScrollX,e=a.invalidateScrollY,f,g,h,i,j;b.overflowHandler.completeLayout(a);if(d||e){g=b.getTarget();f=g.dom;j=f.style;if(d){h=g.getStyle("overflowX");if(h=="auto"){h=j.overflowX;j.overflowX="scroll"}else{d=false}}if(e){i=g.getStyle("overflowY");if(i=="auto"){i=j.overflowY;j.overflowY="scroll"}else{e=false}}if(d||e){f.scrollWidth;if(d){j.overflowX=h}if(e){j.overflowY=i}}}if(b.scrollParallel){b.owner.getTargetEl().dom[c.scrollLeft]=b.scrollPos}},finishedLayout:function(a){this.overflowHandler.finishedLayout(a);this.callParent(arguments);this.targetEl.setWidth(a.innerCtContext.props.width)},publishInnerCtSize:function(a,b){var c=this,d=a.boxNames,e=d.height,f=d.width,g=a.boxOptions.align,h=c.owner.dock,i=c.padding,j=a.state.boxPlan,k=j.targetSize,l=k[e],m=a.innerCtContext,n=(a.parallelSizeModel.shrinkWrap||j.tooNarrow&&c.scrollParallel?a.state.contentWidth-a.targetContext.getPaddingInfo()[f]:k[f])-(b||0),o;if(g.stretch){o=l}else{o=j.maxSize+i[d.beforeY]+i[d.afterY]+m.getBorderInfo()[e];if(!a.perpendicularSizeModel.shrinkWrap&&(g.center||g.bottom)){o=Math.max(l,o)}}m[d.setWidth](n);m[d.setHeight](o);if(isNaN(n+o)){c.done=false}if(j.calculatedWidth&&(h=="left"||h=="right")){a.setWidth(j.calculatedWidth,true,true)}},onRemove:function(a){var b=this;b.callParent(arguments);if(b.overflowHandler){b.overflowHandler.onRemove(a)}if(a.layoutMarginCap==b.id){delete a.layoutMarginCap}},initOverflowHandler:function(){var a=this,b=a.overflowHandler,c,d;if(typeof b=="string"){b={type:b}}c="None";if(b&&b.type!==undefined){c=b.type}d=Ext.layout.container.boxOverflow[c];if(d[a.type]){d=d[a.type]}a.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+c,a,b)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.callParent(arguments)},getRenderData:function(){var a=this.callParent();a.targetElCls=this.targetElCls;return a}});Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:false,type:"hbox",direction:"horizontal",horizontal:true,names:{beforeX:"left",beforeScrollX:"left",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}});Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:false,type:"vbox",direction:"vertical",horizontal:false,names:{beforeX:"top",beforeScrollX:"top",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}});Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:false,enableOverflow:false,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this;if(!a.layout&&a.enableOverflow){a.layout={overflowHandler:"Menu"}}if(a.dock==="right"||a.dock==="left"){a.vertical=true}a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?"vbox":"hbox",align:a.vertical?"stretchmax":"middle"});if(a.vertical){a.addClsWithUI("vertical")}if(a.ui==="footer"){a.ignoreBorderManagement=true}a.callParent();a.addEvents("overflowchange")},getRefItems:function(a){var b=this,c=b.callParent(arguments),d=b.layout,e;if(a&&b.enableOverflow){e=d.overflowHandler;if(e&&e.menu){c=c.concat(e.menu.getRefItems(a))}}return c},lookupComponent:function(a){var b=arguments;if(typeof a=="string"){var c=Ext.toolbar.Toolbar,d=c.shortcutsHV[this.vertical?1:0][a]||c.shortcuts[a];if(typeof d=="string"){a={xtype:d}}else if(d){a=Ext.apply({},d)}else{a={xtype:"tbtext",text:a}}this.applyDefaults(a);b=[a]}return this.callParent(b)},applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments)}return a},trackMenu:function(a,b){if(this.trackMenus&&a.menu){var c=b?"mun":"mon",d=this;d[c](a,"mouseover",d.onButtonOver,d);d[c](a,"menushow",d.onButtonMenuShow,d);d[c](a,"menuhide",d.onButtonMenuHide,d)}},onBeforeAdd:function(a){var b=this,c=a.isButton;if(c&&b.defaultButtonUI&&a.ui==="default"&&!a.hasOwnProperty("ui")){a.ui=b.defaultButtonUI}else if((c||a.isFormField)&&b.ui!=="footer"){a.ui=a.ui+"-toolbar";a.addCls(a.baseCls+"-toolbar")}if(a instanceof Ext.toolbar.Separator){a.setUI(b.vertical?"vertical":"horizontal")}b.callParent(arguments)},onAdd:function(a){this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,true)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}});Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var a=this,b,c;a.callParent();b=a.getRenderTarget();c=a.getDockedItems();a.finishRenderItems(b,c)},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var a=this,b=a.owner,c,d,e=a.lastDockedItems,f=a.borders,g=b.dockedItems.generation,h=a.noBorderClassesSides,i=a.borderWidthProps,j,k,l,m,n,o=a.collapsed;if(a.initializedBorders==g||b.border&&!b.manageBodyBorders){return}a.initializedBorders=g;a.collapsed=false;a.lastDockedItems=d=a.getLayoutItems();a.collapsed=o;c={top:[],right:[],bottom:[],left:[]};for(j=0,k=d.length;j<k;j++){l=d[j];m=l.dock;if(l.ignoreBorderManagement){continue}if(!c[m].satisfied){c[m].push(l);c[m].satisfied=true}if(!c.top.satisfied&&m!=="bottom"){c.top.push(l)}if(!c.right.satisfied&&m!=="left"){c.right.push(l)}if(!c.bottom.satisfied&&m!=="top"){c.bottom.push(l)}if(!c.left.satisfied&&m!=="right"){c.left.push(l)}}if(e){for(j=0,k=e.length;j<k;j++){l=e[j];if(!l.isDestroyed&&!l.ignoreBorderManagement&&!b.manageBodyBorders){l.removeCls(a.noBorderClasses)}}}if(f){for(n in f){if(b.manageBodyBorders&&f[n].satisfied){b.setBodyStyle(i[n],"")}}}for(n in c){k=c[n].length;if(!b.manageBodyBorders){for(j=0;j<k;j++){c[n][j].addCls(h[n])}if(!c[n].satisfied&&!b.bodyBorder||b.bodyBorder===false){b.addBodyCls(h[n])}}else if(c[n].satisfied){b.setBodyStyle(i[n],"1px")}}a.borders=c},beforeLayoutCycle:function(a){var b=this,c=b.owner,d=b.sizeModels.shrinkWrap,e=c.shrinkWrapDock,f,g;if(c.collapsed){if(c.collapsedVertical()){g=true;a.measureDimensions=1}else{f=true;a.measureDimensions=2}}a.collapsedVert=g;a.collapsedHorz=f;if(g){a.heightModel=d}else if(f){a.widthModel=d}e=e===true?3:e||0;a.shrinkWrapDockHeight=e&1&&a.heightModel.shrinkWrap;a.shrinkWrapDockWidth=e&2&&a.widthModel.shrinkWrap},beginLayout:function(a){var b=this,c=b.owner,d=b.getLayoutItems(),e=a.context,f=d.length,g,h,i,j,k,l,m;b.callParent(arguments);l=c.getCollapsed();if(l!==b.lastCollapsedState&&Ext.isDefined(b.lastCollapsedState)){if(b.owner.collapsed){a.isCollapsingOrExpanding=1;c.addClsWithUI(c.collapsedCls)}else{a.isCollapsingOrExpanding=2;c.removeClsWithUI(c.collapsedCls);a.lastCollapsedState=b.lastCollapsedState}}b.lastCollapsedState=l;a.dockedItems=g=[];for(h=0;h<f;h++){i=d[h];if(i.rendered){m=i.dock;j=e.getCmp(i);j.dockedAt={x:0,y:0};j.offsets=k=Ext.Element.parseBox(i.offsets||0);j.horizontal=m=="top"||m=="bottom";k.width=k.left+k.right;k.height=k.top+k.bottom;g.push(j)}}a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=this,c=a.dockedItems,d=c.length,e=b.owner,f=e.frameBody,g=b.lastHeightModel,h,i,j;b.callParent(arguments);if(b.owner.manageHeight){if(b.lastBodyDisplay){e.body.dom.style.display=b.lastBodyDisplay=""}}else{if(b.lastBodyDisplay!=="inline-block"){e.body.dom.style.display=b.lastBodyDisplay="inline-block"}if(g&&g.shrinkWrap&&!a.heightModel.shrinkWrap){e.body.dom.style.marginBottom=""}}if(a.widthModel.auto){if(a.widthModel.shrinkWrap){e.el.setWidth(null)}e.body.setWidth(null);if(f){f.setWidth(null)}}if(a.heightModel.auto){e.body.setHeight(null);if(f){f.setHeight(null)}}if(a.collapsedVert){a.setContentHeight(0)}else if(a.collapsedHorz){a.setContentWidth(0)}for(h=0;h<d;h++){i=c[h].target;j=i.dock;if(j=="right"){i.setLocalX(0)}else if(j!="left"){continue}}},calculate:function(a){var b=this,c=b.measureAutoDimensions(a,a.measureDimensions),d=a.state,e=d.horzDone,f=d.vertDone,g=a.bodyContext,h,i,j,k,l;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.frameInfo||a.getFrameInfo();g.borderInfo||g.getBorderInfo();g.paddingInfo||g.getPaddingInfo();if(!a.frameBorder){if(!(h=a.framing)){a.frameBorder=a.borderInfo;a.framePadding=a.paddingInfo}else{a.frameBorder=h.border;a.framePadding=h.padding}}i=!e&&b.createAxis(a,c.contentWidth,a.widthModel,b.horzAxisProps,a.collapsedHorz);j=!f&&b.createAxis(a,c.contentHeight,a.heightModel,b.vertAxisProps,a.collapsedVert);for(k=0,l=a.dockedItems.length;l--;++k){if(i){b.dockChild(a,i,l,k)}if(j){b.dockChild(a,j,l,k)}}if(i&&b.finishAxis(a,i)){d.horzDone=e=i}if(j&&b.finishAxis(a,j)){d.vertDone=f=j}if(e&&f&&b.finishConstraints(a,e,f)){b.finishPositions(a,e,f)}else{b.done=false}},createAxis:function(a,b,c,d,e){var f=this,g=0,h=f.owner,i=h[d.maxSize],j=h[d.minSize]||0,k=d.dockBegin,l=d.dockEnd,m=d.pos,n=d.size,o=i!=null,p=c.shrinkWrap,q,r,s,t;if(p){if(e){t=0}else{q=a.bodyContext;t=b+q.borderInfo[n]}}else{r=a.frameBorder;s=a.framePadding;g=r[k]+s[k];t=a.getProp(n)-(r[l]+s[l])}return{shrinkWrap:c.shrinkWrap,sizeModel:c,initialBegin:g,begin:g,end:t,collapsed:e,horizontal:d.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:t-g,maxChildSize:0,hasMinMaxConstraints:(j||o)&&c.shrinkWrap,minSize:j,maxSize:o?i:1e9,bodyPosProp:f.owner.manageHeight?m:d.marginBegin,dockBegin:k,dockEnd:l,posProp:m,sizeProp:n,setSize:d.setSize,shrinkWrapDock:a[d.shrinkWrapDock],sizeModelName:d.sizeModel,dockedPixelsEnd:0}},dockChild:function(a,b,c,d){var e=this,f=a.dockedItems[b.shrinkWrap?c:d],g=f.target,h=g.dock,i=b.sizeProp,j,k;if(g.ignoreParentFrame&&a.isCollapsingOrExpanding){f.clearMarginCache()}f.marginInfo||f.getMarginInfo();if(h==b.dockBegin){if(b.shrinkWrap){j=e.dockOutwardBegin(a,f,g,b)}else{j=e.dockInwardBegin(a,f,g,b)}}else if(h==b.dockEnd){if(b.shrinkWrap){j=e.dockOutwardEnd(a,f,g,b)}else{j=e.dockInwardEnd(a,f,g,b)}}else{if(b.shrinkWrapDock){k=f.getProp(i)+f.marginInfo[i];b.maxChildSize=Math.max(b.maxChildSize,k);j=0}else{j=e.dockStretch(a,f,g,b)}}f.dockedAt[b.posProp]=j},dockInwardBegin:function(a,b,c,d){var e=d.begin,f=d.sizeProp,g=c.ignoreParentFrame,h,i,j;if(g){d.ignoreFrameBegin=b;j=c.dock;h=a.frameBorder[j];e-=h+a.framePadding[j]}if(!c.overlay){i=b.getProp(f)+b.marginInfo[f];d.begin+=i;if(g){d.begin-=h}}return e},dockInwardEnd:function(a,b,c,d){var e=d.sizeProp,f=b.getProp(e)+b.marginInfo[e],g=d.end-f,h;if(!c.overlay){d.end=g}if(c.ignoreParentFrame){d.ignoreFrameEnd=b;h=a.frameBorder[c.dock];g+=h+a.framePadding[c.dock];d.end+=h}return g},dockOutwardBegin:function(a,b,c,d){var e=d.begin,f=d.sizeProp,g;if(d.collapsed){d.ignoreFrameBegin=d.ignoreFrameEnd=b}else if(c.ignoreParentFrame){d.ignoreFrameBegin=b}if(!c.overlay){g=b.getProp(f)+b.marginInfo[f];e-=g;d.begin=e}return e},dockOutwardEnd:function(a,b,c,d){var e=d.end,f=d.sizeProp,g;g=b.getProp(f)+b.marginInfo[f];if(d.collapsed){d.ignoreFrameBegin=d.ignoreFrameEnd=b}else if(c.ignoreParentFrame){d.ignoreFrameEnd=b}if(!c.overlay){d.end=e+g;d.dockedPixelsEnd+=g}return e},dockStretch:function(a,b,c,d){var e=c.dock,f=d.sizeProp,g=e=="top"||e=="bottom",h=a.frameBorder,i=b.offsets,j=a.framePadding,k=g?"right":"bottom",l=g?"left":"top",m=d.begin+i[l],n,o;if(c.stretch!==false){o=d.end-m-i[k];if(c.ignoreParentFrame){m-=j[l]+h[l];o+=j[f]+h[f]}n=b.marginInfo;o-=n[f];b[d.setSize](o)}return m},finishAxis:function(a,b){if(isNaN(b.maxChildSize)){return false}var c=b.begin,d=b.end-c,e=b.collapsed,f=b.setSize,g=b.dockBegin,h=b.dockEnd,i=a.framePadding,j=a.frameBorder,k=j[g],l=a.framing,m=l&&l[g],n=e?0:i[g],o=b.sizeProp,p=b.ignoreFrameBegin,q=b.ignoreFrameEnd,r=a.bodyContext,s=Math.max(k+n-m,0),t,u,v,w;if(b.shrinkWrap){u=b.initialSize;if(l){v=-c+k+n;t=v-m-s}else{t=-c;v=t+n}if(!e){d+=i[o]}if(p){v-=k;t-=k;p.dockedAt[b.posProp]-=n}else{d+=k}if(e){}else if(q){q.dockedAt[b.posProp]+=i[h]}else{d+=j[h]}b.size=d;if(!b.horizontal&&!this.owner.manageHeight){w=false}}else{if(l){v=0;t=c-m-s}else{v=-k;t=c-n-k}u=d}b.delta=v;r[f](u,w);r.setProp(b.bodyPosProp,t);return!isNaN(d)},beforeInvalidateShrinkWrapDock:function(a,b){var c=b.axis.sizeModelName;if(!a[c].constrainedMin){a[c]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(a,b){var c=b.axis,d=b.layout,e;if(a[c.sizeModelName].calculated){e=d.dockStretch(b.ownerContext,a,a.target,c);a.setProp(c.posProp,c.delta+e)}},finishConstraints:function(a,b,c){var d=this,e=d.sizeModels,f=b.shrinkWrap,g=c.shrinkWrap,h=d.owner,i,j,k,l,m,n,o,p,q,r;if(f){n=b.size;o=b.collapsed?0:b.minSize;p=b.maxSize;q=b.maxChildSize;r=Math.max(n,q);if(r>p){m=e.constrainedMax;k=p}else if(r<o){m=e.constrainedMin;k=o}else if(n<q){m=e.constrainedDock;h.dockConstrainedWidth=k=q}else{k=n}}if(g){n=c.size;o=c.collapsed?0:c.minSize;p=c.maxSize;q=c.maxChildSize;r=Math.max(n,q+n-c.initialSize);if(r>p){l=e.constrainedMax;j=p}else if(r<o){l=e.constrainedMin;j=o}else if(n<q){l=e.constrainedDock;h.dockConstrainedHeight=j=q}else{if(!a.collapsedVert&&!h.manageHeight){i=false;a.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)}j=n}}if(m||l){if(m&&l&&m.constrainedMax&&l.constrainedByMin){a.invalidate({widthModel:m});return false}if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap){a.invalidate({widthModel:m,heightModel:l});return false}}else{d.invalidateAxes(a,b,c)}if(f){a.setWidth(k);if(m){a.widthModel=m}}if(g){a.setHeight(j,i);if(l){a.heightModel=l}}return true},invalidateAxes:function(a,b,c){var d=this.beforeInvalidateShrinkWrapDock,e=this.afterInvalidateShrinkWrapDock,f=b.end-b.begin,g=c.initialSize,h=b.shrinkWrapDock&&b.maxChildSize<f,i=c.shrinkWrapDock&&c.maxChildSize<g,j,k,l,m,n,o,p,q;if(h||i){if(i){c.begin=c.initialBegin;c.end=c.begin+c.initialSize}j=a.dockedItems;for(l=0,k=j.length;l<k;++l){m=j[l];o=m.horizontal;p=null;if(h&&o){q=b.sizeProp;n=f;p=b}else if(i&&!o){q=c.sizeProp;n=g;p=c}if(p){n-=m.getMarginInfo()[q];if(n!==m.props[q]){m.invalidate({before:d,after:e,axis:p,ownerContext:a,layout:this})}}}}},finishPositions:function(a,b,c){var d=a.dockedItems,e=d.length,f=b.delta,g=c.delta,h,i;for(h=0;h<e;++h){i=d[h];i.setProp("x",f+i.dockedAt.x);i.setProp("y",g+i.dockedAt.y)}},finishedLayout:function(a){var b=this,c=a.target;b.callParent(arguments);if(!a.animatePolicy){if(a.isCollapsingOrExpanding===1){c.afterCollapse(false)}else if(a.isCollapsingOrExpanding===2){c.afterExpand(false)}}},getAnimatePolicy:function(a){var b=this,c,d;if(a.isCollapsingOrExpanding==1){c=b.lastCollapsedState}else if(a.isCollapsingOrExpanding==2){c=a.lastCollapsedState}if(c=="left"||c=="right"){d=b.horizontalCollapsePolicy}else if(c=="top"||c=="bottom"){d=b.verticalCollapsePolicy}return d},getDockedItems:function(a,b){var c=this,d=a==="visual",e=d?Ext.ComponentQuery.query("[rendered]",c.owner.dockedItems.items):c.owner.dockedItems.items,f=e&&e.length&&a!==false,g,h,i,j,k,l;if(b==null){i=f&&!d?e.slice():e}else{i=[];for(j=0,l=e.length;j<l;++j){h=e[j].dock;k=h=="top"||h=="left";if(b?k:!k){i.push(e[j])}}f=f&&i.length}if(f){g=(a=a||"render")=="render";Ext.Array.sort(i,function(b,d){var e,f;if(g&&(e=c.owner.dockOrder[b.dock])!==(f=c.owner.dockOrder[d.dock])){if(!(e+f)){return e-f}}e=c.getItemWeight(b,a);f=c.getItemWeight(d,a);if(e!==undefined&&f!==undefined){return e-f}return 0})}return i||[]},getItemWeight:function(a,b){var c=a.weight||this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var a=this,b,c,d,e,f;if(a.owner.collapsed){f=a.owner.getCollapsedDockedItems()}else{b=a.getDockedItems("visual");c=b.length;f=[];for(e=0;e<c;e++){d=b[e];if(!d.hidden){f.push(d)}}}return f},measureContentWidth:function(a){var b=a.bodyContext;return b.el.getWidth()-b.getBorderInfo().width},measureContentHeight:function(a){var b=a.bodyContext;return b.el.getHeight()-b.getBorderInfo().height},redoLayout:function(a){var b=this,c=b.owner;if(a.isCollapsingOrExpanding==1){if(c.reExpander){c.reExpander.el.show()}c.addClsWithUI(c.collapsedCls);a.redo(true)}else if(a.isCollapsingOrExpanding==2){c.removeClsWithUI(c.collapsedCls);a.bodyContext.redo()}},renderChildren:function(){var a=this,b=a.getDockedItems(),c=a.getRenderTarget();a.handleItemBorders();a.renderItems(b,c)},renderItems:function(a,b){var c=this,d=a.length,e=0,f=0,g=0,h=c.getRenderTarget().dom.childNodes,i=h.length,j,k,l,m;for(j=0,k=0;j<i;j++){l=h[j];if(Ext.fly(l).hasCls(Ext.baseCSSPrefix+"resizable-handle")){break}for(k=0;k<d;k++){m=a[k];if(m.rendered&&m.el.dom===l){break}}if(k===d){g++}}for(;e<d;e++,f++){m=a[e];if(e===f&&(m.dock==="right"||m.dock==="bottom")){f+=g}if(m&&!m.rendered){c.renderItem(m,b,f)}else if(!c.isValidParent(m,b,f)){c.moveItem(m,b,f)}}},undoLayout:function(a){var b=this,c=b.owner;if(a.isCollapsingOrExpanding==1){if(c.reExpander){c.reExpander.el.hide()}c.removeClsWithUI(c.collapsedCls);a.undo(true)}else if(a.isCollapsingOrExpanding==2){c.addClsWithUI(c.collapsedCls);a.bodyContext.undo()}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(a,b){var c=this,d=c.sizePolicy,e=c.owner.shrinkWrapDock,f,g;if(a.stretch===false){return d.nostretch}f=a.dock;g=f=="left"||f=="right";e=e===true?3:e||0;if(g){d=d.vert;e=e&1}else{d=d.horz;e=e&2}if(e){if(!b){b=c.owner.getSizeModel()}if(b[g?"height":"width"].shrinkWrap){return d.shrinkWrap}}return d.stretch},configureItem:function(a,b){this.callParent(arguments);a.addCls(Ext.baseCSSPrefix+"docked");a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+a},afterRemove:function(a){this.callParent(arguments);if(this.itemCls){a.el.removeCls(this.itemCls+"-"+a.dock)}var b=a.el.dom;if(!a.destroying&&b){b.parentNode.removeChild(b)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var a=this,b=a.borderCollapseMap,c=a.owner,d=c.baseCls,e=c.ui,f;b=b[d]||(b[d]={});f=b[e];if(!f){d+="-"+e+"-outer-border-";b[e]=f=[0,d+"l",d+"b",d+"bl",d+"r",d+"rl",d+"rb",d+"rbl",d+"t",d+"tl",d+"tb",d+"tbl",d+"tr",d+"trl",d+"trb",d+"trbl"]}return f}});Ext.define("Ext.panel.AbstractPanel",{extend:Ext.container.Container,mixins:{docking:Ext.container.DockingContainer},baseCls:Ext.baseCSSPrefix+"panel",isPanel:true,contentPaddingProperty:"bodyPadding",shrinkWrapDock:false,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE7m||Ext.isIEQuirks?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:true,emptyArray:[],initComponent:function(){this.initBorderProps();
this.callParent()},initBorderProps:function(){var a=this;if(a.frame&&a.border&&a.bodyBorder===undefined){a.bodyBorder=false}if(a.frame&&a.border&&(a.bodyBorder===false||a.bodyBorder===0)){a.manageBodyBorders=true}},beforeDestroy:function(){this.destroyDockedItems();this.callParent()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var a=this,b=a.callParent();a.initBodyStyles();a.protoBody.writeTo(b);delete a.protoBody;return b},getComponent:function(a){var b=this.callParent(arguments);if(b===undefined&&!Ext.isNumber(a)){b=this.getDockedComponent(a)}return b},getProtoBody:function(){var a=this,b=a.protoBody;if(!b){a.protoBody=b=new Ext.util.ProtoElement({cls:a.bodyCls,style:a.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return b},initBodyStyles:function(){var a=this,b=a.getProtoBody();if(a.bodyPadding!==undefined){if(a.layout.managePadding){b.setStyle("padding",0)}else{b.setStyle("padding",this.unitizeBox(a.bodyPadding===true?5:a.bodyPadding))}}a.initBodyBorder()},initBodyBorder:function(){var a=this;if(a.frame&&a.bodyBorder){if(!Ext.isNumber(a.bodyBorder)){a.bodyBorder=1}a.getProtoBody().setStyle("border-width",this.unitizeBox(a.bodyBorder))}},getCollapsedDockedItems:function(){var a=this;return a.header===false||a.collapseMode=="placeholder"?a.emptyArray:[a.getReExpander()]},setBodyStyle:function(a,b){var c=this,d=c.rendered?c.body:c.getProtoBody();if(Ext.isFunction(a)){a=a()}if(arguments.length==1){if(Ext.isString(a)){a=Ext.Element.parseStyles(a)}d.setStyle(a)}else{d.setStyle(a,b)}return c},addBodyCls:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();c.addCls(a);return b},removeBodyCls:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();c.removeCls(a);return b},addUIClsToElement:function(a){var b=this,c=b.callParent(arguments);b.addBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]);return c},removeUIClsFromElement:function(a){var b=this,c=b.callParent(arguments);b.removeBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]);return c},addUIToElement:function(){var a=this;a.callParent(arguments);a.addBodyCls(a.baseCls+"-body-"+a.ui)},removeUIFromElement:function(){var a=this;a.callParent(arguments);a.removeBodyCls(a.baseCls+"-body-"+a.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)}});Ext.define("Ext.panel.Header",{extend:Ext.container.Container,alias:"widget.header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var a=this,b=a.hasOwnProperty("titlePosition"),c=a.items,d=b?a.titlePosition:c?c.length:0,e=[a.orientation,a.getDockName()],f=a.ownerCt;a.addEvents("click","dblclick");a.indicateDragCls=a.headerCls+"-draggable";a.title=a.title||"&#160;";a.tools=a.tools||[];c=a.items=c?Ext.Array.slice(c):[];a.orientation=a.orientation||"horizontal";a.dock=a.dock?a.dock:a.orientation=="horizontal"?"top":"left";if(f?!f.border&&!f.frame:!a.border){e.push(a.orientation+"-noborder")}a.addClsWithUI(e);a.addCls([a.headerCls,a.headerCls+"-"+a.orientation]);if(a.indicateDrag){a.addCls(a.indicateDragCls)}if(a.iconCls||a.icon||a.glyph){a.initIconCmp();if(!b&&!c.length){++d}c.push(a.iconCmp)}a.titleCmp=new Ext.Component({ariaRole:"heading",focusable:false,noWrap:true,flex:1,rtl:a.rtl,id:a.id+"_hd",style:a.titleAlign?"text-align:"+a.titleAlign:"",cls:a.headerCls+"-text-container "+a.baseCls+"-text-container "+a.baseCls+"-text-container-"+a.ui,renderTpl:a.getTpl("headingTpl"),renderData:{title:a.title,cls:a.baseCls,headerCls:a.headerCls,ui:a.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:a.onTitleRender,scope:a}});a.layout=a.orientation=="vertical"?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"};Ext.Array.push(c,a.tools);a.tools.length=0;a.callParent();if(c.length<d){d=c.length}a.titlePosition=d;a.insert(d,a.titleCmp);a.on({dblclick:a.onDblClick,click:a.onClick,element:"el",scope:a})},initIconCmp:function(){var a=this,b=[a.headerCls+"-icon",a.baseCls+"-icon",a.iconCls],c;if(a.glyph){b.push(a.baseCls+"-glyph")}c={focusable:false,src:Ext.BLANK_IMAGE_URL,cls:b,baseCls:a.baseCls+"-icon",id:a.id+"-iconEl",iconCls:a.iconCls,glyph:a.glyph};if(!Ext.isEmpty(a.icon)){delete c.iconCls;c.src=a.icon}a.iconCmp=new Ext.Img(c)},beforeRender:function(){this.protoEl.unselectable();this.callParent()},afterLayout:function(){var a=this,b,c,d,e;if(a.orientation==="vertical"){a.adjustTitlePosition();c=a.frameTR;if(c){b=a.frameBR;d=a.frameTL;e=a.getWidth()-c.getPadding("r")-(d?d.getPadding("l"):a.el.getBorderWidth("l"))+"px";b.setStyle("background-position-x",e);c.setStyle("background-position-x",e)}if(Ext.isIE7&&Ext.isStrict&&a.frame){a.el.repaint()}}},beforeLayout:function(){this.callParent();this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var a=this.titleCmp,b;if(!Ext.isIE9m&&a){b=a.el;b.setStyle("left",b.getWidth()+"px")}},onTitleRender:function(){if(this.orientation==="vertical"){this.titleCmp.el.setVertical(90)}},addUIClsToElement:function(a){var b=this,c=b.callParent(arguments),d=[b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a],e,f;if(b.bodyCls){e=b.bodyCls.split(" ");for(f=0;f<d.length;f++){if(!Ext.Array.contains(e,d[f])){e.push(d[f])}}b.bodyCls=e.join(" ")}else{b.bodyCls=d.join(" ")}return c},removeUIClsFromElement:function(a){var b=this,c=b.callParent(arguments),d=[b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a],e,f;if(b.bodyCls){e=b.bodyCls.split(" ");for(f=0;f<d.length;f++){Ext.Array.remove(e,d[f])}b.bodyCls=e.join(" ")}return c},addUIToElement:function(){var a=this,b,c;a.callParent(arguments);c=a.baseCls+"-body-"+a.ui;if(a.rendered){if(a.bodyCls){a.body.addCls(a.bodyCls)}else{a.body.addCls(c)}}else{if(a.bodyCls){b=a.bodyCls.split(" ");if(!Ext.Array.contains(b,c)){b.push(c)}a.bodyCls=b.join(" ")}else{a.bodyCls=c}}if(a.titleCmp&&a.titleCmp.rendered){a.titleCmp.addCls(a.baseCls+"-text-container-"+a.ui)}},removeUIFromElement:function(){var a=this,b,c;a.callParent(arguments);c=a.baseCls+"-body-"+a.ui;if(a.rendered){if(a.bodyCls){a.body.removeCls(a.bodyCls)}else{a.body.removeCls(c)}}else{if(a.bodyCls){b=a.bodyCls.split(" ");Ext.Array.remove(b,c);a.bodyCls=b.join(" ")}else{a.bodyCls=c}}if(a.titleCmp&&a.titleCmp.rendered){a.titleCmp.removeCls(a.baseCls+"-text-container-"+a.ui)}},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(a,b){var c="."+Ext.panel.Tool.prototype.baseCls;if(!b.getTarget(c)){this.fireEvent(a,this,b)}},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(a){this.bodyTargetCls=a},setTitle:function(a){var b=this,c=b.titleCmp;b.title=a;if(c.rendered){c.textEl.update(b.title||"&#160;");c.updateLayout()}else{b.titleCmp.on({render:function(){b.setTitle(a)},single:true})}},getMinWidth:function(){var a=this,b=a.titleCmp.textEl.dom,c,d=a.tools,e,f;b.style.display="inline";c=b.offsetWidth;b.style.display="";if(d&&(e=d.length)){for(f=0;f<e;f++){if(d[f].el){c+=d[f].el.dom.offsetWidth}}}if(a.iconCmp){c+=a.iconCmp.el.dom.offsetWidth}return c+10},setIconCls:function(a){var b=this,c=!a||!a.length,d=b.iconCmp;b.iconCls=a;if(!b.iconCmp&&!c){b.initIconCmp();b.insert(0,b.iconCmp)}else if(d){if(c){b.iconCmp.destroy();delete b.iconCmp}else{d.removeCls(d.iconCls);d.addCls(a);d.iconCls=a}}},setIcon:function(a){var b=this,c=!a||!a.length,d=b.iconCmp;b.icon=a;if(!b.iconCmp&&!c){b.initIconCmp();b.insert(0,b.iconCmp)}else if(d){if(c){b.iconCmp.destroy();delete b.iconCmp}else{d.setSrc(b.icon)}}},setGlyph:function(a){var b=this,c=b.iconCmp;if(!b.iconCmp){b.initIconCmp();b.insert(0,b.iconCmp)}else if(c){if(a){b.iconCmp.setGlyph(a)}else{b.iconCmp.destroy();delete b.iconCmp}}},getTools:function(){return this.tools.slice()},addTool:function(a){this.add(Ext.ComponentManager.create(a,"tool"))},syncBeforeAfterTitleClasses:function(){var a=this,b=a.items,c=b.items,d=a.titlePosition,e=c.length,f=b.generation,g=a.syncBeforeAfterGen,h,i,j,k;if(g===f){return}a.syncBeforeAfterGen=f;for(j=0;j<e;++j){k=c[j];h=k.afterTitleCls||(k.afterTitleCls=k.baseCls+"-after-title");i=k.beforeTitleCls||(k.beforeTitleCls=k.baseCls+"-before-title");if(!a.title||j<d){if(g){k.removeCls(h)}k.addCls(i)}else if(j>d){if(g){k.removeCls(i)}k.addCls(h)}}},onAdd:function(a,b){var c=this.tools;this.callParent(arguments);if(a.isTool){c.push(a);c[a.type]=a}},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var a=this,b=a.callParent(),c=a.ownerCt;if(!a.expanding&&(c&&c.collapsed)||a.isCollapsedExpander){b+="-"+c.collapsedCls}return b+"-"+a.dock}});Ext.define("Ext.dd.DragDrop",{constructor:function(a,b,c){if(a){this.init(a,b,c)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(a,b,c){if(Ext.isNumber(b)){b={left:b,right:b,top:b,bottom:b}}b=b||this.defaultPadding;var d=Ext.get(this.getEl()).getBox(),e=Ext.get(a),f=e.getScroll(),g,h=e.dom,i,j,k;if(h==document.body){g={x:f.left,y:f.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}}else{i=e.getXY();g={x:i[0],y:i[1],width:h.clientWidth,height:h.clientHeight}}j=d.y-g.y;k=d.x-g.x;this.resetConstraints();this.setXConstraint(k-(b.left||0),g.width-k-d.width-(b.right||0),this.xTickSize);this.setYConstraint(j-(b.top||0),g.height-j-d.height-(b.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,b,c){this.initTarget(a,b,c);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof a!=="string"){a=Ext.id(a)}this.id=a;this.addToGroup(b?b:"default");this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==false;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==false},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){if(!b&&0!==b){this.padding=[a,a,a,a]}else if(!c&&0!==c){this.padding=[a,b,a,b]}else{this.padding=[a,b,c,d]}},setInitPosition:function(a,b){var c=this.getEl(),d,e,f;if(!this.DDMInstance.verifyEl(c)){return}d=a||0;e=b||0;f=Ext.Element.getXY(c);this.initPageX=f[0]-d;this.initPageY=f[1]-e;this.lastPageX=f[0];this.lastPageY=f[1];this.setStartPosition(f)},setStartPosition:function(a){var b=a||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=b[0];this.startPageY=b[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a,b){var c=this;if(c.primaryButtonOnly&&a.button!=0||c.isLocked()){return}c.DDMInstance.refreshCache(c.groups);if(c.hasOuterHandles||c.DDMInstance.isOverTarget(a.getPoint(),c)){if(c.clickValidator(a)){c.setStartPosition();c.b4MouseDown(a);c.onMouseDown(a);c.DDMInstance.handleMouseDown(a,c);c.DDMInstance.stopEvent(a)}}},clickValidator:function(a){var b=a.getTarget();return this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(b,this.id))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;b<c;++b){if(this.invalidHandleClasses[b]==a){delete this.invalidHandleClasses[b]}}},isValidHandleChild:function(a){var b=true,c,d,e;try{c=a.nodeName.toUpperCase()}catch(f){c=a.nodeName}b=b&&!this.invalidHandleTypes[c];b=b&&!this.invalidHandleIds[a.id];for(d=0,e=this.invalidHandleClasses.length;b&&d<e;++d){b=!Ext.fly(a).hasCls(this.invalidHandleClasses[d])}return b},setXTicks:function(a,b){this.xTicks=[];this.xTickSize=b;var c={},d;for(d=this.initPageX;d>=this.minX;d=d-b){if(!c[d]){this.xTicks[this.xTicks.length]=d;c[d]=true}}for(d=this.initPageX;d<=this.maxX;d=d+b){if(!c[d]){this.xTicks[this.xTicks.length]=d;c[d]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;var c={},d;for(d=this.initPageY;d>=this.minY;d=d-b){if(!c[d]){this.yTicks[this.yTicks.length]=d;c[d]=true}}for(d=this.initPageY;d<=this.maxY;d=d+b){if(!c[d]){this.yTicks[this.yTicks.length]=d;c[d]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;if(c){this.setXTicks(this.initPageX,c)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=a;this.bottomConstraint=b;this.minY=this.initPageY-a;this.maxY=this.initPageY+b;if(c){this.setYTicks(this.initPageY,c)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=this.maintainOffset?this.lastPageX-this.initPageX:0,b=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(a,b){if(!b){return a}else if(b[0]>=a){return b[0]}else{var c,d,e,f,g;for(c=0,d=b.length;c<d;++c){e=c+1;if(b[e]&&b[e]>=a){f=a-b[c];g=b[e]-a;return g>f?b[c]:b[e]}}return b[b.length-1]}},toString:function(){return"DragDrop "+this.id}});Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(a,b,c){if(a){this.init(a,b,c)}},scroll:true,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){var d=this.getTargetCoord(b,c),e=a.dom?a:Ext.fly(a,"_dd"),f=e.getSize(),g=Ext.Element,h,i,j,k;if(!this.deltaSetXY){h=this.cachedViewportSize={width:g.getDocumentWidth(),height:g.getDocumentHeight()};i=[Math.max(0,Math.min(d.x,h.width-f.width)),Math.max(0,Math.min(d.y,h.height-f.height))];e.setXY(i);j=this.getLocalX(e);k=e.getLocalY();this.deltaSetXY=[j-d.x,k-d.y]}else{h=this.cachedViewportSize;this.setLocalXY(e,Math.max(0,Math.min(d.x+this.deltaSetXY[0],h.width-f.width)),Math.max(0,Math.min(d.y+this.deltaSetXY[1],h.height-f.height)))}this.cachePosition(d.x,d.y);this.autoScroll(d.x,d.y,a.offsetHeight,a.offsetWidth);return d},cachePosition:function(a,b){if(a){this.lastPageX=a;this.lastPageY=b}else{var c=Ext.Element.getXY(this.getEl());this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.Element.getViewHeight(),f=Ext.Element.getViewWidth(),g=this.DDMInstance.getScrollTop(),h=this.DDMInstance.getScrollLeft(),i=c+b,j=d+a,k=e+g-b-this.deltaY,l=f+h-a-this.deltaX,m=40,n=document.all?80:30;if(i>e&&k<m){window.scrollTo(h,g+n)}if(b<g&&g>0&&b-g<m){window.scrollTo(h,g-n)}if(j>f&&l<m){window.scrollTo(h+n,g)}if(a<h&&h>0&&a-h<m){window.scrollTo(h-n,g)}}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;if(this.constrainX){if(c<this.minX){c=this.minX}if(c>this.maxX){c=this.maxX}}if(this.constrainY){if(d<this.minY){d=this.minY}if(d>this.maxY){d=this.maxY}}c=this.getTick(c,this.xTicks);d=this.getTick(d,this.yTicks);return{x:c,y:d}},applyConfig:function(){this.callParent();this.scroll=this.config.scroll!==false},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}});Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){if(a){this.init(a,b,c);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var a=this,b=document.body,c,d;if(!b||!b.firstChild){setTimeout(function(){a.createFrame()},50);return}c=this.getDragEl();if(!c){c=document.createElement("div");c.id=this.dragElId;d=c.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;b.insertBefore(c,b.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=this.config.resizeFrame!==false;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){var c=this.getEl(),d=this.getDragEl(),e=d.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(e.width,10)/2),Math.round(parseInt(e.height,10)/2))}this.setDragElPos(a,b);Ext.fly(d).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c);this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(a){var b=this.getEl(),c=this.getDragEl();c.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,c);c.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}});Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:false,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div>'+'<div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(a){var b=this;a=a||{};Ext.apply(b,{hideMode:"visibility",hidden:true,floating:true,id:b.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||false,renderTo:Ext.getDetachedBody()});b.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(a){var b=this,c=Ext.baseCSSPrefix+"dd-drag-proxy ";b.el.replaceCls(c+b.dropAllowed,c+b.dropNotAllowed);b.dropStatus=b.dropNotAllowed;if(a){b.ghost.update("")}},update:function(a){if(typeof a=="string"){this.ghost.update(a)}else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(a){this.callParent();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.sync()},repair:function(a,b,c){var d=this;d.callback=b;d.scope=c;if(a&&d.animRepair!==false){d.el.addCls(d.repairCls);d.el.hideUnders(true);d.anim=d.el.animate({duration:d.repairDuration||500,easing:"ease-out",to:{x:a[0],y:a[1]},stopAnimation:true,callback:d.afterRepair,scope:d})}else{d.afterRepair()}},afterRepair:function(){var a=this;a.hide(true);a.el.removeCls(a.repairCls);if(typeof a.callback=="function"){a.callback.call(a.scope||a)}delete a.callback;delete a.scope}});Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(a,b){this.el=Ext.get(a);if(!this.dragData){this.dragData={}}Ext.apply(this,b);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(a){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropManager.getDDById(b),d;this.cachedTarget=c;if(this.beforeDragEnter(c,a,b)!==false){if(c.isNotifyTarget){d=c.notifyEnter(this,a,this.dragData);this.proxy.setStatus(d)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(c,a,b)}}},beforeDragEnter:function(a,b,c){return true},onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),d;if(this.beforeDragOver(c,a,b)!==false){if(c.isNotifyTarget){d=c.notifyOver(this,a,this.dragData);this.proxy.setStatus(d)}if(this.afterDragOver){this.afterDragOver(c,a,b)}}},beforeDragOver:function(a,b,c){return true},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragOut(c,a,b)!==false){if(c.isNotifyTarget){c.notifyOut(this,a,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(c,a,b)}}this.cachedTarget=null},beforeDragOut:function(a,b,c){return true},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragDrop(c,a,b)!==false){if(c.isNotifyTarget){if(c.notifyDrop(this,a,this.dragData)!==false){this.onValidDrop(c,a,b)}else{this.onInvalidDrop(c,a,b)}}else{this.onValidDrop(c,a,b)}if(this.afterDragDrop){this.afterDragDrop(c,a,b)}}delete this.cachedTarget},beforeDragDrop:function(a,b,c){return true},onValidDrop:function(a,b,c){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(a,b,c)}},getRepairXY:function(a,b){return this.el.getXY()},onInvalidDrop:function(a,b,c){var d=this;if(!b){b=a;a=null;c=b.getTarget().id}if(d.beforeInvalidDrop(a,b,c)!==false){if(d.cachedTarget){if(d.cachedTarget.isNotifyTarget){d.cachedTarget.notifyOut(d,b,d.dragData)}d.cacheTarget=null}d.proxy.repair(d.getRepairXY(b,d.dragData),d.afterRepair,d);if(d.afterInvalidDrop){d.afterInvalidDrop(b,c)}}},afterRepair:function(){var a=this;if(Ext.enableFx){a.el.highlight(a.repairHighlightColor)}a.dragging=false},beforeInvalidDrop:function(a,b,c){return true},handleMouseDown:function(a){if(this.dragging){return}var b=this.getDragData(a);if(b&&this.onBeforeDrag(b,a)!==false){this.dragData=b;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(true);c.id=Ext.id();this.proxy.update(c);this.onStartDrag(a,b);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(a,b){var c=this;c.panel=a;c.id=c.panel.id+"-ddproxy";Ext.apply(c,b)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;if(a.ghost){if(a.proxy){a.proxy.remove();delete a.proxy}a.panel.unghost(null,a.moveOnDrag);delete a.ghost}},show:function(){var a=this,b;if(!a.ghost){b=a.panel.getSize();a.panel.el.setVisibilityMode(Ext.Element.DISPLAY);a.ghost=a.panel.ghost();if(a.insertProxy){a.proxy=a.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});a.proxy.setSize(b)}}},repair:function(a,b,c){this.hide();Ext.callback(b,c||this)},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}});Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(a,b){var c=this;c.panel=a;c.dragData={panel:a};c.panelProxy=new Ext.panel.Proxy(a,b);c.proxy=c.panelProxy.proxy;c.callParent([a.el,b]);c.setupEl(a)},setupEl:function(a){var b=this,c=a.header,d=a.body;if(c){b.setHandleElId(c.id);d=c.el}if(d){d.setStyle("cursor","move");b.scroll=false}else{a.on("boxready",b.setupEl,b,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(a){var b=this.panelProxy.ghost;if(b){return b.el.dom}},endDrag:function(a){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(a,b,c){var d=this;if(d.beforeInvalidDrop(a,b,c)!==false){if(d.cachedTarget){if(d.cachedTarget.isNotifyTarget){d.cachedTarget.notifyOut(d,b,d.dragData)}d.cacheTarget=null}if(d.afterInvalidDrop){d.afterInvalidDrop(b,c)}}}});Ext.define("Ext.util.Memento",function(){function a(a,b,c,d){a[d?d+c:c]=b[c]}function b(a,b,c){delete a[c]}function c(a,b,c,e){var f=e?e+c:c,g=a[f];if(g||a.hasOwnProperty(f)){d(b,c,g)}}function d(a,b,c){if(Ext.isDefined(c)){a[b]=c}else{delete a[b]}}function e(a,b,c,d,e){if(b){if(Ext.isArray(d)){var f,g=d.length;for(f=0;f<g;f++){a(b,c,d[f],e)}}else{a(b,c,d,e)}}}return{data:null,target:null,constructor:function(a,b){if(a){this.target=a;if(b){this.capture(b)}}},capture:function(b,c,d){var f=this;e(a,f.data||(f.data={}),c||f.target,b,d)},remove:function(a){e(b,this.data,null,a)},restore:function(a,b,d,f){e(c,this.data,d||this.target,a,f);if(b!==false){this.remove(a)}},restoreAll:function(a,b){var c=this,e=b||this.target,f=c.data,g;for(g in f){if(f.hasOwnProperty(g)){d(e,g,f[g])}}if(a!==false){delete c.data}}}}());Ext.define("Ext.panel.Panel",{extend:Ext.panel.AbstractPanel,alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:false,collapseFirst:true,hideCollapseTool:false,titleCollapse:undefined,floatable:true,collapsible:undefined,closable:false,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:false,header:undefined,headerPosition:"top",frame:false,frameHeader:true,manageHeight:true,constrain:false,constrainHeader:false,initComponent:function(){var a=this;a.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat");if(a.collapsible){this.addStateEvents(["expand","collapse"])}if(a.unstyled){a.setUI("plain")}if(a.frame){a.setUI(a.ui+"-framed")}a.bridgeToolbars();a.callParent();a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP;a.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd);a.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var a=this,b=a.el,c=a.header;if(b&&c){b.dom.setAttribute("aria-labelledby",c.titleCmp.id)}},getHeader:function(){return this.header},setTitle:function(a){var b=this,c=b.title,d=b.header,e=b.reExpander,f=b.placeholder;b.title=a;if(d){if(d.isHeader){d.setTitle(a)}else{d.title=a}}else if(b.rendered){b.updateHeader()}if(e){e.setTitle(a)}if(f&&f.setTitle){f.setTitle(a)}b.fireEvent("titlechange",b,a,c)},setIconCls:function(a){var b=this,c=b.iconCls,d=b.header,e=b.placeholder;b.iconCls=a;if(d){if(d.isHeader){d.setIconCls(a)}else{d.iconCls=a}}else{b.updateHeader()}if(e&&e.setIconCls){e.setIconCls(a)}b.fireEvent("iconclschange",b,a,c)},setIcon:function(a){var b=this,c=b.icon,d=b.header,e=b.placeholder;b.icon=a;if(d){if(d.isHeader){d.setIcon(a)}else{d.icon=a}}else{b.updateHeader()}if(e&&e.setIcon){e.setIcon(a)}b.fireEvent("iconchange",b,a,c)},setGlyph:function(a){var b=this,c=b.glyph,d=b.header,e=b.placeholder;b.glyph=a;if(d){if(d.isHeader){d.setGlyph(a)}else{d.glyph=a}}else{b.updateHeader()}if(e&&e.setGlyph){e.setIcon(a)}b.fireEvent("glyphchange",b,a,c)},bridgeToolbars:function(){var a=this,b=[],c,d,e=a.minButtonWidth;function f(b,c,d){if(Ext.isArray(b)){b={xtype:"toolbar",items:b}}else if(!b.xtype){b.xtype="toolbar"}b.dock=c;if(c=="left"||c=="right"){b.vertical=true}if(d){b.layout=Ext.applyIf(b.layout||{},{pack:{left:"start",center:"center"}[a.buttonAlign]||"end"})}return b}if(a.tbar){b.push(f(a.tbar,"top"));a.tbar=null}if(a.bbar){b.push(f(a.bbar,"bottom"));a.bbar=null}if(a.buttons){a.fbar=a.buttons;a.buttons=null}if(a.fbar){c=f(a.fbar,"bottom",true);c.ui="footer";if(e){d=c.defaults;c.defaults=function(a){var b=d||{};if((!a.xtype||a.xtype==="button"||a.isComponent&&a.isXType("button"))&&!("minWidth"in b)){b=Ext.apply({minWidth:e},b)}return b}}b.push(c);a.fbar=null}if(a.lbar){b.push(f(a.lbar,"left"));
a.lbar=null}if(a.rbar){b.push(f(a.rbar,"right"));a.rbar=null}if(a.dockedItems){if(!Ext.isArray(a.dockedItems)){a.dockedItems=[a.dockedItems]}a.dockedItems=a.dockedItems.concat(b)}else{a.dockedItems=b}},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent();if(this.collapsed){this.setHiddenDocked()}},beforeRender:function(){var a=this,b;a.callParent();a.initTools();if(!(a.preventHeader||a.header===false)){a.updateHeader()}if(a.collapsed){if(a.isPlaceHolderCollapse()){if(!a.hidden){a.setHiddenState(true);a.preventCollapseFire=true;a.placeholderCollapse();delete a.preventCollapseFire;b=a.collapsed;a.collapsed=false}}else{a.beginCollapse();a.addClsWithUI(a.collapsedCls)}}if(b){a.collapsed=b}},initTools:function(){var a=this,b=a.tools,c,d;a.tools=[];for(c=b&&b.length;c;){--c;a.tools[c]=d=b[c];d.toolOwner=a}if(a.collapsible&&!(a.hideCollapseTool||a.header===false||a.preventHeader)){a.collapseDirection=a.collapseDirection||a.headerPosition||"top";a.collapseTool=a.expandTool=Ext.widget({xtype:"tool",handler:a.toggleCollapse,scope:a});a.updateCollapseTool();if(a.collapseFirst){a.tools.unshift(a.collapseTool)}}a.addTools();if(a.closable){a.addClsWithUI("closable");a.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(a.close,a,[])}))}if(a.collapseTool&&!a.collapseFirst){a.addTool(a.collapseTool)}},addTools:Ext.emptyFn,updateCollapseTool:function(){var a=this,b=a.collapseTool;if(b){if(a.collapsed&&!a.isPlaceHolderCollapse()){b.setType("expand-"+a.getOppositeDirection(a.collapseDirection))}else{b.setType("collapse-"+a.collapseDirection)}}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},updateHeader:function(a){var b=this,c=b.header,d=b.title,e=b.tools,f=b.icon||b.iconCls,g=b.headerPosition==="left"||b.headerPosition==="right";if(Ext.isObject(c)||c!==false&&(a||(d||f)||e&&e.length||b.collapsible&&!b.titleCollapse)){if(c&&c.isHeader){c.show()}else{c=b.header=Ext.widget(Ext.apply({xtype:"header",title:d,titleAlign:b.titleAlign,orientation:g?"vertical":"horizontal",dock:b.headerPosition||"top",textCls:b.headerTextCls,iconCls:b.iconCls,icon:b.icon,glyph:b.glyph,baseCls:b.baseCls+"-header",tools:e,ui:b.ui,id:b.id+"_header",overCls:b.headerOverCls,indicateDrag:b.draggable,frame:(b.frame||b.alwaysFramed)&&b.frameHeader,ignoreParentFrame:b.frame||b.overlapHeader,ignoreBorderManagement:b.frame||b.ignoreHeaderBorderManagement,ownerCt:b,listeners:b.collapsible&&b.titleCollapse?{click:b.toggleCollapse,scope:b}:null},b.header));b.addDocked(c,0)}b.initHeaderAria()}else if(c){c.hide()}},setUI:function(a){var b=this;b.callParent(arguments);if(b.header&&b.header.rendered){b.header.setUI(a)}},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},isVisible:function(a){var b=this;if(b.collapsed&&b.placeholder){return b.placeholder.isVisible(a)}return b.callParent(arguments)},onHide:function(){var a=this;if(a.collapsed&&a.placeholder){a.placeholder.hide()}else{a.callParent(arguments)}},onShow:function(){var a=this;if(a.collapsed&&a.isPlaceHolderCollapse()){a.setHiddenState(true);a.placeholderCollapse()}else{a.callParent(arguments)}},onRemoved:function(a){var b=this;if(b.placeholder&&!a){b.ownerCt.remove(b.placeholder,false)}b.callParent(arguments)},addTool:function(a){if(!Ext.isArray(a)){a=[a]}var b=this,c=b.header,d,e=a.length,f;for(d=0;d<e;d++){f=a[d];f.toolOwner=b;if(c&&c.isHeader){c.addTool(f)}else{b.tools.push(f)}}b.updateHeader()},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getWidthAuthority:function(){if(this.collapsed&&this.collapsedHorizontal()){return 1}return this.callParent()},getHeightAuthority:function(){if(this.collapsed&&this.collapsedVertical()){return 1}return this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return a==="left"||a==="right"},collapsedVertical:function(){var a=this.getCollapsed();return a==="top"||a==="bottom"},restoreDimension:function(){var a=this.collapseDirection;return a==="top"||a==="bottom"?"height":"width"},getCollapsed:function(){var a=this;if(a.collapsed===true){return a.collapseDirection}return a.collapsed},getState:function(){var a=this,b=a.callParent(),c;b=a.addPropertyToState(b,"collapsed");if(a.collapsed){c=a.collapseMemento;c=c&&c.data;if(a.collapsedVertical()){if(b){delete b.height}if(c){b=a.addPropertyToState(b,"height",c.height)}}else{if(b){delete b.width}if(c){b=a.addPropertyToState(b,"width",c.width)}}}return b},findReExpander:function(a){var b=this,c=Ext.Component,d=b.dockedItems.items,e=d.length,f,g;if(b.collapseMode==="mini"){return}switch(a){case c.DIRECTION_TOP:case c.DIRECTION_BOTTOM:for(g=0;g<e;g++){f=d[g];if(!f.hidden){if(f.isHeader&&(!f.dock||f.dock==="top"||f.dock==="bottom")){return f}}}break;case c.DIRECTION_LEFT:case c.DIRECTION_RIGHT:for(g=0;g<e;g++){f=d[g];if(!f.hidden){if(f.isHeader&&(f.dock==="left"||f.dock==="right")){return f}}}break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(a){var b=this,c=a||b.collapseDirection,d=b.reExpander||b.findReExpander(c);b.expandDirection=b.getOppositeDirection(c);if(!d){b.reExpander=d=b.createReExpander(c,{dock:c,cls:Ext.baseCSSPrefix+"docked "+b.baseCls+"-"+b.ui+"-collapsed",isCollapsedExpander:true});b.dockedItems.insert(0,d)}return d},createReExpander:function(a,b){var c=this,d=a==="left",e=a==="right",f=d||e,g=Ext.apply({hideMode:"offsets",title:c.title||"&#160;",titleAlign:c.titleAlign,orientation:f?"vertical":"horizontal",textCls:c.headerTextCls,icon:c.icon,iconCls:c.iconCls,glyph:c.glyph,baseCls:c.self.prototype.baseCls+"-header",ui:c.ui,frame:c.frame&&c.frameHeader,ignoreParentFrame:c.frame||c.overlapHeader,indicateDrag:c.draggable,collapseImmune:true,ownerCt:c.ownerCt,ownerLayout:c.componentLayout,margin:c.margin},b);if(c.collapseMode==="mini"){if(f){g.width=1}else{g.height=1}}if(!c.hideCollapseTool){if(d||e&&c.isPlaceHolderCollapse()){g.titlePosition=1}g.tools=[{xtype:"tool",type:"expand-"+c.getOppositeDirection(a),uiCls:["top"],handler:c.toggleCollapse,scope:c}]}g=new Ext.panel.Header(g);g.addClsWithUI(c.getHeaderCollapsedClasses(g));return g},getHeaderCollapsedClasses:function(a){var b=this,c=b.collapsedCls,d;d=[c,c+"-"+a.getDockName()];if(b.border&&(!b.frame||b.frame&&Ext.supports.CSS3BorderRadius)){d.push(c+"-border-"+a.getDockName())}return d},beginCollapse:function(){var a=this,b=a.lastBox,c=a.rendered,d=a.collapseMemento||(a.collapseMemento=new Ext.util.Memento(a)),e=a.getSizeModel(),f=a.header,g;d.capture(["height","minHeight","width","minWidth"]);if(b){d.capture(a.restoreDimension(),b,"last.")}if(a.collapsedVertical()){if(e.width.shrinkWrap){a.width=c?a.getWidth():a.width||a.minWidth||100}delete a.height;a.minHeight=0}else if(a.collapsedHorizontal()){if(e.height.shrinkWrap){a.height=c?a.getHeight():a.height||a.minHeight||100}delete a.width;a.minWidth=0}if(a.ownerCt){a.ownerCt.getLayout().beginCollapse(a)}if(!a.isPlaceHolderCollapse()&&f!==false){if(f===(g=a.getReExpander())){f.collapseImmune=true;f.getHierarchyState().collapseImmune=true;f.addClsWithUI(a.getHeaderCollapsedClasses(f));if(f.rendered){f.updateFrame()}}else if(g.el){g.el.show();g.hidden=false}}if(a.resizer){a.resizer.disable()}},beginExpand:function(){var a=this,b=a.lastBox,c=a.collapseMemento,d=this.restoreDimension(),e=a.header,f;if(c){c.restore(["minHeight","minWidth",d]);if(b){c.restore(d,true,b,"last.")}}if(a.ownerCt){a.ownerCt.getLayout().beginExpand(a)}if(!a.isPlaceHolderCollapse()&&e!==false){if(e===(f=a.getReExpander())){delete e.collapseImmune;delete e.getHierarchyState().collapseImmune;e.removeClsWithUI(a.getHeaderCollapsedClasses(e));if(e.rendered){e.expanding=true;e.updateFrame();delete e.expanding}}else{f.hidden=true;f.el.hide()}}if(a.resizer){a.resizer.enable()}},collapse:function(a,b){var c=this,d=a||c.collapseDirection,e=c.ownerCt;if(c.isCollapsingOrExpanding){return c}if(arguments.length<2){b=c.animCollapse}if(c.collapsed||c.fireEvent("beforecollapse",c,a,b)===false){return c}if(e&&c.isPlaceHolderCollapse()){return c.placeholderCollapse(a,b)}c.collapsed=d;c.beginCollapse();c.getHierarchyState().collapsed=true;c.fireHierarchyEvent("collapse");return c.doCollapseExpand(1,b)},doCollapseExpand:function(a,b){var c=this,d=c.animCollapse,e=c.ownerLayout;c.animCollapse=b;c.isCollapsingOrExpanding=a;if(b){c.addCls(Ext.baseCSSPrefix+"animating-size")}if(e&&!b){e.onContentChange(c)}else{c.updateLayout({isRoot:true})}c.animCollapse=d;return c},afterCollapse:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0;b.updateCollapseTool();if(a){b.removeCls(Ext.baseCSSPrefix+"animating-size")}if(c&&a){c.onContentChange(b)}b.setHiddenDocked();b.fireEvent("collapse",b)},setHiddenDocked:function(){var a=this,b=a.hiddenOnCollapse,c=a.getDockedItems(),d=c.length,e=0,f,g;if(a.header!==false){g=a.getReExpander()}b.add(a.body);for(;e<d;e++){f=c[e];if(f&&f!==g&&f.el){b.add(f.el)}}b.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},getPlaceholder:function(a){var b=this,c=a||b.collapseDirection,d=null,e=b.placeholder,f=b.floatable,g=b.titleCollapse;if(!e){if(f||b.collapsible&&g){d={click:{fn:!g&&f?b.floatCollapsedPanel:b.toggleCollapse,element:"el",scope:b}}}b.placeholder=e=Ext.widget(b.createReExpander(c,{id:b.id+"-placeholder",listeners:d}))}if(!e.placeholderFor){if(!e.isComponent){b.placeholder=e=b.lookupComponent(e)}Ext.applyIf(e,{margins:b.margins,placeholderFor:b});e.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+c+"-placeholder",b.collapsedCls])}return e},placeholderCollapse:function(a,b){var c=this,d=c.ownerCt,e=a||c.collapseDirection,f=Ext.baseCSSPrefix+"border-region-slide-in",g=c.getPlaceholder(e),h;c.isCollapsingOrExpanding=1;c.setHiddenState(true);c.collapsed=e;if(g.rendered){if(g.el.dom.parentNode!==c.el.dom.parentNode){c.el.dom.parentNode.insertBefore(g.el.dom,c.el.dom)}g.hidden=false;g.el.show();d.updateLayout()}else{d.insert(d.items.indexOf(c),g)}if(c.rendered){c.el.setVisibilityMode(c.placeholderCollapseHideMode);if(b){c.el.addCls(f);g.el.hide();h=c.convertCollapseDir(e);c.el.slideOut(h,{preserveScroll:true,duration:Ext.Number.from(b,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){c.el.removeCls(f);g.el.show().setStyle("display","none").slideIn(h,{easing:"linear",duration:100,listeners:{afteranimate:function(){g.focus();c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}}})}}})}else{c.el.hide();c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}}else{c.isCollapsingOrExpanding=0;if(!c.preventCollapseFire){c.fireEvent("collapse",c)}}return c},floatCollapsedPanel:function(){var a=this,b=a.placeholder,c=b.getSize(),d,e=Ext.baseCSSPrefix+"border-region-slide-in",f=a.collapsed,g=a.ownerCt||a,h;if(a.isSliding){return}if(a.el.hasCls(e)){a.slideOutFloatedPanel();return}a.isSliding=true;b.el.hide();b.hidden=true;a.el.show();a.setHiddenState(false);a.collapsed=false;g.updateLayout();d=a.getBox(false,true);b.el.show();b.hidden=false;a.el.hide();a.setHiddenState(true);a.collapsed=f;g.updateLayout();a.slideOutTask=a.slideOutTask||new Ext.util.DelayedTask(a.slideOutFloatedPanel,a);b.el.on("mouseleave",a.onMouseLeaveFloated,a);a.el.on("mouseleave",a.onMouseLeaveFloated,a);b.el.on("mouseenter",a.onMouseEnterFloated,a);a.el.on("mouseenter",a.onMouseEnterFloated,a);a.el.addCls(e);a.floated=true;if(a.collapseTool){a.collapseTool.el.hide()}switch(a.collapsed){case"top":a.setLocalXY(d.x,d.y+c.height-1);break;case"right":a.setLocalXY(d.x-c.width+1,d.y);break;case"bottom":a.setLocalXY(d.x,d.y-c.height+1);break;case"left":a.setLocalXY(d.x+c.width-1,d.y);break}h=a.convertCollapseDir(a.collapsed);a.floatedFromCollapse=a.collapsed;a.collapsed=false;a.setHiddenState(false);a.el.slideIn(h,{preserveScroll:true,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.isSliding=false;a.fireEvent("float",a)}}})},onMouseLeaveFloated:function(a){this.slideOutTask.delay(500)},onMouseEnterFloated:function(a){this.slideOutTask.cancel()},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return this.callParent()},slideOutFloatedPanel:function(){var a=this,b=this.el,c;if(a.isSliding||a.isDestroyed){return}a.isSliding=true;a.floated=false;a.slideOutFloatedPanelBegin();if(typeof a.collapsed=="string"){c=a.convertCollapseDir(a.collapsed)}b.slideOut(c,{preserveScroll:true,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.slideOutFloatedPanelEnd();a.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}})},slideOutFloatedPanelBegin:function(){var a=this,b=a.placeholder.el,c=a.el;a.collapsed=a.floatedFromCollapse;a.setHiddenState(true);a.floatedFromCollapse=null;b.un("mouseleave",a.onMouseLeaveFloated,a);c.un("mouseleave",a.onMouseLeaveFloated,a);b.un("mouseenter",a.onMouseEnterFloated,a);c.un("mouseenter",a.onMouseEnterFloated,a)},slideOutFloatedPanelEnd:function(){var a=this;if(a.collapseTool){a.collapseTool.el.show()}a.slideOutTask.cancel();a.isSliding=false;a.fireEvent("unfloat",a)},expand:function(a){var b=this;if(b.isCollapsingOrExpanding){return b}if(!arguments.length){a=b.animCollapse}if(!b.collapsed&&!b.floatedFromCollapse){return b}if(b.fireEvent("beforeexpand",b,a)===false){return b}delete this.getHierarchyState().collapsed;if(b.isPlaceHolderCollapse()){return b.placeholderExpand(a)}b.restoreHiddenDocked();b.beginExpand();b.collapsed=false;return b.doCollapseExpand(2,a)},placeholderExpand:function(a){var b=this,c=b.collapsed,d=Ext.baseCSSPrefix+"border-region-slide-in",e,f,g=b.ownerLayout?b.ownerLayout.centerRegion:null;if(Ext.AbstractComponent.layoutSuspendCount){a=false}if(b.floatedFromCollapse){f=b.getPosition(true);b.slideOutFloatedPanelBegin();b.slideOutFloatedPanelEnd();b.floated=false}if(a){Ext.suspendLayouts();b.placeholder.hide();b.el.show();b.collapsed=false;b.setHiddenState(false);if(g&&!f){g.hidden=true}Ext.resumeLayouts(true);g.hidden=false;b.el.addCls(d);b.isCollapsingOrExpanding=2;if(f){e=b.getXY();b.setLocalXY(f[0],f[1]);b.setXY([e[0],e[1]],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.el.removeCls(d);b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}})}else{b.el.hide();b.placeholder.el.show();b.placeholder.hidden=false;b.setHiddenState(false);b.el.slideIn(b.convertCollapseDir(c),{preserveScroll:true,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.el.removeCls(d);b.placeholder.hide();b.updateLayout();b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}})}}else{b.floated=b.collapsed=false;b.el.removeCls(d);Ext.suspendLayouts();b.placeholder.hide();b.show();Ext.resumeLayouts(true);b.fireEvent("expand",b)}return b},afterExpand:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0;b.updateCollapseTool();if(a){b.removeCls(Ext.baseCSSPrefix+"animating-size")}if(c&&a){c.onContentChange(b)}b.fireEvent("expand",b);b.fireHierarchyEvent("expand")},setBorder:function(a,b){if(b){return}var c=this,d=c.header;if(!a){a=0}else if(a===true){a="1px"}else{a=c.unitizeBox(a)}if(d){if(d.isHeader){d.setBorder(a)}else{d.border=a}}if(c.rendered&&c.bodyBorder!==false){c.body.setStyle("border-width",a)}c.updateLayout();c.border=a},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){if(this.simpleDrag){this.initSimpleDraggable()}else{this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)}},initSimpleDraggable:function(){var a=this,b,c;if(!a.header){a.updateHeader(true)}if(a.header){b=Ext.applyIf({el:a.el,delegate:"#"+Ext.escapeId(a.header.id)},a.draggable);if(a.constrain||a.constrainHeader){b.constrain=a.constrain;b.constrainDelegate=a.constrainHeader;b.constrainTo=a.constrainTo||a.container}c=a.dd=new Ext.util.ComponentDragger(this,b);a.relayEvents(c,["dragstart","drag","dragend"]);if(a.maximized){c.disable()}}},ghostTools:function(){var a=[],b=this.header,c=b?b.query("tool[hidden=false]"):[],d,e,f;if(c.length){d=0;e=c.length;for(;d<e;d++){f=c[d];a.push({type:f.type})}}else{a=[{type:"placeholder"}]}return a},ghost:function(a){var b=this,c=b.ghostPanel,d=b.getBox(),e;if(!c){c=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:false},frame:b.frame&&!b.alwaysFramed,alwaysFramed:b.alwaysFramed,overlapHeader:b.overlapHeader,headerPosition:b.headerPosition,baseCls:b.baseCls,cls:b.baseCls+"-ghost "+(a||"")});b.ghostPanel=c}else{c.el.show()}b.ghostPanel.hidden=false;c.floatParent=b.floatParent;if(b.floating){c.zIndexManager.assignZIndices()}else{c.toFront()}if(!(b.preventHeader||b.header===false)){e=c.header;if(e){e.suspendLayouts();Ext.Array.forEach(e.query("tool"),e.remove,e);e.resumeLayouts()}c.addTool(b.ghostTools());c.setTitle(b.title);if(b.iconCls){c.setIconCls(b.iconCls)}else if(b.icon){c.setIcon(b.icon)}else if(b.glyph){c.setGlyph(b.glyph)}c.header.addCls(Ext.baseCSSPrefix+"header-ghost")}c.setPagePosition(d.x,d.y);c.setSize(d.width,d.height);b.el.hide();return c},unghost:function(a,b){var c=this;if(!c.ghostPanel){return}if(a!==false){c.el.show();if(b!==false){c.setPagePosition(c.ghostPanel.getXY());if(c.hideMode=="offsets"){delete c.el.hideModeStyles}}Ext.defer(c.focus,10,c)}c.ghostPanel.el.hide();c.ghostPanel.hidden=true},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},initResizable:function(){this.callParent(arguments);if(this.collapsed){this.resizer.disable()}},convertCollapseDir:function(a){return a.substr(0,1)}},function(){this.prototype.animCollapse=Ext.enableFx});Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true},focusOnToFront:false,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:true,frameHeader:false,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow,constrain:a.constrainPosition},a.self.prototype.floating);a.callParent(arguments);a.constrain=a.constrain||a.constrainPosition},showAt:function(a){var b=this;this.callParent(arguments);if(b.isVisible()){b.setPagePosition(a[0],a[1]);if(b.constrainPosition||b.constrain){b.doConstrain()}b.toFront(true)}},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(a)},ghost:undefined,unghost:undefined});Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;a.callParent(arguments);a.lastActive=new Date;a.setTarget(a.target);a.origAnchor=a.anchor},onRender:function(a,b){var c=this;c.callParent(arguments);c.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+c.getAnchorPosition();c.anchorEl=c.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+c.anchorCls})},setTarget:function(a){var b=this,c=Ext.get(a),d;if(b.target){d=Ext.get(b.target);b.mun(d,"mouseover",b.onTargetOver,b);b.mun(d,"mouseout",b.onTargetOut,b);b.mun(d,"mousemove",b.onMouseMove,b)}b.target=c;if(c){b.mon(c,{freezeEvent:true,mouseover:b.onTargetOver,mouseout:b.onTargetOut,mousemove:b.onMouseMove,scope:b})}if(b.anchor){b.anchorTarget=b.target}},onMouseMove:function(a){var b=this,c=b.delegate?a.getTarget(b.delegate):b.triggerElement=true,d;if(c){b.targetXY=a.getXY();if(c===b.triggerElement){if(!b.hidden&&b.trackMouse){d=b.getTargetXY();if(b.constrainPosition){d=b.el.adjustForConstraints(d,b.el.parent())}b.setPagePosition(d)}}else{b.hide();b.lastActive=new Date(0);b.onTargetOver(a)}}else if(!b.closable&&b.isVisible()&&b.autoHide!==false){b.hide()}},getTargetXY:function(){var a=this,b,c,d,e,f,g,h,i,j,k,l,m;if(a.delegate){a.anchorTarget=a.triggerElement}if(a.anchor){a.targetCounter++;c=a.getOffsets();d=a.anchorToTarget&&!a.trackMouse?a.getAlignToXY(a.anchorTarget,a.getAnchorAlign()):a.targetXY;e=Ext.Element.getViewWidth()-5;f=Ext.Element.getViewHeight()-5;g=document.documentElement;h=document.body;i=(g.scrollLeft||h.scrollLeft||0)+5;j=(g.scrollTop||h.scrollTop||0)+5;k=[d[0]+c[0],d[1]+c[1]];l=a.getSize();m=a.constrainPosition;a.anchorEl.removeCls(a.anchorCls);if(a.targetCounter<2&&m){if(k[0]<i){if(a.anchorToTarget){a.defaultAlign="l-r";if(a.mouseOffset){a.mouseOffset[0]*=-1}}a.anchor="left";return a.getTargetXY()}if(k[0]+l.width>e){if(a.anchorToTarget){a.defaultAlign="r-l";if(a.mouseOffset){a.mouseOffset[0]*=-1}}a.anchor="right";return a.getTargetXY()}if(k[1]<j){if(a.anchorToTarget){a.defaultAlign="t-b";if(a.mouseOffset){a.mouseOffset[1]*=-1}}a.anchor="top";return a.getTargetXY()}if(k[1]+l.height>f){if(a.anchorToTarget){a.defaultAlign="b-t";if(a.mouseOffset){a.mouseOffset[1]*=-1}}a.anchor="bottom";return a.getTargetXY()}}a.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+a.getAnchorPosition();a.anchorEl.addCls(a.anchorCls);a.targetCounter=0;return k}else{b=a.getMouseOffset();return a.targetXY?[a.targetXY[0]+b[0],a.targetXY[1]+b[1]]:b}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},getAnchorPosition:function(){var a=this,b;if(a.anchor){a.tipAnchor=a.anchor.charAt(0)}else{b=a.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);a.tipAnchor=b[1].charAt(0)}switch(a.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a=this,b,c,d=a.getAnchorPosition().charAt(0);if(a.anchorToTarget&&!a.trackMouse){switch(d){case"t":c=[0,9];break;case"b":c=[0,-13];break;case"r":c=[-13,0];break;default:c=[9,0];break}}else{switch(d){case"t":c=[-15-a.anchorOffset,30];break;case"b":c=[-19-a.anchorOffset,-13-a.el.dom.offsetHeight];break;case"r":c=[-15-a.el.dom.offsetWidth,-13-a.anchorOffset];break;default:c=[25,-13-a.anchorOffset];break}}b=a.getMouseOffset();c[0]+=b[0];c[1]+=b[1];return c},onTargetOver:function(a){var b=this,c=b.delegate,d;if(b.disabled||a.within(b.target.dom,true)){return}d=c?a.getTarget(c):true;if(d){b.triggerElement=d;b.triggerEvent=a;b.clearTimer("hide");b.targetXY=a.getXY();b.delayShow()}},delayShow:function(){var a=this;if(a.hidden&&!a.showTimer){if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval){a.show()}else{a.showTimer=Ext.defer(a.showFromDelay,a.showDelay,a)}}else if(!a.hidden&&a.autoHide!==false){a.show()}},showFromDelay:function(){this.fromDelayShow=true;this.show();delete this.fromDelayShow},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(a){var b=this,c=b.triggerElement,d=c===true?b.target:c;if(b.disabled||!c||a.within(d,true)){return}if(b.showTimer){b.clearTimer("show");b.triggerElement=null}if(b.autoHide!==false){b.delayHide()}},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer){a.hideTimer=Ext.defer(a.hide,a.hideDelay,a)}},hide:function(){var a=this;a.clearTimer("dismiss");a.lastActive=new Date;if(a.anchorEl){a.anchorEl.hide()}a.callParent(arguments);delete a.triggerElement},show:function(){var a=this;this.callParent();if(this.hidden===false){a.setPagePosition(-1e4,-1e4);if(a.anchor){a.anchor=a.origAnchor}if(!a.calledFromShowAt){a.showAt(a.getTargetXY())}if(a.anchor){a.syncAnchor();a.anchorEl.show()}else{a.anchorEl.hide()}}},showAt:function(a){var b=this;b.lastActive=new Date;b.clearTimers();b.calledFromShowAt=true;if(!b.isVisible()){this.callParent(arguments)}if(b.isVisible()){b.setPagePosition(a[0],a[1]);if(b.constrainPosition||b.constrain){b.doConstrain()}b.toFront(true);b.el.sync(true);if(b.dismissDelay&&b.autoHide!==false){b.dismissTimer=Ext.defer(b.hide,b.dismissDelay,b)}if(b.anchor){b.syncAnchor();if(!b.anchorEl.isVisible()){b.anchorEl.show()}}else{b.anchorEl.hide()}}delete b.calledFromShowAt},syncAnchor:function(){var a=this,b,c,d;switch(a.tipAnchor.charAt(0)){case"t":b="b";c="tl";d=[20+a.anchorOffset,1];break;case"r":b="l";c="tr";d=[-1,12+a.anchorOffset];break;case"b":b="t";c="bl";d=[20+a.anchorOffset,-1];break;default:b="r";c="tl";d=[1,12+a.anchorOffset];break}a.anchorEl.alignTo(a.el,b+"-"+c,d);a.anchorEl.setStyle("z-index",parseInt(a.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(a,b){var c=this;c.callParent(arguments);if(c.anchor){c.syncAnchor()}},_timerNames:{},clearTimer:function(a){var b=this,c=b._timerNames,d=c[a]||(c[a]=a+"Timer"),e=b[d];if(e){clearTimeout(e);b[d]=null}},clearTimers:function(){var a=this;a.clearTimer("show");a.clearTimer("dismiss");a.clearTimer("hide")},onShow:function(){var a=this;a.callParent();a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;a.callParent();a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(a){var b=this;if(!b.closable&&!a.within(b.el.dom)){b.disable();Ext.defer(b.doEnable,100,b)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;a.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){var a=this;a.target=a.target||Ext.getDoc();a.targets=a.targets||{};a.callParent()},register:function(a){var b=Ext.isArray(a)?a:arguments,c=0,d=b.length,e,f,g;for(;c<d;c++){a=b[c];e=a.target;if(e){if(Ext.isArray(e)){for(f=0,g=e.length;f<g;f++){this.targets[Ext.id(e[f])]=a}}else{this.targets[Ext.id(e)]=a}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this,c=b.activeTarget;a=Ext.get(a).dom;if(b.isVisible()){if(c&&c.el==a){b.hide()}}else if(c&&c.el==a){b.clearTimer("show")}},getTipCfg:function(a){var b=a.getTarget(),c=b.title,d;if(this.interceptTitles&&c&&Ext.isString(c)){b.qtip=c;b.removeAttribute("title");a.preventDefault();return{text:c}}else{d=this.tagConfig;b=a.getTarget("["+d.namespace+d.attribute+"]");if(b){return{target:b,text:b.getAttribute(d.namespace+d.attribute)}}}},onTargetOver:function(a){var b=this,c=a.getTarget(b.delegate),d,e,f,g,h,i,j,k,l,m,n;if(b.disabled){return}b.targetXY=a.getXY();if(!c||c.nodeType!==1||c==document.documentElement||c==document.body){return}if(b.activeTarget&&(c==b.activeTarget.el||Ext.fly(b.activeTarget.el).contains(c))){if(b.targetTextEmpty()){b.onShowVeto();delete b.activeTarget}else{b.clearTimer("hide");b.show()}return}if(c){k=b.targets;for(n in k){if(k.hasOwnProperty(n)){m=k[n];l=Ext.fly(m.target);if(l&&(l.dom===c||l.contains(c))){f=l.dom;break}}}if(f){b.activeTarget=b.targets[f.id];b.activeTarget.el=c;b.anchor=b.activeTarget.anchor;if(b.anchor){b.anchorTarget=c}d=parseInt(b.activeTarget.showDelay,10);if(d){e=b.showDelay;b.showDelay=d}b.delayShow();if(d){b.showDelay=e}return}}f=Ext.fly(c,"_quicktip-target");g=b.tagConfig;h=g.namespace;i=b.getTipCfg(a);if(i){if(i.target){c=i.target;f=Ext.fly(c,"_quicktip-target")}j=f.getAttribute(h+g.hide);b.activeTarget={el:c,text:i.text,width:+f.getAttribute(h+g.width)||null,autoHide:j!="user"&&j!=="false",title:f.getAttribute(h+g.title),cls:f.getAttribute(h+g.cls),align:f.getAttribute(h+g.align),showDelay:parseInt(f.getAttribute(h+g.showDelay),10)};b.anchor=f.getAttribute(h+g.anchor);if(b.anchor){b.anchorTarget=c}d=parseInt(b.activeTarget.showDelay,10);if(d){e=b.showDelay;b.showDelay=d}b.delayShow();if(d){b.showDelay=e}}},onTargetOut:function(a){var b=this,c=b.activeTarget,d,e;if(c&&a.within(b.activeTarget.el)&&!b.getTipCfg(a)){return}b.clearTimer("show");delete b.activeTarget;if(b.autoHide!==false){d=c&&parseInt(c.hideDelay,10);if(d){e=b.hideDelay;b.hideDelay=d}b.delayHide();if(d){b.hideDelay=e}}},targetTextEmpty:function(){var a=this,b=a.activeTarget,c=a.tagConfig,d,e;if(b){d=b.el;if(d){e=d.getAttribute(c.namespace+c.attribute);if(!e&&!a.targets[b.target]){return true}}}return false},show:function(){var a=this,b=a.fromDelayShow;if(b&&a.targetTextEmpty()){a.onShowVeto();delete a.activeTarget;return}a.callParent(arguments)},showAt:function(a){var b=this,c=b.activeTarget,d=b.header,e;if(c){if(!b.rendered){b.render(Ext.getBody());b.activeTarget=c}b.suspendLayouts();if(c.title){b.setTitle(c.title);d.show()}else if(d){d.hide()}b.update(c.text);b.autoHide=c.autoHide;b.dismissDelay=c.dismissDelay||b.dismissDelay;if(c.mouseOffset){a[0]+=c.mouseOffset[0];a[1]+=c.mouseOffset[1]}e=b.lastCls;if(e){b.removeCls(e);delete b.lastCls}e=c.cls;if(e){b.addCls(e);b.lastCls=e}b.setWidth(c.width);if(b.anchor){b.constrainPosition=false}else if(c.align){a=b.getAlignToXY(c.el,c.align);b.constrainPosition=false}else{b.constrainPosition=true}b.resumeLayouts(true)}b.callParent([a])},hide:function(){delete this.activeTarget;this.callParent()}});Ext.define("Ext.tip.QuickTipManager",{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(a,b){var c=this;if(!c.tip){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(a,b)});return}var d=Ext.apply({disabled:c.disabled,id:"ext-quicktips-tip"},b),e=d.className,f=d.xtype;if(e){delete d.className}else if(f){e="widget."+f;delete d.xtype}if(a!==false){d.renderTo=document.body}c.tip=Ext.create(e||"Ext.tip.QuickTip",d);Ext.quickTipsActive=true}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var a=this,b=a.tip;if(b&&!a.disabled){b.disable()}},ddEnable:function(){var a=this,b=a.tip;if(b&&!a.disabled){b.enable()}},enable:function(){var a=this,b=a.tip;if(b){b.enable()}a.disabled=false},disable:function(){var a=this,b=a.tip;if(b){b.disable()}a.disabled=true},isEnabled:function(){var a=this.tip;return a!==undefined&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}});Ext.define("Ext.app.Application",{extend:Ext.app.Controller,scope:undefined,enableQuickTips:true,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:false,paths:null,onClassExtended:function(a,b,c){var d=Ext.app.Controller,e=a.prototype,f=[],g,h,i,j,k;i=b.name||a.superclass.name;k=b.appFolder||a.superclass.appFolder;if(i){b.$namespace=i;Ext.app.addNamespaces(i)}if(b.namespaces){Ext.app.addNamespaces(b.namespaces)}if(!b["paths processed"]){if(i&&k){Ext.Loader.setPath(i,k)}h=b.paths;if(h){for(j in h){if(h.hasOwnProperty(j)){Ext.Loader.setPath(j,h[j])}}}}else{delete b["paths processed"]}if(b.autoCreateViewport){d.processDependencies(e,f,i,"view",["Viewport"])}if(f.length){g=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var c=Ext.Array.clone(arguments);Ext.require(f,function(){return g.apply(this,c)})}}},constructor:function(a){var b=this;
b.callParent(arguments);b.doInit(b);b.initNamespace();b.initControllers();b.onBeforeLaunch();b.finishInitControllers()},initNamespace:function(){var a=this,b=a.appProperty,c;c=Ext.namespace(a.name);if(c){c.getApplication=function(){return a};if(b){if(!c[b]){c[b]=a}}}},initControllers:function(){var a=this,b=Ext.Array.from(a.controllers);a.controllers=new Ext.util.MixedCollection;for(var c=0,d=b.length;c<d;c++){a.getController(b[c])}},finishInitControllers:function(){var a=this,b,c,d;b=a.controllers.getRange();for(c=0,d=b.length;c<d;c++){b[c].finishInit(a)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var a=this,b,c,d,e;if(a.enableQuickTips){a.initQuickTips()}if(a.autoCreateViewport){a.initViewport()}a.launch.call(a.scope||a);a.launched=true;a.fireEvent("launch",a);b=a.controllers.items;d=b.length;for(c=0;c<d;c++){e=b[c];e.onLaunch(a)}},getModuleClassName:function(a,b){return Ext.app.Controller.getFullName(a,b,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var a=this.getView("Viewport");if(a){a.create()}},getController:function(a){var b=this,c=b.controllers,d,e;e=c.get(a);if(!e){d=b.getModuleClassName(a,"controller");e=Ext.create(d,{application:b,id:a});c.add(e);if(b._initialized){e.doInit(b)}}return e},getApplication:function(){return this}});Ext.define("Ext.app.domain.Controller",{extend:Ext.app.EventDomain,singleton:true,type:"controller",idProperty:"id",constructor:function(){var a=this;a.callParent();a.monitor(Ext.app.Controller)}});Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:Ext.util.Observable},isProvider:true,constructor:function(a){var b=this;Ext.apply(b,a);Ext.applyIf(b,{id:Ext.id(null,"provider-")});b.addEvents("connect","disconnect","data","exception");b.mixins.observable.constructor.call(b,a)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.define("Ext.app.domain.Direct",{extend:Ext.app.EventDomain,singleton:true,type:"direct",idProperty:"id",constructor:function(){var a=this;a.callParent();a.monitor(Ext.direct.Provider)}});Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:Ext.button.Button,alternateClassName:"Ext.SplitButton",arrowCls:"split",split:true,initComponent:function(){this.callParent();this.addEvents("arrowclick")},setArrowHandler:function(a,b){this.arrowHandler=a;this.scope=b},onClick:function(a,b){var c=this;a.preventDefault();if(!c.disabled){if(c.overMenuTrigger){c.maybeShowMenu();c.fireEvent("arrowclick",c,a);if(c.arrowHandler){c.arrowHandler.call(c.scope||c,c,a)}}else{c.doToggle();c.fireHandler(a)}}}});Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:Ext.button.Split,alternateClassName:"Ext.CycleButton",getButtonText:function(a){var b=this,c="";if(a&&b.showText===true){if(b.prependText){c+=b.prependText}c+=a.text;return c}return b.text},setActiveItem:function(a,b){var c=this;if(!Ext.isObject(a)){a=c.menu.getComponent(a)}if(a){if(!c.rendered){c.text=c.getButtonText(a);c.iconCls=a.iconCls;c.glyph=a.glyph}else{c.setText(c.getButtonText(a));c.setIconCls(a.iconCls);c.setGlyph(a.glyph)}c.activeItem=a;if(!a.checked){a.setChecked(true,false)}if(c.forceIcon){c.setIconCls(c.forceIcon)}if(c.forceGlyph){c.setGlyph(c.forceGlyph)}if(!b){c.fireEvent("change",c,a)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){var a=this,b=0,c,d,e,f;a.addEvents("change");if(a.changeHandler){a.on("change",a.changeHandler,a.scope||a);delete a.changeHandler}c=(a.menu.items||[]).concat(a.items||[]);a.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},a.menu);e=c.length;for(d=0;d<e;d++){f=c[d];f=Ext.applyIf({group:a.id,itemIndex:d,checkHandler:a.checkHandler,scope:a,checked:f.checked||false},f);a.menu.items.push(f);if(f.checked){b=d}}a.itemCount=a.menu.items.length;a.callParent(arguments);a.on("click",a.toggleSelected,a);a.setActiveItem(b,a);if(a.width&&a.showText){a.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")}},checkHandler:function(a,b){if(b){this.setActiveItem(a)}},toggleSelected:function(){var a=this,b=a.menu,c;c=a.activeItem.next(":not([disabled])")||b.items.getAt(0);c.setChecked(true)}});Ext.define("Ext.chart.Callout",{constructor:function(a){if(a.callouts){a.callouts.styles=Ext.applyIf(a.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"});this.callouts=Ext.apply(this.callouts||{},a.callouts);this.calloutsArray=[]}},renderCallouts:function(){if(!this.callouts){return}var a=this,b=a.items,c=a.chart.animate,d=a.callouts,e=d.styles,f=a.calloutsArray,g=a.chart.getChartStore(),h=g.getCount(),i=b.length/h,j=[],k,l,m,n,o,p,q,r;for(k=0,l=0;k<h;k++){for(m=0;m<i;m++){o=b[l];p=f[l];q=g.getAt(k);r=!d.filter||d.filter(q);if(!r&&!p){l++;continue}if(!p){f[l]=p=a.onCreateCallout(q,o,k,r,m,l)}for(n in p){if(p[n]&&p[n].setAttributes){p[n].setAttributes(e,true)}}if(!r){for(n in p){if(p[n]){if(p[n].setAttributes){p[n].setAttributes({hidden:true},true)}else if(p[n].setVisible){p[n].setVisible(false)}}}}if(d&&d.renderer){d.renderer(p,q)}a.onPlaceCallout(p,q,o,k,r,c,m,l,j);j.push(p);l++}}this.hideCallouts(l)},onCreateCallout:function(a,b,c,d){var e=this,f=e.calloutsGroup,g=e.callouts,h=g?g.styles:undefined,i=h?h.width:0,j=h?h.height:0,k=e.chart,l=k.surface,m={lines:false};m.lines=l.add(Ext.apply({},{type:"path",path:"M0,0",stroke:e.getLegendColor()||"#555"},h));if(g.items){m.panel=new Ext.Panel({style:"position: absolute;",width:i,height:j,items:g.items,renderTo:k.el})}return m},hideCallouts:function(a){var b=this.calloutsArray,c=b.length,d,e;while(c-->a){d=b[c];for(e in d){if(d[e]){d[e].hide(true)}}}}});Ext.define("Ext.draw.CompositeSprite",{extend:Ext.util.MixedCollection,mixins:{animate:Ext.util.Animate},autoDestroy:false,isCompositeSprite:true,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.addEvents("mousedown","mouseup","mouseover","mouseout","click");b.id=Ext.id(null,"ext-sprite-group-");b.callParent()},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(a){var b=this;a.on({scope:b,mousedown:b.onMouseDown,mouseup:b.onMouseUp,mouseover:b.onMouseOver,mouseout:b.onMouseOut,click:b.onClick})},add:function(a,b){var c=this.callParent(arguments);this.attachEvents(c);return c},insert:function(a,b,c){return this.callParent(arguments)},remove:function(a){var b=this;a.un({scope:b,mousedown:b.onMouseDown,mouseup:b.onMouseUp,mouseover:b.onMouseOver,mouseout:b.onMouseOut,click:b.onClick});return b.callParent(arguments)},getBBox:function(){var a=0,b,c,d=this.items,e=this.length,f=Infinity,g=f,h=-f,i=f,j=-f,k,l;for(;a<e;a++){b=d[a];if(b.el&&!b.bboxExcluded){c=b.getBBox();g=Math.min(g,c.x);i=Math.min(i,c.y);h=Math.max(h,c.height+c.y);j=Math.max(j,c.width+c.x)}}return{x:g,y:i,height:h-i,width:j-g}},setAttributes:function(a,b){var c=0,d=this.items,e=this.length;for(;c<e;c++){d[c].setAttributes(a,b)}return this},hide:function(a){var b=0,c=this.items,d=this.length;for(;b<d;b++){c[b].hide(a)}return this},show:function(a){var b=0,c=this.items,d=this.length;for(;b<d;b++){c[b].show(a)}return this},redraw:function(){var a=this,b=0,c=a.items,d=a.getSurface(),e=a.length;if(d){for(;b<e;b++){d.renderItem(c[b])}}return a},setStyle:function(a){var b=0,c=this.items,d=this.length,e,f;for(;b<d;b++){e=c[b];f=e.el;if(f){f.setStyle(a)}}},addCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d){for(;b<e;b++){d.addCls(c[b],a)}}},removeCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d){for(;b<e;b++){d.removeCls(c[b],a)}}},getSurface:function(){var a=this.first();if(a){return a.surface}return null},destroy:function(){var a=this,b=a.getSurface(),c=a.autoDestroy,d;if(b){while(a.getCount()>0){d=a.first();a.remove(d);b.remove(d,c)}}a.clearListeners()}});Ext.define("Ext.draw.Surface",{mixins:{observable:Ext.util.Observable},separatorRe:/[, ]+/,enginePriority:["Svg","Vml"],statics:{create:function(a,b){b=b||this.prototype.enginePriority;var c=0,d=b.length;for(;c<d;c++){if(Ext.supports[b[c]]){return Ext.create("Ext.draw.engine."+b[c],a)}}return false},save:function(a,b){b=b||{};var c={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},d=c[b.type]||"Svg",e=Ext.draw.engine[d+"Exporter"];return e.generate(a,b)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:false,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:undefined,height:352,width:512,x:0,y:0,orderSpritesByZIndex:true,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.domRef=Ext.getDoc().dom;b.customAttributes={};b.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick");b.mixins.observable.constructor.call(b);b.getId();b.initGradients();b.initItems();if(b.renderTo){b.render(b.renderTo);delete b.renderTo}b.initBackground(a.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(a,b,c,d){if(isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)){this.viewBox={x:a,y:b,width:c,height:d};this.applyViewBox()}},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var a=this.gradients,b=this.addGradient,c,d;if(a){for(c=0,d=a.length;c<d;c++){if(b.call(this,a[c],c,d)===false){break}}}}},initItems:function(){var a=this.items;this.items=new Ext.draw.CompositeSprite;this.items.autoDestroy=true;this.groups=new Ext.draw.CompositeSprite;if(a){this.add(a)}},initBackground:function(a){var b=this,c=b.width,d=b.height,e,f;if(Ext.isString(a)){a={fill:a}}if(a){if(a.gradient){f=a.gradient;e=f.id;b.addGradient(f);b.background=b.add({type:"rect",x:0,y:0,width:c,height:d,fill:"url(#"+e+")",zIndex:-1})}else if(a.fill){b.background=b.add({type:"rect",x:0,y:0,width:c,height:d,fill:a.fill,zIndex:-1})}else if(a.image){b.background=b.add({type:"image",x:0,y:0,width:c,height:d,src:a.image,zIndex:-1})}b.background.bboxExcluded=true}},setSize:function(a,b){this.applyViewBox()},scrubAttrs:function(a){var b,c={},d={},e=a.attr;for(b in e){if(this.translateAttrs.hasOwnProperty(b)){c[this.translateAttrs[b]]=e[b];d[this.translateAttrs[b]]=true}else if(this.availableAttrs.hasOwnProperty(b)&&!d[b]){c[b]=e[b]}}return c},onClick:function(a){this.processEvent("click",a)},onDblClick:function(a){this.processEvent("dblclick",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var a=Array.prototype.slice.call(arguments),b,c=a.length>1,d,e,f,g,h;if(c||Ext.isArray(a[0])){d=c?a:a[0];e=[];for(f=0,g=d.length;f<g;f++){h=d[f];h=this.add(h);e.push(h)}return e}b=this.prepareItems(a[0],true)[0];this.insertByZIndex(b);this.onAdd(b);return b},insertByZIndex:function(a){var b=this,c=b.items.items,d=c.length,e=Math.ceil,f=a.attr.zIndex,g=d,h=g-1,i=0,j;if(b.orderSpritesByZIndex&&d&&f<c[h].attr.zIndex){while(i<=h){g=e((i+h)/2);j=c[g].attr.zIndex;if(j>f){h=g-1}else if(j<f){i=g+1}else{break}}while(g<d&&c[g].attr.zIndex<=f){g++}}b.items.insert(g,a);return g},onAdd:function(a){var b=a.group,c=a.draggable,d,e,f;if(b){d=[].concat(b);e=d.length;for(f=0;f<e;f++){b=d[f];this.getGroup(b).add(a)}delete a.group}if(c){a.initDraggable()}},remove:function(a,b){if(a){this.items.remove(a);var c=[].concat(this.groups.items),d=c.length,e;for(e=0;e<d;e++){c[e].remove(a)}a.onRemove();if(b===true){a.destroy()}}},removeAll:function(a){var b=this.items.items,c=b.length,d;for(d=c-1;d>-1;d--){this.remove(b[d],a)}},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var a=this,b=a.viewBox,c=a.width||1,d=a.height||1,e,f,g,h,i,j,k;if(b&&(c||d)){e=b.x;f=b.y;g=b.width;h=b.height;i=d/h;j=c/g;k=Math.min(j,i);if(g*k<c){e-=(c-g*k)/2/k}if(h*k<d){f-=(d-h*k)/2/k}a.viewBoxShift={dx:-e,dy:-f,scale:k};if(a.background){a.background.setAttributes(Ext.apply({},{x:e,y:f,width:c/k,height:d/k},{hidden:false}),true)}}else{if(a.background&&c&&d){a.background.setAttributes(Ext.apply({x:0,y:0,width:c,height:d},{hidden:false}),true)}}},getBBox:function(a,b){var c=this["getPath"+a.type](a);if(b){a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(c);return a.bbox.plain}if(a.dirtyTransform){this.applyTransformations(a,true)}a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(c,a.matrix));return a.bbox.transform},transformToViewBox:function(a,b){if(this.viewBoxShift){var c=this,d=c.viewBoxShift;return[a/d.scale-d.dx,b/d.scale-d.dy]}else{return[a,b]}},applyTransformations:function(a,b){if(a.type=="text"){a.bbox.transform=0;this.transform(a,false)}a.dirtyTransform=false;var c=this,d=a.attr;if(d.translation.x!=null||d.translation.y!=null){c.translate(a)}if(d.scaling.x!=null||d.scaling.y!=null){c.scale(a)}if(d.rotation.degrees!=null){c.rotate(a)}a.bbox.transform=0;this.transform(a,b);a.transformations=[]},rotate:function(a){var b,c=a.attr.rotation.degrees,d=a.attr.rotation.x,e=a.attr.rotation.y;if(!Ext.isNumber(d)||!Ext.isNumber(e)){b=this.getBBox(a,true);d=!Ext.isNumber(d)?b.x+b.width/2:d;e=!Ext.isNumber(e)?b.y+b.height/2:e}a.transformations.push({type:"rotate",degrees:c,x:d,y:e})},translate:function(a){var b=a.attr.translation.x||0,c=a.attr.translation.y||0;a.transformations.push({type:"translate",x:b,y:c})},scale:function(a){var b,c=a.attr.scaling.x||1,d=a.attr.scaling.y||1,e=a.attr.scaling.centerX,f=a.attr.scaling.centerY;if(!Ext.isNumber(e)||!Ext.isNumber(f)){b=this.getBBox(a,true);e=!Ext.isNumber(e)?b.x+b.width/2:e;f=!Ext.isNumber(f)?b.y+b.height/2:f}a.transformations.push({type:"scale",x:c,y:d,centerX:e,centerY:f})},rectPath:function(a,b,c,d,e){if(e){return[["M",a+e,b],["l",c-e*2,0],["a",e,e,0,0,1,e,e],["l",0,d-e*2],["a",e,e,0,0,1,-e,e],["l",e*2-c,0],["a",e,e,0,0,1,-e,-e],["l",0,e*2-d],["a",e,e,0,0,1,e,-e],["z"]]}return[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},ellipsePath:function(a,b,c,d){if(d==null){d=c}return[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(a){var b=a.attr;return this.ellipsePath(b.x,b.y,b.radius,b.radius)},getPathellipse:function(a){var b=a.attr;return this.ellipsePath(b.x,b.y,b.radiusX||b.width/2||0,b.radiusY||b.height/2||0)},getPathrect:function(a){var b=a.attr;return this.rectPath(b.x||0,b.y||0,b.width||0,b.height||0,b.r||0)},getPathimage:function(a){var b=a.attr;return this.rectPath(b.x||0,b.y||0,b.width,b.height)},getPathtext:function(a){var b=this.getBBoxText(a);return this.rectPath(b.x,b.y,b.width,b.height)},createGroup:function(a){var b=this.groups.get(a);if(!b){b=new Ext.draw.CompositeSprite({surface:this});b.id=a||Ext.id(null,"ext-surface-group-");this.groups.add(b)}return b},getGroup:function(a){var b;if(typeof a=="string"){b=this.groups.get(a);if(!b){b=this.createGroup(a)}}else{b=a}return b},prepareItems:function(a,b){a=[].concat(a);var c,d,e;for(d=0,e=a.length;d<e;d++){c=a[d];if(!(c instanceof Ext.draw.Sprite)){c.surface=this;a[d]=this.createItem(c)}else{c.surface=this}}return a},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var a=this;delete a.domRef;if(a.background){a.background.destroy()}a.removeAll(true);Ext.destroy(a.groups.items)}});Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:Ext.layout.component.Auto,setHeightInDom:true,setWidthInDom:true,type:"draw",measureContentWidth:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);if(!b.viewBox){if(b.autoSize){return d.width+c.width}else{return d.x+d.width+c.width}}else{if(a.heightModel.shrinkWrap){return c.width}else{return d.width/d.height*(a.getProp("contentHeight")-c.height)+c.width}}},measureContentHeight:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);if(!a.target.viewBox){if(b.autoSize){return d.height+c.height}else{return d.y+d.height+c.height}}else{if(a.widthModel.shrinkWrap){return c.height}else{return d.height/d.width*(a.getProp("contentWidth")-c.width)+c.height}}},getBBox:function(a){var b=a.surfaceBBox;if(!b){b=a.target.surface.items.getBBox();if(b.width===-Infinity&&b.height===-Infinity){b.width=b.height=b.x=b.y=0}a.surfaceBBox=b}return b},publishInnerWidth:function(a,b){a.setContentWidth(b-a.getFrameInfo().width,true)},publishInnerHeight:function(a,b){a.setContentHeight(b-a.getFrameInfo().height,true)},finishedLayout:function(a){var b=a.props,c=a.getPaddingInfo();this.owner.setSurfaceSize(b.contentWidth-c.width,b.contentHeight-c.height);this.callParent(arguments)}});Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:Ext.Component,enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:true,shrinkWrap:3,autoSize:false,initComponent:function(){this.callParent(arguments);this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var a=this,b=a.viewBox,c=a.autoSize,d,e,f,g,h,i;a.callParent(arguments);if(a.createSurface()!==false){e=a.surface.items;if(b||c){d=e.getBBox();f=d.width;g=d.height;h=d.x;i=d.y;if(a.viewBox){a.surface.setViewBox(h,i,f,g)}else{a.autoSizeSurface()}}}},autoSizeSurface:function(){var a=this.surface.items.getBBox();this.setSurfaceSize(a.width,a.height)},setSurfaceSize:function(a,b){this.surface.setSize(a,b);if(this.autoSize){var c=this.surface.items.getBBox();this.surface.setViewBox(c.x,c.y-+Ext.isOpera,a,b)}},createSurface:function(){var a=this,b=Ext.applyIf({renderTo:a.el,height:a.height,width:a.width,items:a.items},a.initialConfig),c;delete b.listeners;if(!b.gradients){b.gradients=a.gradients}c=Ext.draw.Surface.create(b,a.enginePriority);if(!c){return false}a.surface=c;function d(b){return function(c){a.fireEvent(b,c)}}c.on({scope:a,mouseup:d("mouseup"),mousedown:d("mousedown"),mousemove:d("mousemove"),mouseenter:d("mouseenter"),mouseleave:d("mouseleave"),click:d("click"),dblclick:d("dblclick")})},onDestroy:function(){Ext.destroy(this.surface);this.callParent(arguments)}});Ext.chart=Ext.chart||{};Ext.define("Ext.chart.theme.Theme",function(){(function(){Ext.chart.theme=function(a,b){a=a||{};var c=0,d=Ext.Date.now(),e,f,g,h,i,j,k,l,m=[],n,o;if(a.baseColor){n=Ext.draw.Color.fromString(a.baseColor);o=n.getHSL()[2];if(o<.15){n=n.getLighter(.3)}else if(o<.3){n=n.getLighter(.15)}else if(o>.85){n=n.getDarker(.3)}else if(o>.7){n=n.getDarker(.15)}a.colors=[n.getDarker(.3).toString(),n.getDarker(.15).toString(),n.toString(),n.getLighter(.15).toString(),n.getLighter(.3).toString()];delete a.baseColor}if(a.colors){f=a.colors.slice();i=b.markerThemes;h=b.seriesThemes;e=f.length;b.colors=f;for(;c<e;c++){g=f[c];k=i[c]||{};j=h[c]||{};k.fill=j.fill=k.stroke=j.stroke=g;i[c]=k;h[c]=j}b.markerThemes=i.slice(0,e);b.seriesThemes=h.slice(0,e)}for(l in b){if(l in a){if(Ext.isObject(a[l])&&Ext.isObject(b[l])){Ext.apply(b[l],a[l])}else{b[l]=a[l]}}}if(a.useGradients){f=b.colors||function(){var a=[];for(c=0,h=b.seriesThemes,e=h.length;c<e;c++){a.push(h[c].fill||h[c].stroke)}return a}();for(c=0,e=f.length;c<e;c++){n=Ext.draw.Color.fromString(f[c]);if(n){g=n.getDarker(.1).toString();n=n.toString();l="theme-"+n.substr(1)+"-"+g.substr(1)+"-"+d;m.push({id:l,angle:45,stops:{0:{color:n.toString()},100:{color:g.toString()}}});f[c]="url(#"+l+")"}}b.gradients=m;b.colors=f}Ext.apply(this,b)}})();return{theme:"Base",themeAttrs:false,initTheme:function(a){var b=this,c=Ext.chart.theme,d,e;if(a){a=a.split(":");for(d in c){if(d==a[0]){e=a[1]=="gradients";b.themeAttrs=new c[d]({useGradients:e});if(e){b.gradients=b.themeAttrs.gradients}if(b.themeAttrs.background){b.background=b.themeAttrs.background}return}}}}}}());Ext.define("Ext.chart.MaskLayer",{extend:Ext.Component,constructor:function(a){a=Ext.apply(a||{},{style:"position:absolute;background-color:#ff9;cursor:crosshair;opacity:0.5;border:1px solid #00f;"});this.callParent([a])},initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments);this.dd.onStart=function(a){var b=this,c=b.comp;this.startPosition=c.getPosition(true);if(c.ghost&&!c.liveDrag){b.proxy=c.ghost();b.dragTarget=b.proxy.header.el}if(b.constrain||b.constrainDelegate){b.constrainTo=b.calculateConstrainRegion()}}}});Ext.define("Ext.chart.Mask",{constructor:function(a){var b=this;b.addEvents("select");if(a){Ext.apply(b,a)}if(b.enableMask){b.on("afterrender",function(){var a=new Ext.chart.MaskLayer({renderTo:b.el,hidden:true});a.el.on({mousemove:function(a){b.onMouseMove(a)},mouseup:function(a){b.onMouseUp(a)}});a.initDraggable();b.maskType=b.mask;b.mask=a;b.maskSprite=b.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.6,hidden:true,stroke:"#00f",cursor:"crosshair"})},b,{single:true})}},onMouseUp:function(a){var b=this,c=b.bbox||b.chartBBox,d;b.maskMouseDown=false;b.mouseDown=false;if(b.mouseMoved){b.handleMouseEvent(a);b.mouseMoved=false;d=b.maskSelection;b.fireEvent("select",b,{x:d.x-c.x,y:d.y-c.y,width:d.width,height:d.height})}},onMouseDown:function(a){this.handleMouseEvent(a)},onMouseMove:function(a){this.handleMouseEvent(a)},handleMouseEvent:function(a){var b=this,c=b.maskType,d=b.bbox||b.chartBBox,e=d.x,f=d.y,g=Math,h=g.floor,i=g.abs,j=g.min,k=g.max,l=h(f+d.height),m=h(e+d.width),n=a.getPageX()-b.el.getX(),o=a.getPageY()-b.el.getY(),p=b.maskMouseDown,q;n=k(n,e);o=k(o,f);n=j(n,m);o=j(o,l);if(a.type==="mousedown"){b.mouseDown=true;b.mouseMoved=false;b.maskMouseDown={x:n,y:o}}else{b.mouseMoved=b.mouseDown;if(p&&b.mouseDown){if(c=="horizontal"){o=f;p.y=l}else if(c=="vertical"){n=e;p.x=m}m=p.x-n;l=p.y-o;q=["M",n,o,"l",m,0,0,l,-m,0,"z"];b.maskSelection={x:(m>0?n:n+m)+b.el.getX(),y:(l>0?o:o+l)+b.el.getY(),width:i(m),height:i(l)};b.mask.updateBox(b.maskSelection);b.mask.show();b.maskSprite.setAttributes({hidden:true},true)}else{if(c=="horizontal"){q=["M",n,f,"L",n,l]}else if(c=="vertical"){q=["M",e,o,"L",m,o]}else{q=["M",n,f,"L",n,l,"M",e,o,"L",m,o]}b.maskSprite.setAttributes({path:q,"stroke-width":c===true?1:1,hidden:false},true)}}},onMouseLeave:function(a){var b=this;b.mouseMoved=false;b.mouseDown=false;b.maskMouseDown=false;b.mask.hide();b.maskSprite.hide(true)}});Ext.define("Ext.chart.Navigation",{setZoom:function(a){var b=this,c=b.axes.items,d,e,f,g=b.chartBBox,h=g.width,i=g.height,j={x:a.x-b.el.getX(),y:a.y-b.el.getY(),width:a.width,height:a.height},k,l,m,n,o,p,q,r,s;for(d=0,e=c.length;d<e;d++){f=c[d];s=f.position=="bottom"||f.position=="top";if(f.type=="Category"){if(!o){o=b.getChartStore();p=o.data.items.length}k=j;r=f.length;q=Math.round(r/p);if(s){m=k.x?Math.floor(k.x/q)+1:0;n=(k.x+k.width)/q}else{m=k.y?Math.floor(k.y/q)+1:0;n=(k.y+k.height)/q}}else{k={x:j.x/h,y:j.y/i,width:j.width/h,height:j.height/i};l=f.calcEnds();if(s){m=(l.to-l.from)*k.x+l.from;n=(l.to-l.from)*k.width+m}else{n=(l.to-l.from)*(1-k.y)+l.from;m=n-(l.to-l.from)*k.height}}f.minimum=m;f.maximum=n;if(s){if(f.doConstrain&&b.maskType!="vertical"){f.doConstrain()}}else{if(f.doConstrain&&b.maskType!="horizontal"){f.doConstrain()}}}b.redraw(false)},restoreZoom:function(){var a=this,b=a.axes.items,c,d,e;a.setSubStore(null);for(c=0,d=b.length;c<d;c++){e=b[c];delete e.minimum;delete e.maximum}a.redraw(false)}});Ext.define("Ext.chart.Shape",{singleton:true,circle:function(a,b){return a.add(Ext.apply({type:"circle",x:b.x,y:b.y,stroke:null,radius:b.radius},b))},line:function(a,b){return a.add(Ext.apply({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius/5},b))},square:function(a,b){return a.add(Ext.applyIf({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius,radius:null},b))},triangle:function(a,b){b.radius*=1.75;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x,",",b.y,"m0-",b.radius*.58,"l",b.radius*.5,",",b.radius*.87,"-",b.radius,",0z")},b))},diamond:function(a,b){var c=b.radius;c*=1.5;return a.add(Ext.apply({type:"path",stroke:null,path:["M",b.x,b.y-c,"l",c,c,-c,c,-c,-c,c,-c,"z"]},b))},cross:function(a,b){var c=b.radius;c=c/1.7;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c,",",b.y,"l",[-c,-c,c,-c,c,c,c,-c,c,c,-c,c,c,c,-c,c,-c,-c,-c,c,-c,-c,"z"])},b))},plus:function(a,b){var c=b.radius/1.3;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c/2,",",b.y-c/2,"l",[0,-c,c,0,0,c,c,0,0,c,-c,0,0,c,-c,0,0,-c,-c,0,0,-c,"z"])},b))},arrow:function(a,b){var c=b.radius;return a.add(Ext.apply({type:"path",path:"M".concat(b.x-c*.7,",",b.y-c*.4,"l",[c*.6,0,0,-c*.4,c,c*.8,-c,c*.8,0,-c*.4,-c*.6,0],"z")},b))},drop:function(a,b,c,d,e,f){e=e||30;f=f||0;a.add({type:"path",path:["M",b,c,"l",e,0,"A",e*.4,e*.4,0,1,0,b+e*.7,c-e*.7,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-f,x:b,y:c}});f=(f+90)*Math.PI/180;a.add({type:"text",x:b+e*Math.sin(f)-10,y:c+e*Math.cos(f)+5,text:d,"font-size":e*12/40,stroke:"none",fill:"#fff"})}});Ext.define("Ext.chart.LegendItem",{extend:Ext.draw.CompositeSprite,hiddenSeries:false,label:undefined,x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(a){this.callParent(arguments);this.createLegend(a)},createLegend:function(a){var b=this,c=b.series,d=a.yFieldIndex;b.label=b.createLabel(a);b.createSeriesMarkers(a);b.setAttributes({hidden:false},true);b.yFieldIndex=d;b.on("mouseover",b.onMouseOver,b);b.on("mouseout",b.onMouseOut,b);b.on("mousedown",b.onMouseDown,b);if(!c.visibleInLegend(d)){b.hiddenSeries=true;b.label.setAttributes({opacity:.5},true)}b.updatePosition({x:0,y:0})},getLabelText:function(){var a=this,b=a.series,c=a.yFieldIndex;function d(a){var d=b[a];return Ext.isArray(d)?d[c]:d}return d("title")||d("yField")},createLabel:function(a){var b=this,c=b.legend;return b.add("label",b.surface.add({type:"text",x:20,y:0,zIndex:(b.zIndex||0)+2,fill:c.labelColor,font:c.labelFont,text:b.getLabelText(),style:{cursor:"pointer"}}))},createSeriesMarkers:function(a){var b=this,c=a.yFieldIndex,d=b.series,e=d.type,f=b.surface,g=b.zIndex;if(e==="line"||e==="scatter"){if(e==="line"){var h=Ext.apply(d.seriesStyle,d.style);b.drawLine(.5,.5,16.5,.5,g,h,c)}if(d.showMarkers||e==="scatter"){var i=Ext.apply(d.markerStyle,d.markerConfig||{},{fill:d.getLegendColor(c)});b.drawMarker(8.5,.5,g,i)}}else{b.drawFilledBox(12,12,g,c)}},drawLine:function(a,b,c,d,e,f,g){var h=this,i=h.surface,j=h.series;return h.add("line",i.add({type:"path",path:"M"+a+","+b+"L"+c+","+d,zIndex:(e||0)+2,"stroke-width":j.lineWidth,"stroke-linejoin":"round","stroke-dasharray":j.dash,stroke:f.stroke||j.getLegendColor(g)||"#000",style:{cursor:"pointer"}}))},drawMarker:function(a,b,c,d){var e=this,f=e.surface,g=e.series;return e.add("marker",Ext.chart.Shape[d.type](f,{fill:d.fill,x:a,y:b,zIndex:(c||0)+2,radius:d.radius||d.size,style:{cursor:"pointer"}}))},drawFilledBox:function(a,b,c,d){var e=this,f=e.surface,g=e.series;return e.add("box",f.add({type:"rect",zIndex:(c||0)+2,x:0,y:0,width:a,height:b,fill:g.getLegendColor(d),style:{cursor:"pointer"}}))},onMouseOver:function(){var a=this;a.label.setStyle({"font-weight":"bold"});a.series._index=a.yFieldIndex;a.series.highlightItem()},onMouseOut:function(){var a=this,b=a.legend,c=a.boldRe;a.label.setStyle({"font-weight":b.labelFont&&c.test(b.labelFont)?"bold":"normal"});a.series._index=a.yFieldIndex;a.series.unHighlightItem()},onMouseDown:function(){var a=this,b=a.yFieldIndex;if(!a.hiddenSeries){a.series.hideAll(b);a.label.setAttributes({opacity:.5},true)}else{a.series.showAll(b);a.label.setAttributes({opacity:1},true)}a.hiddenSeries=!a.hiddenSeries;a.legend.chart.redraw()},updatePosition:function(a){var b=this,c=b.items,d=c.length,e=0,f;if(!a){a=b.legend}for(;e<d;e++){f=c[e];switch(f.type){case"text":f.setAttributes({x:20+a.x+b.x,y:a.y+b.y},true);break;case"rect":f.setAttributes({translate:{x:a.x+b.x,y:a.y+b.y-6}},true);break;default:f.setAttributes({translate:{x:a.x+b.x,y:a.y+b.y}},true)}}}});Ext.define("Ext.chart.Legend",{visible:true,update:true,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(a){var b=this;if(a){Ext.apply(b,a)}b.items=[];b.isVertical="left|right|float".indexOf(b.position)!==-1;b.origX=b.x;b.origY=b.y},create:function(){var a=this,b=a.chart.series.items,c,d,e;a.createBox();if(a.rebuild!==false){a.createItems()}if(!a.created&&a.isDisplayed()){a.created=true;for(c=0,d=b.length;c<d;c++){e=b[c];e.on("titlechange",a.redraw,a)}}},redraw:function(){var a=this;a.create();a.updatePosition()},isDisplayed:function(){return this.visible&&this.chart.series.findIndex("showInLegend",true)!==-1},createItems:function(){var a=this,b=a.chart.series.items,c=a.items,d,e,f,g,h,i,j;a.removeItems();for(e=0,f=b.length;e<f;e++){i=b[e];if(i.showInLegend){d=[].concat(i.yField);for(g=0,h=d.length;g<h;g++){j=a.createLegendItem(i,g);c.push(j)}}}a.alignItems()},removeItems:function(){var a=this,b=a.items,c=b?b.length:0,d;if(c){for(d=0;d<c;d++){b[d].destroy()}}b.length=[]},alignItems:function(){var a=this,b=a.padding,c=a.isVertical,d=Math.floor,e,f,g,h,i;e=a.updateItemDimensions();f=e.maxWidth;g=e.maxHeight;h=e.totalWidth;i=e.totalHeight;a.width=d((c?f:h)+b*2);a.height=d((c?i:g)+b*2)},updateItemDimensions:function(){var a=this,b=a.items,c=a.padding,d=a.itemSpacing,e=0,f=0,g=0,h=0,i=a.isVertical,j=Math.floor,k=Math.max,l=0,m,n,o,p,q,r;for(m=0,n=b.length;m<n;m++){o=b[m];p=o.getBBox();q=p.width;r=p.height;l=m===0?0:d;o.x=c+j(i?0:g+l);o.y=c+j(i?h+l:0)+r/2;g+=l+q;h+=l+r;e=k(e,q);f=k(f,r)}return{totalWidth:g,totalHeight:h,maxWidth:e,maxHeight:f}},createLegendItem:function(a,b){var c=this;return new Ext.chart.LegendItem({legend:c,series:a,surface:c.chart.surface,yFieldIndex:b})},getBBox:function(){var a=this;return{x:Math.round(a.x)-a.boxStrokeWidth/2,y:Math.round(a.y)-a.boxStrokeWidth/2,width:a.width+a.boxStrokeWidth,height:a.height+a.boxStrokeWidth}},createBox:function(){var a=this,b,c;if(a.boxSprite){a.boxSprite.destroy()}c=a.getBBox();if(isNaN(c.width)||isNaN(c.height)){a.boxSprite=false;return}b=a.boxSprite=a.chart.surface.add(Ext.apply({type:"rect",stroke:a.boxStroke,"stroke-width":a.boxStrokeWidth,fill:a.boxFill,zIndex:a.boxZIndex},c));b.redraw()},calcPosition:function(){var a=this,b,c,d=a.width,e=a.height,f=a.chart,g=f.chartBBox,h=f.insetPadding,i=g.width-h*2,j=g.height-h*2,k=g.x+h,l=g.y+h,m=f.surface,n=Math.floor;switch(a.position){case"left":b=h;c=n(l+j/2-e/2);break;case"right":b=n(m.width-d)-h;c=n(l+j/2-e/2);break;case"top":b=n(k+i/2-d/2);c=h;break;case"bottom":b=n(k+i/2-d/2);c=n(m.height-e)-h;break;default:b=n(a.origX)+h;c=n(a.origY)+h}return{x:b,y:c}},updatePosition:function(){var a=this,b=a.items,c,d,e,f;if(a.isDisplayed()){c=a.calcPosition();a.x=c.x;a.y=c.y;for(d=0,e=b.length;d<e;d++){b[d].updatePosition()}f=a.getBBox();if(isNaN(f.width)||isNaN(f.height)){if(a.boxSprite){a.boxSprite.hide(true)}}else{if(!a.boxSprite){a.createBox()}a.boxSprite.setAttributes(f,true);a.boxSprite.show(true)}}},toggle:function(a){var b=this,c=0,d=b.items,e=d.length;if(b.boxSprite){if(a){b.boxSprite.show(true)}else{b.boxSprite.hide(true)}}for(;c<e;++c){if(a){d[c].show(true)}else{d[c].hide(true)}}b.visible=a}});Ext.define("Ext.chart.theme.Base",{constructor:function(a){var b=Ext.identityFn;Ext.chart.theme.call(this,a,{background:false,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})
}},function(){var a=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],b=["Green","Sky","Red","Purple","Blue","Yellow"],c=0,d=0,e=a.length,f=Ext.chart.theme,g=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],h=g.length;for(;c<e;c++){f[b[c]]=function(a){return Ext.extend(f.Base,{constructor:function(b){f.Base.prototype.constructor.call(this,Ext.apply({baseColor:a},b))}})}(a[c])}for(c=0;c<h;c++){f["Category"+(c+1)]=function(a){return Ext.extend(f.Base,{constructor:function(b){f.Base.prototype.constructor.call(this,Ext.apply({colors:a},b))}})}(g[c])}});Ext.define("Ext.chart.Chart",{extend:Ext.draw.Component,alias:"widget.chart",mixins:{themeManager:Ext.chart.theme.Theme,mask:Ext.chart.Mask,navigation:Ext.chart.Navigation,bindable:Ext.util.Bindable,observable:Ext.util.Observable},viewBox:false,animate:false,legend:false,insetPadding:10,background:false,constructor:function(a){var b=this,c;a=Ext.apply({},a);b.initTheme(a.theme||b.theme);if(b.gradients){Ext.apply(a,{gradients:b.gradients})}if(b.background){Ext.apply(a,{background:b.background})}if(a.animate){c={easing:"ease",duration:500};if(Ext.isObject(a.animate)){a.animate=Ext.applyIf(a.animate,c)}else{a.animate=c}}b.mixins.observable.constructor.call(b,a);if(a.enableMask){b.mixins.mask.constructor.call(b)}b.mixins.navigation.constructor.call(b);b.callParent([a])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var a=this,b,c;a.callParent();a.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");Ext.applyIf(a,{zoom:{width:1,height:1,x:0,y:0}});a.maxGutters={left:0,right:0,bottom:0,top:0};a.store=Ext.data.StoreManager.lookup(a.store);b=a.axes;a.axes=new Ext.util.MixedCollection(false,function(a){return a.position});if(b){a.axes.addAll(b)}c=a.series;a.series=new Ext.util.MixedCollection(false,function(a){return a.seriesId||(a.seriesId=Ext.id(null,"ext-chart-series-"))});if(c){a.series.addAll(c)}if(a.legend!==false){a.legend=new Ext.chart.Legend(Ext.applyIf({chart:a},a.legend))}a.on({mousemove:a.onMouseMove,mouseleave:a.onMouseLeave,mousedown:a.onMouseDown,mouseup:a.onMouseUp,click:a.onClick,dblclick:a.onDblClick,scope:a})},afterComponentLayout:function(a,b,c,d){var e=this;if(Ext.isNumber(a)&&Ext.isNumber(b)){if(a!==c||b!==d){e.curWidth=a;e.curHeight=b;e.redraw(true);e.needsRedraw=false}else if(e.needsRedraw){e.redraw();e.needsRedraw=false}}this.callParent(arguments)},redraw:function(a){var b=this,c=b.series.items,d=c.length,e=b.axes.items,f=e.length,g=0,h,i,j=b.chartBBox={x:0,y:0,height:b.curHeight,width:b.curWidth},k=b.legend,l;b.surface.setSize(j.width,j.height);for(h=0;h<d;h++){i=c[h];if(!i.initialized){l=b.initializeSeries(i,h,g)}else{l=i}l.onRedraw();if(Ext.isArray(i.yField)){g+=i.yField.length}else{++g}}for(h=0;h<f;h++){i=e[h];if(!i.initialized){b.initializeAxis(i)}}for(h=0;h<f;h++){e[h].processView()}for(h=0;h<f;h++){e[h].drawAxis(true)}if(k!==false&&k.visible){if(k.update||!k.created){k.create()}}b.alignAxes();if(k!==false&&k.visible){k.updatePosition()}b.getMaxGutters();b.resizing=!!a;for(h=0;h<f;h++){e[h].drawAxis()}for(h=0;h<d;h++){b.drawCharts(c[h])}b.resizing=false},afterRender:function(){var a=this;a.callParent(arguments);if(a.categoryNames){a.setCategoryNames(a.categoryNames)}a.bindStore(a.store,true);a.refresh();if(a.surface.engine==="Vml"){a.on("added",a.onAddedVml,a);a.mon(a.hierarchyEventSource,"added",a.onContainerAddedVml,a)}},onAddedVml:function(){this.needsRedraw=true},onContainerAddedVml:function(a){if(this.isDescendantOf(a)){this.needsRedraw=true}},getEventXY:function(a){var b=this,c=this.surface.getRegion(),d=a.getXY(),e=d[0]-c.left,f=d[1]-c.top;return[e,f]},onClick:function(a){this.handleClick("itemclick",a)},onDblClick:function(a){this.handleClick("itemdblclick",a)},handleClick:function(a,b){var c=this,d=c.getEventXY(b),e=c.series.items,f,g,h,i;for(f=0,g=e.length;f<g;f++){h=e[f];if(Ext.draw.Draw.withinBox(d[0],d[1],h.bbox)){if(h.getItemForPoint){i=h.getItemForPoint(d[0],d[1]);if(i){h.fireEvent(a,i)}}}}},onMouseDown:function(a){var b=this,c=b.getEventXY(a),d=b.series.items,e,f,g,h;if(b.enableMask){b.mixins.mask.onMouseDown.call(b,a)}for(e=0,f=d.length;e<f;e++){g=d[e];if(Ext.draw.Draw.withinBox(c[0],c[1],g.bbox)){if(g.getItemForPoint){h=g.getItemForPoint(c[0],c[1]);if(h){g.fireEvent("itemmousedown",h)}}}}},onMouseUp:function(a){var b=this,c=b.getEventXY(a),d=b.series.items,e,f,g,h;if(b.enableMask){b.mixins.mask.onMouseUp.call(b,a)}for(e=0,f=d.length;e<f;e++){g=d[e];if(Ext.draw.Draw.withinBox(c[0],c[1],g.bbox)){if(g.getItemForPoint){h=g.getItemForPoint(c[0],c[1]);if(h){g.fireEvent("itemmouseup",h)}}}}},onMouseMove:function(a){var b=this,c=b.getEventXY(a),d=b.series.items,e,f,g,h,i,j,k;if(b.enableMask){b.mixins.mask.onMouseMove.call(b,a)}for(e=0,f=d.length;e<f;e++){g=d[e];if(Ext.draw.Draw.withinBox(c[0],c[1],g.bbox)){if(g.getItemForPoint){h=g.getItemForPoint(c[0],c[1]);i=g._lastItemForPoint;j=g._lastStoreItem;k=g._lastStoreField;if(h!==i||h&&(h.storeItem!=j||h.storeField!=k)){if(i){g.fireEvent("itemmouseout",i);delete g._lastItemForPoint;delete g._lastStoreField;delete g._lastStoreItem}if(h){g.fireEvent("itemmouseover",h);g._lastItemForPoint=h;g._lastStoreItem=h.storeItem;g._lastStoreField=h.storeField}}}}else{i=g._lastItemForPoint;if(i){g.fireEvent("itemmouseout",i);delete g._lastItemForPoint;delete g._lastStoreField;delete g._lastStoreItem}}}},onMouseLeave:function(a){var b=this,c=b.series.items,d,e,f;if(b.enableMask){b.mixins.mask.onMouseLeave.call(b,a)}for(d=0,e=c.length;d<e;d++){f=c[d];delete f._lastItemForPoint}},delayRefresh:function(){var a=this;if(!a.refreshTask){a.refreshTask=new Ext.util.DelayedTask(a.refresh,a)}a.refreshTask.delay(a.refreshBuffer)},refresh:function(){var a=this;if(a.rendered&&a.curWidth!==undefined&&a.curHeight!==undefined){if(!a.isVisible(true)){if(!a.refreshPending){a.setShowListeners("mon");a.refreshPending=true}return}if(a.fireEvent("beforerefresh",a)!==false){a.redraw();a.fireEvent("refresh",a)}}},onShow:function(){var a=this;a.callParent(arguments);if(a.refreshPending){a.delayRefresh();a.setShowListeners("mun")}delete a.refreshPending},setShowListeners:function(a){var b=this;b[a](b.hierarchyEventSource,{scope:b,single:true,show:b.forceRefresh,expand:b.forceRefresh})},doRefresh:function(){this.setSubStore(null);this.refresh()},forceRefresh:function(a){var b=this;if(b.isDescendantOf(a)&&b.refreshPending){b.setShowListeners("mun");b.delayRefresh()}delete b.refreshPending},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments);if(c.store&&!b){c.refresh()}},getStoreListeners:function(){var a=this.doRefresh,b=this.delayRefresh;return{refresh:a,add:b,bulkremove:b,update:b,clear:a}},setSubStore:function(a){this.substore=a},initializeAxis:function(a){var b=this,c=b.chartBBox,d=c.width,e=c.height,f=c.x,g=c.y,h=b.themeAttrs,i={chart:b};if(h){i.axisStyle=Ext.apply({},h.axis);i.axisLabelLeftStyle=Ext.apply({},h.axisLabelLeft);i.axisLabelRightStyle=Ext.apply({},h.axisLabelRight);i.axisLabelTopStyle=Ext.apply({},h.axisLabelTop);i.axisLabelBottomStyle=Ext.apply({},h.axisLabelBottom);i.axisTitleLeftStyle=Ext.apply({},h.axisTitleLeft);i.axisTitleRightStyle=Ext.apply({},h.axisTitleRight);i.axisTitleTopStyle=Ext.apply({},h.axisTitleTop);i.axisTitleBottomStyle=Ext.apply({},h.axisTitleBottom)}switch(a.position){case"top":Ext.apply(i,{length:d,width:e,x:f,y:g});break;case"bottom":Ext.apply(i,{length:d,width:e,x:f,y:e});break;case"left":Ext.apply(i,{length:e,width:d,x:f,y:e});break;case"right":Ext.apply(i,{length:e,width:d,x:d,y:e});break}if(!a.chart){Ext.apply(i,a);a=b.axes.replace(Ext.createByAlias("axis."+a.type.toLowerCase(),i))}else{Ext.apply(a,i)}a.initialized=true},getInsets:function(){var a=this,b=a.insetPadding;return{top:b,right:b,bottom:b,left:b}},calculateInsets:function(){var a=this,b=a.legend,c=a.axes,d=["top","right","bottom","left"],e,f,g,h,i,j,k;function l(a){var b=c.findIndex("position",a);return b<0?null:c.getAt(b)}e=a.getInsets();for(f=0,g=d.length;f<g;f++){h=d[f];i=h==="left"||h==="right";j=l(h);if(b!==false){if(b.position===h){k=b.getBBox();e[h]+=(i?k.width:k.height)+a.insetPadding}}if(j&&j.bbox){k=j.bbox;e[h]+=i?k.width:k.height}}return e},alignAxes:function(){var a=this,b=a.axes.items,c,d,e,f,g,h,i;c=a.calculateInsets();d={x:c.left,y:c.top,width:a.curWidth-c.left-c.right,height:a.curHeight-c.top-c.bottom};a.chartBBox=d;for(e=0,f=b.length;e<f;e++){g=b[e];h=g.position;i=h==="left"||h==="right";g.x=h==="right"?d.x+d.width:d.x;g.y=h==="top"?d.y:d.y+d.height;g.width=i?d.width:d.height;g.length=i?d.height:d.width}},initializeSeries:function(a,b,c){var d=this,e=d.themeAttrs,f,g,h,j,k,l=[],m=(a instanceof Ext.chart.series.Series).i=0,n,o;if(!a.initialized){o={chart:d,seriesId:a.seriesId};if(e){h=e.seriesThemes;k=e.markerThemes;f=Ext.apply({},e.series);g=Ext.apply({},e.marker);o.seriesStyle=Ext.apply(f,h[c%h.length]);o.seriesLabelStyle=Ext.apply({},e.seriesLabel);o.markerStyle=Ext.apply(g,k[c%k.length]);if(e.colors){o.colorArrayStyle=e.colors}else{l=[];for(n=h.length;i<n;i++){j=h[i];if(j.fill||j.stroke){l.push(j.fill||j.stroke)}}if(l.length){o.colorArrayStyle=l}}o.seriesIdx=b;o.themeIdx=c}if(m){Ext.applyIf(a,o)}else{Ext.applyIf(o,a);a=d.series.replace(Ext.createByAlias("series."+a.type.toLowerCase(),o))}}if(a.initialize){a.initialize()}a.initialized=true;return a},getMaxGutters:function(){var a=this,b=a.series.items,c,d,e,f,g=0,h=0,i=0,j=0;for(c=0,d=b.length;c<d;c++){f=b[c].getGutters();if(f){if(f.verticalAxis){i=Math.max(i,f.lower);j=Math.max(j,f.upper)}else{g=Math.max(g,f.lower);h=Math.max(h,f.upper)}}}a.maxGutters={left:g,right:h,bottom:i,top:j}},drawAxis:function(a){a.drawAxis()},drawCharts:function(a){a.triggerafterrender=false;a.drawSeries();if(!this.animate){a.fireEvent("afterrender")}},save:function(a){return Ext.draw.Surface.save(this.surface,a)},destroy:function(){Ext.destroy(this.surface);this.bindStore(null);this.callParent(arguments)}});Ext.define("Ext.chart.Highlight",{highlight:false,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(a){if(a.highlight&&typeof a.highlight!=="boolean"){this.highlightCfg=Ext.merge({},this.highlightCfg,a.highlight)}},highlightItem:function(a){if(!a){return}var b=this,c=a.sprite,d=Ext.merge({},b.highlightCfg,b.highlight),e=b.chart.surface,f=b.chart.animate,g,h,i,j;if(!b.highlight||!c||c._highlighted){return}if(c._anim){c._anim.paused=true}c._highlighted=true;if(!c._defaults){c._defaults=Ext.apply({},c.attr);h={};i={};for(g in d){if(!(g in c._defaults)){c._defaults[g]=e.availableAttrs[g]}h[g]=c._defaults[g];i[g]=d[g];if(Ext.isObject(d[g])){h[g]={};i[g]={};Ext.apply(c._defaults[g],c.attr[g]);Ext.apply(h[g],c._defaults[g]);for(j in c._defaults[g]){if(!(j in d[g])){i[g][j]=h[g][j]}else{i[g][j]=d[g][j]}}for(j in d[g]){if(!(j in i[g])){i[g][j]=d[g][j]}}}}c._from=h;c._to=i;c._endStyle=i}if(f){c._anim=new Ext.fx.Anim({target:c,from:c._from,to:c._to,duration:150})}else{c.setAttributes(c._to,true)}},unHighlightItem:function(){if(!this.highlight||!this.items){return}var a=this,b=a.items,c=b.length,d=Ext.merge({},a.highlightCfg,a.highlight),e=a.chart.animate,f=0,g,h,i;for(;f<c;f++){if(!b[f]){continue}i=b[f].sprite;if(i&&i._highlighted){if(i._anim){i._anim.paused=true}g={};for(h in d){if(Ext.isObject(i._defaults[h])){g[h]=Ext.apply({},i._defaults[h])}else{g[h]=i._defaults[h]}}if(e){i._endStyle=g;i._anim=new Ext.fx.Anim({target:i,to:g,duration:150})}else{i.setAttributes(g,true)}delete i._highlighted}}},cleanHighlights:function(){if(!this.highlight){return}var a=this.group,b=this.markerGroup,c=0,d;for(d=a.getCount();c<d;c++){delete a.getAt(c)._defaults}if(b){for(d=b.getCount();c<d;c++){delete b.getAt(c)._defaults}}}});Ext.define("Ext.chart.Label",{colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(a){var b=this;b.label=Ext.applyIf(b.label||{},{display:"none",stackedDisplay:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:Ext.identityFn});if(b.label.display!=="none"){b.labelsGroup=b.chart.surface.getGroup(b.seriesId+"-labels")}},renderLabels:function(){var a=this,b=a.chart,c=b.gradients,d=a.items,e=b.animate,f=a.label,g=f.display,h=f.stackedDisplay,i=f.renderer,j=f.color,k=[].concat(f.field),l=a.labelsGroup,m=(l||0)&&l.length,n=a.chart.getChartStore(),o=n.getCount(),p=(d||0)&&d.length,q=p/o,r=(c||0)&&c.length,s=Ext.draw.Color,t=[],u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q;if(g=="none"||!l){return}if(p==0){while(m--){t.push(m)}}else{for(v=0,w=0,x=0;v<o;v++){y=0;for(z=0;z<q;z++){E=d[w];F=l.getAt(x);G=n.getAt(v);while(this.__excludes&&this.__excludes[y]){y++}if(!E&&F){F.hide(true);x++}if(E&&k[z]){if(!F){F=a.onCreateLabel(G,E,v,g);if(!F){break}}F.setAttributes({fill:String(j)},true);a.onPlaceLabel(F,G,E,v,g,e,y);x++;if(f.contrast&&E.sprite){H=E.sprite;if(e&&H._endStyle){L=H._endStyle.fill}else if(e&&H._to){L=H._to.fill}else{L=H.attr.fill}L=L||H.attr.fill;I=s.fromString(L);if(L&&!I){L=L.match(a.colorStringRe)[1];for(A=0;A<r;A++){u=c[A];if(u.id==L){D=0;B=0;for(C in u.stops){D++;B+=s.fromString(u.stops[C].color).getGrayscale()}J=B/D/255;break}}}else{J=I.getGrayscale()/255}if(F.isOutside){J=1}K=s.fromString(F.attr.fill||F.attr.color).getHSL();K[2]=J>.5?.2:.8;F.setAttributes({fill:String(s.fromHSL.apply({},K))},true)}if(a.stacked&&h&&(E.totalPositiveValues||E.totalNegativeValues)){N=E.totalPositiveValues||0;O=E.totalNegativeValues||0;M=N+O;if(h=="total"){P=i(M)}else if(h=="balances"){if(N==0&&O==0){P=i(0)}else{P=i(N);Q=i(O)}}if(P){F=l.getAt(x);if(!F){F=a.onCreateLabel(G,E,v,"over")}K=s.fromString(F.attr.color||F.attr.fill).getHSL();F.setAttributes({text:P,style:f.font,fill:String(s.fromHSL.apply({},K))},true);a.onPlaceLabel(F,G,E,v,"over",e,y);x++}if(Q){F=l.getAt(x);if(!F){F=a.onCreateLabel(G,E,v,"under")}K=s.fromString(F.attr.color||F.attr.fill).getHSL();F.setAttributes({text:Q,style:f.font,fill:String(s.fromHSL.apply({},K))},true);a.onPlaceLabel(F,G,E,v,"under",e,y);x++}}}w++;y++}}m=l.length;while(m>x){t.push(x);x++}}a.hideLabels(t)},hideLabels:function(a){var b=this.labelsGroup,c=!!a&&a.length;if(!b){return}if(c===false){c=b.getCount();while(c--){b.getAt(c).hide(true)}}else{while(c--){b.getAt(a[c]).hide(true)}}}});Ext.define("Ext.chart.TipSurface",{extend:Ext.draw.Component,spriteArray:false,renderFirst:true,constructor:function(a){this.callParent([a]);if(a.sprites){this.spriteArray=[].concat(a.sprites);delete a.sprites}},onRender:function(){var a=this,b=0,c=0,d,e;this.callParent(arguments);e=a.spriteArray;if(a.renderFirst&&e){a.renderFirst=false;for(c=e.length;b<c;b++){d=a.surface.add(e[b]);d.setAttributes({hidden:false},true)}}}});Ext.define("Ext.chart.Tip",{constructor:function(a){var b=this,c,d,e;if(a.tips){b.tipTimeout=null;b.tipConfig=Ext.apply({},a.tips,{renderer:Ext.emptyFn,constrainPosition:true,autoHide:true});b.tooltip=new Ext.tip.ToolTip(b.tipConfig);b.chart.surface.on("mousemove",b.tooltip.onMouseMove,b.tooltip);b.chart.surface.on("mouseleave",function(){b.hideTip()});if(b.tipConfig.surface){c=b.tipConfig.surface;d=c.sprites;e=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:d});if(c.width&&c.height){e.setSize(c.width,c.height)}b.tooltip.add(e);b.spriteTip=e}}},showTip:function(a){var b=this,c,d,e,f,g,h,i,j,k,l;if(!b.tooltip){return}clearTimeout(b.tipTimeout);c=b.tooltip;d=b.spriteTip;e=b.tipConfig;f=c.trackMouse;if(!f){c.trackMouse=true;g=a.sprite;h=g.surface;i=Ext.get(h.getId());if(i){j=i.getXY();k=j[0]+(g.attr.x||0)+(g.attr.translation&&g.attr.translation.x||0);l=j[1]+(g.attr.y||0)+(g.attr.translation&&g.attr.translation.y||0);c.targetXY=[k,l]}}if(d){e.renderer.call(c,a.storeItem,a,d.surface)}else{e.renderer.call(c,a.storeItem,a)}c.show();c.trackMouse=f},hideTip:function(a){var b=this.tooltip;if(!b){return}clearTimeout(this.tipTimeout);this.tipTimeout=setTimeout(function(){b.hide()},0)}});Ext.define("Ext.chart.axis.Abstract",{constructor:function(a){a=a||{};var b=this,c=a.position||"left";c=c.charAt(0).toUpperCase()+c.substring(1);a.label=Ext.apply(a["axisLabel"+c+"Style"]||{},a.label||{});a.axisTitleStyle=Ext.apply(a["axisTitle"+c+"Style"]||{},a.labelTitle||{});Ext.apply(b,a);b.fields=Ext.Array.from(b.fields);this.callParent();b.labels=[];b.getId();b.labelGroup=b.chart.surface.getGroup(b.axisId+"-labels")},alignment:null,grid:false,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn});Ext.define("Ext.chart.axis.Axis",{extend:Ext.chart.axis.Abstract,alternateClassName:"Ext.chart.Axis",hidden:false,forceMinMax:false,dashSize:3,position:"bottom",skipFirst:false,length:0,width:0,adjustEnd:true,majorTickSteps:false,nullGutters:{lower:0,upper:0,verticalAxis:undefined},applyData:Ext.emptyFn,getRange:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e=b.series.items,f=a.position,g,h=Ext.chart.series,i=[],j=Infinity,k=-Infinity,l=a.position==="left"||a.position==="right"||a.position==="radial",m,n,o,p,q,r=d.length,s,t={},u={},v=true,w,x,y,z,A;w=a.fields;for(p=0,n=w.length;p<n;p++){u[w[p]]=true}for(m=0,n=e.length;m<n;m++){if(e[m].seriesIsHidden){continue}if(!e[m].getAxesForXAndYFields){continue}g=e[m].getAxesForXAndYFields();if(g.xAxis&&g.xAxis!==f&&g.yAxis&&g.yAxis!==f){continue}if(h.Bar&&e[m]instanceof h.Bar&&!e[m].column){w=l?Ext.Array.from(e[m].xField):Ext.Array.from(e[m].yField)}else{w=l?Ext.Array.from(e[m].yField):Ext.Array.from(e[m].xField)}if(a.fields.length){for(p=0,o=w.length;p<o;p++){if(u[w[p]]){break}}if(p==o){continue}}if(s=e[m].stacked){if(h.Bar&&e[m]instanceof h.Bar){if(e[m].column!=l){s=false;v=false}}else if(!l){s=false;v=false}}if(s){x={};for(p=0;p<w.length;p++){if(v&&e[m].__excludes&&e[m].__excludes[p]){continue}if(!u[w[p]]){Ext.Logger.warn("Field `"+w[p]+"` is not included in the "+f+" axis config.")}u[w[p]]=x[w[p]]=true}i.push({fields:x,positiveValue:0,negativeValue:0})}else{if(!w||w.length==0){w=a.fields}for(p=0;p<w.length;p++){if(v&&e[m].__excludes&&e[m].__excludes[p]){continue}u[w[p]]=t[w[p]]=true}}}for(m=0;m<r;m++){y=d[m];for(q=0;q<i.length;q++){i[q].positiveValue=0;i[q].negativeValue=0}for(z in u){A=y.get(z);if(a.type=="Time"&&typeof A=="string"){A=Date.parse(A)}if(isNaN(A)){continue}if(A===undefined){A=0}else{A=Number(A)}if(t[z]){if(j>A){j=A}if(k<A){k=A}}for(q=0;q<i.length;q++){if(i[q].fields[z]){if(A>=0){i[q].positiveValue+=A;if(k<i[q].positiveValue){k=i[q].positiveValue}if(j>0){j=0}}else{i[q].negativeValue+=A;if(j>i[q].negativeValue){j=i[q].negativeValue}if(k<0){k=0}}}}}}if(!isFinite(k)){k=a.prevMax||0}if(!isFinite(j)){j=a.prevMin||0}if(typeof j==="number"){j=Ext.Number.correctFloat(j)}if(typeof k==="number"){k=Ext.Number.correctFloat(k)}if(j!=k&&(k!=Math.floor(k)||j!=Math.floor(j))){j=Math.floor(j);k=Math.floor(k)+1}if(!isNaN(a.minimum)){j=a.minimum}if(!isNaN(a.maximum)){k=a.maximum}if(j>=k){j=Math.floor(j);k=j+1}return{min:j,max:k}},calcEnds:function(){var a=this,b=a.getRange(),c=b.min,d=b.max,e,f,g,h;e=Ext.isNumber(a.majorTickSteps)?a.majorTickSteps+1:a.steps;f=!(Ext.isNumber(a.maximum)&&Ext.isNumber(a.minimum)&&Ext.isNumber(a.majorTickSteps)&&a.majorTickSteps>0);g=Ext.draw.Draw.snapEnds(c,d,e,f);if(Ext.isNumber(a.maximum)){g.to=a.maximum;h=true}if(Ext.isNumber(a.minimum)){g.from=a.minimum;h=true}if(a.adjustMaximumByMajorUnit){g.to=Math.ceil(g.to/g.step)*g.step;h=true}if(a.adjustMinimumByMajorUnit){g.from=Math.floor(g.from/g.step)*g.step;h=true}if(h){g.steps=Math.ceil((g.to-g.from)/g.step)}a.prevMin=c==d?0:c;a.prevMax=d;return g},drawAxis:function(a){var b=this,c,d=b.x,e=b.y,f=b.dashSize,g=b.length,h=b.position,i=h=="left"||h=="right",j=[],k=b.isNumericAxis,l=b.applyData(),m=l.step,n=l.steps,o=Ext.isArray(n),p=l.from,q=l.to,r=q-p||1,s,t,u,v,w=b.minorTickSteps||0,x=b.minorTickSteps||0,y=Math.max(w+1,0),z=Math.max(x+1,0),A=h=="left"||h=="top"?-1:1,B=f*A,C=b.chart.series.items,D=C[0],E=D?D.nullGutters:b.nullGutters,F,G,H,I=0,J=0,K,L,M,N,O,P;b.from=p;b.to=q;if(b.hidden||p>q){return}if(o&&n.length==0||!o&&isNaN(m)){return}if(o){n=Ext.Array.filter(n,function(a,c,d){return+a>+b.from&&+a<+b.to},this);n=Ext.Array.union([b.from],n,[b.to])}else{n=new Array;for(N=+b.from;N<+b.to;N+=m){n.push(N)}n.push(+b.to)}J=n.length;for(c=0,M=C.length;c<M;c++){if(C[c].seriesIsHidden){continue}if(!C[c].getAxesForXAndYFields){continue}L=C[c].getAxesForXAndYFields();if(!L.xAxis||!L.yAxis||L.xAxis===h||L.yAxis===h){E=C[c].getGutters();if(E.verticalAxis!==undefined&&E.verticalAxis!=i){F=C[c].getPadding();if(i){E={lower:F.bottom,upper:F.top,verticalAxis:true}}else{E={lower:F.left,upper:F.right,verticalAxis:false}}}break}}if(k){b.labels=[]}if(E){if(i){t=Math.floor(d);v=["M",t+.5,e,"l",0,-g];s=g-(E.lower+E.upper);for(K=0;K<J;K++){u=e-E.lower-(n[K]-n[0])*s/r;v.push("M",t,Math.floor(u)+.5,"l",B*2,0);j.push([t,Math.floor(u)]);if(k){b.labels.push(n[K])}}}else{u=Math.floor(e);v=["M",d,u+.5,"l",g,0];s=g-(E.lower+E.upper);for(K=0;K<J;K++){t=d+E.lower+(n[K]-n[0])*s/r;v.push("M",Math.floor(t)+.5,u,"l",0,B*2+1);j.push([Math.floor(t),u]);if(k){b.labels.push(n[K])}}}}G=i?x:w;if(Ext.isArray(G)){if(G.length==2){H=+Ext.Date.add(new Date,G[0],G[1])-Date.now()}else{H=G[0]}}else{if(Ext.isNumber(G)&&G>0){H=m/(G+1)}}if(E&&H){for(K=0;K<J-1;K++){O=+n[K];P=+n[K+1];if(i){for(value=O+H;value<P;value+=H){u=e-E.lower-(value-n[0])*s/r;v.push("M",t,Math.floor(u)+.5,"l",B,0)}}else{for(value=O+H;value<P;value+=H){t=d+E.upper+(value-n[0])*s/r;v.push("M",Math.floor(t)+.5,u,"l",0,B+1)}}}}if(!b.axis){b.axis=b.chart.surface.add(Ext.apply({type:"path",path:v},b.axisStyle))}b.axis.setAttributes({path:v},true);b.inflections=j;if(!a&&b.grid){b.drawGrid()}b.axisBBox=b.axis.getBBox();b.drawLabel()},drawGrid:function(){var a=this,b=a.chart.surface,c=a.grid,d=c.odd,e=c.even,f=a.inflections,g=f.length-(d||e?0:1),h=a.position,i=a.chart.maxGutters,j=a.width-2,k,l,m=1,n=[],o,p,q,r=[],s=[];if((i.bottom!==0||i.top!==0)&&(h=="left"||h=="right")||(i.left!==0||i.right!==0)&&(h=="top"||h=="bottom")){m=0;g++}for(;m<g;m++){k=f[m];l=f[m-1];if(d||e){n=m%2?r:s;o=(m%2?d:e)||{};p=(o.lineWidth||o["stroke-width"]||0)/2;q=2*p;if(h=="left"){n.push("M",l[0]+1+p,l[1]+.5-p,"L",l[0]+1+j-p,l[1]+.5-p,"L",k[0]+1+j-p,k[1]+.5+p,"L",k[0]+1+p,k[1]+.5+p,"Z")}else if(h=="right"){n.push("M",l[0]-p,l[1]+.5-p,"L",l[0]-j+p,l[1]+.5-p,"L",k[0]-j+p,k[1]+.5+p,"L",k[0]-p,k[1]+.5+p,"Z")}else if(h=="top"){n.push("M",l[0]+.5+p,l[1]+1+p,"L",l[0]+.5+p,l[1]+1+j-p,"L",k[0]+.5-p,k[1]+1+j-p,"L",k[0]+.5-p,k[1]+1+p,"Z")}else{n.push("M",l[0]+.5+p,l[1]-p,"L",l[0]+.5+p,l[1]-j+p,"L",k[0]+.5-p,k[1]-j+p,"L",k[0]+.5-p,k[1]-p,"Z")}}else{if(h=="left"){n=n.concat(["M",k[0]+.5,k[1]+.5,"l",j,0])}else if(h=="right"){n=n.concat(["M",k[0]-.5,k[1]+.5,"l",-j,0])}else if(h=="top"){n=n.concat(["M",k[0]+.5,k[1]+.5,"l",0,j])}else{n=n.concat(["M",k[0]+.5,k[1]-.5,"l",0,-j])}}}if(d||e){if(r.length){if(!a.gridOdd&&r.length){a.gridOdd=b.add({type:"path",path:r})}a.gridOdd.setAttributes(Ext.apply({path:r,hidden:false},d||{}),true)}if(s.length){if(!a.gridEven){a.gridEven=b.add({type:"path",path:s})}a.gridEven.setAttributes(Ext.apply({path:s,hidden:false},e||{}),true)}}else{if(n.length){if(!a.gridLines){a.gridLines=a.chart.surface.add({type:"path",path:n,"stroke-width":a.lineWidth||1,stroke:a.gridColor||"#ccc"})}a.gridLines.setAttributes({hidden:false,path:n},true)}else if(a.gridLines){a.gridLines.hide(true)}}},getOrCreateLabel:function(a,b){var c=this,d=c.labelGroup,e=d.getAt(a),f=c.chart.surface;if(e){if(b!=e.attr.text){e.setAttributes(Ext.apply({text:b},c.label),true);e._bbox=e.getBBox()}}else{e=f.add(Ext.apply({group:d,type:"text",x:0,y:0,text:b},c.label));f.renderItem(e);e._bbox=e.getBBox()}if(c.label.rotation){e.setAttributes({rotation:{degrees:0}},true);e._ubbox=e.getBBox();e.setAttributes(c.label,true)}else{e._ubbox=e._bbox}return e},rect2pointArray:function(a){var b=this.chart.surface,c=b.getBBox(a,true),d=[c.x,c.y],e=d.slice(),f=[c.x+c.width,c.y],g=f.slice(),h=[c.x+c.width,c.y+c.height],i=h.slice(),j=[c.x,c.y+c.height],k=j.slice(),l=a.matrix;d[0]=l.x.apply(l,e);d[1]=l.y.apply(l,e);f[0]=l.x.apply(l,g);f[1]=l.y.apply(l,g);h[0]=l.x.apply(l,i);h[1]=l.y.apply(l,i);j[0]=l.x.apply(l,k);j[1]=l.y.apply(l,k);return[d,f,h,j]},intersect:function(a,b){var c=this.rect2pointArray(a),d=this.rect2pointArray(b);return!!Ext.draw.Draw.intersect(c,d).length},drawHorizontalLabels:function(){var a=this,b=a.label,c=Math.floor,d=Math.max,e=a.chart.axes,f=a.chart.insetPadding,g=a.chart.maxGutters,h=a.position,i=a.inflections,j=i.length,k=a.labels,l=0,m,n,o,p,q,r=a.adjustEnd,s=e.findIndex("position","left")!=-1,t=e.findIndex("position","right")!=-1,u,v,w,x,y,z,A;w=j-1;o=i[0];A=a.getOrCreateLabel(0,a.label.renderer(k[0]));m=Math.floor(Math.abs(Math.sin(b.rotate&&b.rotate.degrees*Math.PI/180||0)));for(z=0;z<j;z++){o=i[z];v=a.label.renderer(k[z]);u=a.getOrCreateLabel(z,v);n=u._bbox;l=d(l,n.height+a.dashSize+a.label.padding);x=c(o[0]-(m?n.height:n.width)/2);if(r&&g.left==0&&g.right==0){if(z==0&&!s){x=o[0]}else if(z==w&&!t){x=Math.min(x,o[0]-n.width+f)}}if(h=="top"){y=o[1]-a.dashSize*2-a.label.padding-n.height/2}else{y=o[1]+a.dashSize*2+a.label.padding+n.height/2}u.setAttributes({hidden:false,x:x,y:y},true);if(z!=0&&(a.intersect(u,p)||a.intersect(u,A))){if(z===w&&q!==0){p.hide(true)}else{u.hide(true);continue}}p=u;q=z}return l},drawVerticalLabels:function(){var a=this,b=a.inflections,c=a.position,d=b.length,e=a.chart,f=e.insetPadding,g=a.labels,h=0,i=Math.max,j=Math.floor,k=Math.ceil,l=a.chart.axes,m=a.chart.maxGutters,n,o,p,q,r=l.findIndex("position","top")!=-1,s=l.findIndex("position","bottom")!=-1,t=a.adjustEnd,u,v,w=d-1,x,y,z;for(z=0;z<d;z++){o=b[z];v=a.label.renderer(g[z]);u=a.getOrCreateLabel(z,v);n=u._bbox;h=i(h,n.width+a.dashSize+a.label.padding);y=o[1];if(t&&m.bottom+m.top<n.height/2){if(z==w&&!r){y=Math.max(y,a.y-a.length+k(n.height/2)-f)}else if(z==0&&!s){y=a.y+m.bottom-j(n.height/2)}}if(c=="left"){x=o[0]-n.width-a.dashSize-a.label.padding-2}else{x=o[0]+a.dashSize+a.label.padding+2}u.setAttributes(Ext.apply({hidden:false,x:x,y:y},a.label),true);if(z!=0&&a.intersect(u,p)){if(z===w&&q!==0){p.hide(true)}else{u.hide(true);continue}}p=u;q=z}return h},drawLabel:function(){var a=this,b=a.position,c=a.labelGroup,d=a.inflections,e=0,f=0,g,h;if(b=="left"||b=="right"){e=a.drawVerticalLabels()}else{f=a.drawHorizontalLabels()}g=c.getCount();h=d.length;for(;h<g;h++){c.getAt(h).hide(true)}a.bbox={};Ext.apply(a.bbox,a.axisBBox);a.bbox.height=f;a.bbox.width=e;if(Ext.isString(a.title)){a.drawTitle(e,f)}},setTitle:function(a){this.title=a;this.drawLabel()},drawTitle:function(a,b){var c=this,d=c.position,e=c.chart.surface,f=c.displaySprite,g=c.title,h=d=="left"||d=="right",i=c.x,j=c.y,k,l,m;if(f){f.setAttributes({text:g},true)}else{k={type:"text",x:0,y:0,text:g};f=c.displaySprite=e.add(Ext.apply(k,c.axisTitleStyle,c.labelTitle));e.renderItem(f)}l=f.getBBox();m=c.dashSize+c.label.padding;if(h){j-=c.length/2-l.height/2;if(d=="left"){i-=a+m+l.width/2}else{i+=a+m+l.width-l.width/2}c.bbox.width+=l.width+10}else{i+=c.length/2-l.width*.5;if(d=="top"){j-=b+m+l.height*.3}else{j+=b+m+l.height*.8}c.bbox.height+=l.height+10}f.setAttributes({translate:{x:i,y:j}},true)}});Ext.define("Ext.chart.axis.Category",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:false,doConstrain:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e=b.series.items,f=e.length,g=[],h;for(h=0;h<f;h++){if(e[h].type==="bar"&&e[h].stacked){return}}for(h=a.minimum;h<a.maximum;h++){g.push(d[h])}b.setSubStore(new Ext.data.Store({model:c.model,data:g}))},setLabels:function(){var a=this.chart.getChartStore(),b=a.data.items,c,d,e,f=this.fields,g=f.length,h,i,j;h=this.labels=[];for(c=0,d=b.length;c<d;c++){e=b[c];for(j=0;j<g;j++){i=e.get(f[j]);h.push(i)}}},applyData:function(){this.callParent();this.setLabels();var a=this.chart.getChartStore().getCount();return{from:0,to:a-1,power:1,step:1,steps:a-1}}});Ext.define("Ext.chart.axis.Gauge",{extend:Ext.chart.axis.Abstract,position:"gauge",alias:"axis.gauge",drawAxis:function(a){var b=this.chart,c=b.surface,d=b.chartBBox,e=d.x+d.width/2,f=d.y+d.height,g=this.margin||10,h=Math.min(d.width,2*d.height)/2+g,i=[],j,k=this.steps,l,m=Math.PI,n=Math.cos,o=Math.sin;if(this.sprites&&!b.resizing){this.drawLabel();return}if(this.margin>=0){if(!this.sprites){for(l=0;l<=k;l++){j=c.add({type:"path",path:["M",e+(h-g)*n(l/k*m-m),f+(h-g)*o(l/k*m-m),"L",e+h*n(l/k*m-m),f+h*o(l/k*m-m),"Z"],stroke:"#ccc"});j.setAttributes({hidden:false},true);i.push(j)}}else{i=this.sprites;for(l=0;l<=k;l++){i[l].setAttributes({path:["M",e+(h-g)*n(l/k*m-m),f+(h-g)*o(l/k*m-m),"L",e+h*n(l/k*m-m),f+h*o(l/k*m-m),"Z"],stroke:"#ccc"},true)}}}this.sprites=i;this.drawLabel();if(this.title){this.drawTitle()}},drawTitle:function(){var a=this,b=a.chart,c=b.surface,d=b.chartBBox,e=a.titleSprite,f;if(!e){a.titleSprite=e=c.add(Ext.apply({type:"text",zIndex:2},a.axisTitleStyle,a.labelTitle))}e.setAttributes(Ext.apply({text:a.title},a.label||{}),true);f=e.getBBox();e.setAttributes({x:d.x+d.width/2-f.width/2,y:d.y+d.height-f.height/2-4},true)},setTitle:function(a){this.title=a;this.drawTitle()},drawLabel:function(){var a=this.chart,b=a.surface,c=a.chartBBox,d=c.x+c.width/2,e=c.y+c.height,f=this.margin||10,g=Math.min(c.width,2*c.height)/2+2*f,h=Math.round,i=[],j,k=this.maximum||0,l=this.minimum||0,m=this.steps,n=0,o,p=Math.PI,q=Math.cos,r=Math.sin,s=this.label,t=s.renderer||Ext.identityFn;if(!this.labelArray){for(n=0;n<=m;n++){o=n===0||n===m?7:0;j=b.add({type:"text",text:t(h(l+n/m*(k-l))),x:d+g*q(n/m*p-p),y:e+g*r(n/m*p-p)-o,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"});j.setAttributes({hidden:false},true);i.push(j)}}else{i=this.labelArray;for(n=0;n<=m;n++){o=n===0||n===m?7:0;i[n].setAttributes({text:t(h(l+n/m*(k-l))),x:d+g*q(n/m*p-p),y:e+g*r(n/m*p-p)-o},true)}}this.labelArray=i}});Ext.define("Ext.chart.axis.Numeric",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.NumericAxis",type:"Numeric",isNumericAxis:true,alias:"axis.numeric",constructor:function(a){var b=this,c=!!(a.label&&a.label.renderer),d;b.callParent([a]);d=b.label;if(a.constrain==null){b.constrain=a.minimum!=null&&a.maximum!=null}if(!c){d.renderer=function(a){return b.roundToDecimal(a,b.decimals)}}},roundToDecimal:function(a,b){var c=Math.pow(10,b||0);return Math.round(a*c)/c},minimum:NaN,maximum:NaN,constrain:true,decimals:2,scale:"linear",doConstrain:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h=b.series.items,i=a.fields,j=i.length,k=a.calcEnds(),l=k.from,m=k.to,n,o,p=false,q,r=[],s;for(e=0,f=d.length;e<f;e++){s=true;g=d[e];for(n=0;n<j;n++){q=g.get(i[n]);if(a.type=="Time"&&typeof q=="string"){q=Date.parse(q)}if(+q<+l){s=false;break}if(+q>+m){s=false;break}}if(s){r.push(g)}}b.setSubStore(new Ext.data.Store({model:c.model,data:r}))},position:"left",adjustMaximumByMajorUnit:false,adjustMinimumByMajorUnit:false,processView:function(){var a=this,b=a.chart,c=b.series.items,d,e;for(d=0,e=c.length;d<e;d++){if(c[d].stacked){delete a.minimum;delete a.maximum;a.constrain=false;break}}if(a.constrain){a.doConstrain()}},applyData:function(){this.callParent();return this.calcEnds()}});Ext.define("Ext.chart.axis.Radial",{extend:Ext.chart.axis.Numeric,position:"radial",alias:"axis.radial",drawAxis:function(a){var b=this.chart,c=b.surface,d=b.chartBBox,e=b.getChartStore(),f=e.getCount(),g=d.x+d.width/2,h=d.y+d.height/2,i=Math.min(d.width,d.height)/2,j=[],k,l=this.steps,m,n,o=Math.PI*2,p=Math.cos,q=Math.sin;if(this.sprites&&!b.resizing){this.drawLabel();return}if(!this.sprites){for(m=1;m<=l;m++){k=c.add({type:"circle",x:g,y:h,radius:Math.max(i*m/l,0),stroke:"#ccc"});
k.setAttributes({hidden:false},true);j.push(k)}for(m=0;m<f;m++){k=c.add({type:"path",path:["M",g,h,"L",g+i*p(m/f*o),h+i*q(m/f*o),"Z"],stroke:"#ccc"});k.setAttributes({hidden:false},true);j.push(k)}}else{j=this.sprites;for(m=0;m<l;m++){j[m].setAttributes({x:g,y:h,radius:Math.max(i*(m+1)/l,0),stroke:"#ccc"},true)}for(n=0;n<f;n++){j[m+n].setAttributes({path:["M",g,h,"L",g+i*p(n/f*o),h+i*q(n/f*o),"Z"],stroke:"#ccc"},true)}}this.sprites=j;this.drawLabel()},drawLabel:function(){var a=this.chart,b=a.series.items,c,d=a.surface,e=a.chartBBox,f=a.getChartStore(),g=f.data.items,h,i,j=e.x+e.width/2,k=e.y+e.height/2,l=Math.min(e.width,e.height)/2,m=Math.max,n=Math.round,o=[],p,q=[],r,s=[],t,u=!this.maximum,v=this.maximum||0,w=this.steps,x=0,y,z,A,B=Math.PI*2,C=Math.cos,D=Math.sin,E=this.label.display,F=E!=="none",G=10;if(!F){return}for(x=0,h=b.length;x<h;x++){c=b[x];q.push(c.yField);t=c.xField}for(y=0,h=g.length;y<h;y++){i=g[y];s.push(i.get(t));if(u){for(x=0,r=q.length;x<r;x++){v=m(+i.get(q[x]),v)}}}if(!this.labelArray){if(E!="categories"){for(x=1;x<=w;x++){p=d.add({type:"text",text:n(x/w*v),x:j,y:k-l*x/w,"text-anchor":"middle","stroke-width":.1,stroke:"#333"});p.setAttributes({hidden:false},true);o.push(p)}}if(E!="scale"){for(y=0,w=s.length;y<w;y++){z=C(y/w*B)*(l+G);A=D(y/w*B)*(l+G);p=d.add({type:"text",text:s[y],x:j+z,y:k+A,"text-anchor":z*z<=.001?"middle":z<0?"end":"start"});p.setAttributes({hidden:false},true);o.push(p)}}}else{o=this.labelArray;if(E!="categories"){for(x=0;x<w;x++){o[x].setAttributes({text:n((x+1)/w*v),x:j,y:k-l*(x+1)/w,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},true)}}if(E!="scale"){for(y=0,w=s.length;y<w;y++){z=C(y/w*B)*(l+G);A=D(y/w*B)*(l+G);if(o[x+y]){o[x+y].setAttributes({type:"text",text:s[y],x:j+z,y:k+A,"text-anchor":z*z<=.001?"middle":z<0?"end":"start"},true)}}}}this.labelArray=o},getRange:function(){var a=this.callParent();a.min=0;return a},processView:function(){var a=this,b=a.chart.series.items,c,d,e,f,g=[];for(c=0,d=b.length;c<d;c++){e=b[c];g.push(e.yField)}a.fields=g;f=a.calcEnds();a.maximum=f.to;a.steps=f.steps}});Ext.define("Ext.chart.axis.Time",{extend:Ext.chart.axis.Numeric,alternateClassName:"Ext.chart.TimeAxis",type:"Time",alias:"axis.time",dateFormat:false,fromDate:false,toDate:false,step:[Ext.Date.DAY,1],constrain:false,constructor:function(a){var b=this,c,d,e;b.callParent([a]);c=b.label||{};e=this.dateFormat;if(e){if(c.renderer){d=c.renderer;c.renderer=function(a){a=d(a);return Ext.Date.format(new Date(d(a)),e)}}else{c.renderer=function(a){return Ext.Date.format(new Date(a>>0),e)}}}},processView:function(){var a=this;if(a.fromDate){a.minimum=+a.fromDate}if(a.toDate){a.maximum=+a.toDate}if(a.constrain){a.doConstrain()}},calcEnds:function(){var a=this,b,c=a.step;if(c){b=a.getRange();b=Ext.draw.Draw.snapEndsByDateAndStep(new Date(b.min),new Date(b.max),Ext.isNumber(c)?[Date.MILLI,c]:c);if(a.minimum){b.from=a.minimum}if(a.maximum){b.to=a.maximum}return b}else{return a.callParent(arguments)}}});Ext.define("Ext.chart.series.Series",{mixins:{observable:Ext.util.Observable,labels:Ext.chart.Label,highlights:Ext.chart.Highlight,tips:Ext.chart.Tip,callouts:Ext.chart.Callout},type:null,title:null,showInLegend:true,renderer:function(a,b,c,d,e){return c},shadowAttributes:null,animating:false,nullGutters:{lower:0,upper:0,verticalAxis:undefined},nullPadding:{left:0,right:0,width:0,bottom:0,top:0,height:0},constructor:function(a){var b=this;if(a){Ext.apply(b,a)}b.shadowGroups=[];b.mixins.labels.constructor.call(b,a);b.mixins.highlights.constructor.call(b,a);b.mixins.tips.constructor.call(b,a);b.mixins.callouts.constructor.call(b,a);b.addEvents({scope:b,itemclick:true,itemmouseover:true,itemmouseout:true,itemmousedown:true,itemmouseup:true,mouseleave:true,afterdraw:true,titlechange:true});b.mixins.observable.constructor.call(b,a);b.on({scope:b,itemmouseover:b.onItemMouseOver,itemmouseout:b.onItemMouseOut,mouseleave:b.onMouseLeave});if(b.style){Ext.apply(b.seriesStyle,b.style)}},onRedraw:Ext.emptyFn,eachRecord:function(a,b){var c=this.chart;c.getChartStore().each(a,b)},getRecordCount:function(){var a=this.chart,b=a.getChartStore();return b?b.getCount():0},isExcluded:function(a){var b=this.__excludes;return!!(b&&b[a])},setBBox:function(a){var b=this,c=b.chart,d=c.chartBBox,e=a?{left:0,right:0,bottom:0,top:0}:c.maxGutters,f,g;f={x:d.x,y:d.y,width:d.width,height:d.height};b.clipBox=f;g={x:f.x+e.left-c.zoom.x*c.zoom.width,y:f.y+e.bottom-c.zoom.y*c.zoom.height,width:(f.width-(e.left+e.right))*c.zoom.width,height:(f.height-(e.bottom+e.top))*c.zoom.height};b.bbox=g},onAnimate:function(a,b){var c=this;a.stopAnimation();if(c.animating){return a.animate(Ext.applyIf(b,c.chart.animate))}else{c.animating=true;return a.animate(Ext.apply(Ext.applyIf(b,c.chart.animate),{callback:function(){c.animating=false;c.fireEvent("afterrender")}}))}},getGutters:function(){return this.nullGutters},getPadding:function(){return this.nullPadding},onItemMouseOver:function(a){var b=this;if(a.series===b){if(b.highlight){b.highlightItem(a)}if(b.tooltip){b.showTip(a)}}},onItemMouseOut:function(a){var b=this;if(a.series===b){b.unHighlightItem();if(b.tooltip){b.hideTip(a)}}},onMouseLeave:function(){var a=this;a.unHighlightItem();if(a.tooltip){a.hideTip()}},getItemForPoint:function(a,b){if(!this.items||!this.items.length||this.seriesIsHidden){return null}var c=this,d=c.items,e=c.bbox,f,g,h;if(!Ext.draw.Draw.withinBox(a,b,e)){return null}for(g=0,h=d.length;g<h;g++){if(d[g]&&this.isItemInPoint(a,b,d[g],g)){return d[g]}}return null},isItemInPoint:function(a,b,c,d){return false},hideAll:function(){var a=this,b=a.items,c,d,e,f,g,h,i;a.seriesIsHidden=true;a._prevShowMarkers=a.showMarkers;a.showMarkers=false;a.hideLabels(0);for(e=0,d=b.length;e<d;e++){c=b[e];h=c.sprite;if(h){h.setAttributes({hidden:true},true)}if(h&&h.shadows){i=h.shadows;for(f=0,g=i.length;f<g;++f){i[f].setAttributes({hidden:true},true)}}}},showAll:function(){var a=this,b=a.chart.animate;a.chart.animate=false;a.seriesIsHidden=false;a.showMarkers=a._prevShowMarkers;a.drawSeries();a.chart.animate=b},hide:function(){if(this.items){var a=this,b=a.items,c,d,e,f,g;if(b&&b.length){for(c=0,f=b.length;c<f;++c){if(b[c].sprite){b[c].sprite.hide(true);g=b[c].shadows||b[c].sprite.shadows;if(g){for(d=0,e=g.length;d<e;++d){g[d].hide(true)}}}}a.hideLabels()}}},getLegendColor:function(a){var b=this,c,d;if(b.seriesStyle){c=b.seriesStyle.fill;d=b.seriesStyle.stroke;if(c&&c!="none"){return c}if(d){return d}}return b.colorArrayStyle?b.colorArrayStyle[b.themeIdx%b.colorArrayStyle.length]:"#000"},visibleInLegend:function(a){var b=this.__excludes;if(b){return!b[a]}return!this.seriesIsHidden},setTitle:function(a,b){var c=this,d=c.title;if(Ext.isString(a)){b=a;a=0}if(Ext.isArray(d)){d[a]=b}else{c.title=b}c.fireEvent("titlechange",b,a)}});Ext.define("Ext.chart.series.Cartesian",{extend:Ext.chart.series.Series,alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var a=this,b=[],c,d,e,f=a.combinations,g,h,i,j;c=[].concat(a.yField);for(d=0,e=c.length;d<e;d++){g=a.title;b.push((Ext.isArray(g)?g[d]:g)||c[d])}if(f){f=Ext.Array.from(f);for(d=0,e=f.length;d<e;d++){h=f[d];i=b[h[0]];j=b[h[1]];b[h[1]]=i+" & "+j;b.splice(h[0],1)}}return b},eachYValue:function(a,b,c){var d=this,e=d.getYValueAccessors(),f,g,h;for(f=0,g=e.length;f<g;f++){h=e[f];b.call(c,h(a),f)}},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(a,b){var c=this,d=c.getYValueAccessors(),e=d[a],f=d[b];d[b]=function(a){return e(a)+f(a)};d.splice(a,1);c.callParent([a,b])},clearCombinations:function(){delete this.yValueAccessors;this.callParent()},getYValueAccessors:function(){var a=this,b=a.yValueAccessors,c,d,e,f;if(!b){b=a.yValueAccessors=[];c=[].concat(a.yField);for(e=0,f=c.length;e<f;e++){d=c[e];b.push(function(a){return a.get(d)})}}return b},getMinMaxXValues:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e=a.getRecordCount(),f,g,h,i,j,k=a.xField,l;if(e>0){i=Infinity;j=-i;for(f=0,g=d.length;f<g;f++){h=d[f];l=h.get(k);if(l>j){j=l}if(l<i){i=l}}if(i==Infinity){i=0}if(j==-Infinity){j=e-1}}else{i=j=0}return[i,j]},getMinMaxYValues:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e=a.getRecordCount(),f,g,h,i=a.stacked,j,k,l,m;function n(b,c){if(!a.isExcluded(c)){if(b<0){m+=b}else{l+=b}}}function o(b,c){if(!a.isExcluded(c)){if(b>k){k=b}if(b<j){j=b}}}if(e>0){j=Infinity;k=-j;for(f=0,g=d.length;f<g;f++){h=d[f];if(i){l=0;m=0;a.eachYValue(h,n);if(l>k){k=l}if(m<j){j=m}}else{a.eachYValue(h,o)}}if(j==Infinity){j=0}if(k==-Infinity){k=e-1}}else{j=k=0}return[j,k]},getAxesForXAndYFields:function(){var a=this,b=a.chart.axes,c=[].concat(a.axis),d={},e=[].concat(a.yField),f={},g=[].concat(a.xField),h,i,j,k,l,m;m=a.type==="bar"&&a.column===false;if(m){h=e;e=g;g=h}if(Ext.Array.indexOf(c,"top")>-1){i="top"}else if(Ext.Array.indexOf(c,"bottom")>-1){i="bottom"}else{if(b.get("top")&&b.get("bottom")){for(k=0,l=g.length;k<l;k++){f[g[k]]=true}h=[].concat(b.get("bottom").fields);for(k=0,l=h.length;k<l;k++){if(f[h[k]]){i="bottom";break}}h=[].concat(b.get("top").fields);for(k=0,l=h.length;k<l;k++){if(f[h[k]]){i="top";break}}}else if(b.get("top")){i="top"}else if(b.get("bottom")){i="bottom"}}if(Ext.Array.indexOf(c,"left")>-1){j="left"}else if(Ext.Array.indexOf(c,"right")>-1){j="right"}else{if(b.get("left")&&b.get("right")){for(k=0,l=e.length;k<l;k++){d[e[k]]=true}h=[].concat(b.get("right").fields);for(k=0,l=h.length;k<l;k++){if(d[h[k]]){break}}h=[].concat(b.get("left").fields);for(k=0,l=h.length;k<l;k++){if(d[h[k]]){j="left";break}}}else if(b.get("left")){j="left"}else if(b.get("right")){j="right"}}return m?{xAxis:j,yAxis:i}:{xAxis:i,yAxis:j}}});Ext.define("Ext.chart.series.Area",{extend:Ext.chart.series.Cartesian,alias:"series.area",type:"area",stacked:true,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface,d,e;a.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg);Ext.apply(b,a,{__excludes:[]});if(b.highlight){b.highlightSprite=c.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:true,stroke:"#444"})}b.group=c.getGroup(b.seriesId)},shrink:function(a,b,c){var d=a.length,e=Math.floor(d/c),f,g,h=0,i=this.areas.length,j=[],k=[],l=[];for(g=0;g<i;++g){j[g]=0}for(f=0;f<d;++f){h+=+a[f];for(g=0;g<i;++g){j[g]+=+b[f][g]}if(f%e==0){k.push(h/e);for(g=0;g<i;++g){j[g]/=e}l.push(j);h=0;for(g=0,j=[];g<i;++g){j[g]=0}}}return{x:k,y:l}},getBounds:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h=[].concat(a.yField),i=h.length,j=[],k=[],l=Infinity,m=l,n=l,o=-l,p=-l,q=Math,r=q.min,s=q.max,t=a.getAxesForXAndYFields(),u=t.xAxis,v=t.yAxis,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a.setBBox();z=a.bbox;if(K=b.axes.get(u)){if(K.type==="Time"){x=true}w=K.applyData();m=w.from;o=w.to}if(K=b.axes.get(v)){w=K.applyData();n=w.from;p=w.to}if(a.xField&&!Ext.isNumber(m)){K=a.getMinMaxXValues();x=true;m=K[0];o=K[1]}if(a.yField&&!Ext.isNumber(n)){K=a.getMinMaxYValues();n=K[0];p=K[1]}if(!Ext.isNumber(n)){n=0}if(!Ext.isNumber(p)){p=0}f=d.length;if(f>0&&x){y=d[0].get(a.xField);if(typeof y!="number"){y=+y;if(isNaN(y)){x=false}}}for(e=0;e<f;e++){g=d[e];C=g.get(a.xField);D=[];if(typeof C!="number"){if(x){C=+C}else{C=e}}j.push(C);F=0;for(E=0;E<i;E++){if(a.__excludes[E]){continue}J=g.get(h[E]);if(typeof J=="number"){D.push(J)}}k.push(D)}A=z.width/(o-m||1);B=z.height/(p-n||1);G=j.length;if(G>z.width&&a.areas){H=a.shrink(j,k,z.width);j=H.x;k=H.y}return{bbox:z,minX:m,minY:n,xValues:j,yValues:k,xScale:A,yScale:B,areasLen:i}},getPaths:function(){var a=this,b=a.chart,c=b.getChartStore(),d=true,e=a.getBounds(),f=e.bbox,g=a.items=[],h=[],i,j=0,k=[],l,m,n,o,p,q,r,s,t,u,v,w;m=e.xValues.length;for(l=0;l<m;l++){p=e.xValues[l];q=e.yValues[l];n=f.x+(p-e.minX)*e.xScale;if(w===undefined){w=n}r=0;j=0;for(s=0;s<e.areasLen;s++){if(a.__excludes[s]){continue}if(!h[s]){h[s]=[]}u=q[j];r+=u;o=f.y+f.height-(r-e.minY)*e.yScale;if(!k[s]){k[s]=["M",n,o];h[s].push(["L",n,o])}else{k[s].push("L",n,o);h[s].push(["L",n,o])}if(!g[s]){g[s]={pointsUp:[],pointsDown:[],series:a}}g[s].pointsUp.push([n,o]);j++}}for(s=0;s<e.areasLen;s++){if(a.__excludes[s]){continue}v=k[s];if(s==0||d){d=false;v.push("L",n,f.y+f.height,"L",w,f.y+f.height,"Z")}else{i=h[t];i.reverse();v.push("L",n,i[0][2]);for(l=0;l<m;l++){v.push(i[l][0],i[l][1],i[l][2]);g[s].pointsDown[m-l-1]=[i[l][1],i[l][2]]}v.push("L",w,v[2],"Z")}t=s}return{paths:k,areasLen:e.areasLen}},drawSeries:function(){var a=this,b=a.chart,c=b.getChartStore(),d=b.surface,e=b.animate,f=a.group,g=Ext.apply(a.seriesStyle,a.style),h=a.colorArrayStyle,i=h&&h.length||0,j=a.themeIdx,k,l,m,n,o,p;a.unHighlightItem();a.cleanHighlights();if(!c||!c.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}m=a.getPaths();if(!a.areas){a.areas=[]}for(k=0;k<m.areasLen;k++){if(a.__excludes[k]){continue}p=j+k;if(!a.areas[k]){a.items[k].sprite=a.areas[k]=d.add(Ext.apply({},{type:"path",group:f,path:m.paths[k],stroke:g.stroke||h[p%i],fill:h[p%i]},g||{}))}l=a.areas[k];n=m.paths[k];if(e){o=a.renderer(l,false,{path:n,fill:h[k%i],stroke:g.stroke||h[k%i]},k,c);a.animation=a.onAnimate(l,{to:o})}else{o=a.renderer(l,false,{path:n,hidden:false,fill:h[p%i],stroke:g.stroke||h[p%i]},k,c);a.areas[k].setAttributes(o,true)}}a.renderLabels();a.renderCallouts()},onAnimate:function(a,b){a.show();return this.callParent(arguments)},onCreateLabel:function(a,b,c,d){return null;var e=this,f=e.labelsGroup,g=e.label,h=e.bbox,i=Ext.apply({},g,e.seriesLabelStyle||{});return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:Number(b.point[0]),y:h.y+h.height/2},i||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.resizing,k=h.label,l=k.renderer,m=k.field,n=h.bbox,o=Number(c.point[d][0]),p=Number(c.point[d][1]),q,r,s;a.setAttributes({text:l(b.get(m[g]),a,b,c,d,e,f,g),hidden:true},true);q=a.getBBox();r=q.width/2;s=q.height/2;if(o<n.x+r){o=n.x+r}else if(o+r>n.x+n.width){o=n.x+n.width-r}p=p-s;if(p<n.y+s){p+=2*s}else if(p+s>n.y+n.height){p-=2*s}if(h.chart.animate&&!h.chart.resizing){a.show(true);h.onAnimate(a,{to:{x:o,y:p}})}else{a.setAttributes({x:o,y:p},true);if(j&&h.animation){h.animation.on("afteranimate",function(){a.show(true)})}else{a.show(true)}}},onPlaceCallout:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.surface,k=i.resizing,l=h.callouts,m=h.items,n=d==0?false:m[d-1].point,o=d==m.length-1?false:m[d+1].point,p=c.point,q,r,s,t,u,v,w=a&&a.label?a.label.getBBox():{width:0,height:0},x=30,y=10,z=3,A,B,C,D,E,F=h.clipRect,G,H;if(!w.width||!w.height){return}if(!n){n=p}if(!o){o=p}t=(o[1]-n[1])/(o[0]-n[0]);u=(p[1]-n[1])/(p[0]-n[0]);v=(o[1]-p[1])/(o[0]-p[0]);r=Math.sqrt(1+t*t);q=[1/r,t/r];s=[-q[1],q[0]];if(u>0&&v<0&&s[1]<0||u<0&&v>0&&s[1]>0){s[0]*=-1;s[1]*=-1}else if(Math.abs(u)<Math.abs(v)&&s[0]<0||Math.abs(u)>Math.abs(v)&&s[0]>0){s[0]*=-1;s[1]*=-1}G=p[0]+s[0]*x;H=p[1]+s[1]*x;A=G+(s[0]>0?0:-(w.width+2*z));B=H-w.height/2-z;C=w.width+2*z;D=w.height+2*z;if(A<F[0]||A+C>F[0]+F[2]){s[0]*=-1}if(B<F[1]||B+D>F[1]+F[3]){s[1]*=-1}G=p[0]+s[0]*x;H=p[1]+s[1]*x;A=G+(s[0]>0?0:-(w.width+2*z));B=H-w.height/2-z;C=w.width+2*z;D=w.height+2*z;a.lines.setAttributes({path:["M",p[0],p[1],"L",G,H,"Z"]},true);a.box.setAttributes({x:A,y:B,width:C,height:D},true);a.label.setAttributes({x:G+(s[0]>0?z:-(w.width+z)),y:H},true);for(E in a){a[E].show(true)}},isItemInPoint:function(a,b,c,d){var e=this,f=c.pointsUp,g=c.pointsDown,h=Math.abs,i=false,j=false,k=Infinity,l,m,n;for(l=0,m=f.length;l<m;l++){n=[f[l][0],f[l][1]];i=false;j=l==m-1;if(k>h(a-n[0])){k=h(a-n[0]);i=true;if(j){++l}}if(!i||i&&j){n=f[l-1];if(b>=n[1]&&(!g.length||b<=g[l-1][1])){c.storeIndex=l-1;c.storeField=e.yField[d];c.storeItem=e.chart.getChartStore().getAt(l-1);c._points=g.length?[n,g[l-1]]:[n];return true}else{break}}}return false},highlightSeries:function(){var a,b,c;if(this._index!==undefined){a=this.areas[this._index];if(a.__highlightAnim){a.__highlightAnim.paused=true}a.__highlighted=true;a.__prevOpacity=a.__prevOpacity||a.attr.opacity||1;a.__prevFill=a.__prevFill||a.attr.fill;a.__prevLineWidth=a.__prevLineWidth||a.attr.lineWidth;c=Ext.draw.Color.fromString(a.__prevFill);b={lineWidth:(a.__prevLineWidth||0)+2};if(c){b.fill=c.getLighter(.2).toString()}else{b.opacity=Math.max(a.__prevOpacity-.3,0)}if(this.chart.animate){a.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:a,to:b},this.chart.animate))}else{a.setAttributes(b,true)}}},unHighlightSeries:function(){var a;if(this._index!==undefined){a=this.areas[this._index];if(a.__highlightAnim){a.__highlightAnim.paused=true}if(a.__highlighted){a.__highlighted=false;a.__highlightAnim=new Ext.fx.Anim({target:a,to:{fill:a.__prevFill,opacity:a.__prevOpacity,lineWidth:a.__prevLineWidth}})}}},highlightItem:function(a){var b=this,c,d;if(!a){this.highlightSeries();return}c=a._points;d=c.length==2?["M",c[0][0],c[0][1],"L",c[1][0],c[1][1]]:["M",c[0][0],c[0][1],"L",c[0][0],b.bbox.y+b.bbox.height];b.highlightSprite.setAttributes({path:d,hidden:false},true)},unHighlightItem:function(a){if(!a){this.unHighlightSeries()}if(this.highlightSprite){this.highlightSprite.hide(true)}},hideAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0;b.__excludes[a]=true;b.areas[a].hide(true);b.redraw()},showAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0;b.__excludes[a]=false;b.areas[a].show(true);b.redraw()},redraw:function(){var a=this,b;b=a.chart.legend.rebuild;a.chart.legend.rebuild=false;a.chart.redraw();a.chart.legend.rebuild=b},hide:function(){if(this.areas){var a=this,b=a.areas,c,d,e,f,g;if(b&&b.length){for(c=0,f=b.length;c<f;++c){if(b[c]){b[c].hide(true)}}a.hideLabels()}}},getLegendColor:function(a){var b=this;a+=b.themeIdx;return b.colorArrayStyle[a%b.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Bar",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],type:"bar",alias:"series.bar",column:false,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface,d=b.chart.shadow,e,f;a.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg);Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]});b.group=c.getGroup(b.seriesId+"-bars");if(d){for(e=0,f=b.shadowAttributes.length;e<f;e++){b.shadowGroups.push(c.getGroup(b.seriesId+"-shadows"+e))}}},getPadding:function(){var a=this,b=a.xPadding,c=a.yPadding,d={};if(Ext.isNumber(b)){d.left=b;d.right=b}else if(Ext.isObject(b)){d.left=b.left;d.right=b.right}else{d.left=0;d.right=0}d.width=d.left+d.right;if(Ext.isNumber(c)){d.bottom=c;d.top=c}else if(Ext.isObject(c)){d.bottom=c.bottom;d.top=c.top}else{d.bottom=0;d.top=0}d.height=d.bottom+d.top;return d},getBarGirth:function(){var a=this,b=a.chart.getChartStore(),c=a.column,d=b.getCount(),e=a.gutter/100,f,g;if(a.style&&a.style.width){return a.style.width}f=a.getPadding();g=c?"width":"height";return(a.chart.chartBBox[g]-f[g])/(d*(e+1)-e)},getGutters:function(){var a=this,b=a.column,c=a.getPadding(),d=a.getBarGirth()/2,e=Math.ceil((b?c.left:c.bottom)+d),f=Math.ceil((b?c.right:c.top)+d);return{lower:e,upper:f,verticalAxis:!b}},getBounds:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h=[].concat(a.yField),i,j=h.length,k=j,l=a.groupGutter/100,m=a.column,n=a.getPadding(),o=a.stacked,p=a.getBarGirth(),q=m?"width":"height",r=Math,s=r.min,t=r.max,u=r.abs,v=a.getAxesForXAndYFields(),w=v.yAxis,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q;a.setBBox(true);F=a.bbox;if(a.__excludes){for(O=0,M=a.__excludes.length;O<M;O++){if(a.__excludes[O]){k--}}}I=b.axes.get(w);if(I){C=I.applyData();G=C.from;H=C.to}if(a.yField&&!Ext.isNumber(G)){J=a.getMinMaxYValues();G=J[0];H=J[1]}if(!Ext.isNumber(G)){G=0}if(!Ext.isNumber(H)){H=0}K=(m?F.height-n.height:F.width-n.width)/(H-G);D=p;E=p/((o?1:k)*(l+1)-l);if(q in a.style){E=s(E,a.style[q]);D=E*((o?1:k)*(l+1)-l)}L=m?F.y+F.height-n.bottom:F.x+n.left;if(o){M=[[],[]];for(e=0,f=d.length;e<f;e++){g=d[e];M[0][e]=M[0][e]||0;M[1][e]=M[1][e]||0;for(O=0;O<j;O++){if(a.__excludes&&a.__excludes[O]){continue}N=g.get(h[O]);M[+(N>0)][e]+=u(N)}}M[+(H>0)].push(u(H));M[+(G>0)].push(u(G));Q=t.apply(r,M[0]);P=t.apply(r,M[1]);K=(m?F.height-n.height:F.width-n.width)/(P+Q);L=L+Q*K*(m?-1:1)}else if(G/H<0){L=L-G*K*(m?-1:1)}if(a.boundColumn){I=b.axes.get(v.xAxis);if(I){C=I.applyData();x=C.from;y=C.to}if(a.xField&&!Ext.isNumber(x)){J=a.getMinMaxYValues();x=J[0];y=J[1]}if(!Ext.isNumber(x)){x=0}if(!Ext.isNumber(y)){y=0}B=a.getGutters();z=(F.width-(B.lower+B.upper))/(y-x||1);A=F.x+B.lower;i=[];for(e=0,f=d.length;e<f;e++){g=d[e];N=g.get(a.xField);i[e]=A+(N-x)*z-E/2}}return{bars:h,barsLoc:i,bbox:F,shrunkBarWidth:D,barsLen:j,groupBarsLen:k,barWidth:p,groupBarWidth:E,scale:K,zero:L,padding:n,signed:G/H<0,minY:G,maxY:H}},getPaths:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h=a.bounds=a.getBounds(),i=a.items=[],j=Ext.isArray(a.yField)?a.yField:[a.yField],k=a.gutter/100,l=a.groupGutter/100,m=b.animate,n=a.column,o=a.group,p=b.shadow,q=a.shadowGroups,r=a.shadowAttributes,s=q.length,t=h.bbox,u=h.barWidth,v=h.shrunkBarWidth,w=a.getPadding(),x=a.stacked,y=h.barsLen,z=a.colorArrayStyle,A=z&&z.length||0,B=a.themeIdx,C=Math,D=C.max,E=C.min,F=C.abs,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y;for(e=0,f=d.length;e<f;e++){g=d[e];L=h.zero;M=h.zero;J=0;K=0;R=S=0;N=false;for(G=0,Q=0;G<y;G++){if(a.__excludes&&a.__excludes[G]){continue}H=g.get(h.bars[G]);if(H>=0){R+=H}else{S+=H}I=Math.round((H-D(h.minY,0))*h.scale);Y=B+(y>1?G:0);O={fill:z[Y%A]};if(n){Ext.apply(O,{height:I,width:D(h.groupBarWidth,0),x:a.boundColumn?h.barsLoc[e]:t.x+w.left+(u-v)*.5+e*u*(1+k)+Q*h.groupBarWidth*(1+l)*!x,y:L-I})}else{W=f-1-e;Ext.apply(O,{height:D(h.groupBarWidth,0),width:I+(L==h.zero),x:L+(L!=h.zero),y:t.y+w.top+(u-v)*.5+W*u*(1+k)+Q*h.groupBarWidth*(1+l)*!x+1})}if(I<0){if(n){O.y=M;O.height=F(I)}else{O.x=M+I;O.width=F(I)}}if(x){if(I<0){M+=I*(n?-1:1)}else{L+=I*(n?-1:1)}J+=F(I);if(I<0){K+=F(I)}}O.x=Math.floor(O.x)+1;X=Math.floor(O.y);if(Ext.isIE8m&&O.y>X){X--}O.y=X;O.width=Math.floor(O.width);O.height=Math.floor(O.height);i.push({series:a,yField:j[G],storeItem:g,value:[g.get(a.xField),H],attr:O,point:n?[O.x+O.width/2,H>=0?O.y:O.y+O.height]:[H>=0?O.x+O.width:O.x,O.y+O.height/2]});if(m&&b.resizing){P=n?{x:O.x,y:h.zero,width:O.width,height:0}:{x:h.zero,y:O.y,width:0,height:O.height};if(p&&(x&&!N||!x)){N=true;for(T=0;T<s;T++){U=q[T].getAt(x?e:e*y+G);if(U){U.setAttributes(P,true)}}}V=o.getAt(e*y+G);if(V){V.setAttributes(P,true)}}Q++}if(x&&i.length){i[e*Q].totalDim=J;i[e*Q].totalNegDim=K;i[e*Q].totalPositiveValues=R;i[e*Q].totalNegativeValues=S}}if(x&&Q==0){for(e=0,f=d.length;e<f;e++){for(T=0;T<s;T++){U=q[T].getAt(e);if(U){U.hide(true)}}}}},renderShadows:function(a,b,c,d){var e=this,f=e.chart,g=f.surface,h=f.animate,i=e.stacked,j=e.shadowGroups,k=e.shadowAttributes,l=j.length,m=f.getChartStore(),n=e.column,o=e.items,p=[],q=d.zero,r,s,t,u,v,w,x;if(i&&a%d.groupBarsLen===0||!i){w=a/d.groupBarsLen;for(r=0;r<l;r++){s=Ext.apply({},k[r]);t=j[r].getAt(i?w:a);Ext.copyTo(s,b,"x,y,width,height");if(!t){t=g.add(Ext.apply({type:"rect",group:j[r]},Ext.apply({},c,s)))}if(i){u=o[a].totalDim;v=o[a].totalNegDim;if(n){s.y=q+v-u-1;s.height=u}else{s.x=q-v;s.width=u}}x=e.renderer(t,m.getAt(w),s,a,m);x.hidden=!!b.hidden;if(h){e.onAnimate(t,{to:x})}else{t.setAttributes(x,true)}p.push(t)}}return p},drawSeries:function(){var a=this,b=a.chart,c=b.getChartStore(),d=b.surface,e=b.animate,f=a.stacked,g=a.column,h=b.axes,i=a.getAxesForXAndYFields(),j=i.xAxis,k=i.yAxis,l=b.shadow,m=a.shadowGroups,n=m.length,o=a.group,p=a.seriesStyle,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(!c||!c.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}A=Ext.apply({},this.style,p);delete A.fill;delete A.x;delete A.y;delete A.width;delete A.height;a.unHighlightItem();a.cleanHighlights();a.boundColumn=j&&Ext.Array.contains(a.axis,j)&&h.get(j)&&h.get(j).isNumericAxis;a.getPaths();z=a.bounds;q=a.items;u=g?{y:z.zero,height:0}:{x:z.zero,width:0};r=q.length;for(s=0;s<r;s++){v=o.getAt(s);B=q[s].attr;if(l){q[s].shadows=a.renderShadows(s,B,u,z)}if(!v){C=Ext.apply({},u,B);C=Ext.apply(C,A||{});v=d.add(Ext.apply({},{type:"rect",group:o},C))}if(e){w=a.renderer(v,c.getAt(s),B,s,c);v._to=w;D=a.onAnimate(v,{to:Ext.apply(w,A)});if(l&&f&&s%z.barsLen===0){t=s/z.barsLen;for(x=0;x<n;x++){D.on("afteranimate",function(){this.show(true)},m[x].getAt(t))}}}else{w=a.renderer(v,c.getAt(s),Ext.apply(B,{hidden:false}),s,c);v.setAttributes(Ext.apply(w,A),true)}q[s].sprite=v}r=o.getCount();for(t=s;t<r;t++){o.getAt(t).hide(true)}if(a.stacked){s=c.getCount()}if(l){for(x=0;x<n;x++){y=m[x];r=y.getCount();for(t=s;t<r;t++){y.getAt(t).hide(true)}}}a.renderLabels()},onCreateLabel:function(a,b,c,d){var e=this,f=e.chart.surface,g=e.labelsGroup,h=e.label,i=Ext.apply({},h,e.seriesLabelStyle||{}),j;return f.add(Ext.apply({type:"text",group:g},i||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this,i=h.bounds,j=i.groupBarWidth,k=h.column,l=h.chart,m=l.chartBBox,n=l.resizing,o=c.value[0],p=c.value[1],q=c.attr,r=h.label,s=h.stacked,t=r.stackedDisplay,u=r.orientation=="vertical",v=[].concat(r.field),w=r.renderer,x,y,z,A,B=i.zero,C="insideStart",D="insideEnd",E="outside",F="over",G="under",H=4,I=2,J=i.signed,K,L,M;if(e==C||e==D||e==E){if(s&&e==E){a.hide(true);return}a.setAttributes({style:undefined});x=Ext.isNumber(g)?w(b.get(v[g]),a,b,c,d,e,f,g):"";a.setAttributes({text:x});y=h.getLabelSize(x,a.attr.style);z=y.width;A=y.height;if(k){if(!z||!A||s&&q.height<A){a.hide(true);return}K=q.x+(u?j/2:(j-z)/2);if(e==E){var N=p>=0?q.y-m.y:m.y+m.height-q.y-q.height;if(N<A+I){e=D}}if(!s&&e!=E){if(A+I>q.height){e=E}}if(!L){L=q.y;if(p>=0){switch(e){case C:L+=q.height+(u?-I:-A/2);break;case D:L+=u?A+H:A/2;break;case E:L+=u?-I:-A/2;break}}else{switch(e){case C:L+=u?A+I:A/2;break;case D:L+=u?q.height-I:q.height-A/2;break;case E:L+=u?q.height+A+I:q.height+A/2;break}}}}else{if(!z||!A||s&&!q.width){a.hide(true);return}L=q.y+(u?(j+A)/2:j/2);if(e==E){var N=p>=0?m.x+m.width-q.x-q.width:q.x-m.x;if(N<z+H){e=D}}if(e!=E&&!u){if(z+H>q.width){if(s){if(A>q.width){a.hide(true);return}K=q.x+q.width/2;L=q.y+q.height-(q.height-z)/2;u=true}else{e=E}}}if(!K){K=q.x;if(p>=0){switch(e){case C:K+=u?z/2:H;break;case D:K+=q.width+(u?-z/2:-z-H);break;case E:K+=q.width+(u?z/2:H);break}}else{switch(e){case C:K+=q.width+(u?-z/2:-z-H);break;case D:K+=u?z/2:H;break;case E:K+=u?-z/2:-z-H;break}}}}}else if(e==F||e==G){if(s&&t){x=a.attr.text;a.setAttributes({style:Ext.applyIf(a.attr&&a.attr.style||{},{"font-weight":"bold","font-size":"14px"})});y=h.getLabelSize(x,a.attr.style);z=y.width;A=y.height;switch(e){case F:if(k){K=q.x+(u?j/2:(j-z)/2);L=B-(c.totalDim-c.totalNegDim)-A/2-I}else{K=B+(c.totalDim-c.totalNegDim)+H;L=q.y+(u?(j+A)/2:j/2)}break;case G:if(k){K=q.x+(u?j/2:(j-z)/2);L=B+c.totalNegDim+A/2}else{K=B-c.totalNegDim-z-H;L=q.y+(u?(j+A)/2:j/2)}break}}}if(K==undefined||L==undefined){a.hide(true);return}a.isOutside=e==E;a.setAttributes({text:x});M={x:K,y:L};if(u){M.rotate={x:K,y:L,degrees:270}}if(f&&n){if(k){K=q.x+q.width/2;L=B}else{K=B;L=q.y+q.height/2}a.setAttributes({x:K,y:L},true);if(u){a.setAttributes({rotate:{x:K,y:L,degrees:270}},true)}}if(f){h.onAnimate(a,{to:M})}else{a.setAttributes(Ext.apply(M,{hidden:false}),true)}},getLabelSize:function(a,b){var c=this.testerLabel,d=this.label,e=Ext.apply({},d,b,this.seriesLabelStyle||{}),f=d.orientation==="vertical",g,h,i,j;if(!c){c=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},e))}c.setAttributes({style:b,text:a},true);g=c.getBBox();h=g.width;i=g.height;return{width:f?i:h,height:f?h:i}},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c){var d=c.sprite.getBBox();return d.x<=a&&d.y<=b&&d.x+d.width>=a&&d.y+d.height>=b},hideAll:function(a){var b=this.chart.axes,c=b.items,d=c.length,e=0;a=(isNaN(this._index)?a:this._index)||0;if(!this.__excludes){this.__excludes=[]}this.__excludes[a]=true;this.drawSeries();for(e;e<d;e++){c[e].drawAxis()}},showAll:function(a){var b=this.chart.axes,c=b.items,d=c.length,e=0;a=(isNaN(this._index)?a:this._index)||0;if(!this.__excludes){this.__excludes=[]}this.__excludes[a]=false;this.drawSeries();for(e;e<d;e++){c[e].drawAxis()}},getLegendColor:function(a){var b=this,c=b.colorArrayStyle.length;if(b.style&&b.style.fill){return b.style.fill}else{return b.colorArrayStyle[a%c]}},highlightItem:function(a){this.callParent(arguments);this.renderLabels()},unHighlightItem:function(){this.callParent(arguments);this.renderLabels()},cleanHighlights:function(){this.callParent(arguments);this.renderLabels()}});Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:Ext.chart.series.Bar,type:"column",alias:"series.column",column:true,boundColumn:false,xPadding:10,yPadding:0});Ext.define("Ext.chart.series.Gauge",{extend:Ext.chart.series.Series,type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:false,needle:false,donut:false,showInLegend:false,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart,d=c.surface,e=c.store,f=c.shadow,g,h,i;Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]});b.group=d.getGroup(b.seriesId);if(f){for(g=0,h=b.shadowAttributes.length;g<h;g++){b.shadowGroups.push(d.getGroup(b.seriesId+"-shadows"+g))}}d.customAttributes.segment=function(a){return b.getSegment(a)}},initialize:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d=a.label,e=c.length;a.yField=[];if(d&&d.field&&e>0){a.yField.push(c[0].get(d.field))}},getSegment:function(a){var b=this,c=b.rad,d=Math.cos,e=Math.sin,f=Math.abs,g=b.centerX,h=b.centerY,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=.01,r=a.endRho-a.startRho,s=a.startAngle,t=a.endAngle,u=(s+t)/2*c,v=a.margin||0,w=f(t-s)>180,x=Math.min(s,t)*c,y=Math.max(s,t)*c,z=false;g+=v*d(u);h+=v*e(u);i=g+a.startRho*d(x);m=h+a.startRho*e(x);j=g+a.endRho*d(x);n=h+a.endRho*e(x);k=g+a.startRho*d(y);o=h+a.startRho*e(y);l=g+a.endRho*d(y);p=h+a.endRho*e(y);if(f(i-k)<=q&&f(m-o)<=q){z=true}if(z){return{path:[["M",i,m],["L",j,n],["A",a.endRho,a.endRho,0,+w,1,l,p],["Z"]]}}else{return{path:[["M",i,m],["L",j,n],["A",a.endRho,a.endRho,0,+w,1,l,p],["L",k,o],["A",a.startRho,a.startRho,0,+w,0,i,m],["Z"]]}}},calcMiddle:function(a){var b=this,c=b.rad,d=a.slice,e=b.centerX,f=b.centerY,g=d.startAngle,h=d.endAngle,i=Math.max("rho"in d?d.rho:b.radius,b.label.minMargin),j=+b.donut,k=Math.min(g,h)*c,l=Math.max(g,h)*c,m=-(k+(l-k)/2),n=e+(a.endRho+a.startRho)/2*Math.cos(m),o=f-(a.endRho+a.startRho)/2*Math.sin(m);a.middle={x:n,y:o}},drawSeries:function(){var a=this,b=a.chart,c=b.getChartStore(),d=a.group,e=a.chart.animate,f=a.chart.axes.get(0),g=f&&f.minimum||a.minimum||0,h=f&&f.maximum||a.maximum||0,i=a.angleField||a.field||a.xField,j=b.surface,k=b.chartBBox,l=a.rad,m=+a.donut,n={},o=[],p=a.seriesStyle,q=a.seriesLabelStyle,r=a.colorArrayStyle,s=r&&r.length||0,t=Math.cos,u=Math.sin,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R;Ext.apply(p,a.style||{});a.setBBox();O=a.bbox;if(a.colorSet){r=a.colorSet;s=r.length}if(!c||!c.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}w=a.centerX=k.x+k.width/2;x=a.centerY=k.y+k.height;a.radius=Math.min(w-k.x,x-k.y);a.slices=z=[];a.items=o=[];if(!a.value){E=c.getAt(0);a.value=E.get(i)}B=a.value;if(a.needle){Q={series:a,value:B,startAngle:-180,endAngle:0,rho:a.radius};P=-180*(1-(B-g)/(h-g));z.push(Q)}else{P=-180*(1-(B-g)/(h-g));Q={series:a,value:B,startAngle:-180,endAngle:P,rho:a.radius};
R={series:a,value:a.maximum-B,startAngle:P,endAngle:0,rho:a.radius};z.push(Q,R)}for(F=0,D=z.length;F<D;F++){y=z[F];A=d.getAt(F);v=Ext.apply({segment:{startAngle:y.startAngle,endAngle:y.endAngle,margin:0,rho:y.rho,startRho:y.rho*+m/100,endRho:y.rho}},Ext.apply(p,r&&{fill:r[F%s]}||{}));C=Ext.apply({},v.segment,{slice:y,series:a,storeItem:E,index:F});o[F]=C;if(!A){N=Ext.apply({type:"path",group:d},Ext.apply(p,r&&{fill:r[F%s]}||{}));A=j.add(Ext.apply(N,v))}y.sprite=y.sprite||[];C.sprite=A;y.sprite.push(A);if(e){v=a.renderer(A,E,v,F,c);A._to=v;a.onAnimate(A,{to:v})}else{v=a.renderer(A,E,Ext.apply(v,{hidden:false}),F,c);A.setAttributes(v,true)}}if(a.needle){P=P*Math.PI/180;if(!a.needleSprite){a.needleSprite=a.chart.surface.add({type:"path",path:["M",w+a.radius*+m/100*t(P),x+-Math.abs(a.radius*+m/100*u(P)),"L",w+a.radius*t(P),x+-Math.abs(a.radius*u(P))],"stroke-width":4,stroke:"#222"})}else{if(e){a.onAnimate(a.needleSprite,{to:{path:["M",w+a.radius*+m/100*t(P),x+-Math.abs(a.radius*+m/100*u(P)),"L",w+a.radius*t(P),x+-Math.abs(a.radius*u(P))]}})}else{a.needleSprite.setAttributes({type:"path",path:["M",w+a.radius*+m/100*t(P),x+-Math.abs(a.radius*+m/100*u(P)),"L",w+a.radius*t(P),x+-Math.abs(a.radius*u(P))]})}}a.needleSprite.setAttributes({hidden:false},true)}delete a.value},setValue:function(a){this.value=a;this.drawSeries()},onCreateLabel:function(a,b,c,d){},onPlaceLabel:function(a,b,c,d,e,f,g){},onPlaceCallout:function(){},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c,d){var e=this,f=e.centerX,g=e.centerY,h=Math.abs,i=h(a-f),j=h(b-g),k=c.startAngle,l=c.endAngle,m=Math.sqrt(i*i+j*j),n=Math.atan2(b-g,a-f)/e.rad;return d===0&&(n>=k&&n<l&&m>=c.startRho&&m<=c.endRho)},getLegendColor:function(a){var b=this.colorSet||this.colorArrayStyle;return b[a%b.length]}});Ext.define("Ext.chart.series.Line",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:true,markerConfig:{},style:{},smooth:false,defaultSmoothness:3,fill:false,constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface,d=b.chart.shadow,e,f;a.highlightCfg=Ext.Object.merge({"stroke-width":3},a.highlightCfg);Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]});b.group=c.getGroup(b.seriesId);if(b.showMarkers){b.markerGroup=c.getGroup(b.seriesId+"-markers")}if(d){for(e=0,f=b.shadowAttributes.length;e<f;e++){b.shadowGroups.push(c.getGroup(b.seriesId+"-shadows"+e))}}},shrink:function(a,b,c){var d=a.length,e=Math.floor(d/c),f=1,g=0,h=0,i=[+a[0]],j=[+b[0]];for(;f<d;++f){g+=+a[f]||0;h+=+b[f]||0;if(f%e==0){i.push(g/e);j.push(h/e);g=0;h=0}}return{x:i,y:j}},drawSeries:function(){var a=this,b=a.chart,c=b.axes,d=b.getChartStore(),e=d.data.items,f,g=d.getCount(),h=a.chart.surface,i={},j=a.group,k=a.showMarkers,l=a.markerGroup,m=b.shadow,n=a.shadowGroups,o=a.shadowAttributes,p=a.smooth,q=n.length,r=["M"],s=["M"],t=["M"],u=["M"],v=b.markerIndex,w=[].concat(a.axis),x,y=[],z={},A=[],B={},C=false,D=[],E=Ext.apply({},a.markerStyle),F=a.seriesStyle,G=a.colorArrayStyle,H=G&&G.length||0,I=Ext.isNumber,J=a.seriesIdx,K=a.getAxesForXAndYFields(),L=K.xAxis,M=K.yAxis,N=L?c.get(L).type:"",O=M?c.get(M).type:"",P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb;if(a.fireEvent("beforedraw",a)===false){return}if(!g||a.seriesIsHidden){a.hide();a.items=[];if(a.line){a.line.hide(true);if(a.line.shadows){P=a.line.shadows;for(cb=0,q=P.length;cb<q;cb++){Q=P[cb];Q.hide(true)}}if(a.fillPath){a.fillPath.hide(true)}}a.line=null;a.fillPath=null;return}ub=Ext.apply(E||{},a.markerConfig,{fill:a.seriesStyle.fill||G[a.themeIdx%G.length]});wb=ub.type;delete ub.type;vb=F;if(!vb["stroke-width"]){vb["stroke-width"]=.5}yb="opacity"in vb?vb.opacity:1;Bb="opacity"in vb?vb.opacity:.3;zb="lineOpacity"in vb?vb.lineOpacity:yb;Ab="fillOpacity"in vb?vb.fillOpacity:Bb;if(v&&l&&l.getCount()){for(bb=0;bb<v;bb++){gb=l.getAt(bb);l.remove(gb);l.add(gb);hb=l.getAt(l.getCount()-2);gb.setAttributes({x:0,y:0,translate:{x:hb.attr.translation.x,y:hb.attr.translation.y}},true)}}a.unHighlightItem();a.cleanHighlights();a.setBBox();i=a.bbox;a.clipRect=[i.x,i.y,i.width,i.height];if(eb=c.get(L)){fb=eb.applyData();ob=fb.from;pb=fb.to}if(eb=c.get(M)){fb=eb.applyData();qb=fb.from;rb=fb.to}if(a.xField&&!Ext.isNumber(ob)){eb=a.getMinMaxXValues();ob=eb[0];pb=eb[1]}if(a.yField&&!Ext.isNumber(qb)){eb=a.getMinMaxYValues();qb=eb[0];rb=eb[1]}if(isNaN(ob)){ob=0;mb=i.width/(g-1||1)}else{mb=i.width/(pb-ob||g-1||1)}if(isNaN(qb)){qb=0;nb=i.height/(g-1||1)}else{nb=i.height/(rb-qb||g-1||1)}for(bb=0,db=e.length;bb<db;bb++){f=e[bb];jb=f.get(a.xField);if(N=="Time"&&typeof jb=="string"){jb=Date.parse(jb)}if(typeof jb=="string"||typeof jb=="object"&&!Ext.isDate(jb)||L&&c.get(L)&&c.get(L).type=="Category"){if(jb in z){jb=z[jb]}else{jb=z[jb]=bb}}kb=f.get(a.yField);if(O=="Time"&&typeof kb=="string"){kb=Date.parse(kb)}if(typeof kb=="undefined"||typeof kb=="string"&&!kb){continue}if(typeof kb=="string"||typeof kb=="object"&&!Ext.isDate(kb)||M&&c.get(M)&&c.get(M).type=="Category"){kb=bb}D.push(bb);y.push(jb);A.push(kb)}db=y.length;if(db>i.width){lb=a.shrink(y,A,i.width);y=lb.x;A=lb.y}a.items=[];xb=0;db=y.length;for(bb=0;bb<db;bb++){jb=y[bb];kb=A[bb];if(kb===false){if(s.length==1){s=[]}C=true;a.items.push(false);continue}else{W=(i.x+(jb-ob)*mb).toFixed(2);X=(i.y+i.height-(kb-qb)*nb).toFixed(2);if(C){C=false;s.push("M")}s=s.concat([W,X])}if(typeof _=="undefined"&&typeof X!="undefined"){_=X;$=W}if(!a.line||b.resizing){r=r.concat([W,i.y+i.height/2])}if(b.animate&&b.resizing&&a.line){a.line.setAttributes({path:r,opacity:zb},true);if(a.fillPath){a.fillPath.setAttributes({path:r,opacity:Ab},true)}if(a.line.shadows){P=a.line.shadows;for(cb=0,q=P.length;cb<q;cb++){Q=P[cb];Q.setAttributes({path:r},true)}}}if(k){gb=l.getAt(xb++);if(!gb){gb=Ext.chart.Shape[wb](h,Ext.apply({group:[j,l],x:0,y:0,translate:{x:+(Y||W),y:Z||i.y+i.height/2},value:'"'+jb+", "+kb+'"',zIndex:4e3},ub));gb._to={translate:{x:+W,y:+X}}}else{gb.setAttributes({value:'"'+jb+", "+kb+'"',x:0,y:0,hidden:false},true);gb._to={translate:{x:+W,y:+X}}}}a.items.push({series:a,value:[jb,kb],point:[W,X],sprite:gb,storeItem:d.getAt(D[bb])});Y=W;Z=X}if(s.length<=1){return}if(a.smooth){u=Ext.draw.Draw.smooth(s,I(p)?p:a.defaultSmoothness)}t=p?u:s;if(b.markerIndex&&a.previousPath){S=a.previousPath;if(!p){Ext.Array.erase(S,1,2)}}else{S=s}if(!a.line){a.line=h.add(Ext.apply({type:"path",group:j,path:r,stroke:vb.stroke||vb.fill},vb||{}));a;a.line.setAttributes({opacity:zb},true);if(m){a.line.setAttributes(Ext.apply({},a.shadowOptions),true)}a.line.setAttributes({fill:"none",zIndex:3e3});if(!vb.stroke&&H){a.line.setAttributes({stroke:G[a.themeIdx%H]},true)}if(m){P=a.line.shadows=[];for(R=0;R<q;R++){x=o[R];x=Ext.apply({},x,{path:r});Q=h.add(Ext.apply({},{type:"path",group:n[R]},x));P.push(Q)}}}if(a.fill){U=t.concat([["L",W,i.y+i.height],["L",$,i.y+i.height],["L",$,_]]);if(!a.fillPath){a.fillPath=h.add({group:j,type:"path",fill:vb.fill||G[a.themeIdx%H],path:r})}}ab=k&&l.getCount();if(b.animate){T=a.fill;sb=a.line;V=a.renderer(sb,false,{path:t},bb,d);Ext.apply(V,vb||{},{stroke:vb.stroke||vb.fill});delete V.fill;sb.show(true);if(b.markerIndex&&a.previousPath){a.animation=tb=a.onAnimate(sb,{to:V,from:{path:S}})}else{a.animation=tb=a.onAnimate(sb,{to:V})}if(m){P=sb.shadows;for(cb=0;cb<q;cb++){P[cb].show(true);if(b.markerIndex&&a.previousPath){a.onAnimate(P[cb],{to:{path:t},from:{path:S}})}else{a.onAnimate(P[cb],{to:{path:t}})}}}if(T){a.fillPath.show(true);a.onAnimate(a.fillPath,{to:Ext.apply({},{path:U,fill:vb.fill||G[a.themeIdx%H],"stroke-width":0,opacity:Ab},vb||{})})}if(k){xb=0;for(bb=0;bb<db;bb++){if(a.items[bb]){ib=l.getAt(xb++);if(ib){V=a.renderer(ib,d.getAt(bb),ib._to,bb,d);a.onAnimate(ib,{to:Ext.applyIf(V,ub||{})});ib.show(true)}}}for(;xb<ab;xb++){ib=l.getAt(xb);ib.hide(true)}}}else{V=a.renderer(a.line,false,{path:t,hidden:false},bb,d);Ext.apply(V,vb||{},{stroke:vb.stroke||vb.fill});delete V.fill;a.line.setAttributes(V,true);a.line.setAttributes({opacity:zb},true);if(m){P=a.line.shadows;for(cb=0;cb<q;cb++){P[cb].setAttributes({path:t,hidden:false},true)}}if(a.fill){a.fillPath.setAttributes({path:U,hidden:false,opacity:Ab},true)}if(k){xb=0;for(bb=0;bb<db;bb++){if(a.items[bb]){ib=l.getAt(xb++);if(ib){V=a.renderer(ib,d.getAt(bb),ib._to,bb,d);ib.setAttributes(Ext.apply(ub||{},V||{}),true);if(!ib.attr.hidden){ib.show(true)}}}}for(;xb<ab;xb++){ib=l.getAt(xb);ib.hide(true)}}}if(b.markerIndex){if(a.smooth){Ext.Array.erase(s,1,2)}else{Ext.Array.splice(s,1,0,s[1],s[2])}a.previousPath=s}a.renderLabels();a.renderCallouts();a.fireEvent("draw",a)},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=e.bbox,i=Ext.apply({},g,e.seriesLabelStyle||{});return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:Number(b.point[0]),y:h.y+h.height/2},i||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.resizing,k=h.label,l=k.renderer,m=k.field,n=h.bbox,o=Number(c.point[0]),p=Number(c.point[1]),q=c.sprite.attr.radius,r,s,t,u,v,w;a.setAttributes({text:l(b.get(m),a,b,c,d,e,f,g),hidden:true},true);s=c.sprite.getBBox();s.width=s.width||q*2;s.height=s.height||q*2;r=a.getBBox();t=r.width/2;u=r.height/2;if(e=="rotate"){v=s.width/2+t+u/2;if(o+v+t>n.x+n.width){o-=v}else{o+=v}a.setAttributes({rotation:{x:o,y:p,degrees:-45}},true)}else if(e=="under"||e=="over"){a.setAttributes({rotation:{degrees:0}},true);if(o<n.x+t){o=n.x+t}else if(o+t>n.x+n.width){o=n.x+n.width-t}w=s.height/2+u;p=p+(e=="over"?-w:w);if(p<n.y+u){p+=2*w}else if(p+u>n.y+n.height){p-=2*w}}if(h.chart.animate&&!h.chart.resizing){a.show(true);h.onAnimate(a,{to:{x:o,y:p}})}else{a.setAttributes({x:o,y:p},true);if(j&&h.animation){h.animation.on("afteranimate",function(){a.show(true)})}else{a.show(true)}}},highlightItem:function(){var a=this,b=a.line;a.callParent(arguments);if(b&&!a.highlighted){if(!("__strokeWidth"in b)){b.__strokeWidth=parseFloat(b.attr["stroke-width"])||0}if(b.__anim){b.__anim.paused=true}b.__anim=new Ext.fx.Anim({target:b,to:{"stroke-width":b.__strokeWidth+3}});a.highlighted=true}},unHighlightItem:function(){var a=this,b=a.line,c;a.callParent(arguments);if(b&&a.highlighted){c=b.__strokeWidth||parseFloat(b.attr["stroke-width"])||0;b.__anim=new Ext.fx.Anim({target:b,to:{"stroke-width":c}});a.highlighted=false}},onPlaceCallout:function(a,b,c,d,e,f,g){if(!e){return}var h=this,i=h.chart,j=i.surface,k=i.resizing,l=h.callouts,m=h.items,n=d==0?false:m[d-1].point,o=d==m.length-1?false:m[d+1].point,p=[+c.point[0],+c.point[1]],q,r,s,t,u,v,w=l.offsetFromViz||30,x=l.offsetToSide||10,y=l.offsetBox||3,z,A,B,C,D,E=h.clipRect,F={width:l.styles.width||10,height:l.styles.height||10},G,H;if(!n){n=p}if(!o){o=p}t=(o[1]-n[1])/(o[0]-n[0]);u=(p[1]-n[1])/(p[0]-n[0]);v=(o[1]-p[1])/(o[0]-p[0]);r=Math.sqrt(1+t*t);q=[1/r,t/r];s=[-q[1],q[0]];if(u>0&&v<0&&s[1]<0||u<0&&v>0&&s[1]>0){s[0]*=-1;s[1]*=-1}else if(Math.abs(u)<Math.abs(v)&&s[0]<0||Math.abs(u)>Math.abs(v)&&s[0]>0){s[0]*=-1;s[1]*=-1}G=p[0]+s[0]*w;H=p[1]+s[1]*w;z=G+(s[0]>0?0:-(F.width+2*y));A=H-F.height/2-y;B=F.width+2*y;C=F.height+2*y;if(z<E[0]||z+B>E[0]+E[2]){s[0]*=-1}if(A<E[1]||A+C>E[1]+E[3]){s[1]*=-1}G=p[0]+s[0]*w;H=p[1]+s[1]*w;z=G+(s[0]>0?0:-(F.width+2*y));A=H-F.height/2-y;B=F.width+2*y;C=F.height+2*y;if(i.animate){h.onAnimate(a.lines,{to:{path:["M",p[0],p[1],"L",G,H,"Z"]}});if(a.panel){a.panel.setPosition(z,A,true)}}else{a.lines.setAttributes({path:["M",p[0],p[1],"L",G,H,"Z"]},true);if(a.panel){a.panel.setPosition(z,A)}}for(D in a){a[D].show(true)}},isItemInPoint:function(a,b,c,d){var e=this,f=e.items,g=e.selectionTolerance,h=null,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=Math.sqrt,z=Math.abs;j=f[d];i=d&&f[d-1];if(d>=m){i=f[m-1]}k=i&&i.point;l=j&&j.point;n=i?k[0]:l[0]-g;o=i?k[1]:l[1];p=j?l[0]:k[0]+g;q=j?l[1]:k[1];t=y((a-n)*(a-n)+(b-o)*(b-o));u=y((a-p)*(a-p)+(b-q)*(b-q));v=Math.min(t,u);if(v<=g){return v==t?i:j}return false},toggleAll:function(a){var b=this,c,d,e,f;if(!a){Ext.chart.series.Cartesian.prototype.hideAll.call(b)}else{Ext.chart.series.Cartesian.prototype.showAll.call(b)}if(b.line){b.line.setAttributes({hidden:!a},true);if(b.line.shadows){for(c=0,f=b.line.shadows,d=f.length;c<d;c++){e=f[c];e.setAttributes({hidden:!a},true)}}}if(b.fillPath){b.fillPath.setAttributes({hidden:!a},true)}},hideAll:function(){this.toggleAll(false)},showAll:function(){this.toggleAll(true)}});Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:Ext.chart.series.Series,type:"pie",alias:"series.pie",accuracy:1e5,rad:Math.PI*2/1e5,highlightDuration:150,angleField:false,lengthField:false,donut:false,showInLegend:false,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart,d=c.surface,e=c.store,f=c.shadow,g,h,i;a.highlightCfg=Ext.merge({segment:{margin:20}},a.highlightCfg);Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]});b.group=d.getGroup(b.seriesId);if(f){for(g=0,h=b.shadowAttributes.length;g<h;g++){b.shadowGroups.push(d.getGroup(b.seriesId+"-shadows"+g))}}d.customAttributes.segment=function(a){var c=b.getSegment(a);if(!c.path||c.path.length===0){c.path=["M",0,0]}return c};b.__excludes=b.__excludes||[]},onRedraw:function(){this.initialize()},initialize:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d,e,f;a.yField=[];if(a.label.field){for(d=0,e=c.length;d<e;d++){f=c[d];a.yField.push(f.get(a.label.field))}}},getSegment:function(a){var b=this,c=b.rad,d=Math.cos,e=Math.sin,f=b.centerX,g=b.centerY,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=.01,u=a.startAngle,v=a.endAngle,w=(u+v)/2*c,x=a.margin||0,y=Math.min(u,v)*c,z=Math.max(u,v)*c,A=d(y),B=e(y),C=d(z),D=e(z),E=d(w),F=e(w),G=0,H=.7071067811865476;if(z-y<t){return{path:""}}if(x!==0){f+=x*E;g+=x*F}i=f+a.endRho*A;m=g+a.endRho*B;k=f+a.endRho*C;o=g+a.endRho*D;r=f+a.endRho*E;s=g+a.endRho*F;if(a.startRho!==0){h=f+a.startRho*A;l=g+a.startRho*B;j=f+a.startRho*C;n=g+a.startRho*D;p=f+a.startRho*E;q=g+a.startRho*F;return{path:[["M",i,m],["A",a.endRho,a.endRho,0,0,1,r,s],["L",r,s],["A",a.endRho,a.endRho,0,G,1,k,o],["L",k,o],["L",j,n],["A",a.startRho,a.startRho,0,G,0,p,q],["L",p,q],["A",a.startRho,a.startRho,0,0,0,h,l],["L",h,l],["Z"]]}}else{return{path:[["M",f,g],["L",i,m],["A",a.endRho,a.endRho,0,0,1,r,s],["L",r,s],["A",a.endRho,a.endRho,0,G,1,k,o],["L",k,o],["L",f,g],["Z"]]}}},calcMiddle:function(a){var b=this,c=b.rad,d=a.slice,e=b.centerX,f=b.centerY,g=d.startAngle,h=d.endAngle,i=+b.donut,j=-(g+h)*c/2,k=(a.endRho+a.startRho)/2,l=e+k*Math.cos(j),m=f-k*Math.sin(j);a.middle={x:l,y:m}},drawSeries:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d,e=a.group,f=a.chart.animate,g=a.angleField||a.field||a.xField,h=[].concat(a.lengthField),i=0,j=a.chart,k=j.surface,l=j.chartBBox,m=j.shadow,n=a.shadowGroups,o=a.shadowAttributes,p=n.length,q=h.length,r=0,s=+a.donut,t=[],u=[],v=0,w=0,x=0,y=a.seriesStyle,z=a.colorArrayStyle,A=z&&z.length||0,B,C,D,E,F,G,H,I,J=0,K,L,M,N,O,P,Q,R,S,T,U,V,W,X;Ext.apply(y,a.style||{});a.setBBox();X=a.bbox;if(a.colorSet){z=a.colorSet;A=z.length}if(!b||!b.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}a.unHighlightItem();a.cleanHighlights();G=a.centerX=l.x+l.width/2;H=a.centerY=l.y+l.height/2;a.radius=Math.min(G-l.x,H-l.y);a.slices=L=[];a.items=u=[];for(R=0,Q=c.length;R<Q;R++){d=c[R];if(this.__excludes&&this.__excludes[R]){continue}v+=+d.get(g);if(h[0]){for(S=0,i=0;S<q;S++){i+=+d.get(h[S])}t[R]=i;w=Math.max(w,i)}}v=v||1;for(R=0,Q=c.length;R<Q;R++){d=c[R];if(this.__excludes&&this.__excludes[R]){N=0}else{N=d.get(g);if(J==0){J=1}}if(J==1){J=2;a.firstAngle=x=a.accuracy*N/v/2;for(S=0;S<R;S++){L[S].startAngle=L[S].endAngle=a.firstAngle}}T=x-a.accuracy*N/v;K={series:a,value:N,startAngle:x,endAngle:T,storeItem:d};if(h[0]){P=+t[R];K.rho=Math.floor(a.radius/w*P)}else{K.rho=a.radius}L[R]=K;(function(){x=T})()}if(m){for(R=0,Q=L.length;R<Q;R++){K=L[R];K.shadowAttrs=[];for(S=0,r=0,D=[];S<q;S++){M=e.getAt(R*q+S);I=h[S]?b.getAt(R).get(h[S])/t[R]*K.rho:K.rho;B={segment:{startAngle:K.startAngle,endAngle:K.endAngle,margin:0,rho:K.rho,startRho:r+I*s/100,endRho:r+I},hidden:!K.value&&K.startAngle%a.accuracy==K.endAngle%a.accuracy};for(F=0,D=[];F<p;F++){C=o[F];E=n[F].getAt(R);if(!E){E=j.surface.add(Ext.apply({},{type:"path",group:n[F],strokeLinejoin:"round"},B,C))}C=a.renderer(E,b.getAt(R),Ext.apply({},B,C),R,b);if(f){a.onAnimate(E,{to:C})}else{E.setAttributes(C,true)}D.push(E)}K.shadowAttrs[S]=D}}}for(R=0,Q=L.length;R<Q;R++){K=L[R];for(S=0,r=0;S<q;S++){M=e.getAt(R*q+S);I=h[S]?b.getAt(R).get(h[S])/t[R]*K.rho:K.rho;B=Ext.apply({segment:{startAngle:K.startAngle,endAngle:K.endAngle,margin:0,rho:K.rho,startRho:r+I*s/100,endRho:r+I},hidden:!K.value&&K.startAngle%a.accuracy==K.endAngle%a.accuracy},Ext.apply(y,z&&{fill:z[(q>1?S:R)%A]}||{}));O=Ext.apply({},B.segment,{slice:K,series:a,storeItem:K.storeItem,index:R});a.calcMiddle(O);if(m){O.shadows=K.shadowAttrs[S]}u[R]=O;if(!M){W=Ext.apply({type:"path",group:e,middle:O.middle},Ext.apply(y,z&&{fill:z[(q>1?S:R)%A]}||{}));M=k.add(Ext.apply(W,B))}K.sprite=K.sprite||[];O.sprite=M;K.sprite.push(M);K.point=[O.middle.x,O.middle.y];if(f){B=a.renderer(M,b.getAt(R),B,R,b);M._to=B;M._animating=true;a.onAnimate(M,{to:B,listeners:{afteranimate:{fn:function(){this._animating=false},scope:M}}})}else{B=a.renderer(M,b.getAt(R),Ext.apply(B,{hidden:false}),R,b);M.setAttributes(B,true)}r+=I}}Q=e.getCount();for(R=0;R<Q;R++){if(!L[R/q>>0]&&e.getAt(R)){e.getAt(R).hide(true)}}if(m){p=n.length;for(F=0;F<Q;F++){if(!L[F/q>>0]){for(S=0;S<p;S++){if(n[S].getAt(F)){n[S].getAt(F).hide(true)}}}}}a.renderLabels();a.renderCallouts()},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=e.centerX,i=e.centerY,j=b.middle,k=Ext.apply(e.seriesLabelStyle||{},g||{});return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:j.x,y:j.y},k))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.resizing,k=h.label,l=k.renderer,m=k.field,n=h.centerX,o=h.centerY,p=c.middle,q={x:p.x,y:p.y},r=p.x-n,s=p.y-o,t={},u=1,v=Math.atan2(s,r||1),w=v*180/Math.PI,x,y,z,A;q.hidden=false;if(this.__excludes&&this.__excludes[d]){q.hidden=true}function B(a){if(a<0){a+=360}return a%360}a.setAttributes({text:l(b.get(m),a,b,c,d,e,f,g)},true);switch(e){case"outside":u=Math.sqrt(r*r+s*s)*2;a.setAttributes({rotation:{degrees:0}},true);y=a.getBBox();z=y.width/2*Math.cos(v)+4;A=y.height/2*Math.sin(v)+4;u+=Math.sqrt(z*z+A*A);q.x=u*Math.cos(v)+n;q.y=u*Math.sin(v)+o;break;case"rotate":w=B(w);w=w>90&&w<270?w+180:w;x=a.attr.rotation.degrees;if(x!=null&&Math.abs(x-w)>180*.5){if(w>x){w-=360}else{w+=360}w=w%360}else{w=B(w)}q.rotate={degrees:w,x:q.x,y:q.y};break;default:break}q.translate={x:0,y:0};if(f&&!j&&(e!="rotate"||x!=null)){h.onAnimate(a,{to:q})}else{a.setAttributes(q,true)}a._from=t},onPlaceCallout:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=h.centerX,k=h.centerY,l=c.middle,m={x:l.x,y:l.y},n=l.x-j,o=l.y-k,p=1,q,r=Math.atan2(o,n||1),s=a&&a.label?a.label.getBBox():{width:0,height:0},t=20,u=10,v=10,w;if(!s.width||!s.height){return}p=c.endRho+t;q=(c.endRho+c.startRho)/2+(c.endRho-c.startRho)/3;m.x=p*Math.cos(r)+j;m.y=p*Math.sin(r)+k;n=q*Math.cos(r);o=q*Math.sin(r);if(i.animate){h.onAnimate(a.lines,{to:{path:["M",n+j,o+k,"L",m.x,m.y,"Z","M",m.x,m.y,"l",n>0?u:-u,0,"z"]}});h.onAnimate(a.box,{to:{x:m.x+(n>0?u:-(u+s.width+2*v)),y:m.y+(o>0?-s.height-v/2:-s.height-v/2),width:s.width+2*v,height:s.height+2*v}});h.onAnimate(a.label,{to:{x:m.x+(n>0?u+v:-(u+s.width+v)),y:m.y+(o>0?-s.height/4:-s.height/4)}})}else{a.lines.setAttributes({path:["M",n+j,o+k,"L",m.x,m.y,"Z","M",m.x,m.y,"l",n>0?u:-u,0,"z"]},true);a.box.setAttributes({x:m.x+(n>0?u:-(u+s.width+2*v)),y:m.y+(o>0?-s.height-v/2:-s.height-v/2),width:s.width+2*v,height:s.height+2*v},true);a.label.setAttributes({x:m.x+(n>0?u+v:-(u+s.width+v)),y:m.y+(o>0?-s.height/4:-s.height/4)},true)}for(w in a){a[w].show(true)}},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c,d){var e=this,f=e.centerX,g=e.centerY,h=Math.abs,i=h(a-f),j=h(b-g),k=c.startAngle,l=c.endAngle,m=Math.sqrt(i*i+j*j),n=Math.atan2(b-g,a-f)/e.rad;if(n>e.firstAngle){n-=e.accuracy}return n<=k&&n>l&&m>=c.startRho&&m<=c.endRho},hideAll:function(a){var b,c,d,e,f,g,h;a=(isNaN(this._index)?a:this._index)||0;this.__excludes=this.__excludes||[];this.__excludes[a]=true;h=this.slices[a].sprite;for(f=0,g=h.length;f<g;f++){h[f].setAttributes({hidden:true},true)}if(this.slices[a].shadowAttrs){for(b=0,e=this.slices[a].shadowAttrs,c=e.length;b<c;b++){d=e[b];for(f=0,g=d.length;f<g;f++){d[f].setAttributes({hidden:true},true)}}}this.drawSeries()},showAll:function(a){a=(isNaN(this._index)?a:this._index)||0;this.__excludes[a]=false;this.drawSeries()},highlightItem:function(a){var b=this,c=b.rad,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;a=a||this.items[this._index];this.unHighlightItem();if(!a||b.animating||a.sprite&&a.sprite._animating){return}b.callParent([a]);if(!b.highlight){return}if("segment"in b.highlightCfg){d=b.highlightCfg.segment;e=b.chart.animate;if(b.labelsGroup){n=b.labelsGroup;o=b.label.display;p=n.getAt(a.index);q=(a.startAngle+a.endAngle)/2*c;r=d.margin||0;s=r*Math.cos(q);t=r*Math.sin(q);if(Math.abs(s)<1e-10){s=0}if(Math.abs(t)<1e-10){t=0}if(e){p.stopAnimation();p.animate({to:{translate:{x:s,y:t}},duration:b.highlightDuration})}else{p.setAttributes({translate:{x:s,y:t}},true)}}if(b.chart.shadow&&a.shadows){g=0;h=a.shadows;j=h.length;for(;g<j;g++){i=h[g];k={};l=a.sprite._from.segment;for(m in l){if(!(m in d)){k[m]=l[m]}}f={segment:Ext.applyIf(k,b.highlightCfg.segment)};if(e){i.stopAnimation();i.animate({to:f,duration:b.highlightDuration})}else{i.setAttributes(f,true)}}}}},unHighlightItem:function(){var a=this,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(!a.highlight){return}if("segment"in a.highlightCfg&&a.items){b=a.items;c=a.chart.animate;d=!!a.chart.shadow;e=a.labelsGroup;f=b.length;g=0;h=0;i=a.label.display;for(;g<f;g++){r=b[g];if(!r){continue}o=r.sprite;if(o&&o._highlighted){if(e){s=e.getAt(r.index);t=Ext.apply({translate:{x:0,y:0}},i=="rotate"?{rotate:{x:s.attr.x,y:s.attr.y,degrees:s.attr.rotation.degrees}}:{});if(c){s.stopAnimation();s.animate({to:t,duration:a.highlightDuration})}else{s.setAttributes(t,true)}}if(d){p=r.shadows;j=p.length;for(;h<j;h++){l={};m=r.sprite._to.segment;n=r.sprite._from.segment;Ext.apply(l,n);for(k in m){if(!(k in n)){l[k]=m[k]}}q=p[h];if(c){q.stopAnimation();q.animate({to:{segment:l},duration:a.highlightDuration})}else{q.setAttributes({segment:l},true)}}}}}}a.callParent(arguments)},getLegendColor:function(a){var b=this;return b.colorSet&&b.colorSet[a%b.colorSet.length]||b.colorArrayStyle[a%b.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Radar",{extend:Ext.chart.series.Series,type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:false,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface;b.group=c.getGroup(b.seriesId);if(b.showMarkers){b.markerGroup=c.getGroup(b.seriesId+"-markers")}},drawSeries:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d,e,f=a.group,g=a.chart,h=g.series.items,i,j,k,l=a.field||a.yField,m=g.surface,n=g.chartBBox,o=a.colorArrayStyle,p,q,r,s,t=0,u=[],v=Math.max,w=Math.cos,x=Math.sin,y=Math.PI*2,z=b.getCount(),A,B,C,D,E,F,G,H=a.seriesStyle,I=g.axes&&g.axes.get(0),J=!(I&&I.maximum);a.setBBox();t=J?0:I.maximum||0;Ext.apply(H,a.style||{});if(!b||!b.getCount()||a.seriesIsHidden){a.hide();a.items=[];if(a.radar){a.radar.hide(true)}a.radar=null;return}if(!H["stroke"]){H["stroke"]=o[a.themeIdx%o.length]}a.unHighlightItem();a.cleanHighlights();p=a.centerX=n.x+n.width/2;q=a.centerY=n.y+n.height/2;a.radius=s=Math.min(n.width,n.height)/2;a.items=r=[];if(J){for(i=0,j=h.length;i<j;i++){k=h[i];u.push(k.yField)}for(d=0;d<z;d++){e=c[d];for(F=0,G=u.length;F<G;F++){t=v(+e.get(u[F]),t)}}}t=t||1;A=[];B=[];for(F=0;F<z;F++){e=c[F];E=s*e.get(l)/t;C=E*w(F/z*y);D=E*x(F/z*y);if(F==0){B.push("M",C+p,D+q);A.push("M",.01*C+p,.01*D+q)}else{B.push("L",C+p,D+q);A.push("L",.01*C+p,.01*D+q)}r.push({sprite:false,point:[p+C,q+D],storeItem:e,series:a})}B.push("Z");if(!a.radar){a.radar=m.add(Ext.apply({type:"path",group:f,path:A},H||{}))}if(g.resizing){a.radar.setAttributes({path:A},true)}if(g.animate){a.onAnimate(a.radar,{to:Ext.apply({path:B},H||{})})}else{a.radar.setAttributes(Ext.apply({path:B},H||{}),true)}if(a.showMarkers){a.drawMarkers()}a.renderLabels();a.renderCallouts()},drawMarkers:function(){var a=this,b=a.chart,c=b.surface,d=b.getChartStore(),e=Ext.apply({},a.markerStyle||{}),f=Ext.apply(e,a.markerConfig,{fill:a.colorArrayStyle[a.themeIdx%a.colorArrayStyle.length]}),g=a.items,h=f.type,i=a.markerGroup,j=a.centerX,k=a.centerY,l,m,n,o,p;delete f.type;for(m=0,n=g.length;m<n;m++){l=g[m];o=i.getAt(m);if(!o){o=Ext.chart.Shape[h](c,Ext.apply({group:i,x:0,y:0,translate:{x:j,y:k}},f))}else{o.show()}l.sprite=o;if(b.resizing){o.setAttributes({x:0,y:0,translate:{x:j,y:k}},true)}o._to={translate:{x:l.point[0],y:l.point[1]}};p=a.renderer(o,d.getAt(m),o._to,m,d);p=Ext.applyIf(p||{},f||{});if(b.animate){a.onAnimate(o,{to:p})}else{o.setAttributes(p,true)}}},isItemInPoint:function(a,b,c){var d,e=10,f=Math.abs;d=c.point;return f(d[0]-a)<=e&&f(d[1]-b)<=e},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=e.centerX,i=e.centerY,j=Ext.apply({},g,e.seriesLabelStyle||{});return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:h,y:i},j||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.resizing,k=h.label,l=k.renderer,m=k.field,n=h.centerX,o=h.centerY,p={x:Number(c.point[0]),y:Number(c.point[1])},q=p.x-n,r=p.y-o,s=Math.atan2(r,q||1),t=s*180/Math.PI,u,v;function w(a){if(a<0){a+=360}return a%360}a.setAttributes({text:l(b.get(m),a,b,c,d,e,f,g),hidden:true},true);u=a.getBBox();t=w(t);if(t>45&&t<135||t>225&&t<315){v=t>45&&t<135?1:-1;p.y+=v*u.height/2}else{v=t>=135&&t<=225?-1:1;p.x+=v*u.width/2}if(j){a.setAttributes({x:n,y:o},true)}if(f){a.show(true);h.onAnimate(a,{to:p})}else{a.setAttributes(p,true);a.show(true)}},toggleAll:function(a){var b=this,c,d,e,f;if(!a){Ext.chart.series.Radar.superclass.hideAll.call(b)}else{Ext.chart.series.Radar.superclass.showAll.call(b)}if(b.radar){b.radar.setAttributes({hidden:!a},true);if(b.radar.shadows){for(c=0,f=b.radar.shadows,d=f.length;c<d;c++){e=f[c];e.setAttributes({hidden:!a},true)}}}},hideAll:function(){this.toggleAll(false);this.hideMarkers(0)},showAll:function(){this.toggleAll(true)},hideMarkers:function(a){var b=this,c=b.markerGroup&&b.markerGroup.getCount()||0,d=a||0;for(;d<c;d++){b.markerGroup.getAt(d).hide(true)}},getAxesForXAndYFields:function(){var a=this,b=a.chart,c=b.axes,d=[].concat(c&&c.get(0));return{yAxis:d}}});Ext.define("Ext.chart.series.Scatter",{extend:Ext.chart.series.Cartesian,type:"scatter",alias:"series.scatter",constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.shadow,d=b.chart.surface,e,f;Ext.apply(b,a,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]});b.group=d.getGroup(b.seriesId);if(c){for(e=0,f=b.shadowAttributes.length;e<f;e++){b.shadowGroups.push(d.getGroup(b.seriesId+"-shadows"+e))}}},getBounds:function(){var a=this,b=a.chart,c=b.getChartStore(),d=b.axes,e=a.getAxesForXAndYFields(),f=e.xAxis,g=e.yAxis,h,i,j,k,l,m,n,o,p,q,r;a.setBBox();h=a.bbox;if(q=d.get(f)){r=q.applyData();l=r.from;n=r.to}if(q=d.get(g)){r=q.applyData();m=r.from;o=r.to}if(a.xField&&!Ext.isNumber(l)){q=a.getMinMaxXValues();l=q[0];n=q[1]}if(a.yField&&!Ext.isNumber(m)){q=a.getMinMaxYValues();m=q[0];o=q[1]}if(isNaN(l)){l=0;n=c.getCount()-1;i=h.width/(c.getCount()-1)}else{i=h.width/(n-l)}if(isNaN(m)){m=0;o=c.getCount()-1;j=h.height/(c.getCount()-1)}else{j=h.height/(o-m)}return{bbox:h,minX:l,minY:m,xScale:i,yScale:j}},getPaths:function(){var a=this,b=a.chart,c=b.shadow,d=b.getChartStore(),e=d.data.items,f,g,h,i=a.group,j=a.bounds=a.getBounds(),k=a.bbox,l=j.xScale,m=j.yScale,n=j.minX,o=j.minY,p=k.x,q=k.y,r=k.height,s=a.items=[],t=[],u,v,w,x,y;for(f=0,g=e.length;f<g;f++){h=e[f];w=h.get(a.xField);x=h.get(a.yField);if(typeof x=="undefined"||typeof x=="string"&&!x||w==null||x==null){continue}if(typeof w=="string"||typeof w=="object"&&!Ext.isDate(w)){w=f}if(typeof x=="string"||typeof x=="object"&&!Ext.isDate(x)){x=f}u=p+(w-n)*l;v=q+r-(x-o)*m;t.push({x:u,y:v});a.items.push({series:a,value:[w,x],point:[u,v],storeItem:h});if(b.animate&&b.resizing){y=i.getAt(f);if(y){a.resetPoint(y);if(c){a.resetShadow(y)}}}}return t},resetPoint:function(a){var b=this.bbox;a.setAttributes({translate:{x:(b.x+b.width)/2,y:(b.y+b.height)/2}},true)},resetShadow:function(a){var b=this,c=a.shadows,d=b.shadowAttributes,e=b.shadowGroups.length,f=b.bbox,g,h;for(g=0;g<e;g++){h=Ext.apply({},d[g]);if(h.translate){h.translate.x+=(f.x+f.width)/2;h.translate.y+=(f.y+f.height)/2}else{h.translate={x:(f.x+f.width)/2,y:(f.y+f.height)/2}}c[g].setAttributes(h,true)}},createPoint:function(a,b){var c=this,d=c.chart,e=c.group,f=c.bbox;return Ext.chart.Shape[b](d.surface,Ext.apply({},{x:0,y:0,group:e,translate:{x:(f.x+f.width)/2,y:(f.y+f.height)/2}},a))},createShadow:function(a,b,c){var d=this,e=d.chart,f=d.shadowGroups,g=d.shadowAttributes,h=f.length,i=d.bbox,j,k,l,m;a.shadows=l=[];for(j=0;j<h;j++){m=Ext.apply({},g[j]);if(m.translate){m.translate.x+=(i.x+i.width)/2;m.translate.y+=(i.y+i.height)/2}else{Ext.apply(m,{translate:{x:(i.x+i.width)/2,y:(i.y+i.height)/2}})}Ext.apply(m,b);k=Ext.chart.Shape[c](e.surface,Ext.apply({},{x:0,y:0,group:f[j]},m));l.push(k)}},drawSeries:function(){var a=this,b=a.chart,c=b.getChartStore(),d=a.group,e=b.shadow,f=a.shadowGroups,g=a.shadowAttributes,h=f.length,i,j,k,l,m,n,o,p,q,r,s;n=Ext.apply(a.markerStyle,a.markerConfig);p=n.type||"circle";delete n.type;if(!c||!c.getCount()){a.hide();a.items=[];return}a.unHighlightItem();a.cleanHighlights();j=a.getPaths();l=j.length;for(m=0;m<l;m++){k=j[m];i=d.getAt(m);Ext.apply(k,n);if(!i){i=a.createPoint(k,p);if(e){a.createShadow(i,n,p)}}q=i.shadows;if(b.animate){r=a.renderer(i,c.getAt(m),{translate:k},m,c);i._to=r;a.onAnimate(i,{to:r});for(o=0;o<h;o++){s=Ext.apply({},g[o]);r=a.renderer(q[o],c.getAt(m),Ext.apply({},{hidden:false,translate:{x:k.x+(s.translate?s.translate.x:0),y:k.y+(s.translate?s.translate.y:0)}},s),m,c);a.onAnimate(q[o],{to:r})}}else{r=a.renderer(i,c.getAt(m),{translate:k},m,c);i._to=r;i.setAttributes(r,true);for(o=0;o<h;o++){s=Ext.apply({},g[o]);r=a.renderer(q[o],c.getAt(m),Ext.apply({},{hidden:false,translate:{x:k.x+(s.translate?s.translate.x:0),y:k.y+(s.translate?s.translate.y:0)}},s),m,c);q[o].setAttributes(r,true)}}a.items[m].sprite=i}l=d.getCount();for(m=j.length;m<l;m++){d.getAt(m).hide(true)}a.renderLabels();a.renderCallouts()},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=Ext.apply({},g,e.seriesLabelStyle),i=e.bbox;return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:Number(b.point[0]),y:i.y+i.height/2},h))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.resizing,k=h.label,l=k.renderer,m=k.field,n=h.bbox,o=Number(c.point[0]),p=Number(c.point[1]),q=c.sprite.attr.radius,r,s,t,u,v,w,x;a.setAttributes({text:l(b.get(m),a,b,c,d,e,f,g),hidden:true},true);s=c.sprite.getBBox();s.width=s.width||q*2;s.height=s.height||q*2;r=a.getBBox();t=r.width/2;u=r.height/2;if(e=="rotate"){v=s.width/2+t+u/2;if(o+v+t>n.x+n.width){o-=v}else{o+=v}a.setAttributes({rotation:{x:o,y:p,degrees:-45}},true)
}else if(e=="under"||e=="over"){a.setAttributes({rotation:{degrees:0}},true);if(o<n.x+t){o=n.x+t}else if(o+t>n.x+n.width){o=n.x+n.width-t}w=s.height/2+u;p=p+(e=="over"?-w:w);if(p<n.y+u){p+=2*w}else if(p+u>n.y+n.height){p-=2*w}}if(!i.animate){a.setAttributes({x:o,y:p},true);a.show(true)}else{if(j){x=c.sprite.getActiveAnimation();if(x){x.on("afteranimate",function(){a.setAttributes({x:o,y:p},true);a.show(true)})}else{a.show(true)}}else{h.onAnimate(a,{to:{x:o,y:p}})}}},onPlaceCallout:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.surface,k=i.resizing,l=h.callouts,m=h.items,n=c.point,o,p=a.label.getBBox(),q=30,r=10,s=3,t,u,v,w,x,y=h.bbox,z,A;o=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)];z=n[0]+o[0]*q;A=n[1]+o[1]*q;t=z+(o[0]>0?0:-(p.width+2*s));u=A-p.height/2-s;v=p.width+2*s;w=p.height+2*s;if(t<y[0]||t+v>y[0]+y[2]){o[0]*=-1}if(u<y[1]||u+w>y[1]+y[3]){o[1]*=-1}z=n[0]+o[0]*q;A=n[1]+o[1]*q;t=z+(o[0]>0?0:-(p.width+2*s));u=A-p.height/2-s;v=p.width+2*s;w=p.height+2*s;if(i.animate){h.onAnimate(a.lines,{to:{path:["M",n[0],n[1],"L",z,A,"Z"]}},true);h.onAnimate(a.box,{to:{x:t,y:u,width:v,height:w}},true);h.onAnimate(a.label,{to:{x:z+(o[0]>0?s:-(p.width+s)),y:A}},true)}else{a.lines.setAttributes({path:["M",n[0],n[1],"L",z,A,"Z"]},true);a.box.setAttributes({x:t,y:u,width:v,height:w},true);a.label.setAttributes({x:z+(o[0]>0?s:-(p.width+s)),y:A},true)}for(x in a){a[x].show(true)}},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c){var d,e=10,f=Math.abs;function g(c){var d=f(c[0]-a),e=f(c[1]-b);return Math.sqrt(d*d+e*e)}d=c.point;return d[0]-e<=a&&d[0]+e>=a&&d[1]-e<=b&&d[1]+e>=b}});Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.TableLayout",monitorResize:false,type:"table",createsInnerCt:true,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(a){return this.autoSizePolicy},initHierarchyState:function(a){a.inShrinkWrapTable=true},getLayoutItems:function(){var a=this,b=[],c=a.callParent(),d,e=c.length,f;for(f=0;f<e;f++){d=c[f];if(!d.hidden){b.push(d)}}return b},getHiddenItems:function(){var a=[],b=this.owner.items.items,c=b.length,d=0,e;for(;d<c;++d){e=b[d];if(e.rendered&&e.hidden){a.push(e)}}return a},renderChildren:function(){var a=this,b=a.getLayoutItems(),c=a.owner.getTargetEl().child("table",true).tBodies[0],d=c.rows,e=0,f=b.length,g=a.getHiddenItems(),h,i,j,k,l,m,n,o,p;h=a.calculateCells(b);for(;e<f;e++){i=h[e];j=i.rowIdx;k=i.cellIdx;l=b[e];m=d[j];if(!m){m=c.insertRow(j);if(a.trAttrs){m.set(a.trAttrs)}}o=n=Ext.get(m.cells[k]||m.insertCell(k));if(a.needsDivWrap()){o=n.first()||n.createChild({tag:"div"});o.setWidth(null)}if(!l.rendered){a.renderItem(l,o,0)}else if(!a.isValidParent(l,o,j,k,c)){a.moveItem(l,o,0)}if(a.tdAttrs){n.set(a.tdAttrs)}if(l.tdAttrs){n.set(l.tdAttrs)}n.set({colSpan:l.colspan||1,rowSpan:l.rowspan||1,id:l.cellId||"",cls:a.cellCls+" "+(l.cellCls||"")});if(!h[e+1]||h[e+1].rowIdx!==j){k++;while(m.cells[k]){m.deleteCell(k)}}}j++;while(c.rows[j]){c.deleteRow(j)}for(e=0,f=g.length;e<f;++e){a.ensureInDocument(g[e].getEl())}},ensureInDocument:function(a){var b=a.dom.parentNode;while(b){if(b.tagName.toUpperCase()=="BODY"){return}b=b.parentNode}Ext.getDetachedBody().appendChild(a)},calculate:function(a){if(!a.hasDomProp("containerChildrenSizeDone")){this.done=false}else{var b=a.targetContext,c=a.widthModel.shrinkWrap,d=a.heightModel.shrinkWrap,e=d||c,f=e&&b.el.child("table",true),g=e&&b.getPaddingInfo();if(c){a.setContentWidth(f.offsetWidth+g.width,true)}if(d){a.setContentHeight(f.offsetHeight+g.height,true)}}},finalizeLayout:function(){if(this.needsDivWrap()){var a=this.getLayoutItems(),b,c=a.length,d;for(b=0;b<c;b++){d=a[b];Ext.fly(d.el.dom.parentNode).setWidth(d.getWidth())}}if(Ext.isIE6||Ext.isIEQuirks){this.owner.getTargetEl().child("table").repaint()}},calculateCells:function(a){var b=[],c=0,d=0,e=0,f=this.columns||Infinity,g=[],h=0,i,j=a.length,k;for(;h<j;h++){k=a[h];while(d>=f||g[d]>0){if(d>=f){d=0;e=0;c++;for(i=0;i<f;i++){if(g[i]>0){g[i]--}}}else{d++}}b.push({rowIdx:c,cellIdx:e});for(i=k.colspan||1;i;--i){g[d]=k.rowspan||1;++d}++e}return b},getRenderTree:function(){var a=this,b=a.getLayoutItems(),c,d=[],e=Ext.apply({tag:"table",role:"presentation",cls:a.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",cn:d}},a.tableAttrs),f=a.tdAttrs,g=a.needsDivWrap(),h,i=b.length,j,k,l,m,n,o;c=a.calculateCells(b);for(h=0;h<i;h++){j=b[h];k=c[h];m=k.rowIdx;n=k.cellIdx;l=d[m];if(!l){l=d[m]={tag:"tr",cn:[]};if(a.trAttrs){Ext.apply(l,a.trAttrs)}}o=l.cn[n]={tag:"td"};if(f){Ext.apply(o,f)}Ext.apply(o,{colSpan:j.colspan||1,rowSpan:j.rowspan||1,id:j.cellId||"",cls:a.cellCls+" "+(j.cellCls||"")});if(g){o=o.cn={tag:"div"}}a.configureItem(j);o.cn=j.getRenderTree()}return e},isValidParent:function(a,b,c,d){var e,f,g;if(arguments.length===3){g=a.el.up("table");return g&&g.dom.parentNode===b.dom}e=this.owner.getTargetEl().child("table",true).tBodies[0];f=e.rows[c].cells[d];return a.el.dom.parentNode===f},needsDivWrap:function(){return Ext.isOpera10_5}});Ext.define("Ext.container.ButtonGroup",{extend:Ext.panel.Panel,alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:true,frameHeader:false,titleAlign:"center",noTitleCls:"notitle",initComponent:function(){var a=this,b=a.columns;if(b){a.layout=Ext.apply({},{columns:b},a.layout)}if(!a.title){a.addClsWithUI(a.noTitleCls)}a.callParent(arguments)},onBeforeAdd:function(a){if(a.isButton){if(this.defaultButtonUI&&a.ui==="default"&&!a.hasOwnProperty("ui")){a.ui=this.defaultButtonUI}else{a.ui=a.ui+"-toolbar"}}this.callParent(arguments)},applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments)}return a}});Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(a){var b=this;b.target=a;a.on("beforedestroy",b.disable,b);b.onContainerAdd(a)},unbind:function(){var a=this,b=a.target;if(b){b.un("beforedestroy",a.disable,a)}a.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(a,b){if(!this.disabled){if(b.is(this.selector)){this.onItemAdd(b.ownerCt,b)}if(b.isQueryable){this.onContainerAdd(b)}}},onItemAdd:function(a,b){var c=this,d=c.items,e=c.addHandler;if(!c.disabled){if(e){e.call(c.scope||b,b)}if(d){d.add(b)}}},onItemRemove:function(a,b){var c=this,d=c.items,e=c.removeHandler;if(!c.disabled){if(e){e.call(c.scope||b,b)}if(d){d.remove(b)}}},onContainerAdd:function(a,b){var c=this,d,e,f=c.handleAdd,g=c.handleRemove,h,i;if(a.isContainer){a.on("add",f,c);a.on("dockedadd",f,c);a.on("remove",g,c);a.on("dockedremove",g,c)}if(b!==true){d=a.query(c.selector);for(h=0,e=d.length;h<e;++h){i=d[h];c.onItemAdd(i.ownerCt,i)}}d=a.query("container");for(h=0,e=d.length;h<e;++h){c.onContainerAdd(d[h],true)}},handleRemove:function(a,b){var c=this;if(!c.disabled){if(b.is(c.selector)){c.onItemRemove(a,b)}if(b.isQueryable){c.onContainerRemove(a,b)}}},onContainerRemove:function(a,b){var c=this,d,e,f,g;if(!b.isDestroyed&&!b.destroying&&b.isContainer){c.removeCtListeners(b);d=b.query(c.selector);for(e=0,f=d.length;e<f;++e){g=d[e];c.onItemRemove(g.ownerCt,g)}d=b.query("container");for(e=0,f=d.length;e<f;++e){c.removeCtListeners(d[e])}}else{c.invalidateItems()}},removeCtListeners:function(a){var b=this;a.un("add",b.handleAdd,b);a.un("dockedadd",b.handleAdd,b);a.un("remove",b.handleRemove,b);a.un("dockedremove",b.handleRemove,b)},getItems:function(){var a=this,b=a.items;if(!b){b=a.items=new Ext.util.MixedCollection;b.addAll(a.target.query(a.selector))}return b},invalidateItems:function(){this.items=null}});Ext.define("Ext.container.Viewport",{extend:Ext.container.Container,alias:"widget.viewport",alternateClassName:"Ext.Viewport",isViewport:true,ariaRole:"application",preserveElOnDestroy:true,viewportCls:Ext.baseCSSPrefix+"viewport",initComponent:function(){var a=this,b=document.body.parentNode,c=a.el=Ext.getBody();Ext.getScrollbarSize();a.width=a.height=undefined;a.callParent(arguments);Ext.fly(b).addCls(a.viewportCls);if(a.autoScroll){Ext.fly(b).setStyle(a.getOverflowStyle());delete a.autoScroll}c.setHeight=c.setWidth=Ext.emptyFn;c.dom.scroll="no";a.allowDomMove=false;a.renderTo=a.el},applyTargetCls:function(a){this.el.addCls(a)},onRender:function(){var a=this;a.callParent(arguments);a.width=Ext.Element.getViewportWidth();a.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments);setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(a,b){if(a!=this.width||b!=this.height){this.setSize(a,b)}},initHierarchyState:function(a){this.callParent([this.hierarchyState=Ext.rootHierarchyState])},beforeDestroy:function(){var a=this;a.removeUIFromElement();a.el.removeCls(a.baseCls);Ext.fly(document.body.parentNode).removeCls(a.viewportCls);a.callParent()}});Ext.define("Ext.data.IdGenerator",{isGenerator:true,constructor:function(a){var b=this;Ext.apply(b,a);if(b.id){Ext.data.IdGenerator.all[b.id]=b}},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},get:function(a){var b,c,d;if(typeof a=="string"){c=d=a;a=null}else if(a.isGenerator){return a}else{c=a.id||a.type;d=a.type}b=this.all[c];if(!b){b=Ext.create("idgen."+d,a)}return b}}});Ext.define("Ext.data.SortTypes",{singleton:true,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}});Ext.define("Ext.data.Types",{singleton:true},function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(a){var b=this.useNull?null:"";return a===undefined||a===null?b:String(a)},sortType:a.asUCString,type:"string"},INT:{convert:function(a){if(typeof a=="number"){return parseInt(a)}return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"int"},FLOAT:{convert:function(a){if(typeof a==="number"){return a}return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(a){if(typeof a==="boolean"){return a}if(this.useNull&&(a===undefined||a===null||a==="")){return null}return a==="true"||a==1},sortType:a.none,type:"bool"},DATE:{convert:function(a){var b=this.dateReadFormat||this.dateFormat,c;if(!a){return null}if(a instanceof Date){return a}if(b){return Ext.Date.parse(a,b)}c=Date.parse(a);return c?new Date(c):null},sortType:a.asDate,type:"date"}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});Ext.define("Ext.data.Field",{alias:"data.field",isField:true,constructor:function(a){var b=this,c=Ext.data.Types,d;if(Ext.isString(a)){a={name:a}}Ext.apply(b,a);d=b.sortType;if(b.type){if(Ext.isString(b.type)){b.type=c[b.type.toUpperCase()]||c.AUTO}}else{b.type=c.AUTO}if(Ext.isString(d)){b.sortType=Ext.data.SortTypes[d]}else if(Ext.isEmpty(d)){b.sortType=b.type.sortType}if(!a.hasOwnProperty("convert")){b.convert=b.type.convert}else if(!b.convert&&b.type.convert&&!a.hasOwnProperty("defaultValue")){b.defaultValue=b.type.convert(b.defaultValue)}if(a.convert){b.hasCustomConvert=true}},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true,persist:true});Ext.define("Ext.data.Errors",{extend:Ext.util.MixedCollection,isValid:function(){return this.length===0},getByField:function(a){var b=[],c,d;for(d=0;d<this.length;d++){c=this.items[d];if(c.field==a){b.push(c)}}return b}});Ext.define("Ext.data.validations",{singleton:true,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(a,b){if(arguments.length===1){b=a}return!!b||b===0||b===false},length:function(a,b){if(b===undefined||b===null){return false}var c=b.length,d=a.min,e=a.max;if(d&&c<d||e&&c>e){return false}else{return true}},email:function(a,b){return Ext.data.validations.emailRe.test(b)},format:function(a,b){return!!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:Ext.util.Observable},compareConvertFields:function(a,b){var c=a.convert&&a.type&&a.convert!==a.type.convert,d=b.convert&&b.type&&b.convert!==b.type.convert;if(c&&!d){return 1}if(!c&&d){return-1}return 0},itemNameFn:function(a){return a.name},onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var e=this,f=Ext.getClassName(a),g=a.prototype,h=a.prototype.superclass,i=b.validations||[],j=b.fields||[],k,l=b.associations||[],m=function(a,b){var c=0,d,e;if(a){a=Ext.Array.from(a);for(d=a.length;c<d;++c){e=a[c];if(!Ext.isObject(e)){e={model:e}}e.type=b;l.push(e)}}},n=b.idgen,o=new Ext.util.MixedCollection(false,g.itemNameFn),p=new Ext.util.MixedCollection(false,g.itemNameFn),q=h.validations,r=h.fields,s=h.associations,t,u,v,w=[],x="idProperty"in b?b.idProperty:g.idProperty,y=x?x.isField?x:new Ext.data.Field(x):null,z=false,A=function(a,b,c){var d,e;if(o.events.add.firing){e=a;d=b}else{d=c;e=b.originalIndex}d.originalIndex=e;if(y&&(d.mapping&&d.mapping===y.mapping||d.name===y.name)){g.idField=d;z=true;d.defaultValue=undefined}},B=b.proxy,C=function(){o.sortBy(g.compareConvertFields)};a.modelName=f;g.modelName=f;if(q){i=q.concat(i)}b.validations=i;if(r){j=r.items.concat(j)}o.on({add:A,replace:A});for(u=0,v=j.length;u<v;++u){k=j[u];o.add(k.isField?k:new Ext.data.Field(k))}if(y&&!z){g.idField=y;y.defaultValue=undefined;o.add(y)}C();o.on({add:C,replace:C});b.fields=o;if(n){b.idgen=Ext.data.IdGenerator.get(n)}m(b.belongsTo,"belongsTo");delete b.belongsTo;m(b.hasMany,"hasMany");delete b.hasMany;m(b.hasOne,"hasOne");delete b.hasOne;if(s){l=s.items.concat(l)}for(u=0,v=l.length;u<v;++u){w.push("association."+l[u].type.toLowerCase())}if(B){if(!B.isProxy){w.push("proxy."+(B.type||B))}}else if(!a.prototype.proxy){a.prototype.proxy=a.prototype.defaultProxyType;w.push("proxy."+a.prototype.defaultProxyType)}Ext.require(w,function(){Ext.ModelManager.registerType(f,a);for(u=0,v=l.length;u<v;++u){t=l[u];if(t.isAssociation){t=Ext.applyIf({ownerModel:f,associatedModel:t.model},t.initialConfig)}else{Ext.apply(t,{ownerModel:f,associatedModel:t.model})}if(Ext.ModelManager.getModel(t.model)===undefined){Ext.ModelManager.registerDeferredAssociation(t)}else{p.add(Ext.data.association.Association.create(t))}}b.associations=p;d.call(e,a,b,c);if(B&&B.isProxy){a.setProxy(B)}Ext.ModelManager.onModelDefined(a)})}},inheritableStatics:{setProxy:function(a){if(!a.isProxy){if(typeof a=="string"){a={type:a}}a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this);this.proxy=this.prototype.proxy=a;return a},getProxy:function(){var a=this.proxy;if(!a){a=this.prototype.proxy;if(a.isProxy){a=a.clone()}return this.setProxy(a)}return a},setFields:function(a,b,c){var d=this,e,f,g=false,h=d.prototype,i=h.fields,j=h.superclass.fields,k,l;if(b){h.idProperty=b;f=b.isField?b:new Ext.data.Field(b)}if(c){h.clientIdProperty=c}if(i){i.clear()}else{i=d.prototype.fields=new Ext.util.MixedCollection(false,function(a){return a.name})}if(j){a=j.items.concat(a)}for(l=0,k=a.length;l<k;l++){e=new Ext.data.Field(a[l]);if(f&&(e.mapping&&e.mapping===f.mapping||e.name===f.name)){g=true;e.defaultValue=undefined}i.add(e)}if(f&&!g){f.defaultValue=undefined;i.add(f)}d.fields=i;return i},getFields:function(){return this.prototype.fields.items},load:function(a,b){b=Ext.apply({},b);b=Ext.applyIf(b,{action:"read",id:a});var c=new Ext.data.Operation(b),d=b.scope||this,e;e=function(c){var e=null,f=c.wasSuccessful();if(f){e=c.getRecords()[0];if(!e.hasId()){e.setId(a)}Ext.callback(b.success,d,[e,c])}else{Ext.callback(b.failure,d,[e,c])}Ext.callback(b.callback,d,[e,c,f])};this.getProxy().read(c,e,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(a){var b=[this.PREFIX,"-",this.AUTO_ID++].join("");a.phantom=true;a.internalId=b;return b}},idgen:{isGenerator:true,type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:false,dirty:false,persistenceProperty:"data",evented:false,isModel:true,phantom:false,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(a,b,c,d){var e=this,f=b||b===0,g,h,i,j,k,l,m,n,o=e.idProperty,p=e.idField,q;e.raw=c||a;e.modified={};n=e[e.persistenceProperty]=d||{};e.data=e[e.persistenceProperty];e.mixins.observable.constructor.call(e);if(!d){if(a){if(!f&&o){b=a[o];g=b||b===0}}else{a=e.emptyData}h=e.fields.items;i=h.length;q=0;if(Ext.isArray(a)){for(;q<i;q++){j=h[q];k=j.name;l=a[j.originalIndex];if(l===undefined){l=j.defaultValue}if(j.convert){l=j.convert(l,e)}if(l!==undefined){n[k]=l}}}else{for(;q<i;q++){j=h[q];k=j.name;l=a[k];if(l===undefined){l=j.defaultValue}if(j.convert){l=j.convert(l,e)}if(l!==undefined){n[k]=l}}}}e.stores=[];if(f){g=true;n[o]=p&&p.convert?p.convert(b):b}else if(!g){m=e.idgen.generate();if(m!=null){e.preventInternalUpdate=true;e.setId(m);delete e.preventInternalUpdate}}e.internalId=g?b:Ext.data.Model.id(e);if(typeof e.init=="function"){e.init()}e.id=e.idgen.getRecId(e)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(a,b){var c=this,d=c[c.persistenceProperty],e=c.fields,f=c.modified,g=typeof a=="string",h,i,j,k,l,m,n,o,p,q;if(g){q=c._singleProp;q[a]=b}else{q=a}for(m in q){if(q.hasOwnProperty(m)){p=q[m];if(e&&(i=e.get(m))&&i.convert){p=i.convert(p,c)}h=d[m];if(c.isEqual(h,p)){continue}d[m]=p;(l||(l=[])).push(m);if(i&&i.persist){if(f.hasOwnProperty(m)){if(c.isEqual(f[m],p)){delete f[m];c.dirty=false;for(k in f){if(f.hasOwnProperty(k)){c.dirty=true;break}}}}else{c.dirty=true;f[m]=h}}if(m==c.idProperty){j=true;n=h;o=p}}}if(g){delete q[a]}if(j){c.changeId(n,o)}if(!c.editing&&l){c.afterEdit(l)}return l||null},copyFrom:function(a){var b=this,c=b.fields.items,d=c.length,e=[],f,g=0,h,i,j=b.idProperty,k,l;if(a){h=b[b.persistenceProperty];i=a[a.persistenceProperty];for(;g<d;g++){f=c[g];k=f.name;if(k!=j){l=i[k];if(l!==undefined&&!b.isEqual(h[k],l)){h[k]=l;e.push(k)}}}if(b.phantom&&!a.phantom){b.beginEdit();b.setId(a.getId());b.endEdit(true);b.commit(true)}}return e},isEqual:function(a,b){if(a instanceof Date&&b instanceof Date){return a.getTime()===b.getTime()}return a===b},beginEdit:function(){var a=this,b,c,d;if(!a.editing){a.editing=true;a.dirtySave=a.dirty;d=a[a.persistenceProperty];c=a.dataSave={};for(b in d){if(d.hasOwnProperty(b)){c[b]=d[b]}}d=a.modified;c=a.modifiedSave={};for(b in d){if(d.hasOwnProperty(b)){c[b]=d[b]}}}},cancelEdit:function(){var a=this;if(a.editing){a.editing=false;a.modified=a.modifiedSave;a[a.persistenceProperty]=a.dataSave;a.dirty=a.dirtySave;a.modifiedSave=a.dataSave=a.dirtySave=null}},endEdit:function(a,b){var c=this,d,e;a=a===true;if(c.editing){c.editing=false;d=c.dataSave;c.modifiedSave=c.dataSave=c.dirtySave=null;if(!a){if(!b){b=c.getModifiedFieldNames(d)}e=c.dirty||b.length>0;if(e){c.afterEdit(b)}}}},getModifiedFieldNames:function(a){var b=this,c=b[b.persistenceProperty],d=[],e;a=a||b.dataSave;for(e in c){if(c.hasOwnProperty(e)){if(!b.isEqual(c[e],a[e])){d.push(e)}}}return d},getChanges:function(){var a=this.modified,b={},c;for(c in a){if(a.hasOwnProperty(c)){b[c]=this.get(c)}}return b},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var a=this,b=a.fields.items,c=b.length,d,e,f;a.dirty=true;for(f=0;f<c;f++){d=b[f];if(d.persist){e=d.name;a.modified[e]=a.get(e)}}},reject:function(a){var b=this,c=b.modified,d;for(d in c){if(c.hasOwnProperty(d)){if(typeof c[d]!="function"){b[b.persistenceProperty][d]=c[d]}}}b.dirty=false;b.editing=false;b.modified={};if(a!==true){b.afterReject()}},commit:function(a,b){var c=this;c.phantom=c.dirty=c.editing=false;c.modified={};if(a!==true){c.afterCommit(b)}},copy:function(a){var b=this;return new b.self(b.raw,a,null,Ext.apply({},b[b.persistenceProperty]))},setProxy:function(a){if(!a.isProxy){if(typeof a==="string"){a={type:a}}a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this.self);this.proxy=a;return a},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var a=new Ext.data.Errors,b=this.validations,c=Ext.data.validations,d,e,f,g,h,i;if(b){d=b.length;for(i=0;i<d;i++){e=b[i];f=e.field||e.name;h=e.type;g=c[h](e,this.get(f));if(!g){a.add({field:f,message:e.message||c[h+"Message"]})}}}return a},isValid:function(){return this.validate().isValid()},save:function(a){a=Ext.apply({},a);var b=this,c=b.phantom?"create":"update",d=a.scope||b,e=b.stores,f=0,g,h,i,j;Ext.apply(a,{records:[b],action:c});i=new Ext.data.Operation(a);j=function(c){var i=c.wasSuccessful();if(i){for(g=e.length;f<g;f++){h=e[f];h.fireEvent("write",h,c);h.fireEvent("datachanged",h)}Ext.callback(a.success,d,[b,c])}else{Ext.callback(a.failure,d,[b,c])}Ext.callback(a.callback,d,[b,c,i])};b.getProxy()[c](i,j,b);return b},destroy:function(a){a=Ext.apply({records:[this],action:"destroy"},a);var b=this,c=b.phantom!==true,d=a.scope||b,e,f=0,g,h,i,j,k;j=new Ext.data.Operation(a);k=function(j){i=[b,j];e=Ext.Array.clone(b.stores);if(j.wasSuccessful()){for(g=e.length;f<g;f++){h=e[f];if(h.remove){h.remove(b,true)}h.fireEvent("bulkremove",h,[b],[h.indexOf(b)],false);if(c){h.fireEvent("write",h,j)}}b.clearListeners();Ext.callback(a.success,d,i)}else{Ext.callback(a.failure,d,i)}Ext.callback(a.callback,d,i)};if(c){b.getProxy().destroy(j,k,b)}else{j.complete=j.success=true;j.resultSet=b.getProxy().reader.nullResultSet;k(j)}return b},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a)},changeId:function(a,b){var c=this,d,e,f;if(!c.preventInternalUpdate){d=c.hasId(a);e=c.hasId(b);f=c.internalId;c.phantom=!e;if(e!==d||e&&d){c.internalId=e?b:Ext.data.Model.id(c)}c.fireEvent("idchanged",c,a,b,f);c.callStore("onIdChanged",a,b,f)}},hasId:function(a){if(arguments.length===0){a=this.getId()}return!!(a||a===0)},join:function(a){var b=this;if(!b.stores.length){b.stores[0]=a}else{Ext.Array.include(this.stores,a)}this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a);this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(a){this.callStore("afterCommit",a)},callStore:function(a){var b=Ext.Array.clone(arguments),c=this.stores,d=0,e=c.length,f;b[0]=this;for(;d<e;++d){f=c[d];if(f&&Ext.isFunction(f[a])){f[a].apply(f,b)}}},getData:function(a){var b=this,c=b.fields.items,d=c.length,e={},f,g;for(g=0;g<d;g++){f=c[g].name;e[f]=b.get(f)}if(a===true){Ext.apply(e,b.getAssociatedData())}return e},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(a,b){var c=this,d=c.associations.items,e=d.length,f={},g=[],h=[],i=[],j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(t=0;t<e;t++){s=d[t];q=s.associationId;p=a[q];if(p&&p!==b){continue}a[q]=b;v=s.type;w=s.name;if(v=="hasMany"){j=c[s.storeName];f[w]=[];if(j&&j.getCount()>0){k=j.data.items;r=k.length;for(u=0;u<r;u++){l=k[u];f[w][u]=l.getData();g.push(l);h.push(w);i.push(u)}}}else if(v=="belongsTo"||v=="hasOne"){l=c[s.instanceName];if(l!==undefined){f[w]=l.getData();g.push(l);h.push(w);i.push(-1)}}}for(t=0,r=g.length;t<r;++t){l=g[t];m=f[h[t]];n=i[t];o=l.prepareAssociatedData(a,b+1);if(n===-1){Ext.apply(m,o)}else{Ext.apply(m[n],o)}}return f}});Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:3e4,constructor:function(a){var b=this;a=a||{};b.callParent([a]);b.extraParams=a.extraParams||{};b.api=Ext.apply({},a.api||b.api);b.nocache=b.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(a){var b=this,c=a.params=Ext.apply({},a.params,b.extraParams),d;Ext.applyIf(c,b.getParams(a));if(a.id!==undefined&&c[b.idParam]===undefined){c[b.idParam]=a.id}d=new Ext.data.Request({params:c,action:a.action,records:a.records,operation:a,url:a.url,proxy:b});d.url=b.buildUrl(d);a.request=d;return d},processResponse:function(a,b,c,d,e,f){var g=this,h,i;if(a===true){h=g.getReader();h.applyDefaults=b.action==="read";i=h.read(g.extractResponseData(d));if(i.success!==false){Ext.apply(b,{response:d,resultSet:i});b.commitRecords(i.records);b.setCompleted();b.setSuccessful()}else{b.setException(i.message);g.fireEvent("exception",this,d,b)}}else{g.setException(b,d);g.fireEvent("exception",this,d,b)}if(typeof e=="function"){e.call(f||g,b)}g.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a){var b=[],c=a.length,d=0;for(;d<c;d++){b[d]={property:a[d].property,direction:a[d].direction}}return this.applyEncoding(b)},encodeFilters:function(a){var b=[],c=a.length,d=0;for(;d<c;d++){b[d]={property:a[d].property,value:a[d].value}}return this.applyEncoding(b)},getParams:function(a){var b=this,c={},d=Ext.isDefined,e=a.groupers,f=a.sorters,g=a.filters,h=a.page,i=a.start,j=a.limit,k=b.simpleSortMode,l=b.simpleGroupMode,m=b.pageParam,n=b.startParam,o=b.limitParam,p=b.groupParam,q=b.groupDirectionParam,r=b.sortParam,s=b.filterParam,t=b.directionParam,u,v;if(m&&d(h)){c[m]=h}if(n&&d(i)){c[n]=i}if(o&&d(j)){c[o]=j}u=p&&e&&e.length>0;if(u){if(l){c[p]=e[0].property;c[q]=e[0].direction||"ASC"}else{c[p]=b.encodeSorters(e)}}if(r&&f&&f.length>0){if(k){v=0;if(f.length>1&&u){v=1}c[r]=f[v].property;c[t]=f[v].direction}else{c[r]=b.encodeSorters(f)}}if(s&&g&&g.length>0){c[s]=b.encodeFilters(g)}return c},buildUrl:function(a){var b=this,c=b.getUrl(a);if(b.noCache){c=Ext.urlAppend(c,Ext.String.format("{0}={1}",b.cacheString,Ext.Date.now()))}return c},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(a,b,c){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}});Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:false,doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a);if(a.allowWrite()){e=d.write(e)}Ext.apply(e,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(e,a,b,c),method:this.getMethod(e),disableCaching:false});Ext.Ajax.request(e);return e},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g,h){e.processResponse(g,b,a,h,c,d)}}},function(){Ext.data.HttpProxy=this});Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){}});Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]);this.setReader(this.reader)},updateOperation:function(a,b,c){var d=0,e=a.getRecords(),f=e.length;for(d;d<f;d++){e[d].commit()}a.setCompleted();a.setSuccessful();Ext.callback(b,c||this,[a])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(a,b,c){var d=this,e=a.resultSet=d.getReader().read(d.data),f=e.records,g=a.sorters,h=a.groupers,i=a.filters;a.setCompleted();if(e.success){if(i&&i.length){f=e.records=Ext.Array.filter(f,Ext.util.Filter.createFilterFn(i))}if(h&&h.length){g=g?g.concat(h):g}if(g&&g.length){e.records=Ext.Array.sort(f,Ext.util.Sortable.createComparator(g))}if(d.enablePaging&&a.start!==undefined&&a.limit!==undefined){if(a.start>=e.total){e.success=false;e.count=0;e.records=[]}else{e.records=Ext.Array.slice(e.records,a.start,a.start+a.limit);e.count=e.records.length}}}if(e.success){a.setSuccessful()}else{d.fireEvent("exception",d,null,a)}Ext.callback(b,c||d,[a])},clear:Ext.emptyFn});Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,constructor:function(a){Ext.apply(this,a);this.callParent([a])},add:function(a,b){var c=this,d=c.findKey(b),e;if(d){c.unlinkEntry(e=c.map[d]);e.prev=c.last;e.next=null}else{e={prev:c.last,next:null,key:a,value:b}}if(c.last){c.last.next=e}else{c.first=e}c.last=e;c.callParent([a,e]);c.prune();return b},insertBefore:function(a,b,c){var d=this,e,f;if(c=this.map[this.findKey(c)]){e=d.findKey(b);if(e){d.unlinkEntry(f=d.map[e])}else{f={prev:c.prev,next:c,key:a,value:b}}if(c.prev){f.prev.next=f}else{d.first=f}f.next=c;c.prev=f;d.prune();return b}else{return d.add(a,b)}},get:function(a){var b=this.map[a];if(b){if(b.next){this.moveToEnd(b)}return b.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){if(a){if(a.next){a.next.prev=a.prev}else{this.last=a.prev}if(a.prev){a.prev.next=a.next}else{this.first=a.next}a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last){this.last.next=a}else{this.first=a}this.last=a},getArray:function(a){var b=[],c=this.first;while(c){b.push(a?c.key:c.value);c=c.next}return b},each:function(a,b,c){var d=this,e=c?d.last:d.first,f=d.length;b=b||d;while(e){if(a.call(b,e.key,e.value,f)===false){break}e=c?e.prev:e.next}return d},findKey:function(a){var b,c=this.map;for(b in c){if(c.hasOwnProperty(b)&&c[b].value===a){return b}}return undefined},clone:function(){var a=new this.self(this.initialConfig),b=this.map,c;a.suspendEvents();for(c in b){if(b.hasOwnProperty(c)){a.add(c,b[c].value)}}a.resumeEvents();return a},prune:function(){var a=this,b=a.maxSize?a.length-a.maxSize:0;if(b>0){for(;a.first&&b;b--){a.removeAtKey(a.first.key)}}}});Ext.define("Ext.data.PageMap",{extend:Ext.util.LruCache,clear:function(a){var b=this;b.pageMapGeneration=(b.pageMapGeneration||0)+1;b.callParent(arguments)},forEach:function(a,b){var c=this,d=Ext.Object.getKeys(c.map),e=d.length,f,g,h,i,j;for(f=0;f<e;f++){d[f]=Number(d[f])}Ext.Array.sort(d);b=b||c;for(f=0;f<e;f++){h=d[f];i=c.getPage(h);j=i.length;for(g=0;g<j;g++){if(a.call(b,i[g],(h-1)*c.pageSize+g)===false){return}}}},findBy:function(a,b){var c=this,d=null;b=b||c;c.forEach(function(c,e){if(a.call(b,c,e)){d=c;
return false}});return d},findIndexBy:function(a,b){var c=this,d=-1;b=b||c;c.forEach(function(c,e){if(a.call(b,c)){d=e;return false}});return d},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(a){this.addPage(1,a)},addPage:function(a,b){var c=this,d=a+Math.floor((b.length-1)/c.pageSize),e,f;for(e=0;a<=d;a++,e+=c.pageSize){f=Ext.Array.slice(b,e,e+c.pageSize);c.add(a,f);c.fireEvent("pageAdded",a,f)}},getCount:function(){var a=this.callParent();if(a){a=(a-1)*this.pageSize+this.last.value.length}return a},indexOf:function(a){return a?a.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(a){return this.get(a)},hasRange:function(a,b){var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b);for(;c<=d;c++){if(!this.hasPage(c)){return false}}return true},hasPage:function(a){return!!this.get(a)},getAt:function(a){return this.getRange(a,a)[0]},getRange:function(a,b){if(!this.hasRange(a,b)){Ext.Error.raise("PageMap asked for range which it does not have")}var c=this,d=c.getPageFromRecordIndex(a),e=c.getPageFromRecordIndex(b),f=(d-1)*c.pageSize,g=e*c.pageSize-1,h=d,i=[],j,k,l,m=0,n;for(;h<=e;h++){if(h==d){j=a-f;l=true}else{j=0;l=false}if(h==e){k=c.pageSize-(g-b);l=true}if(l){Ext.Array.push(i,Ext.Array.slice(c.getPage(h),j,k))}else{Ext.Array.push(i,c.getPage(h))}}for(n=i.length;m<n;m++){i[m].index=a++}return i}});Ext.define("Ext.data.Group",{extend:Ext.util.Observable,key:undefined,dirty:true,constructor:function(){this.callParent(arguments);this.records=[]},contains:function(a){return Ext.Array.indexOf(this.records,a)!==-1},add:function(a){Ext.Array.push(this.records,a);this.dirty=true},remove:function(a){if(!Ext.isArray(a)){a=[a]}var b=a.length,c;for(c=0;c<b;++c){Ext.Array.remove(this.records,a[c])}this.dirty=true},isDirty:function(){return this.dirty},hasAggregate:function(){return!!this.aggregate},setDirty:function(){this.dirty=true},commit:function(){this.dirty=false},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(a){var b=this,c;if(a===true||b.dirty||!b.aggregate){c=b.store.model;b.aggregate=new c;b.aggregate.isSummary=true}return b.aggregate}});Ext.define("Ext.data.Store",{extend:Ext.data.AbstractStore,alias:"store.store",remoteSort:false,remoteFilter:false,remoteGroup:false,groupField:undefined,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:undefined,currentPage:1,clearOnPageLoad:true,loading:false,sortOnFilter:true,buffered:false,purgePageCount:5,clearRemovedOnLoad:true,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:true},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index},grouperIdFn:function(a){return a.id||a.property},groupIdFn:function(a){return a.key}},constructor:function(a){a=Ext.apply({},a);var b=this,c=a.groupers||b.groupers,d=a.groupField||b.groupField,e,f;f=a.data||b.data;if(f){b.inlineData=f;delete a.data}if(!c&&d){c=[{property:d,direction:a.groupDir||b.groupDir}];if(a.getGroupString||b.getGroupString!==Ext.data.Store.prototype.getGroupString){c[0].getGroupString=function(a){return b.getGroupString(a)}}}delete a.groupers;b.groupers=new Ext.util.MixedCollection(false,Ext.data.Store.grouperIdFn);b.groupers.addAll(b.decodeGroupers(c));b.groups=new Ext.util.MixedCollection(false,Ext.data.Store.groupIdFn);b.callParent([a]);if(b.buffered){b.data=new Ext.data.PageMap({store:b,keyFn:Ext.data.Store.recordIdFn,pageSize:b.pageSize,maxSize:b.purgePageCount,listeners:{clear:b.onPageMapClear,scope:b}});b.pageRequests={};b.remoteSort=b.remoteGroup=b.remoteFilter=true;b.sortOnLoad=false;b.filterOnLoad=false}else{b.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:true});b.data.pageSize=b.pageSize}if(b.remoteGroup){b.remoteSort=true}b.sorters.insert(0,b.groupers.getRange());e=b.proxy;f=b.inlineData;if(!b.buffered&&!b.pageSize){b.pageSize=b.defaultPageSize}if(f){if(e instanceof Ext.data.proxy.Memory){e.data=f;b.read()}else{b.add.apply(b,[f])}if(b.sorters.items.length&&!b.remoteSort){b.group(null,null,true)}delete b.inlineData}else if(b.autoLoad){Ext.defer(b.load,1,b,[typeof b.autoLoad==="object"?b.autoLoad:undefined])}},onBeforeSort:function(){var a=this.groupers;if(a.getCount()>0){this.sort(a.items,"prepend",false)}},decodeGroupers:function(a){if(!Ext.isArray(a)){if(a===undefined){a=[]}else{a=[a]}}var b=a.length,c=Ext.util.Grouper,d,e,f=[];for(e=0;e<b;e++){d=a[e];if(!(d instanceof c)){if(Ext.isString(d)){d={property:d}}d=Ext.apply({root:"data",direction:"ASC"},d);if(d.fn){d.sorterFn=d.fn}if(typeof d=="function"){d={sorterFn:d}}f.push(new c(d))}else{f.push(d)}}return f},group:function(a,b,c){var d=this,e,f;if(a){d.sorters.removeAll(d.groupers.items);if(Ext.isArray(a)){f=a}else if(Ext.isObject(a)){f=[a]}else if(Ext.isString(a)){e=d.groupers.get(a);if(!e){e={property:a,direction:b||"ASC"};f=[e]}else if(b===undefined){e.toggle()}else{e.setDirection(b)}}if(f&&f.length){d.groupers.clear();d.groupers.addAll(d.decodeGroupers(f))}d.sorters.insert(0,d.groupers.items)}if(d.remoteGroup){if(d.buffered){d.data.clear();d.loadPage(1,{groupChange:true})}else{d.load({scope:d,callback:c?null:d.fireGroupChange})}}else{d.doSort(d.generateComparator());d.constructGroups();if(!c){d.fireGroupChange()}}},getGroupField:function(){var a=this.groupers.first(),b;if(a){b=a.property}return b},constructGroups:function(){var a=this,b=this.data.items,c=b.length,d=a.groups,e,f,g,h;d.clear();if(a.isGrouped()){for(f=0;f<c;++f){h=b[f];e=a.getGroupString(h);g=d.get(e);if(!g){g=new Ext.data.Group({key:e,store:a});d.add(e,g)}g.add(h)}}},clearGrouping:function(){var a=this,b=a.groupers.items,c=b.length,d;for(d=0;d<c;d++){a.sorters.remove(b[d])}a.groupers.clear();if(a.remoteGroup){if(a.buffered){a.data.clear();a.loadPage(1,{groupChange:true})}else{a.load({scope:a,callback:a.fireGroupChange})}}else{a.groups.clear();if(a.sorters.length){a.sort()}else{a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}a.fireGroupChange()}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(a){var b=this.data.items,c=b.length,d=[],e={},f,g,h,i;for(i=0;i<c;i++){f=b[i];g=this.getGroupString(f);h=e[g];if(h===undefined){h={name:g,children:[]};d.push(h);e[g]=h}h.children.push(f)}return a?e[a]:d},getGroupsForGrouper:function(a,b){var c=a.length,d=[],e,f,g,h,i;for(i=0;i<c;i++){g=a[i];f=b.getGroupString(g);if(f!==e){h={name:f,grouper:b,records:[]};d.push(h)}h.records.push(g);e=f}return d},getGroupsForGrouperIndex:function(a,b){var c=this,d=c.groupers,e=d.getAt(b),f=c.getGroupsForGrouper(a,e),g=f.length,h;if(b+1<d.length){for(h=0;h<g;h++){f[h].children=c.getGroupsForGrouperIndex(f[h].records,b+1)}}for(h=0;h<g;h++){f[h].depth=b}return f},getGroupData:function(a){var b=this;if(a!==false){b.sort()}return b.getGroupsForGrouperIndex(b.data.items,0)},getGroupString:function(a){var b=this.groupers.first();if(b){return b.getGroupString(a)}return""},insert:function(a,b){var c=this,d=false,e,f,g,h=c.modelDefaults,i;if(!Ext.isIterable(b)){i=b=[b]}else{i=[]}f=b.length;if(f){for(e=0;e<f;e++){g=b[e];if(!g.isModel){g=c.createModel(g)}i[e]=g;if(h){g.set(h)}g.join(c);d=d||g.phantom===true}c.data.insert(a,i);if(c.snapshot){c.snapshot.addAll(i)}if(c.requireSort){c.suspendEvents();c.sort();c.resumeEvents()}if(c.isGrouped()){c.updateGroupsOnAdd(i)}c.fireEvent("add",c,i,a);c.fireEvent("datachanged",c);if(c.autoSync&&d&&!c.autoSyncSuspended){c.sync()}}return i},updateGroupsOnAdd:function(a){var b=this,c=b.groups,d=a.length,e,f,g,h;for(e=0;e<d;++e){h=a[e];f=b.getGroupString(h);g=c.getByKey(f);if(!g){g=c.add(new Ext.data.Group({key:f,store:b}))}g.add(h)}},updateGroupsOnRemove:function(a){var b=this,c=b.groups,d=a.length,e,f,g,h;for(e=0;e<d;++e){h=a[e];f=b.getGroupString(h);g=c.getByKey(f);if(g){g.remove(h);if(g.records.length===0){c.remove(g)}}}},updateGroupsOnUpdate:function(a,b){var c=this,d=c.getGroupField(),e=c.getGroupString(a),f=c.groups,g,h,i,j;if(b&&Ext.Array.indexOf(b,d)!==-1){if(c.buffered){Ext.Error.raise({msg:"Cannot move records between groups in a buffered store record"})}i=f.items;for(h=0,g=i.length;h<g;++h){j=i[h];if(j.contains(a)){j.remove(a);break}}j=f.getByKey(e);if(!j){j=f.add(new Ext.data.Group({key:e,store:c}))}j.add(a);c.data.remove(a);c.data.insert(c.data.findInsertionIndex(a,c.generateComparator()),a);for(h=0,g=this.getCount();h<g;h++){c.data.items[h].index=h}}else{f.getByKey(e).setDirty()}},add:function(a){var b=this,c,d,e;if(Ext.isArray(a)){c=a}else{c=arguments}d=c.length;e=!b.remoteSort&&b.sorters&&b.sorters.items.length;if(e&&d===1){return[b.addSorted(b.createModel(c[0]))]}if(e){b.requireSort=true}c=b.insert(b.data.length,c);delete b.requireSort;return c},addSorted:function(a){var b=this,c=b.data.findInsertionIndex(a,b.generateComparator());b.insert(c,a);return a},createModel:function(a){if(!a.isModel){a=Ext.ModelManager.create(a,this.model)}return a},onUpdate:function(a,b,c){if(this.isGrouped()){this.updateGroupsOnUpdate(a,c)}},each:function(a,b){var c=this.data.items,d=c.length,e,f;for(f=0;f<d;f++){e=c[f];if(a.call(b||e,e,f,d)===false){break}}},remove:function(a,b,c){b=b===true;var d=this,e=false,f=d.snapshot,g=d.data,h=0,i,j=[],k=[],l=[],m,n,o,p,q,r,s=!c&&d.hasListeners.remove;if(a.isModel){a=[a];i=1}else if(Ext.isIterable(a)){i=a.length}else if(typeof a==="object"){q=true;h=a.start;i=a.end+1;r=i-h}if(!q){for(h=0;h<i;++h){p=a[h];if(typeof p=="number"){o=p;p=g.getAt(o)}else{o=d.indexOf(p)}if(p&&o>-1){j.push({record:p,index:o})}if(f){f.remove(p)}}j=Ext.Array.sort(j,function(a,b){var c=a.index,d=b.index;return c===b.index2?0:c<d?-1:1});h=0;i=j.length}for(;h<i;h++){if(q){p=g.getAt(h);o=h}else{m=j[h];p=m.record;o=m.index}k.push(p);l.push(o);n=p.phantom!==true;if(!b&&n){p.removedFrom=o;d.removed.push(p)}p.unjoin(d);o-=h;e=e||n;if(!q){g.removeAt(o);if(s){d.fireEvent("remove",d,p,o,!!b)}}}if(q){g.removeRange(a.start,r)}if(!c){d.fireEvent("bulkremove",d,k,l,!!b);d.fireEvent("datachanged",d)}if(!b&&d.autoSync&&e&&!d.autoSyncSuspended){d.sync()}},removeAt:function(a,b){var c=this,d=c.getCount();if(a<=d){if(arguments.length===1){c.remove([a])}else if(b){c.remove({start:a,end:Math.min(a+b,d)-1})}}},removeAll:function(a){var b=this,c=b.snapshot,d=b.data;if(c){c.removeAll(d.getRange())}if(b.buffered){if(d){if(a){b.suspendEvent("clear")}d.clear();if(a){b.resumeEvent("clear")}}}else{b.remove({start:0,end:b.getCount()-1},false,a);if(a!==true){b.fireEvent("clear",b)}}},load:function(a){var b=this;a=a||{};if(typeof a=="function"){a={callback:a}}a.groupers=a.groupers||b.groupers.items;a.page=a.page||b.currentPage;a.start=a.start!==undefined?a.start:(a.page-1)*b.pageSize;a.limit=a.limit||b.pageSize;a.addRecords=a.addRecords||false;if(b.buffered){a.limit=b.viewSize||b.defaultViewSize;return b.loadToPrefetch(a)}return b.callParent([a])},reload:function(a){var b=this,c,d,e,f,g,h,i,j,k=b.getCount();if(!a){a={}}if(b.buffered){delete b.totalCount;h=function(){if(b.rangeCached(c,d)){b.loading=false;b.data.un("pageAdded",h);j=b.data.getRange(c,d);b.fireEvent("load",b,j,true)}};i=Math.ceil((b.leadingBufferZone+b.trailingBufferZone)/2);c=a.start||(k?b.getAt(0).index:0);d=c+(a.count||(k?k:b.pageSize))-1;e=b.getPageFromRecordIndex(Math.max(c-i,0));f=b.getPageFromRecordIndex(d+i);b.data.clear(true);if(b.fireEvent("beforeload",b,a)!==false){b.loading=true;b.data.on("pageAdded",h);for(g=e;g<=f;g++){b.prefetchPage(g,a)}}}else{return b.callParent(arguments)}},onProxyLoad:function(a){var b=this,c=a.getResultSet(),d=a.getRecords(),e=a.wasSuccessful();if(b.isDestroyed){return}if(c){b.totalCount=c.total}b.loading=false;if(e){b.loadRecords(d,a)}if(b.hasListeners.load){b.fireEvent("load",b,d,e)}if(b.hasListeners.read){b.fireEvent("read",b,d,e)}Ext.callback(a.callback,a.scope||b,[d,a,e])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(a,b){if(Ext.isString(a)){a={property:a,value:b}}var c=this,d=c.decodeFilters(a),e,f=c.sorters.length&&c.sortOnFilter&&!c.remoteSort,g=d.length;for(e=0;e<g;e++){c.filters.replace(d[e])}a=c.filters.items;if(a.length){if(c.remoteFilter){delete c.totalCount;if(c.buffered){c.data.clear();c.loadPage(1)}else{c.currentPage=1;c.load()}}else{c.snapshot=c.snapshot||c.data.clone();c.data=c.snapshot.filter(a);c.constructGroups();if(f){c.sort()}else{c.fireEvent("datachanged",c);c.fireEvent("refresh",c)}}c.fireEvent("filterchange",c,a)}},clearFilter:function(a){var b=this;b.filters.clear();if(b.remoteFilter){if(a){return}delete b.totalCount;if(b.buffered){b.data.clear();b.loadPage(1)}else{b.currentPage=1;b.load()}}else if(b.isFiltered()){b.data=b.snapshot;delete b.snapshot;b.constructGroups();if(a!==true){b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}}b.fireEvent("filterchange",b,b.filters.items)},removeFilter:function(a,b){var c=this;if(!c.remoteFilter&&c.isFiltered()){if(a instanceof Ext.util.Filter){c.filters.remove(a)}else{c.filters.removeAtKey(a)}if(b!==false){if(c.filters.length){c.filter()}else{c.clearFilter()}}else{c.fireEvent("filterchange",c,c.filters.items)}}},addFilter:function(a,b){var c=this,d,e,f;d=c.decodeFilters(a);f=d.length;for(e=0;e<f;e++){c.filters.replace(d[e])}if(b!==false&&c.filters.length){c.filter()}else{c.fireEvent("filterchange",c,c.filters.items)}},isFiltered:function(){var a=this.snapshot;return!!(a&&a!==this.data)},filterBy:function(a,b){var c=this;c.snapshot=c.snapshot||c.data.clone();c.data=c.queryBy(a,b||c);c.fireEvent("datachanged",c);c.fireEvent("refresh",c)},queryBy:function(a,b){var c=this;return(c.snapshot||c.data).filterBy(a,b||c)},query:function(a,b,c,d,e){var f=this,g=f.createFilterFn(a,b,c,d,e),h=f.queryBy(g);if(!h){h=new Ext.util.MixedCollection}return h},loadData:function(a,b){var c=a.length,d=[],e;for(e=0;e<c;e++){d.push(this.createModel(a[e]))}this.loadRecords(d,b?this.addRecordsOptions:undefined)},loadRawData:function(a,b){var c=this,d=c.proxy.reader.read(a),e=d.records;if(d.success){c.totalCount=d.total;c.loadRecords(e,b?c.addRecordsOptions:undefined)}},loadRecords:function(a,b){var c=this,d=0,e=a.length,f,g,h=c.snapshot;if(b){f=b.start;g=b.addRecords}if(!g){delete c.snapshot;c.clearData(true)}else if(h){h.addAll(a)}c.data.addAll(a);if(f!==undefined){for(;d<e;d++){a[d].index=f+d;a[d].join(c)}}else{for(;d<e;d++){a[d].join(c)}}c.suspendEvents();if(c.filterOnLoad&&!c.remoteFilter){c.filter()}if(c.sortOnLoad&&!c.remoteSort){c.sort(undefined,undefined,undefined,true)}c.resumeEvents();if(c.isGrouped()){c.constructGroups()}c.fireEvent("datachanged",c);c.fireEvent("refresh",c)},loadPage:function(a,b){var c=this;c.currentPage=a;b=Ext.apply({page:a,start:(a-1)*c.pageSize,limit:c.pageSize,addRecords:!c.clearOnPageLoad},b);if(c.buffered){b.limit=c.viewSize||c.defaultViewSize;return c.loadToPrefetch(b)}c.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(a){var b=this,c,d;if(!b.buffered&&b.data){c=b.data.items;d=c.length;while(d--){c[d].unjoin(b)}}if(b.data){b.data.clear()}if(a!==true||b.clearRemovedOnLoad){b.removed.length=0}},loadToPrefetch:function(a){var b=this,c,d,e,f=a,g=a.start,h=a.start+a.limit-1,i=Math.min(h,a.start+(b.viewSize||a.limit)-1),j=b.getPageFromRecordIndex(Math.max(g-b.trailingBufferZone,0)),k=b.getPageFromRecordIndex(h+b.leadingBufferZone),l=function(){if(b.rangeCached(g,i)){b.loading=false;d=b.data.getRange(g,i);b.data.un("pageAdded",l);if(b.hasListeners.guaranteedrange){b.guaranteeRange(g,i,a.callback,a.scope)}if(a.callback){a.callback.call(a.scope||b,d,g,h,a)}b.fireEvent("datachanged",b);b.fireEvent("refresh",b);b.fireEvent("load",b,d,true);if(a.groupChange){b.fireGroupChange()}}};if(b.fireEvent("beforeload",b,a)!==false){delete b.totalCount;b.loading=true;if(a.callback){f=Ext.apply({},a);delete f.callback}b.on("prefetch",function(a,d,g,h){if(g){if(e=b.getTotalCount()){b.data.on("pageAdded",l);i=Math.min(i,e-1);k=b.getPageFromRecordIndex(Math.min(i+b.leadingBufferZone,e-1));for(c=j+1;c<=k;++c){b.prefetchPage(c,f)}}else{b.fireEvent("datachanged",b);b.fireEvent("refresh",b);b.fireEvent("load",b,d,true)}}else{b.fireEvent("load",b,d,false)}},null,{single:true});b.prefetchPage(j,f)}},prefetch:function(a){var b=this,c=b.pageSize,d,e;if(c){if(b.lastPageSize&&c!=b.lastPageSize){Ext.Error.raise("pageSize cannot be dynamically altered")}if(!b.data.pageSize){b.data.pageSize=c}}else{b.pageSize=b.data.pageSize=c=a.limit}b.lastPageSize=c;if(!a.page){a.page=b.getPageFromRecordIndex(a.start);a.start=(a.page-1)*c;a.limit=Math.ceil(a.limit/c)*c}if(!b.pageRequests[a.page]){a=Ext.apply({action:"read",filters:b.filters.items,sorters:b.sorters.items,groupers:b.groupers.items,pageMapGeneration:b.data.pageMapGeneration},a);e=new Ext.data.Operation(a);if(b.fireEvent("beforeprefetch",b,e)!==false){d=b.proxy;b.pageRequests[a.page]=d.read(e,b.onProxyPrefetch,b);if(d.isSynchronous){delete b.pageRequests[a.page]}}}return b},onPageMapClear:function(){var a=this,b=a.wasLoading,c=a.pageRequests,d,e;if(a.data.events.pageadded){a.data.events.pageadded.clearListeners()}a.loading=true;a.totalCount=0;for(e in c){if(c.hasOwnProperty(e)){d=c[e];delete c[e];delete d.callback}}a.fireEvent("clear",a);a.loading=b},prefetchPage:function(a,b){var c=this,d=c.pageSize||c.defaultPageSize,e=(a-1)*c.pageSize,f=c.totalCount;if(f!==undefined&&c.getCount()===f){return}c.prefetch(Ext.applyIf({page:a,start:e,limit:d},b))},onProxyPrefetch:function(a){var b=this,c=a.getResultSet(),d=a.getRecords(),e=a.wasSuccessful(),f=a.page;if(a.pageMapGeneration===b.data.pageMapGeneration){if(c){b.totalCount=c.total;b.fireEvent("totalcountchange",b.totalCount)}if(f!==undefined){delete b.pageRequests[f]}b.loading=false;b.fireEvent("prefetch",b,d,e,a);if(e){b.cachePage(d,a.page)}Ext.callback(a.callback,a.scope||b,[d,a,e])}},cachePage:function(a,b){var c=this,d=a.length,e;if(!Ext.isDefined(c.totalCount)){c.totalCount=a.length;c.fireEvent("totalcountchange",c.totalCount)}for(e=0;e<d;e++){a[e].join(c)}c.data.addPage(b,a)},rangeCached:function(a,b){return this.data&&this.data.hasRange(a,b)},pageCached:function(a){return this.data&&this.data.hasPage(a)},pagePending:function(a){return!!this.pageRequests[a]},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(a){var b=this,c=b.getTotalCount(),d=a.prefetchStart,e=a.prefetchEnd>c-1?c-1:a.prefetchEnd,f;e=Math.max(0,e);f=b.data.getRange(d,e);if(a.fireEvent!==false){b.fireEvent("guaranteedrange",f,d,e,a)}if(a.callback){a.callback.call(a.scope||b,f,d,e,a)}},guaranteeRange:function(a,b,c,d,e){e=Ext.apply({callback:c,scope:d},e);this.getRange(a,b,e)},prefetchRange:function(a,b){var c=this,d,e,f;if(!c.rangeCached(a,b)){d=c.getPageFromRecordIndex(a);e=c.getPageFromRecordIndex(b);c.data.maxSize=c.purgePageCount?e-d+1+c.purgePageCount:0;for(f=d;f<=e;f++){if(!c.pageCached(f)){c.prefetchPage(f)}}}},primeCache:function(a,b,c){var d=this;if(c===-1){a=Math.max(a-d.leadingBufferZone,0);b=Math.min(b+d.trailingBufferZone,d.totalCount-1)}else if(c===1){a=Math.max(Math.min(a-d.trailingBufferZone,d.totalCount-d.pageSize),0);b=Math.min(b+d.leadingBufferZone,d.totalCount-1)}else{a=Math.min(Math.max(Math.floor(a-(d.leadingBufferZone+d.trailingBufferZone)/2),0),d.totalCount-d.pageSize);b=Math.min(Math.max(Math.ceil(b+(d.leadingBufferZone+d.trailingBufferZone)/2),0),d.totalCount-1)}d.prefetchRange(a,b)},sort:function(){var a=this;if(a.buffered&&a.remoteSort){a.data.clear()}return a.callParent(arguments)},doSort:function(a){var b=this,c,d,e;if(b.remoteSort){if(b.buffered){b.data.clear();b.loadPage(1)}else{b.load()}}else{b.data.sortBy(a);if(!b.buffered){c=b.getRange();d=c.length;for(e=0;e<d;e++){c[e].index=e}}b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}},find:function(a,b,c,d,e,f){var g=this.createFilterFn(a,b,d,e,f);return g?this.data.findIndexBy(g,null,c):-1},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return b!==-1?a.getAt(b):null},createFilterFn:function(a,b,c,d,e){if(Ext.isEmpty(b)){return false}b=this.data.createValueMatcher(b,c,d,e);return function(c){return b.test(c.data[a])}},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.isEqual(c.get(a),b)},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},collect:function(a,b,c){var d=this,e=c===true&&d.snapshot?d.snapshot:d.data;return e.collect(a,"data",b)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b,c){var d=this,e,f,g=d.totalCount-1,h=d.lastRequestStart,i,j;c=Ext.apply({prefetchStart:a,prefetchEnd:b},c);if(d.buffered){b=b>=d.totalCount?g:b;e=a===0?0:a-1;f=b===g?b:b+1;d.lastRequestStart=a;if(d.rangeCached(e,f)){d.onGuaranteedRange(c);j=d.data.getRange(a,b)}else{d.fireEvent("cachemiss",d,a,b);i=function(g,h){if(d.rangeCached(e,f)){d.fireEvent("cachefilled",d,a,b);d.data.un("pageAdded",i);d.onGuaranteedRange(c)}};d.data.on("pageAdded",i);d.prefetchRange(a,b)}d.primeCache(a,b,a<h?-1:1)}else{j=d.data.getRange(a,b);if(c.callback){c.callback.call(c.scope||d,j,a,b,c)}}return j},getById:function(a){var b=(this.snapshot||this.data).findBy(function(b){return b.getId()===a});return b},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(a){var b=a.index;if(b||b===0){return b}return this.indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},first:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(a){return a.length?a[0]:undefined},b,true)}else{return b.data.first()}},last:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(a){var b=a.length;return b?a[b-1]:undefined},b,true)}else{return b.data.last()}},sum:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getSum,c,true,[a])}else{return c.getSum(c.data.items,a)}},getSum:function(a,b){var c=0,d=0,e=a.length;for(;d<e;++d){c+=a[d].get(b)}return c},count:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(a){return a.length},b,true)}else{return b.getCount()}},min:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getMin,c,true,[a])}else{return c.getMin(c.data.items,a)}},getMin:function(a,b){var c=1,d=a.length,e,f;if(d>0){f=a[0].get(b)}for(;c<d;++c){e=a[c].get(b);if(e<f){f=e}}return f},max:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getMax,c,true,[a])}else{return c.getMax(c.data.items,a)}},getMax:function(a,b){var c=1,d=a.length,e,f;if(d>0){f=a[0].get(b)}for(;c<d;++c){e=a[c].get(b);if(e>f){f=e}}return f},average:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getAverage,c,true,[a])}else{return c.getAverage(c.data.items,a)}},getAverage:function(a,b){var c=0,d=a.length,e=0;if(a.length>0){for(;c<d;++c){e+=a[c].get(b)}return e/d}return 0},aggregate:function(a,b,c,d){d=d||[];if(c&&this.isGrouped()){var e=this.getGroups(),f=e.length,g={},h,i;for(i=0;i<f;++i){h=e[i];g[h.name]=this.getAggregate(a,b||this,h.children,d)}return g}else{return this.getAggregate(a,b,this.data.items,d)}},getAggregate:function(a,b,c,d){d=d||[];return a.apply(b||this,[c].concat(d))},onIdChanged:function(a,b,c,d){var e=this.snapshot;if(e){e.updateKey(d,c)}this.data.updateKey(d,c);this.callParent(arguments)},commitChanges:function(){var a=this,b=a.getModifiedRecords(),c=b.length,d=0;for(;d<c;d++){b[d].commit()}a.removed.length=0},filterNewOnly:function(a){return a.phantom===true},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){var a=this,b=a.getRejectRecords(),c=b.length,d=0,e;for(;d<c;d++){e=b[d];e.reject();if(e.phantom){a.remove(e)}}b=a.removed;c=b.length;for(d=0;d<c;d++){e=b[d];a.insert(e.removedFrom||0,e);e.reject()}a.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"})});Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:undefined,successProperty:undefined,createFieldAccessExpression:function(a,b,c){var d=a.mapping==null?a.originalIndex:a.mapping,e;if(typeof d==="function"){e=b+".mapping("+c+", this)"}else{if(isNaN(d)){d='"'+d+'"'}e=c+"["+d+"]"}return e}});Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a);this.callParent([a])},loadData:function(a,b){if(this.expandData===true){var c=[],d=0,e=a.length;for(;d<e;d++){c[c.length]=[a[d]]}a=c}this.callParent([a,b])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});Ext.define("Ext.data.Batch",{mixins:{observable:Ext.util.Observable},autoStart:false,pauseOnException:false,current:-1,total:0,isRunning:false,isComplete:false,hasException:false,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.operations=[];b.exceptions=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a);return this},start:function(a){var b=this;if(b.isRunning){return b}b.exceptions.length=0;b.hasException=false;b.isRunning=true;return b.runOperation(Ext.isDefined(a)?a:b.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){this.isRunning=false;return this},runOperation:function(a){var b=this,c=b.operations,d=c[a],e;if(d===undefined){b.isRunning=false;b.isComplete=true;b.fireEvent("complete",b,c[c.length-1])}else{b.current=a;e=function(a){var c=a.hasException();if(c){b.hasException=true;b.exceptions.push(a);b.fireEvent("exception",b,a)}if(c&&b.pauseOnException){b.pause()}else{a.setCompleted();b.fireEvent("operationcomplete",b,a);b.runNextOperation()}};d.setStarted();b.proxy[d.action](d,e,b)}return b}});Ext.define("Ext.data.BufferStore",{extend:Ext.data.Store,alias:"store.buffer",sortOnLoad:false,filterOnLoad:false,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}});Ext.define("Ext.direct.Manager",{singleton:true,mixins:{observable:Ext.util.Observable},exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){var a=this;a.addEvents("event","exception");a.transactions=new Ext.util.MixedCollection;a.providers=new Ext.util.MixedCollection;a.mixins.observable.constructor.call(a)},addProvider:function(a){var b=this,c=arguments,d=b.relayers||(b.relayers={}),e,f;if(c.length>1){for(e=0,f=c.length;e<f;++e){b.addProvider(c[e])}return}if(!a.isProvider){a=Ext.create("direct."+a.type+"provider",a)}b.providers.add(a);a.on("data",b.onProviderData,b);if(a.relayedEvents){d[a.id]=b.relayEvents(a,a.relayedEvents)}if(!a.isConnected()){a.connect()}return a},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(a){var b=this,c=b.providers,d=b.relayers,e;a=a.isProvider?a:c.get(a);if(a){a.un("data",b.onProviderData,b);e=a.id;if(d[e]){d[e].destroy();delete d[e]}c.remove(a);return a}return null},addTransaction:function(a){this.transactions.add(a);return a},removeTransaction:function(a){var b=this;a=b.getTransaction(a);b.transactions.remove(a);return a},getTransaction:function(a){return typeof a==="object"?a:this.transactions.get(a)},onProviderData:function(a,b){var c=this,d,e;if(Ext.isArray(b)){for(d=0,e=b.length;d<e;++d){c.onProviderData(a,b[d])}return}if(b.name&&b.name!="event"&&b.name!="exception"){c.fireEvent(b.name,b)}else if(b.status===false){c.fireEvent("exception",b)}c.fireEvent("event",b,a)},parseMethod:function(a){if(Ext.isString(a)){var b=a.split("."),c=0,d=b.length,e=Ext.global;while(e&&c<d){e=e[b[c]];++c}a=Ext.isFunction(e)?e:null}return a||null}},function(){Ext.Direct=Ext.direct.Manager});Ext.define("Ext.data.proxy.Direct",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",paramOrder:undefined,paramsAsHash:true,directFn:undefined,paramOrderRe:/[\s,|]/,constructor:function(a){var b=this,c;b.callParent(arguments);c=b.paramOrder;if(Ext.isString(c)){b.paramOrder=c.split(b.paramOrderRe)}},resolveMethods:function(){var a=this,b=a.directFn,c=a.api,d=Ext.direct.Manager,e;if(b){e=a.directFn=d.parseMethod(b);if(!Ext.isFunction(e)){Ext.Error.raise("Cannot resolve directFn "+b)}}else if(c){for(b in c){if(c.hasOwnProperty(b)){e=c[b];c[b]=d.parseMethod(e);if(!Ext.isFunction(c[b])){Ext.Error.raise("Cannot resolve Direct api "+b+" method "+e)}}}}a.methodsResolved=true},doRequest:function(a,b,c){var d=this,e=d.getWriter(),f=d.buildRequest(a),g=f.params,h=[],i,j;if(!d.methodsResolved){d.resolveMethods()}i=d.api[f.action]||d.directFn;if(a.allowWrite()){f=e.write(f)}if(a.action=="read"){j=i.directCfg.method;h=j.getArgs(g,d.paramOrder,d.paramsAsHash)}else{h.push(f.jsonData)}Ext.apply(f,{args:h,directFn:i});h.push(d.createRequestCallback(f,a,b,c),d);i.apply(window,h)},applyEncoding:Ext.identityFn,createRequestCallback:function(a,b,c,d){var e=this;return function(f,g){e.processResponse(g.status,b,a,g,c,d)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(a,b){a.setException(b.message)},buildUrl:function(){return""}});Ext.define("Ext.data.DirectStore",{extend:Ext.data.Store,alias:"store.direct",constructor:function(a){a=Ext.apply({},a);if(!a.proxy){var b={type:"direct",reader:{type:"json"}};Ext.copyTo(b,a,"paramOrder,paramsAsHash,directFn,api,simpleSortMode");Ext.copyTo(b.reader,a,"totalProperty,root,idProperty");a.proxy=b}this.callParent([a])}});Ext.define("Ext.data.JsonP",{singleton:true,requestCount:0,requests:{},timeout:3e4,disableCaching:true,disableCachingParam:"_dc",callbackKey:"callback",request:function(a){a=Ext.apply({},a);var b=this,c=Ext.isDefined(a.disableCaching)?a.disableCaching:b.disableCaching,d=a.disableCachingParam||b.disableCachingParam,e=++b.requestCount,f=a.callbackName||"callback"+e,g=a.callbackKey||b.callbackKey,h=Ext.isDefined(a.timeout)?a.timeout:b.timeout,i=Ext.apply({},a.params),j=a.url,k=Ext.name,l,m;if(c&&!i[d]){i[d]=Ext.Date.now()}a.params=i;i[g]=k+".data.JsonP."+f;m=b.createScript(j,i,a);b.requests[e]=l={url:j,params:i,script:m,id:e,scope:a.scope,success:a.success,failure:a.failure,callback:a.callback,callbackKey:g,callbackName:f};if(h>0){l.timeout=setTimeout(Ext.bind(b.handleTimeout,b,[l]),h)}b.setupErrorHandling(l);b[f]=Ext.bind(b.handleResponse,b,[l],true);b.loadScript(l);return l},abort:function(a){var b=this,c=b.requests,d;if(a){if(!a.id){a=c[a]}b.handleAbort(a)}else{for(d in c){if(c.hasOwnProperty(d)){b.abort(c[d])}}}},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType="abort";this.handleResponse(null,a)},handleError:function(a){a.errorType="error";this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType="timeout";this.handleResponse(null,a)},handleResponse:function(a,b){var c=true;if(b.timeout){clearTimeout(b.timeout)}delete this[b.callbackName];delete this.requests[b.id];this.cleanupErrorHandling(b);Ext.fly(b.script).remove();if(b.errorType){c=false;Ext.callback(b.failure,b.scope,[b.errorType])}else{Ext.callback(b.success,b.scope,[a])}Ext.callback(b.callback,b.scope,[c,a,b.errorType]);Ext.EventManager.idleEvent.fire()},createScript:function(a,b,c){var d=document.createElement("script");d.setAttribute("src",Ext.urlAppend(a,Ext.Object.toQueryString(b)));d.setAttribute("async",true);d.setAttribute("type","text/javascript");return d},loadScript:function(a){Ext.getHead().appendChild(a.script)}});Ext.define("Ext.data.proxy.JsonP",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:true,constructor:function(){this.addEvents("exception");
this.callParent(arguments)},doRequest:function(a,b,c){var d=this,e=d.buildRequest(a),f=e.params;Ext.apply(e,{callbackKey:d.callbackKey,timeout:d.timeout,scope:d,disableCaching:false,callback:d.createRequestCallback(e,a,b,c)});if(d.autoAppendParams){e.params={}}e.jsonp=Ext.data.JsonP.request(e);e.params=f;a.setStarted();d.lastRequest=e;return e},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g,h){delete e.lastRequest;e.processResponse(f,b,a,g,c,d)}},setException:function(a,b){a.setException(a.request.jsonp.errorType)},buildUrl:function(a){var b=this,c=b.callParent(arguments),d=a.records,e=b.getWriter(),f,g,h,i;if(e&&a.operation.allowWrite()){a=e.write(a)}f=a.params;g=f.filters,delete f.filters;if(g&&g.length){for(i=0;i<g.length;i++){h=g[i];if(h.value){f[h.property]=h.value}}}if((!e||!e.encode)&&Ext.isArray(d)&&d.length>0){f[b.recordParam]=b.encodeRecords(d)}if(b.autoAppendParams){c=Ext.urlAppend(c,Ext.Object.toQueryString(f))}return c},abort:function(){var a=this.lastRequest;if(a){Ext.data.JsonP.abort(a.jsonp)}},encodeRecords:function(a){var b=[],c=0,d=a.length;for(;c<d;c++){b.push(Ext.encode(a[c].getData()))}return b}});Ext.define("Ext.data.JsonPStore",{extend:Ext.data.Store,alias:"store.jsonp",constructor:function(a){a=Ext.apply({proxy:{type:"jsonp",reader:"json"}},a);this.callParent([a])}});Ext.define("Ext.data.JsonStore",{extend:Ext.data.Store,alias:"store.json",constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},a);this.callParent([a])}});Ext.define("Ext.data.NodeInterface",{statics:{decorate:function(a){var b,c,d;if(typeof a=="string"){a=Ext.ModelManager.getModel(a)}else if(a.isModel){a=Ext.ModelManager.getModel(a.modelName)}if(a.prototype.isNode){return}b=a.prototype.idProperty;c=a.prototype.fields.get(b);d=a.prototype.fields.get(b).type.type;a.override(this.getPrototypeBody());this.applyFields(a,[{name:"parentId",type:d,defaultValue:null,useNull:c.useNull},{name:"index",type:"int",defaultValue:0,persist:false,convert:null},{name:"depth",type:"int",defaultValue:0,persist:false,convert:null},{name:"expanded",type:"bool",defaultValue:false,persist:false,convert:null},{name:"expandable",type:"bool",defaultValue:true,persist:false,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:false,convert:null},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:"",persist:false,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:false,convert:null},{name:"icon",type:"string",defaultValue:"",persist:false,convert:null},{name:"root",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isLast",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isFirst",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"loaded",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"loading",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"href",type:"string",defaultValue:"",persist:false,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:false,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:false,convert:null},{name:"children",type:"auto",defaultValue:null,persist:false,convert:null}])},applyFields:function(a,b){var c=a.prototype,d=c.fields,e=d.keys,f=b.length,g,h;for(h=0;h<f;h++){g=b[h];if(!Ext.Array.contains(e,g.name)){d.add(new Ext.data.Field(g))}}},getPrototypeBody:function(){var a={idchanged:true,append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true,expand:true,collapse:true,beforeexpand:true,beforecollapse:true,sort:true,rootchange:true};return{isNode:true,constructor:function(){var a=this;a.callParent(arguments);a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null;a.childNodes=[];return a},createNode:function(a){if(!a.isModel){a=Ext.ModelManager.create(a,this.modelName)}if(!a.childNodes){a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null;a.childNodes=[]}return a},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(a,b){var c=this,d=c.data.depth,e={},f=c.childNodes,g=f.length,h,i=c.phantom,j=c[c.persistenceProperty],k,l,m;if(!b){Ext.Error.raise("NodeInterface expects update info to be passed")}for(k in b){m=c.fields.get(k);l=b[k];if(m&&m.persist){c.dirty=c.dirty||!c.isEqual(j[k],l)}j[k]=l}if(a){c.commit();c.phantom=i}if(c.data.depth!==d){e={depth:c.data.depth+1};for(h=0;h<g;h++){f[h].updateInfo(a,e)}}},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var a=this;if(a.get("expandable")){return!(a.isLeaf()||a.isLoaded()&&!a.hasChildNodes())}return false},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(a,b,c){var d=this,e,f,g,h,i,j={isLast:true,parentId:d.getId(),depth:(d.data.depth||0)+1};if(Ext.isArray(a)){d.callStore("suspendAutoSync");for(e=0,f=a.length-1;e<f;e++){d.appendChild(a[e],b,c)}d.callStore("resumeAutoSync");d.appendChild(a[f],b,c)}else{a=d.createNode(a);if(b!==true&&d.fireEventArgs("beforeappend",[d,a])===false){return false}g=d.childNodes.length;h=a.parentNode;if(h){if(b!==true&&a.fireEventArgs("beforemove",[a,h,d,g])===false){return false}h.removeChild(a,false,false,true)}Ext.suspendLayouts();g=d.childNodes.length;if(g===0){d.setFirstChild(a)}d.childNodes[g]=a;a.parentNode=d;a.nextSibling=null;d.setLastChild(a);i=d.childNodes[g-1];if(i){a.previousSibling=i;i.nextSibling=a;i.updateInfo(c,{isLast:false});i.triggerUIUpdate()}else{a.previousSibling=null}j.isFirst=g===0;j.index=g;a.updateInfo(c,j);if(!d.isLoaded()){d.set("loaded",true)}else if(d.childNodes.length===1){d.triggerUIUpdate()}if(g&&d.childNodes[g-1].isExpanded()){d.childNodes[g-1].cascadeBy(d.triggerUIUpdate)}if(!a.isLeaf()&&a.phantom){a.set("loaded",true)}Ext.resumeLayouts(true);if(b!==true){d.fireEventArgs("append",[d,a,g]);if(h){a.fireEventArgs("move",[a,h,d,g])}}return a}},getOwnerTree:function(){var a=this,b;while(a.parentNode){a=a.parentNode}b=a.store;if(b){if(b.treeStore){b=b.treeStore}if(b.tree){return b.ownerTree}}return undefined},removeChild:function(a,b,c,d){var e=this,f=e.indexOf(a),g,h,i;if(f===-1||c!==true&&e.fireEventArgs("beforeremove",[e,a,!!d])===false){return false}Ext.suspendLayouts();Ext.Array.erase(e.childNodes,f,1);if(e.firstChild===a){e.setFirstChild(a.nextSibling)}if(e.lastChild===a){e.setLastChild(a.previousSibling)}if(i=a.previousSibling){a.previousSibling.nextSibling=a.nextSibling}if(a.nextSibling){a.nextSibling.previousSibling=a.previousSibling;if(f===0){a.nextSibling.updateInfo(false,{isFirst:true})}for(g=f,h=e.childNodes.length;g<h;g++){e.childNodes[g].updateInfo(false,{index:g})}}else if(i){i.updateInfo(false,{isLast:true});if(i.isExpanded()){i.cascadeBy(e.triggerUIUpdate)}else{i.triggerUIUpdate()}}if(!e.childNodes.length){e.triggerUIUpdate()}Ext.resumeLayouts(true);if(c!==true){a.removeContext={parentNode:a.parentNode,previousSibling:a.previousSibling,nextSibling:a.nextSibling};a.previousSibling=a.nextSibling=a.parentNode=null;e.fireEventArgs("remove",[e,a,!!d]);a.removeContext=null}if(b){a.destroy(true)}else{a.clear()}return a},copy:function(a,b){var c=this,d=c.callParent(arguments),e=c.childNodes?c.childNodes.length:0,f;if(b){for(f=0;f<e;f++){d.appendChild(c.childNodes[f].copy(undefined,true))}}return d},clear:function(a){var b=this;b.parentNode=b.previousSibling=b.nextSibling=null;if(a){b.firstChild=b.lastChild=null}},destroy:function(a){var b=this,c=b.destroyOptions,d=b.childNodes,e=d.length,f;if(a===true){b.clear(true);for(f=0;f<e;f++){d[f].destroy(true)}b.childNodes=null;delete b.destroyOptions;b.callParent([c])}else{b.destroyOptions=a;b.remove(true)}},insertBefore:function(a,b,c){var d=this,e=d.indexOf(b),f=a.parentNode,g=e,h,i,j;if(!b){return d.appendChild(a)}if(a===b){return false}a=d.createNode(a);if(c!==true&&d.fireEventArgs("beforeinsert",[d,a,b])===false){return false}if(f===d&&d.indexOf(a)<e){g--}if(f){if(c!==true&&a.fireEventArgs("beforemove",[a,f,d,e,b])===false){return false}f.removeChild(a,false,false,true)}if(g===0){d.setFirstChild(a)}Ext.Array.splice(d.childNodes,g,0,a);a.parentNode=d;a.nextSibling=b;b.previousSibling=a;i=d.childNodes[g-1];if(i){a.previousSibling=i;i.nextSibling=a}else{a.previousSibling=null}a.updateInfo(false,{parentId:d.getId(),index:g,isFirst:g===0,isLast:false,depth:(d.data.depth||0)+1});for(j=g+1,h=d.childNodes.length;j<h;j++){d.childNodes[j].updateInfo(false,{index:j})}if(!d.isLoaded()){d.set("loaded",true)}else if(d.childNodes.length===1){d.triggerUIUpdate()}if(!a.isLeaf()&&a.phantom){a.set("loaded",true)}if(c!==true){d.fireEventArgs("insert",[d,a,b]);if(f){a.fireEventArgs("move",[a,f,d,g,b])}}return a},insertChild:function(a,b){var c=this.childNodes[a];if(c){return this.insertBefore(b,c)}else{return this.appendChild(b)}},remove:function(a,b){var c=this,d=c.parentNode;if(d){d.removeChild(c,a,b)}else if(a){c.destroy(true)}return c},removeAll:function(a,b,c){var d=this,e=d.childNodes,f=0,g=e.length,h;if(!g){return}d.fireEventArgs("bulkremove",[d,e,false]);for(;f<g;++f){h=e[f];h.removeContext={parentNode:h.parentNode,previousSibling:h.previousSibling,nextSibling:h.nextSibling};h.previousSibling=h.nextSibling=h.parentNode=null;d.fireEventArgs("remove",[d,h,false]);h.removeContext=null;if(a){h.destroy(true)}else{h.removeAll(false,b,true)}}d.firstChild=d.lastChild=null;if(c){d.childNodes=null}else{d.childNodes.length=0;d.triggerUIUpdate()}return d},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,b,c){var d=b?b.nextSibling:null;this.removeChild(b,false,c);this.insertBefore(a,d,c);return b},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(a){var b=this.childNodes,c=b.length,d=0;for(;d<c;++d){if(b[d].getId()===a){return d}}return-1},getPath:function(a,b){a=a||this.idProperty;b=b||"/";var c=[this.get(a)],d=this.parentNode;while(d){c.unshift(d.get(a));d=d.parentNode}return b+c.join(b)},getDepth:function(){return this.get("depth")},bubble:function(a,b,c){var d=this;while(d){if(a.apply(b||d,c||[d])===false){break}d=d.parentNode}},cascade:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.")}return this.cascadeBy.apply(this,arguments)},cascadeBy:function(a,b,c){if(a.apply(b||this,c||[this])!==false){var d=this.childNodes,e=d.length,f;for(f=0;f<e;f++){d[f].cascadeBy(a,b,c)}}},eachChild:function(a,b,c){var d=this.childNodes,e=d.length,f;for(f=0;f<e;f++){if(a.apply(b||this,c||[d[f]])===false){break}}},findChild:function(a,b,c){return this.findChildBy(function(){return this.get(a)==b},null,c)},findChildBy:function(a,b,c){var d=this.childNodes,e=d.length,f=0,g,h;for(;f<e;f++){g=d[f];if(a.call(b||g,g)===true){return g}else if(c){h=g.findChildBy(a,b,c);if(h!==null){return h}}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){var b=this.parentNode;while(b){if(b===a){return true}b=b.parentNode}return false},sort:function(a,b,c){var d=this.childNodes,e=d.length,f,g,h={isFirst:true};if(e>0){Ext.Array.sort(d,a);this.setFirstChild(d[0]);this.setLastChild(d[e-1]);for(f=0;f<e;f++){g=d[f];g.previousSibling=d[f-1];g.nextSibling=d[f+1];h.isLast=f===e-1;h.index=f;g.updateInfo(false,h);h.isFirst=false;if(b&&!g.isLeaf()){g.sort(a,true,true)}}if(c!==true){this.fireEventArgs("sort",[this,d])}}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){var a=this.parentNode;while(a){if(!a.isExpanded()){return false}a=a.parentNode}return true},expand:function(a,b,c){var d=this,e;if(!d.isLeaf()){if(d.isLoading()){d.on("expand",function(){d.expand(a,b,c)},d,{single:true})}else{if(!d.isExpanded()){d.fireEventArgs("beforeexpand",[d,d.onChildNodesAvailable,d,[a,b,c]])}else if(a){e=d.getOwnerTree();d.expandChildren(true,e?e.singleExpand:false,b,c)}else{Ext.callback(b,c||d,[d.childNodes])}}}else{Ext.callback(b,c||d)}},onChildNodesAvailable:function(a,b,c,d){var e=this,f;Ext.suspendLayouts();e.set("expanded",true);e.fireEventArgs("expand",[e,e.childNodes,false]);if(b){f=e.getOwnerTree();e.expandChildren(true,f?f.singleExpand:false,c,d)}else{Ext.callback(c,d||e,[e.childNodes])}Ext.resumeLayouts(true)},expandChildren:function(a,b,c,d){var e=this,f,g=e.childNodes,h=[],i=b?Math.min(g.length,1):g.length,j;for(f=0;f<i;++f){j=g[f];if(!j.isLeaf()){h[h.length]=j}}i=h.length;for(f=0;f<i;++f){h[f].expand(a)}if(c){Ext.callback(c,d||e,[e.childNodes])}},collapse:function(a,b,c){var d=this,e=d.isExpanded(),f=d.childNodes.length,g,h;if(!d.isLeaf()&&(!e&&a||d.fireEventArgs("beforecollapse",[d])!==false)){Ext.suspendLayouts();if(d.isExpanded()){if(a){h=function(){for(g=0;g<f;g++){d.childNodes[g].setCollapsed(true)}};if(b){b=Ext.Function.createSequence(h,b)}else{b=h}}d.set("expanded",false);d.fireEventArgs("collapse",[d,d.childNodes,false,b?Ext.Function.bind(b,c,[d.childNodes]):null,null]);b=null}else if(a){for(g=0;g<f;g++){d.childNodes[g].setCollapsed(true)}}Ext.resumeLayouts(true)}Ext.callback(b,c||d,[d.childNodes])},setCollapsed:function(a){var b=this,c=b.childNodes.length,d;if(!b.isLeaf()&&b.fireEventArgs("beforecollapse",[b,Ext.emptyFn])!==false){b.data.expanded=false;b.fireEventArgs("collapse",[b,b.childNodes,false,null,null]);if(a){for(d=0;d<c;d++){b.childNodes[d].setCollapsed(true)}}}},collapseChildren:function(a,b,c){var d=this,e,f=d.childNodes,g=f.length,h=[],i;for(e=0;e<g;++e){i=f[e];if(!i.isLeaf()&&i.isLoaded()&&i.isExpanded()){h.push(i)}}g=h.length;for(e=0;e<g;++e){i=h[e];if(e===g-1){i.collapse(a,b,c)}else{i.collapse(a)}}},fireEventArgs:function(b,c){var d=Ext.data.Model.prototype.fireEventArgs,e,f,g,h,i;if(a[b]){for(f=this;e!==false&&f;f=(i=f).parentNode){if(f.hasListeners[b]){e=d.call(f,b,c)}}g=i.rootOf;if(e!==false&&g){h=g.treeStore;if(h&&h.hasListeners[b]){e=h.fireEventArgs.call(h,b,c)}if(e!==false&&g.hasListeners[b]){e=g.fireEventArgs.call(g,b,c)}}return e}else{return d.apply(this,arguments)}},serialize:function(){var a=Ext.data.writer.Json.prototype.getRecordData(this),b=this.childNodes,c=b.length,d,e;if(c>0){d=[];for(e=0;e<c;e++){d.push(b[e].serialize())}a.children=d}return a}}}}});Ext.define("Ext.data.NodeStore",{extend:Ext.data.Store,alias:"store.node",isNodeStore:true,node:null,recursive:false,rootVisible:false,isExpandingOrCollapsing:0,constructor:function(a){var b=this,c;a=a||{};Ext.apply(b,a);a.proxy={type:"proxy"};b.callParent([a]);c=b.node;if(c){b.node=null;b.setNode(c)}},getTotalCount:function(){return this.getCount()},setNode:function(a){var b=this;if(b.node&&b.node!=a){b.mun(b.node,{expand:b.onNodeExpand,collapse:b.onNodeCollapse,append:b.onNodeAppend,insert:b.onNodeInsert,bulkremove:b.onBulkRemove,remove:b.onNodeRemove,sort:b.onNodeSort,scope:b});b.node=null}if(a){Ext.data.NodeInterface.decorate(a.self);b.removeAll();if(b.rootVisible){b.add(a)}else if(!a.isExpanded()&&b.treeStore.autoLoad!==false){a.expand()}b.mon(a,{expand:b.onNodeExpand,collapse:b.onNodeCollapse,append:b.onNodeAppend,insert:b.onNodeInsert,bulkremove:b.onBulkRemove,remove:b.onNodeRemove,sort:b.onNodeSort,scope:b});b.node=a;if(a.isExpanded()&&a.isLoaded()){b.onNodeExpand(a,a.childNodes,true)}}},onNodeSort:function(a,b){var c=this;if(c.indexOf(a)!==-1||a===c.node&&!c.rootVisible&&a.isExpanded()){Ext.suspendLayouts();c.onNodeCollapse(a,b,true);c.onNodeExpand(a,b,true);Ext.resumeLayouts(true)}},onNodeExpand:function(a,b,c){var d=this,e=d.indexOf(a)+1,f=[];if(!c){d.fireEvent("beforeexpand",a,b,e)}d.handleNodeExpand(a,b,f);d.insert(e,f);if(!c){d.fireEvent("expand",a,b)}},handleNodeExpand:function(a,b,c){var d=this,e=b?b.length:0,f,g;if(!d.recursive&&a!==d.node){return}if(a!==this.node&&!d.isVisible(a)){return}if(e){for(f=0;f<e;f++){g=b[f];c.push(g);if(g.isExpanded()){if(g.isLoaded()){d.handleNodeExpand(g,g.childNodes,c)}else{g.set("expanded",false);g.expand()}}}}},onBulkRemove:function(a,b,c){this.onNodeCollapse(a,b,true)},onNodeCollapse:function(a,b,c,d,e){var f=this,g=f.indexOf(a)+1,h,i,j,k;if(!f.recursive&&a!==f.node){return}if(!c){f.fireEvent("beforecollapse",a,b,g,d,e)}if(b.length&&f.data.contains(b[0])){h=a;while(h.parentNode){j=h.nextSibling;if(j){k=true;i=f.indexOf(j);break}else{h=h.parentNode}}if(!k){i=f.getCount()}f.removeAt(g,i-g)}if(!c){f.fireEvent("collapse",a,b,g)}},onNodeAppend:function(a,b,c){var d=this,e,f;if(d.isVisible(b)){if(c===0){e=a}else{f=b.previousSibling;while(f.isExpanded()&&f.lastChild){f=f.lastChild}e=f}d.insert(d.indexOf(e)+1,b);if(!b.isLeaf()&&b.isExpanded()){if(b.isLoaded()){d.onNodeExpand(b,b.childNodes,true)}else if(!d.treeStore.fillCount){b.set("expanded",false);b.expand()}}}},onNodeInsert:function(a,b,c){var d=this,e=this.indexOf(c);if(e!=-1&&d.isVisible(b)){d.insert(e,b);if(!b.isLeaf()&&b.isExpanded()){if(b.isLoaded()){d.onNodeExpand(b,b.childNodes,true)}else{b.set("expanded",false);b.expand()}}}},onNodeRemove:function(a,b,c){var d=this;if(d.indexOf(b)!=-1){if(!b.isLeaf()&&b.isExpanded()){b.parentNode=b.removeContext.parentNode;b.nextSibling=b.removeContext.nextSibling;d.onNodeCollapse(b,b.childNodes,true);b.parentNode=b.nextSibling=null}d.remove(b)}},isVisible:function(a){var b=a.parentNode;while(b){if(b===this.node&&b.data.expanded){return true}if(!b.data.expanded){return false}b=b.parentNode}return false}});Ext.define("Ext.data.Request",{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(a){Ext.apply(this,a)}});Ext.define("Ext.data.SequentialIdGenerator",{extend:Ext.data.IdGenerator,alias:"idgen.sequential",constructor:function(){var a=this;a.callParent(arguments);a.parts=[a.prefix,""]},prefix:"",seed:1,generate:function(){var a=this,b=a.parts;b[1]=a.seed++;return b.join("")}});Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:Ext.util.Observable},root:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b);if(a){b.setRootNode(a)}b.on({scope:b,idchanged:b.onNodeIdChanged,insert:b.onNodeInsert,append:b.onNodeAppend,remove:b.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(a){var b=this;b.root=a;if(a.rootOf){a.rootOf.removeRootNode()}else if(a.parentNode){a.parentNode.removeChild(a)}a.rootOf=b;if(a.fireEventArgs("beforeappend",[null,a])!==false){a.set("root",true);a.updateInfo(true,{isFirst:true,isLast:true,depth:0,index:0,parentId:null});b.nodeHash={};a.fireEvent("append",null,a);a.fireEvent("rootchange",a)}return a},removeRootNode:function(){var a=this,b=a.root;b.set("root",false);b.fireEvent("remove",null,b,false);b.fireEvent("rootchange",null);b.rootOf=a.root=null;return b},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(a,b){this.registerNode(b,true)},onNodeAppend:function(a,b){this.registerNode(b,true)},onNodeRemove:function(a,b){this.unregisterNode(b,true)},onNodeIdChanged:function(a,b,c,d){var e=this.nodeHash;e[a.internalId]=a;delete e[d]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a,b){var c=this,d,e,f;c.nodeHash[a.internalId]=a;if(b===true){d=a.childNodes;e=d.length;for(f=0;f<e;f++){c.registerNode(d[f],true)}}},unregisterNode:function(a,b){var c=this,d,e,f;delete c.nodeHash[a.internalId];if(b===true){d=a.childNodes;e=d.length;for(f=0;f<e;f++){c.unregisterNode(d[f],true)}}},sort:function(a,b){this.getRootNode().sort(a,b)},filter:function(a,b){this.getRootNode().filter(a,b)}});Ext.define("Ext.data.TreeModel",{extend:Ext.data.Model},function(){Ext.data.NodeInterface.decorate(this)});Ext.define("Ext.data.TreeStore",{extend:Ext.data.AbstractStore,alias:"store.tree",clearOnLoad:true,clearRemovedOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",defaultRootProperty:"children",rootProperty:"children",fillCount:0,folderSort:false,constructor:function(a){var b=this,c,d,e;a=Ext.apply({},a);d=a.fields||b.fields;if(!d){a.fields=[{name:"text",type:"string"}];e=a.defaultRootProperty||b.defaultRootProperty;if(e!==b.defaultRootProperty){a.fields.push({name:e,type:"auto",defaultValue:null,persist:false})}}b.callParent([a]);b.tree=new Ext.data.Tree;b.tree.treeStore=b;b.tree.on({scope:b,remove:b.onNodeRemove,beforeexpand:b.onBeforeNodeExpand,append:b.onNodeAdded,insert:b.onNodeAdded,sort:b.onNodeSort});b.onBeforeSort();c=b.root;if(c){delete b.root;b.setRootNode(c)}if(Ext.isDefined(b.nodeParameter)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead.")}b.nodeParam=b.nodeParameter;delete b.nodeParameter}},setProxy:function(a){var b,c;if(a instanceof Ext.data.proxy.Proxy){c=Ext.isEmpty(a.getReader().root)}else if(Ext.isString(a)){c=true}else{b=a.reader;c=!(b&&!Ext.isEmpty(b.root))}a=this.callParent(arguments);a.idParam=this.nodeParam;if(c){b=a.getReader();b.root=this.defaultRootProperty;b.buildExtractors(true)}return a},onBeforeSort:function(){if(this.folderSort){this.sort({property:"leaf",direction:"ASC"},"prepend",false)}},onBeforeNodeExpand:function(a,b,c,d){var e=this,f,g,h,i;if(a.isLoaded()){i=[a.childNodes];if(d){i.push.apply(i,d)}Ext.callback(b,c||a,i)}else if(g=h=(a.raw||a[a.persistenceProperty])[(f=e.getProxy().getReader()).root]){e.fillNode(a,f.extractData(g));delete h[f.root];i=[a.childNodes];if(d){i.push.apply(i,d)}Ext.callback(b,c||a,i)}else if(a.isLoading()){e.on("load",function(){i=[a.childNodes];if(d){i.push.apply(i,d)}Ext.callback(b,c||a,i)},e,{single:true})}else{e.read({node:a,callback:function(){delete e.lastOptions.callback;i=[a.childNodes];if(d){i.push.apply(i,d)}Ext.callback(b,c||a,i)}})}},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(a,b,c){var d=this;b.unjoin(d);if(!b.phantom&&!c){Ext.Array.include(d.removed,b)}if(d.autoSync&&!d.autoSyncSuspended&&!c){d.sync()}},onNodeAdded:function(a,b){var c=this,d=c.getProxy(),e=d.getReader(),f=b.raw||b[b.persistenceProperty],g;Ext.Array.remove(c.removed,b);b.join(c);if(!b.isLeaf()&&!c.lazyFill){g=e.getRoot(f);if(g){c.fillNode(b,e.extractData(g));delete f[e.root]}}if(c.autoSync&&!c.autoSyncSuspended&&(b.phantom||b.dirty)){c.sync()}},onNodeSort:function(){if(this.autoSync&&!this.autoSyncSuspended){this.sync()}},setRootNode:function(a,b){var c=this,d=c.model,e=d.prototype.idProperty;a=a||{};if(!a.isModel){a=Ext.apply({},a);Ext.applyIf(a,{id:c.defaultRootId,text:c.defaultRootText,allowDrag:false});if(a[e]===undefined){a[e]=c.defaultRootId}Ext.data.NodeInterface.decorate(d);a=Ext.ModelManager.create(a,d)}else if(a.isModel&&!a.isNode){Ext.data.NodeInterface.decorate(d)}c.getProxy().getReader().buildExtractors(true);c.tree.setRootNode(a);if(b!==true&&!a.isLoaded()&&(c.autoLoad===true||a.isExpanded())){a.data.expanded=false;a.expand()}return a},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},getById:function(a){return this.getNodeById(a)},load:function(a){a=a||{};a.params=a.params||{};var b=this,c=a.node||b.tree.getRootNode();if(!c){c=b.setRootNode({expanded:true},true)}a.id=c.getId();if(b.clearOnLoad){if(b.clearRemovedOnLoad){b.clearRemoved(c)}b.tree.un("remove",b.onNodeRemove,b);c.removeAll(false);b.tree.on("remove",b.onNodeRemove,b)}Ext.applyIf(a,{node:c});b.callParent([a]);if(b.loading&&c){c.set("loading",true)}return b},clearRemoved:function(a){var b=this,c=b.removed,d=a.getId(),e=c.length,f=e,g={},h=[],i={},j,k,l;if(a===b.getRootNode()){b.removed=[];return}for(;f--;){j=c[f];i[j.getId()]=j}for(f=e;f--;){j=c[f];k=j;while(k&&k.getId()!==d){l=k.get("parentId");k=k.parentNode||b.getNodeById(l)||i[l]}if(k){g[j.getId()]=j}}for(f=0;f<e;f++){j=c[f];if(!g[j.getId()]){h.push(j)}}b.removed=h},fillNode:function(a,b){var c=this,d=b?b.length:0,e=c.sorters,f,g,h=false,i=d&&c.sortOnLoad&&!c.remoteSort&&e&&e.items&&e.items.length,j,k,l;for(f=1;f<d;f++){j=b[f];k=b[f-1];h=j[j.persistenceProperty].index!=k[k.persistenceProperty].index;if(h){break}}if(i){if(h){c.sorters.insert(0,c.indexSorter)}g=new Ext.util.MixedCollection;g.addAll(b);g.sort(c.sorters.items);b=g.items;c.sorters.remove(c.indexSorter)}else if(h){Ext.Array.sort(b,c.sortByIndex)}a.set("loaded",true);l=c.fillCount===0;if(l){c.fireEvent("beforefill",c,a,b)}++c.fillCount;if(b.length){a.appendChild(b,undefined,true)}if(l){c.fireEvent("fillcomplete",c,a,b)}--c.fillCount;return b},sortByIndex:function(a,b){return a[a.persistenceProperty].index-b[b.persistenceProperty].index},onIdChanged:function(a,b,c,d){this.tree.onNodeIdChanged(a,b,c,d);this.callParent(arguments)},onProxyLoad:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords(),e=a.node;b.loading=false;e.set("loading",false);if(c){if(!b.clearOnLoad){d=b.cleanRecords(e,d)}d=b.fillNode(e,d)}b.fireEvent("read",b,a.node,d,c);b.fireEvent("load",b,a.node,d,c);Ext.callback(a.callback,a.scope||b,[d,a,c])},cleanRecords:function(a,b){var c={},d=a.childNodes,e=0,f=d.length,g=[],h;for(;e<f;++e){c[d[e].getId()]=true}for(e=0,f=b.length;e<f;++e){h=b[e];if(!c[h.getId()]){g.push(h)}}return g},removeAll:function(){var a=this.getRootNode();if(a){a.destroy(true)}this.fireEvent("clear",this)},doSort:function(a){var b=this;if(b.remoteSort){b.load()}else{b.tree.sort(a,true);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}b.fireEvent("sort",b,b.sorters.getRange())}},function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});Ext.define("Ext.data.UuidGenerator",function(){var a=Math.pow(2,14),b=Math.pow(2,16),c=Math.pow(2,28),d=Math.pow(2,32);function e(a,b){var c=a.toString(16);if(c.length>b){c=c.substring(c.length-b)}else if(c.length<b){c=Ext.String.leftPad(c,b,"0")}return c}function f(a,b){var c=Math.random()*(b-a+1);return Math.floor(c)+a}function g(a){if(typeof a=="number"){var b=Math.floor(a/d);return{lo:Math.floor(a-b*d),hi:b}}return a}return{extend:Ext.data.IdGenerator,alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){var a=this;a.callParent(arguments);a.parts=[];a.init()},generate:function(){var a=this,b=a.parts,c=a.timestamp;b[0]=e(c.lo,8);b[1]=e(c.hi&65535,4);b[2]=e(c.hi>>>16&4095|a.version<<12,4);b[3]=e(128|a.clockSeq>>>8&63,2)+e(a.clockSeq&255,2);b[4]=e(a.salt.hi,4)+e(a.salt.lo,8);if(a.version==4){a.init()}else{++c.lo;if(c.lo>=d){c.lo=0;++c.hi}}return b.join("-").toLowerCase()},getRecId:function(a){return a.getId()},init:function(){var e=this,h,i;if(e.version==4){e.clockSeq=f(0,a-1);h=e.salt||(e.salt={});i=e.timestamp||(e.timestamp={});h.lo=f(0,d-1);h.hi=f(0,b-1);i.lo=f(0,d-1);i.hi=f(0,c-1)}else{e.salt=g(e.salt);e.timestamp=g(e.timestamp);e.salt.hi|=256}},reconfigure:function(a){Ext.apply(this,a);this.init()}}}());Ext.define("Ext.data.reader.Xml",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(a){var b=this;if(Ext.isEmpty(a)){return Ext.emptyFn}if(Ext.isFunction(a)){return a}return function(c){return b.getNodeValue(Ext.DomQuery.selectNode(a,c))}},getNodeValue:function(a){if(a){if(typeof a.normalize==="function"){a.normalize()}a=a.firstChild;if(a){return a.nodeValue}}return undefined},getResponseData:function(a){var b=a.responseXML,c,d;if(!b){d="XML data not found in the response";c=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:d});this.fireEvent("exception",this,a,c);Ext.Logger.warn(d);return c}return this.readRecords(b)},getData:function(a){return a.documentElement||a},getRoot:function(a){var b=a.nodeName,c=this.root;if(!c||b&&b==c){return a}else if(Ext.DomQuery.isXml(a)){return Ext.DomQuery.selectNode(c,a)}},extractData:function(a){var b=this.record;if(b!=a.nodeName){a=Ext.DomQuery.select(b,a)}else{a=[a]}return this.callParent([a])},getAssociatedDataRoot:function(a,b){return Ext.DomQuery.select(b,a)[0]},readRecords:function(a){if(Ext.isArray(a)){a=a[0]}this.xmlData=a;return this.callParent([a])},createFieldAccessExpression:function(a,b,c){var d=this.namespace,e,f;e=a.mapping||(d?d+"|":"")+a.name;if(typeof e==="function"){f=b+".mapping("+c+", this)"}else{f='me.getNodeValue(Ext.DomQuery.selectNode("'+e+'", '+c+"))"}return f}});Ext.define("Ext.data.writer.Xml",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(a,b){var c=this,d=[],e=0,f=b.length,g=c.documentRoot,h=c.record,i=b.length!==1,j,k;d.push(c.header||"");if(!g&&i){g=c.defaultDocumentRoot}if(g){d.push("<",g,">")}for(;e<f;++e){j=b[e];d.push("<",h,">");for(k in j){if(j.hasOwnProperty(k)){d.push("<",k,">",j[k],"</",k,">")}}d.push("</",h,">")}if(g){d.push("</",g,">")}a.xmlData=d.join("");return a}});Ext.define("Ext.data.XmlStore",{extend:Ext.data.Store,alias:"store.xml",constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},a);this.callParent([a])}});Ext.define("Ext.data.association.BelongsTo",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(a){this.callParent(arguments);var b=this,c=b.ownerModel.prototype,d=b.associatedName,e=b.getterName||"get"+d,f=b.setterName||"set"+d;Ext.applyIf(b,{name:d,foreignKey:d.toLowerCase()+"_id",instanceName:d+"BelongsToInstance",associationKey:d.toLowerCase()});c[e]=b.createGetter();c[f]=b.createSetter()},createSetter:function(){var a=this,b=a.foreignKey,c=a.instanceName;return function(a,d,e){var f=a&&a.isModel,g=f?a.getId():a;if(f){this[c]=a}else if(this[c]instanceof Ext.data.Model&&!this.isEqual(this.get(b),g)){delete this[c]}this.set(b,g);if(Ext.isFunction(d)){d={callback:d,scope:e||this}}if(Ext.isObject(d)){return this.save(d)}}},createGetter:function(){var a=this,b=a.associatedName,c=a.associatedModel,d=a.foreignKey,e=a.primaryKey,f=a.instanceName;return function(a,g){a=a||{};var h=this,i=h.get(d),j,k,l;if(a.reload===true||h[f]===undefined){k=Ext.ModelManager.create({},b);k.set(e,i);if(typeof a=="function"){a={callback:a,scope:g||h}}j=a.success;a.success=function(a){h[f]=a;if(j){j.apply(this,arguments)}};c.load(i,a);h[f]=k;return k}else{k=h[f];l=[k];g=g||a.scope||h;Ext.callback(a,g,l);Ext.callback(a.success,g,l);Ext.callback(a.failure,g,l);Ext.callback(a.callback,g,l);return k}}},read:function(a,b,c){a[this.instanceName]=b.read([c]).records[0]}});Ext.define("Ext.util.Inflector",{singleton:true,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(a,b){this.singulars.unshift([a,b])
},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(a){if(this.isTransnumeral(a)){return a}var b=this.plurals,c=b.length,d,e,f;for(f=0;f<c;f++){d=b[f];e=d[0];if(e==a||e.test&&e.test(a)){return a.replace(e,d[1])}}return a},singularize:function(a){if(this.isTransnumeral(a)){return a}var b=this.singulars,c=b.length,d,e,f;for(f=0;f<c;f++){d=b[f];e=d[0];if(e==a||e.test&&e.test(a)){return a.replace(e,d[1])}}return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=parseInt(a,10),c=b%10,d=b%100;if(11<=d&&d<=13){return a+"th"}else{switch(c){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}}},function(){var a={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},b;for(b in a){this.plural(b,a[b]);this.singular(a[b],b)}});Ext.define("Ext.data.association.HasMany",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasManyAssociation",alias:"association.hasmany",constructor:function(a){var b=this,c,d;b.callParent(arguments);b.name=b.name||Ext.util.Inflector.pluralize(b.associatedName.toLowerCase());c=b.ownerModel.prototype;d=b.name;Ext.applyIf(b,{storeName:d+"Store",foreignKey:b.ownerName.toLowerCase()+"_id"});c[d]=b.createStore()},createStore:function(){var a=this,b=a.associatedModel,c=a.storeName,d=a.foreignKey,e=a.primaryKey,f=a.filterProperty,g=a.autoLoad,h=a.storeConfig||{};return function(){var a=this,i,j,k={};if(a[c]===undefined){if(f){j={property:f,value:a.get(f),exactMatch:true}}else{j={property:d,value:a.get(e),exactMatch:true}}k[d]=a.get(e);i=Ext.apply({},h,{model:b,filters:[j],remoteFilter:false,modelDefaults:k,disableMetaChangeEvent:true});a[c]=Ext.data.AbstractStore.create(i);if(g){a[c].load()}}return a[c]}},read:function(a,b,c){var d=a[this.name](),e,f,g,h;d.add(b.read(c).records);e=this.associatedModel.prototype.associations.findBy(function(b){return b.type==="belongsTo"&&b.associatedName===a.$className});if(e){f=d.data.items;g=f.length;for(h=0;h<g;h++){f[h][e.instanceName]=a}}}});Ext.define("Ext.data.association.HasOne",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(a){this.callParent(arguments);var b=this,c=b.ownerModel.prototype,d=b.associatedName,e=b.getterName||"get"+d,f=b.setterName||"set"+d;Ext.applyIf(b,{name:d,foreignKey:d.toLowerCase()+"_id",instanceName:d+"HasOneInstance",associationKey:d.toLowerCase()});c[e]=b.createGetter();c[f]=b.createSetter()},createSetter:function(){var a=this,b=a.foreignKey,c=a.instanceName;return function(a,d,e){var f=a&&a.isModel,g=f?a.getId():a;if(f){this[c]=a}else if(this[c]instanceof Ext.data.Model&&!this.isEqual(this.get(b),g)){delete this[c]}this.set(b,g);if(Ext.isFunction(d)){d={callback:d,scope:e||this}}if(Ext.isObject(d)){return this.save(d)}}},createGetter:function(){var a=this,b=a.ownerModel,c=a.associatedName,d=a.associatedModel,e=a.foreignKey,f=a.primaryKey,g=a.instanceName;return function(a,b){a=a||{};var h=this,i=h.get(e),j,k,l;if(a.reload===true||h[g]===undefined){k=Ext.ModelManager.create({},c);k.set(f,i);if(typeof a=="function"){a={callback:a,scope:b||h}}j=a.success;a.success=function(a){h[g]=a;if(j){j.apply(this,arguments)}};d.load(i,a);h[g]=k;return k}else{k=h[g];l=[k];b=b||a.scope||h;Ext.callback(a,b,l);Ext.callback(a.success,b,l);Ext.callback(a.failure,b,l);Ext.callback(a.callback,b,l);return k}}},read:function(a,b,c){var d=this.associatedModel.prototype.associations.findBy(function(b){return b.type==="belongsTo"&&b.associatedName===a.$className}),e=b.read([c]).records[0];a[this.instanceName]=e;if(d){e[d.instanceName]=a}}});Ext.define("Ext.data.proxy.WebStorage",{extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.WebStorageProxy",id:undefined,constructor:function(a){this.callParent(arguments);this.cache={};this.id=this.id||(this.store?this.store.storeId:undefined);this.initialize()},create:function(a,b,c){var d=this,e=a.records,f=e.length,g=d.getIds(),h,i,j;a.setStarted();if(d.isHierarchical===undefined){d.isHierarchical=!!e[0].isNode;if(d.isHierarchical){d.getStorageObject().setItem(d.getTreeKey(),true)}}for(j=0;j<f;j++){i=e[j];if(i.phantom){i.phantom=false;h=d.getNextId()}else{h=i.getId()}d.setRecord(i,h);i.commit();g.push(h)}d.setIds(g);a.setCompleted();a.setSuccessful();if(typeof b=="function"){b.call(c||d,a)}},read:function(a,b,c){var d=this,e=[],f=0,g=true,h=d.model,i,j,k,l,m;a.setStarted();if(d.isHierarchical){e=d.getTreeData()}else{i=d.getIds();j=i.length;m=a.id;if(m){l=d.getRecord(m);if(l!==null){k=new h(l,m,l)}if(k){e.push(k)}else{g=false}}else{for(;f<j;f++){m=i[f];l=d.getRecord(m);e.push(new h(l,m,l))}}}if(g){a.setSuccessful()}a.setCompleted();a.resultSet=Ext.create("Ext.data.ResultSet",{records:e,total:e.length,loaded:true});if(typeof b=="function"){b.call(c||d,a)}},update:function(a,b,c){var d=a.records,e=d.length,f=this.getIds(),g,h,i;a.setStarted();for(i=0;i<e;i++){g=d[i];this.setRecord(g);g.commit();h=g.getId();if(h!==undefined&&Ext.Array.indexOf(f,h)==-1){f.push(h)}}this.setIds(f);a.setCompleted();a.setSuccessful();if(typeof b=="function"){b.call(c||this,a)}},destroy:function(a,b,c){var d=this,e=a.records,f=d.getIds(),g=f.length,h=[],i={},j=e.length,k;a.setStarted();for(;j--;){Ext.apply(i,d.removeRecord(e[j]))}for(j=0;j<g;j++){k=f[j];if(!i[k]){h.push(k)}}d.setIds(h);a.setCompleted();a.setSuccessful();if(typeof b=="function"){b.call(c||d,a)}},getRecord:function(a){var b=this,c=b.cache,d=!c[a]?Ext.decode(b.getStorageObject().getItem(b.getRecordKey(a))):c[a];if(!d){return null}c[a]=d;d[b.model.prototype.idProperty]=a;return d},setRecord:function(a,b){if(b){a.setId(b)}else{b=a.getId()}var c=this,d=a.data,e={},f=c.model,g=f.prototype.fields.items,h=g.length,i=0,j,k,l,m;for(;i<h;i++){j=g[i];k=j.name;if(j.persist){e[k]=d[k]}}delete e[c.model.prototype.idProperty];if(a.isNode&&a.get("depth")===1){delete e.parentId}l=c.getStorageObject();m=c.getRecordKey(b);c.cache[b]=e;l.removeItem(m);l.setItem(m,Ext.encode(e))},removeRecord:function(a){var b=this,c=a.getId(),d={},e,f;d[c]=a;b.getStorageObject().removeItem(b.getRecordKey(c));delete b.cache[c];if(a.childNodes){f=a.childNodes;for(e=f.length;e--;){Ext.apply(d,b.removeRecord(f[e]))}}return d},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format("{0}-{1}",this.id,a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var a=this,b=(a.getStorageObject().getItem(a.id)||"").split(","),c=a.model,d=b.length,e=c.prototype.fields.get(c.prototype.idProperty).type.type==="string",f;if(d==1&&b[0]===""){b=[]}else{for(f=0;f<d;f++){b[f]=e?b[f]:+b[f]}}return b},setIds:function(a){var b=this.getStorageObject(),c=a.join(",");b.removeItem(this.id);if(!Ext.isEmpty(c)){b.setItem(this.id,c)}},getNextId:function(){var a=this,b=a.getStorageObject(),c=a.getRecordCounterKey(),d=a.model,e=d.prototype.fields.get(d.prototype.idProperty).type.type==="string",f;f=a.idGenerator.generate();b.setItem(c,f);if(!e){f=+f}return f},getTreeData:function(){var a=this,b=a.getIds(),c=b.length,d=[],e={},f=[],g=0,h=a.model,i=h.prototype.idProperty,j,k,l,m,n,o;for(;g<c;g++){o=b[g];k=a.getRecord(o);d.push(k);e[o]=k;if(!k.parentId){f.push(k)}}j=f.length;Ext.Array.sort(d,a.sortByParentId);for(g=j;g<c;g++){k=d[g];m=k.parentId;if(!l||l[i]!==m){l=e[m];l.children=n=[]}n.push(k)}for(g=c;g--;){k=d[g];if(!k.children&&!k.leaf){k.loaded=true}}for(g=j;g--;){k=f[g];f[g]=new h(k,k[i],k)}return f},sortByParentId:function(a,b){return(a.parentId||0)-(b.parentId||0)},initialize:function(){var a=this,b=a.getStorageObject(),c=+b.getItem(a.getRecordCounterKey());b.setItem(a.id,b.getItem(a.id)||"");if(b.getItem(a.getTreeKey())){a.isHierarchical=true}a.idGenerator=new Ext.data.SequentialIdGenerator({seed:c?c+1:1})},clear:function(){var a=this,b=a.getStorageObject(),c=a.getIds(),d=c.length,e;for(e=0;e<d;e++){b.removeItem(a.getRecordKey(c[e]))}b.removeItem(a.getRecordCounterKey());b.removeItem(a.getTreeKey());b.removeItem(a.id);a.cache={}},getStorageObject:function(){}});Ext.define("Ext.data.proxy.LocalStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}});Ext.define("Ext.data.proxy.Rest",{extend:Ext.data.proxy.Ajax,alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},appendId:true,batchActions:false,buildUrl:function(a){var b=this,c=a.operation,d=c.records||[],e=d[0],f=b.format,g=b.getUrl(a),h=e?e.getId():c.id;if(b.appendId&&b.isValidId(h)){if(!g.match(/\/$/)){g+="/"}g+=h}if(f){if(!g.match(/\.$/)){g+="."}g+=f}a.url=g;return b.callParent(arguments)},isValidId:function(a){return a||a===0}});Ext.define("Ext.data.proxy.SessionStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}});Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(a,b,c){if(a){this.initTarget(a,b,c)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}});Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(a){var b=this;Ext.apply(b,a);b.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");b.dragRegion=new Ext.util.Region(0,0,0,0);if(b.el){b.initEl(b.el)}b.mixins.observable.constructor.call(b);if(b.disabled){b.disable()}},initEl:function(a){var b=this;b.el=Ext.get(a);b.handle=Ext.get(b.delegate);b.delegate=b.handle?undefined:b.delegate;if(!b.handle){b.handle=b.el}b.handleListeners={scope:b,delegate:b.delegate,mousedown:b.onMouseDown};if(b.trackOver||b.overCls){Ext.apply(b.handleListeners,{mouseover:b.onMouseOver,mouseout:b.onMouseOut})}b.mon(b.handle,b.handleListeners)},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var a=this;if(a.active){a.endDrag({})}a.clearListeners();a.mun(a.handle,a.handleListeners);a.el=a.handle=null},onMouseOver:function(a,b){var c=this;if(!c.disabled){if(Ext.EventManager.contains(a)||c.delegate){c.mouseIsOut=false;if(c.overCls){c.el.addCls(c.overCls)}c.fireEvent("mouseover",c,a,c.delegate?a.getTarget(c.delegate,b):c.handle)}}},onMouseOut:function(a){var b=this;if(b.mouseIsDown){b.mouseIsOut=true}else{if(b.overCls){b.el.removeCls(b.overCls)}b.fireEvent("mouseout",b,a)}},onMouseDown:function(a,b){var c=this,d;if(c.disabled||a.dragTracked){return}c.dragTarget=c.delegate?b:c.handle.dom;c.startXY=c.lastXY=a.getXY();c.startRegion=Ext.fly(c.dragTarget).getRegion();if(c.fireEvent("mousedown",c,a)===false||c.fireEvent("beforedragstart",c,a)===false||c.onBeforeStart(a)===false){return}c.mouseIsDown=true;a.dragTracked=true;d=c.el.dom;if(Ext.isIE&&d.setCapture){d.setCapture()}if(c.preventDefault!==false){a.preventDefault()}Ext.getDoc().on({scope:c,mouseup:c.onMouseUp,mousemove:c.onMouseMove,selectstart:c.stopSelect});if(c.autoStart){c.timer=Ext.defer(c.triggerStart,c.autoStart===true?1e3:c.autoStart,c,[a])}},onMouseMove:function(a,b){var c=this,d=a.getXY(),e=c.startXY;a.preventDefault();c.lastXY=d;if(!c.active){if(Math.max(Math.abs(e[0]-d[0]),Math.abs(e[1]-d[1]))>c.tolerance){c.triggerStart(a)}else{return}}if(c.fireEvent("mousemove",c,a)===false){c.onMouseUp(a)}else{c.onDrag(a);c.fireEvent("drag",c,a)}},onMouseUp:function(a){var b=this;b.mouseIsDown=false;if(b.mouseIsOut){b.mouseIsOut=false;b.onMouseOut(a)}a.preventDefault();if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}b.fireEvent("mouseup",b,a);b.endDrag(a)},endDrag:function(a){var b=this,c=b.active;Ext.getDoc().un({mousemove:b.onMouseMove,mouseup:b.onMouseUp,selectstart:b.stopSelect,scope:b});b.clearStart();b.active=false;if(c){b.onEnd(a);b.fireEvent("dragend",b,a)}b._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(a){var b=this;b.clearStart();b.active=true;b.onStart(a);b.fireEvent("dragstart",b,a)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);this.timer=null}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region){return a.constrainTo}if(!a._constrainRegion){a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion()}}else{if(!a._constrainRegion){a._constrainRegion=a.getDragCt().getViewRegion()}}return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){var b=this.getXY(a),c=this.startXY;return[b[0]-c[0],b[1]-c[1]]},constrainModes:{point:function(a,b){var c=a.dragRegion,d=a.getConstrainRegion();if(!d){return b}c.x=c.left=c[0]=c.right=b[0];c.y=c.top=c[1]=c.bottom=b[1];c.constrainTo(d);return[c.left,c.top]},dragTarget:function(a,b){var c=a.startXY,d=a.startRegion.copy(),e=a.getConstrainRegion(),f;if(!e){return b}d.translateBy(b[0]-c[0],b[1]-c[1]);if(d.right>e.right){b[0]+=f=e.right-d.right;d.left+=f}if(d.left<e.left){b[0]+=e.left-d.left}if(d.bottom>e.bottom){b[1]+=f=e.bottom-d.bottom;d.top+=f}if(d.top<e.top){b[1]+=e.top-d.top}return b}}});Ext.define("Ext.dd.DragZone",{extend:Ext.dd.DragSource,constructor:function(a,b){var c=this,d=c.containerScroll;c.callParent([a,b]);if(d){a=c.scrollEl||a;a=Ext.get(a);if(Ext.isObject(d)){a.ddScrollConfig=d}Ext.dd.ScrollManager.register(a)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},getRepairXY:function(a){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}});Ext.define("Ext.dd.ScrollManager",{singleton:true,constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(a){var b=Ext.dd.ScrollManager;b.dragEl=null;b.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,b=a.el,c=a.el.ddScrollConfig,d=c?c.increment:this.increment;if(!this.animate){if(b.scroll(a.dir,d)){this.triggerRefresh()}}else{b.scroll(a.dir,d,true,this.animDuration,this.triggerRefresh)}}},clearProc:function(){var a=this.proc;if(a.id){clearInterval(a.id)}a.id=0;a.el=null;a.dir=""},startProc:function(a,b){this.clearProc();this.proc.el=a;this.proc.dir=b;var c=a.ddScrollConfig?a.ddScrollConfig.ddGroup:undefined,d=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;if(c===undefined||this.ddmInstance.dragCurrent.ddGroup==c){this.proc.id=setInterval(this.doScroll,d)}},onFire:function(a,b){if(b||!this.ddmInstance.dragCurrent){return}if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var c=a.getXY(),d=a.getPoint(),e=this.proc,f=this.els,g,h,i,j;for(g in f){h=f[g];i=h._region;j=h.ddScrollConfig?h.ddScrollConfig:this;if(i&&i.contains(d)&&h.isScrollable()){if(i.bottom-d.y<=j.vthresh){if(e.el!=h){this.startProc(h,"down")}return}else if(i.right-d.x<=j.hthresh){if(e.el!=h){this.startProc(h,"left")}return}else if(d.y-i.top<=j.vthresh){if(e.el!=h){this.startProc(h,"up")}return}else if(d.x-i.left<=j.hthresh){if(e.el!=h){this.startProc(h,"right")}return}}}this.clearProc()},register:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.register(a[b])}}else{a=Ext.get(a);this.els[a.id]=a}},unregister:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.unregister(a[b])}}else{a=Ext.get(a);delete this.els[a.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:.4,ddGroup:undefined,refreshCache:function(){var a=this.els,b;for(b in a){if(typeof a[b]=="object"){a[b]._region=a[b].getRegion()}}}});Ext.define("Ext.dd.DropTarget",{extend:Ext.dd.DDTarget,constructor:function(a,b){this.el=Ext.get(a);Ext.apply(this,b);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(a,b,c){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(a,b,c){return this.dropAllowed},notifyOut:function(a,b,c){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(a,b,c){return false},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,b){if(typeof a=="string"){return a}var c=a.id;if(!c&&b!==false){c="extdd-"+ ++this.autoIdSeed;a.id=c}return c},register:function(a,b){b=b||{};if(typeof a=="string"){a=document.getElementById(a)}b.ddel=a;this.elements[this.getId(a)]=b;if(b.isHandle!==false){this.handles[b.ddel.id]=b}if(b.handles){var c=b.handles,d,e;for(d=0,e=c.length;d<e;d++){this.handles[this.getId(c[d])]=b}}},unregister:function(a){var b=this.getId(a,false),c=this.elements[b],d,e,f;if(c){delete this.elements[b];if(c.handles){d=c.handles;for(e=0,f=d.length;e<f;e++){delete this.handles[this.getId(d[e],false)]}}}},getHandle:function(a){if(typeof a!="string"){a=a.id}return this.handles[a]},getHandleFromEvent:function(a){var b=a.getTarget();return b?this.handles[b.id]:null},getTarget:function(a){if(typeof a!="string"){a=a.id}return this.elements[a]},getTargetFromEvent:function(a){var b=a.getTarget();return b?this.elements[b.id]||this.handles[b.id]:null}});Ext.define("Ext.dd.DropZone",{extend:Ext.dd.DropTarget,getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(a,b,c,d){},onNodeOver:function(a,b,c,d){return this.dropAllowed},onNodeOut:function(a,b,c,d){},onNodeDrop:function(a,b,c,d){return false},onContainerOver:function(a,b,c){return this.dropNotAllowed},onContainerDrop:function(a,b,c){return false},notifyEnter:function(a,b,c){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=null}return this.onContainerOver(a,b,c)}if(this.lastOverNode!=d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c)}this.onNodeEnter(d,a,b,c);this.lastOverNode=d}return this.onNodeOver(d,a,b,c)},notifyOut:function(a,b,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=null}},notifyDrop:function(a,b,c){var d=this,e=d.getTargetFromEvent(b),f=e?d.onNodeDrop(e,a,b,c):d.onContainerDrop(a,b,c);if(d.lastOverNode){d.onNodeOut(d.lastOverNode,a,b,c);d.lastOverNode=null}return f},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.define("Ext.direct.Event",{alias:"direct.event",status:true,constructor:function(a){Ext.apply(this,a)},getName:function(){return this.name},getData:function(){return this.data}});Ext.define("Ext.direct.RemotingEvent",{extend:Ext.direct.Event,alias:"direct.rpc",getTransaction:function(){var a=this;return a.transaction||Ext.direct.Manager.getTransaction(a.tid)}});Ext.define("Ext.direct.ExceptionEvent",{extend:Ext.direct.RemotingEvent,alias:"direct.exception",status:false});Ext.define("Ext.direct.JsonProvider",{extend:Ext.direct.Provider,alias:"direct.jsonprovider",parseResponse:function(a){if(!Ext.isEmpty(a.responseText)){if(Ext.isObject(a.responseText)){return a.responseText}return Ext.decode(a.responseText)}return null},createEvents:function(a){var b=this,c=null,d=[],e,f,g;try{c=b.parseResponse(a)}catch(h){e=new Ext.direct.ExceptionEvent({data:h,xhr:a,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+h});return[e]}if(Ext.isArray(c)){for(f=0,g=c.length;f<g;++f){d.push(b.createEvent(c[f]))}}else if(Ext.isObject(c)){d.push(b.createEvent(c))}return d},createEvent:function(a){if(typeof a!=="object"||!("type"in a)){return new Ext.direct.ExceptionEvent({data:a,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}return Ext.create("direct."+a.type,a)}});Ext.define("Ext.direct.PollingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.pollingprovider",interval:3e3,constructor:function(a){var b=this;b.callParent(arguments);b.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){var a=this,b=a.url;if(b&&!a.pollTask){a.pollTask=Ext.TaskManager.start({run:a.runPoll,interval:a.interval,scope:a});a.fireEvent("connect",a)}},disconnect:function(){var a=this;if(a.pollTask){Ext.TaskManager.stop(a.pollTask);delete a.pollTask;a.fireEvent("disconnect",a)}},runPoll:function(){var a=this,b=a.url;if(a.fireEvent("beforepoll",a)!==false){if(Ext.isFunction(b)){b(a.baseParams)}else{Ext.Ajax.request({url:b,callback:a.onData,scope:a,params:a.baseParams})}a.fireEvent("poll",a)}},onData:function(a,b,c){var d=this,e,f,g;if(b){g=d.createEvents(c);for(e=0,f=g.length;e<f;++e){d.fireEvent("data",d,g[e])}}else{g=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c});d.fireEvent("data",d,g)}}});Ext.define("Ext.direct.RemotingMethod",{constructor:function(a){var b=this,c=Ext.isDefined(a.params)?a.params:a.len,d,e,f,g;b.name=a.name;b.formHandler=a.formHandler;if(Ext.isNumeric(c)){b.len=c;b.ordered=true}else{b.params={};e=c.length;for(f=0;f<e;f++){g=c[f];d=Ext.isObject(g)?g.name:g;b.params[d]=true}}},getArgs:function(a,b,c){var d=this,e=[],f,g;if(d.ordered){if(d.len>0){if(b){for(f=0,g=b.length;f<g;f++){e.push(a[b[f]])}}else if(c){e.push(a)}}}else{e.push(a)}return e},getCallData:function(a){var b=this,c=null,d=b.len,e=b.params,f,g,h,i;if(b.ordered){f=a[d];g=a[d+1];i=a[d+2];if(d!==0){c=a.slice(0,d)}}else{c=Ext.apply({},a[0]);f=a[1];g=a[2];i=a[3];for(h in c){if(c.hasOwnProperty(h)&&!e[h]){delete c[h]}}}return{data:c,callback:f,scope:g,options:i}}});Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(a){var b=this;Ext.apply(b,a);b.id=b.tid=++b.self.TRANSACTION_ID;b.retryCount=0},send:function(){var a=this;a.provider.queueTransaction(a)},retry:function(){var a=this;a.retryCount++;a.send()},getProvider:function(){return this.provider}});Ext.define("Ext.direct.RemotingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.remotingprovider",enableBuffer:10,maxRetries:1,constructor:function(a){var b=this;b.callParent(arguments);b.addEvents("beforecall","call","beforecallback");b.namespace=Ext.isString(b.namespace)?Ext.ns(b.namespace):b.namespace||Ext.global;b.transactions=new Ext.util.MixedCollection;b.callBuffer=[]},getNamespace:function(a,b){var c,d,e,f;a=a||Ext.global;c=b.toString().split(".");for(e=0,f=c.length;e<f;e++){d=c[e];a=a[d];if(typeof a==="undefined"){return a}}return a},createNamespaces:function(a,b){var c,d;a=a||Ext.global;c=b.toString().split(".");for(var e=0,f=c.length;e<f;e++){d=c[e];a[d]=a[d]||{};a=a[d]}return a},initAPI:function(){var a=this,b=a.actions,c=a.namespace,d,e,f,g,h,i;for(d in b){if(b.hasOwnProperty(d)){if(a.disableNestedActions){e=c[d];if(!e){e=c[d]={}}}else{e=a.getNamespace(c,d);if(!e){e=a.createNamespaces(c,d)}}f=b[d];for(g=0,h=f.length;g<h;++g){i=new Ext.direct.RemotingMethod(f[g]);e[i.name]=a.createHandler(d,i)}}}},createHandler:function(a,b){var c=this,d=Array.prototype.slice,e;if(!b.formHandler){e=function(){c.configureRequest(a,b,d.call(arguments,0))}}else{e=function(d,e,f){c.configureFormRequest(a,b,d,e,f)}}e.directCfg={action:a,method:b};return e},isConnected:function(){return!!this.connected},connect:function(){var a=this;if(a.url){a.initAPI();a.connected=true;a.fireEvent("connect",a)}},disconnect:function(){var a=this;if(a.connected){a.connected=false;a.fireEvent("disconnect",a)}},runCallback:function(a,b){var c=!!b.status,d=c?"success":"failure",e,f,g;if(a&&a.callback){e=a.callback;f=a.callbackOptions;g=typeof b.result!=="undefined"?b.result:b.data;if(Ext.isFunction(e)){e(g,b,c,f)}else{Ext.callback(e[d],e.scope,[g,b,c,f]);Ext.callback(e.callback,e.scope,[g,b,c,f])}}},onData:function(a,b,c){var d=this,e,f,g,h,i,j;if(b){g=d.createEvents(c);for(e=0,f=g.length;e<f;++e){h=g[e];i=d.getTransaction(h);d.fireEvent("data",d,h);if(i&&d.fireEvent("beforecallback",d,h,i)!==false){d.runCallback(i,h,true);Ext.direct.Manager.removeTransaction(i)}}}else{j=[].concat(a.transaction);for(e=0,f=j.length;e<f;++e){i=d.getTransaction(j[e]);if(i&&i.retryCount<d.maxRetries){i.retry()}else{h=new Ext.direct.ExceptionEvent({data:null,transaction:i,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c});d.fireEvent("data",d,h);if(i&&d.fireEvent("beforecallback",d,i)!==false){d.runCallback(i,h,false);Ext.direct.Manager.removeTransaction(i)}}}}},getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},configureRequest:function(a,b,c){var d=this,e,f,g,h,i,j,k;e=b.getCallData(c);f=e.data;g=e.callback;h=e.scope;i=e.options||{};k=Ext.apply({},{provider:d,args:c,action:a,method:b.name,data:f,callbackOptions:i,callback:h&&Ext.isFunction(g)?Ext.Function.bind(g,h):g});if(i.timeout){Ext.applyIf(k,{timeout:i.timeout})}j=new Ext.direct.Transaction(k);if(d.fireEvent("beforecall",d,j,b)!==false){Ext.direct.Manager.addTransaction(j);d.queueTransaction(j);d.fireEvent("call",d,j,b)}},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.id}},sendRequest:function(a){var b=this,c,d,e,f=b.enableUrlEncode,g,h;c={url:b.url,callback:b.onData,scope:b,transaction:a,timeout:b.timeout};if(a.timeout){c.timeout=a.timeout}if(Ext.isArray(a)){d=[];for(g=0,h=a.length;g<h;++g){d.push(b.getCallData(a[g]))}}else{d=b.getCallData(a)}if(f){e={};e[Ext.isString(f)?f:"data"]=Ext.encode(d);c.params=e}else{c.jsonData=d}Ext.Ajax.request(c)},queueTransaction:function(a){var b=this,c=b.enableBuffer;if(a.form){b.sendFormRequest(a);return}if(c===false||typeof a.timeout!=="undefined"){b.sendRequest(a);return}b.callBuffer.push(a);if(c){if(!b.callTask){b.callTask=new Ext.util.DelayedTask(b.combineAndSend,b)}b.callTask.delay(Ext.isNumber(c)?c:10)}else{b.combineAndSend()}},combineAndSend:function(){var a=this,b=a.callBuffer,c=b.length;if(c>0){a.sendRequest(c==1?b[0]:b);a.callBuffer=[]}},configureFormRequest:function(a,b,c,d,e){var f=this,g,h,i;g=new Ext.direct.Transaction({provider:f,action:a,method:b.name,args:[c,d,e],callback:e&&Ext.isFunction(d)?Ext.Function.bind(d,e):d,isForm:true});if(f.fireEvent("beforecall",f,g,b)!==false){Ext.direct.Manager.addTransaction(g);h=String(c.getAttribute("enctype")).toLowerCase()=="multipart/form-data";i={extTID:g.id,extAction:a,extMethod:b.name,extType:"rpc",extUpload:String(h)};Ext.apply(g,{form:Ext.getDom(c),isUpload:h,params:d&&Ext.isObject(d.params)?Ext.apply(i,d.params):i});f.fireEvent("call",f,g,b);f.sendFormRequest(g)}},sendFormRequest:function(a){var b=this;Ext.Ajax.request({url:b.url,params:a.params,callback:b.onData,scope:b,form:a.form,isUpload:a.isUpload,transaction:a})}});Ext.define("Ext.dom.Layer",{extend:Ext.Element,alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:true,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a,b){a=a||{};var c=this,d=Ext.DomHelper,e=a.parentEl,f=e?Ext.getDom(e):document.body,g=a.hideMode,h=Ext.baseCSSPrefix+(a.fixed&&!(Ext.isIE6||Ext.isIEQuirks)?"fixed-layer":"layer");c.el=c;if(b){c.dom=Ext.getDom(b)}if(!c.dom){c.dom=d.append(f,a.dh||{tag:"div",cls:h})}else{c.addCls(h);if(!c.dom.parentNode){f.appendChild(c.dom)}}if(a.preventSync){c.preventSync=true}if(a.id){c.id=c.dom.id=a.id}else{c.id=Ext.id(c.dom)}Ext.Element.addToCache(c);if(a.cls){c.addCls(a.cls)}c.constrain=a.constrain!==false;if(g){c.setVisibilityMode(Ext.Element[g.toUpperCase()]);if(c.visibilityMode==Ext.Element.ASCLASS){c.visibilityCls=a.visibilityCls}}else if(a.useDisplay){c.setVisibilityMode(Ext.Element.DISPLAY)}else{c.setVisibilityMode(Ext.Element.VISIBILITY)}if(a.shadow){c.shadowOffset=a.shadowOffset||4;c.shadow=new Ext.Shadow({offset:c.shadowOffset,mode:a.shadow,fixed:a.fixed});c.disableShadow()}else{c.shadowOffset=0}c.useShim=a.shim!==false&&Ext.useShims;if(a.hidden===true){c.hide()}else{c.show()}},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var a=this,b,c;if(!a.useShim){return null}if(!a.shim){b=a.self.shims.shift();if(!b){b=a.createShim();b.enableDisplayMode("block");b.hide()}c=a.dom.parentNode;if(b.dom.parentNode!=c){c.insertBefore(b.dom,a.dom)}a.shim=b}return a.shim},hideShim:function(){var a=this;if(a.shim){a.shim.setDisplayed(false);a.self.shims.push(a.shim);delete a.shim}},disableShadow:function(){var a=this;if(a.shadow&&!a.shadowDisabled){a.shadowDisabled=true;a.shadow.hide();a.lastShadowOffset=a.shadowOffset;a.shadowOffset=0}},enableShadow:function(a){var b=this;if(b.shadow&&b.shadowDisabled){b.shadowDisabled=false;b.shadowOffset=b.lastShadowOffset;delete b.lastShadowOffset;if(a){b.sync(true)}}},sync:function(a){var b=this,c=b.shadow,d,e,f,g,h,i,j,k,l,m;if(b.preventSync){return}if(!b.updating&&b.isVisible()&&(c||b.useShim)){g=b.getShim();h=b[b.localXYNames.get]();i=h[0];j=h[1];k=b.dom.offsetWidth;l=b.dom.offsetHeight;if(c&&!b.shadowDisabled){if(a&&!c.isVisible()){c.show(b)}else{c.realign(i,j,k,l)}if(g){m=g.getStyle("z-index");if(m>b.zindex){b.shim.setStyle("z-index",b.zindex-2)}g.show();if(c.isVisible()){d=c.el.getXY();e=g.dom.style;f=c.el.getSize();if(Ext.supports.CSS3BoxShadow){f.height+=6;f.width+=4;d[0]-=2;d[1]-=4}e.left=d[0]+"px";e.top=d[1]+"px";e.width=f.width+"px";e.height=f.height+"px"}else{g.setSize(k,l);g[b.localXYNames.set](i,j)}}}else if(g){m=g.getStyle("z-index");if(m>b.zindex){b.shim.setStyle("z-index",b.zindex-2)}g.show();g.setSize(k,l);g[b.localXYNames.set](i,j)}}return b},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true
},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var a=Ext.Element.getViewWidth(),b=Ext.Element.getViewHeight(),c=Ext.getDoc().getScroll(),d=this.getXY(),e=d[0],f=d[1],g=this.shadowOffset,h=this.dom.offsetWidth+g,i=this.dom.offsetHeight+g,j=false;if(e+h>a+c.left){e=a-h-g;j=true}if(f+i>b+c.top){f=b-i-g;j=true}if(e<c.left){e=c.left;j=true}if(f<c.top){f=c.top;j=true}if(j){Ext.Layer.superclass.setXY.call(this,[e,f]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(a,b,c,d,e){var f=this,g;g=function(){if(a){f.sync(true)}if(d){d()}};if(!a){f.hideUnders(true)}f.callParent([a,b,c,d,e]);if(!b){g()}return f},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},setLeftTop:function(a,b){this.callParent(arguments);return this.sync()},setLocalX:function(){this.callParent(arguments);return this.sync()},setLocalXY:function(){this.callParent(arguments);return this.sync()},setLocalY:function(){this.callParent(arguments);return this.sync()},setXY:function(a,b,c,d,e){var f=this;d=f.createCB(d);f.fixDisplay();f.beforeAction();f.callParent([a,b,c,d,e]);if(!b){d()}return f},createCB:function(a){var b=this,c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY();b.sync(c);if(a){a()}}},setX:function(a,b,c,d,e){this.setXY([a,this.getY()],b,c,d,e);return this},setY:function(a,b,c,d,e){this.setXY([this.getX(),a],b,c,d,e);return this},setSize:function(a,b,c,d,e,f){var g=this;e=g.createCB(e);g.beforeAction();g.callParent([a,b,c,d,e,f]);if(!c){e()}return g},setWidth:function(a,b,c,d,e){var f=this;d=f.createCB(d);f.beforeAction();f.callParent([a,b,c,d,e]);if(!b){d()}return f},setHeight:function(a,b,c,d,e){var f=this;d=f.createCB(d);f.beforeAction();f.callParent([a,b,c,d,e]);if(!b){d()}return f},setBounds:function(a,b,c,d,e,f,g,h){var i=this;g=i.createCB(g);i.beforeAction();if(!e){Ext.Layer.superclass.setXY.call(i,[a,b]);Ext.Layer.superclass.setSize.call(i,c,d);g()}else{i.callParent([a,b,c,d,e,f,g,h])}return i},setZIndex:function(a){var b=this;b.zindex=a;if(b.getShim()){b.shim.setStyle("z-index",a++)}if(b.shadow){b.shadow.setZIndex(a++)}return b.setStyle("z-index",a)},onOpacitySet:function(a){var b=this.shadow;if(b){b.setOpacity(a)}}});Ext.define("Ext.draw.Matrix",{constructor:function(a,b,c,d,e,f){if(a!=null){this.matrix=[[a,c,e],[b,d,f],[0,0,1]]}else{this.matrix=[[1,0,0],[0,1,0],[0,0,1]]}},add:function(a,b,c,d,e,f){var g=this,h=[[],[],[]],i=[[a,c,e],[b,d,f],[0,0,1]],j,k,l,m;for(j=0;j<3;j++){for(k=0;k<3;k++){m=0;for(l=0;l<3;l++){m+=g.matrix[j][l]*i[l][k]}h[j][k]=m}}g.matrix=h},prepend:function(a,b,c,d,e,f){var g=this,h=[[],[],[]],i=[[a,c,e],[b,d,f],[0,0,1]],j,k,l,m;for(j=0;j<3;j++){for(k=0;k<3;k++){m=0;for(l=0;l<3;l++){m+=i[j][l]*g.matrix[l][k]}h[j][k]=m}}g.matrix=h},invert:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],g=a[1][2],h=b*e-c*d;return new Ext.draw.Matrix(e/h,-c/h,-d/h,b/h,(d*g-e*f)/h,(c*f-b*g)/h)},clone:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],g=a[1][2];return new Ext.draw.Matrix(b,c,d,e,f,g)},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(a,b,c,d){var e=this;if(b==null){b=a}e.add(a,0,0,b,c*(1-a),d*(1-b))},rotate:function(a,b,c){a=Ext.draw.Draw.rad(a);var d=this,e=+Math.cos(a).toFixed(9),f=+Math.sin(a).toFixed(9);d.add(e,f,-f,e,b-e*b+f*c,-(f*b)+c-e*c)},x:function(a,b){var c=this.matrix;return a*c[0][0]+b*c[0][1]+c[0][2]},y:function(a,b){var c=this.matrix;return a*c[1][0]+b*c[1][1]+c[1][2]},get:function(a,b){return+this.matrix[a][b].toFixed(4)},toString:function(){var a=this;return[a.get(0,0),a.get(0,1),a.get(1,0),a.get(1,1),0,0].join()},toSvg:function(){var a=this;return"matrix("+[a.get(0,0),a.get(1,0),a.get(0,1),a.get(1,1),a.get(0,2),a.get(1,2)].join()+")"},toFilter:function(a,b){var c=this;a=a||0;b=b||0;return"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+c.get(0,0)+", M12="+c.get(0,1)+", M21="+c.get(1,0)+", M22="+c.get(1,1)+", Dx="+(c.get(0,2)+a)+", Dy="+(c.get(1,2)+b)+")"},offset:function(){var a=this.matrix;return[(a[0][2]||0).toFixed(4),(a[1][2]||0).toFixed(4)]},split:function(){function a(a){return a[0]*a[0]+a[1]*a[1]}function b(b){var c=Math.sqrt(a(b));b[0]/=c;b[1]/=c}var c=this.matrix,d={translateX:c[0][2],translateY:c[1][2]},e;e=[[c[0][0],c[0][1]],[c[1][1],c[1][1]]];d.scaleX=Math.sqrt(a(e[0]));b(e[0]);d.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1];e[1]=[e[1][0]-e[0][0]*d.shear,e[1][1]-e[0][1]*d.shear];d.scaleY=Math.sqrt(a(e[1]));b(e[1]);d.shear/=d.scaleY;d.rotate=Math.asin(-e[0][1]);d.isSimple=!+d.shear.toFixed(9)&&(d.scaleX.toFixed(9)==d.scaleY.toFixed(9)||!d.rotate);return d}});Ext.define("Ext.draw.SpriteDD",{extend:Ext.dd.DragSource,constructor:function(a,b){var c=this,d=a.el;c.sprite=a;c.el=d;c.dragData={el:d,sprite:a};c.callParent([d,b]);c.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(a){return this.el},getRegion:function(){var a=this,b=a.el,c,d,e,f,g,h,i,j,k,l,m;m=a.sprite;l=m.getBBox();try{c=Ext.Element.getXY(b)}catch(n){}if(!c){return null}d=c[0];e=d+l.width;f=c[1];g=f+l.height;return new Ext.util.Region(f,e,g,d)},startDrag:function(a,b){var c=this,d=c.sprite.attr;c.prev=c.sprite.surface.transformToViewBox(a,b)},onDrag:function(a){var b=a.getXY(),c=this,d=c.sprite,e=d.attr,f,g;b=c.sprite.surface.transformToViewBox(b[0],b[1]);f=b[0]-c.prev[0];g=b[1]-c.prev[1];d.setAttributes({translate:{x:e.translation.x+f,y:e.translation.y+g}},true);c.prev=b},setDragElPos:function(){return false}});Ext.define("Ext.draw.Sprite",{mixins:{observable:Ext.util.Observable,animate:Ext.util.Animate},dirty:false,dirtyHidden:false,dirtyTransform:false,dirtyPath:true,dirtyFont:true,zIndexDirty:true,isSprite:true,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(a){var b=this;a=Ext.merge({},a||{});b.id=Ext.id(null,"ext-sprite-");b.transformations=[];Ext.copyTo(this,a,"surface,group,type,draggable");b.bbox={};b.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}};delete a.surface;delete a.group;delete a.type;delete a.draggable;b.setAttributes(a);b.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click");b.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var a=this;if(!a.el){a.surface.createSpriteElement(a)}a.dd=new Ext.draw.SpriteDD(a,Ext.isBoolean(a.draggable)?null:a.draggable);a.on("beforedestroy",a.dd.destroy,a.dd)},setAttributes:function(a,b){var c=this,d=c.fontProperties,e=d.length,f=c.pathProperties,g=f.length,h=!!c.surface,i=h&&c.surface.customAttributes||{},j=c.attr,k=false,l,m,n,o,p,q,r,s;a=Ext.apply({},a);for(l in i){if(a.hasOwnProperty(l)&&typeof i[l]=="function"){Ext.apply(a,i[l].apply(c,[].concat(a[l])))}}if(!!a.hidden!==!!j.hidden){c.dirtyHidden=true}for(m=0;m<g;m++){l=f[m];if(l in a&&a[l]!==j[l]){c.dirtyPath=true;k=true;break}}if("zIndex"in a){c.zIndexDirty=true}if("text"in a){c.dirtyFont=true;k=true}for(m=0;m<e;m++){l=d[m];if(l in a&&a[l]!==j[l]){c.dirtyFont=true;k=true;break}}n=a.translation||a.translate;delete a.translate;delete a.translation;o=j.translation;if(n){if("x"in n&&n.x!==o.x||"y"in n&&n.y!==o.y){c.dirtyTransform=true;o.x=n.x;o.y=n.y}}p=a.rotation||a.rotate;q=j.rotation;delete a.rotate;delete a.rotation;if(p){if("x"in p&&p.x!==q.x||"y"in p&&p.y!==q.y||"degrees"in p&&p.degrees!==q.degrees){c.dirtyTransform=true;q.x=p.x;q.y=p.y;q.degrees=p.degrees}}r=a.scaling||a.scale;s=j.scaling;delete a.scale;delete a.scaling;if(r){if("x"in r&&r.x!==s.x||"y"in r&&r.y!==s.y||"cx"in r&&r.cx!==s.cx||"cy"in r&&r.cy!==s.cy){c.dirtyTransform=true;s.x=r.x;s.y=r.y;s.cx=r.cx;s.cy=r.cy}}if(!c.dirtyTransform&&k){if(j.scaling.x===null||j.scaling.y===null||j.rotation.y===null||j.rotation.y===null){c.dirtyTransform=true}}Ext.apply(j,a);c.dirty=true;if(b===true&&h){c.redraw()}return this},getBBox:function(){return this.surface.getBBox(this)},setText:function(a){return this.surface.setText(this,a)},hide:function(a){this.setAttributes({hidden:true},a);return this},show:function(a){this.setAttributes({hidden:false},a);return this},remove:function(){if(this.surface){this.surface.remove(this);return true}return false},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var a=this;if(a.fireEvent("beforedestroy",a)!==false){a.remove();a.surface.onDestroy(a);a.clearListeners();a.fireEvent("destroy")}},redraw:function(){this.surface.renderItem(this);return this},setStyle:function(){this.el.setStyle.apply(this.el,arguments);return this},addCls:function(a){this.surface.addCls(this,a);return this},removeCls:function(a){this.surface.removeCls(this,a);return this}});Ext.define("Ext.draw.Text",{extend:Ext.draw.Component,alias:"widget.text",text:"",focusable:false,viewBox:false,autoSize:true,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var a=this;a.textConfig=Ext.apply({type:"text",text:a.text,rotate:{degrees:a.degrees||0}},a.textStyle);Ext.apply(a.textConfig,a.getStyles(a.styleSelectors||a.styleSelector));a.initialConfig.items=[a.textConfig];a.callParent(arguments)},getStyles:function(a){a=Ext.Array.from(a);var b=0,c=a.length,d,e,f,g={};for(;b<c;b++){d=Ext.util.CSS.getRule(a[b]);if(d){e=d.style;if(e){Ext.apply(g,{"font-family":e.fontFamily,"font-weight":e.fontWeight,"line-height":e.lineHeight,"font-size":e.fontSize,fill:e.color})}}}return g},setAngle:function(a){var b=this,c,d;if(b.rendered){c=b.surface;d=c.items.items[0];b.degrees=a;d.setAttributes({rotate:{degrees:a}},true);if(b.autoSize||b.viewBox){b.updateLayout()}}else{b.degrees=a}},setText:function(a){var b=this,c,d;if(b.rendered){c=b.surface;d=c.items.items[0];b.text=a||"";c.remove(d);b.textConfig.type="text";b.textConfig.text=b.text;d=c.add(b.textConfig);d.setAttributes({rotate:{degrees:b.degrees}},true);if(b.autoSize||b.viewBox){b.updateLayout()}}else{b.on({render:function(){b.setText(a)},single:true})}}});Ext.define("Ext.draw.engine.ImageExporter",{singleton:true,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(a,b){b=b||{};var c=this,d=b.type,e;if(Ext.Array.indexOf(c.supportedTypes,d)===-1){return false}e=Ext.getBody().createChild({tag:"form",method:"POST",action:b.url||c.defaultUrl,cls:c.formCls,children:[{tag:"input",type:"hidden",name:b.widthParam||c.widthParam,value:b.width||a.width},{tag:"input",type:"hidden",name:b.heightParam||c.heightParam,value:b.height||a.height},{tag:"input",type:"hidden",name:b.typeParam||c.typeParam,value:d},{tag:"input",type:"hidden",name:b.svgParam||c.svgParam}]});e.last(null,true).value=Ext.draw.engine.SvgExporter.generate(a);e.dom.submit();e.remove();return true}});Ext.define("Ext.draw.engine.Svg",{extend:Ext.draw.Surface,engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http:/"+"/www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(a,b){var c=this.domRef.createElementNS("http:/"+"/www.w3.org/2000/svg",a),d;if(b){for(d in b){c.setAttribute(d,String(b[d]))}}return c},createSpriteElement:function(a){var b=this.createSvgElement(a.type);b.id=a.id;if(b.style){b.style.webkitTapHighlightColor="rgba(0,0,0,0)"}a.el=Ext.get(b);this.applyZIndex(a);a.matrix=new Ext.draw.Matrix;a.bbox={plain:0,transform:0};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return b},getBBoxText:function(a){var b={},c,d,e,f,g,h;if(a&&a.el){h=a.el.dom;try{b=h.getBBox();return b}catch(i){}b={x:b.x,y:Infinity,width:0,height:0};g=h.getNumberOfChars();for(f=0;f<g;f++){c=h.getExtentOfChar(f);b.y=Math.min(c.y,b.y);d=c.y+c.height-b.y;b.height=Math.max(b.height,d);e=c.x+c.width-b.x;b.width=Math.max(b.width,e)}return b}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(a,b){var c=this,d=new Ext.draw.Matrix,e=a.transformations,f=e.length,g=0,h,i;for(;g<f;g++){h=e[g];i=h.type;if(i=="translate"){d.translate(h.x,h.y)}else if(i=="rotate"){d.rotate(h.degrees,h.x,h.y)}else if(i=="scale"){d.scale(h.x,h.y,h.centerX,h.centerY)}}a.matrix=d;if(!b){a.el.set({transform:d.toSvg()})}},setSize:function(a,b){var c=this,d=c.el;a=+a||c.width;b=+b||c.height;c.width=a;c.height=b;d.setSize(a,b);d.set({width:a,height:b});c.callParent([a,b])},getRegion:function(){var a=this.el.getXY(),b=this.bgRect.getXY(),c=Math.max,d=c(a[0],b[0]),e=c(a[1],b[1]);return{left:d,top:e,right:d+this.width,bottom:e+this.height}},onRemove:function(a){if(a.el){a.el.destroy();delete a.el}this.callParent(arguments)},setViewBox:function(a,b,c,d){if(isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)){this.callParent(arguments);this.el.dom.setAttribute("viewBox",[a,b,c,d].join(" "))}},render:function(a){var b=this,c,d,e,f,g,h;if(!b.el){c=b.width||0;d=b.height||0;e=b.createSvgElement("svg",{xmlns:"http:/"+"/www.w3.org/2000/svg",version:1.1,width:c,height:d});f=b.getDefs();g=b.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0});if(Ext.isSafari3){h=b.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})}e.appendChild(f);if(Ext.isSafari3){e.appendChild(h)}e.appendChild(g);a.appendChild(e);b.el=Ext.get(e);b.bgRect=Ext.get(g);if(Ext.isSafari3){b.webkitRect=Ext.get(h);b.webkitRect.hide()}b.el.on({scope:b,mouseup:b.onMouseUp,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,mousemove:b.onMouseMove,mouseenter:b.onMouseEnter,mouseleave:b.onMouseLeave,click:b.onClick,dblclick:b.onDblClick})}b.renderAll()},onMouseEnter:function(a){if(this.el.parent().getRegion().contains(a.getPoint())){this.fireEvent("mouseenter",a)}},onMouseLeave:function(a){if(!this.el.parent().getRegion().contains(a.getPoint())){this.fireEvent("mouseleave",a)}},processEvent:function(a,b){var c=b.getTarget(),d=this.surface,e;this.fireEvent(a,b);if(c.nodeName=="tspan"&&c.parentNode){c=c.parentNode}e=this.items.get(c.id);if(e){e.fireEvent(a,e,b)}},tuneText:function(a,b){var c=a.el.dom,d=[],e,f,g,h,i,j,k,l;if(b.hasOwnProperty("text")){g=a.tspans&&Ext.Array.map(a.tspans,function(a){return a.textContent}).join("");if(!a.tspans||b.text!=g){d=this.setText(a,b.text);a.tspans=d}else{d=a.tspans||[]}}if(d.length){e=this.getBBoxText(a).height;l=a.el.dom.getAttribute("x");for(h=0,i=d.length;h<i;h++){k=Ext.isFF3_0||Ext.isFF3_5?2:4;d[h].setAttribute("x",l);d[h].setAttribute("dy",h?e*1.2:e/k)}a.dirty=true}},setText:function(a,b){var c=this,d=a.el.dom,e=[],f,g,h,i,j,k;while(d.firstChild){d.removeChild(d.firstChild)}k=String(b).split("\n");for(i=0,j=k.length;i<j;i++){h=k[i];if(h){g=c.createSvgElement("tspan");g.appendChild(document.createTextNode(Ext.htmlDecode(h)));d.appendChild(g);e[i]=g}}return e},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){if(!this.el){return}if(!a.el){this.createSpriteElement(a)}if(a.zIndexDirty){this.applyZIndex(a)}if(a.dirty){this.applyAttrs(a);if(a.dirtyTransform){this.applyTransformations(a)}}},redraw:function(a){a.dirty=a.zIndexDirty=true;this.renderItem(a)},applyAttrs:function(a){var b=this,c=a.el,d=a.group,e=a.attr,f=b.parsers,g=b.gradientsMap||{},h=Ext.isSafari&&!Ext.isStrict,i,j,k,l,m,n,o,p,q;if(d){i=[].concat(d);k=i.length;for(j=0;j<k;j++){d=i[j];b.getGroup(d).add(a)}delete a.group}l=b.scrubAttrs(a)||{};a.bbox.plain=0;a.bbox.transform=0;if(a.type=="circle"||a.type=="ellipse"){l.cx=l.cx||l.x;l.cy=l.cy||l.y}else if(a.type=="rect"){l.rx=l.ry=l.r}else if(a.type=="path"&&l.d){l.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(l.d))}a.dirtyPath=false;if(l["clip-rect"]){b.setClip(a,l);delete l["clip-rect"]}if(a.type=="text"&&l.font&&a.dirtyFont){c.set({style:"font: "+l.font})}if(a.type=="image"){c.dom.setAttributeNS(b.xlink,"href",l.src)}Ext.applyIf(l,b.minDefaults[a.type]);if(a.dirtyHidden){e.hidden?b.hidePrim(a):b.showPrim(a);a.dirtyHidden=false}for(n in l){if(l.hasOwnProperty(n)&&l[n]!=null){if(h&&"color|stroke|fill".indexOf(n)>-1&&l[n]in g){l[n]=g[l[n]]}if(n=="hidden"&&a.type=="text"){continue}if(n in f){c.dom.setAttribute(n,f[n](l[n],a,b))}else{c.dom.setAttribute(n,l[n])}}}if(a.type=="text"){b.tuneText(a,l)}a.dirtyFont=false;o=e.style;if(o){c.setStyle(o)}a.dirty=false;if(Ext.isSafari3){b.webkitRect.show();setTimeout(function(){b.webkitRect.hide()})}},setClip:function(a,b){var c=this,d=b["clip-rect"],e,f;if(d){if(a.clip){a.clip.parentNode.parentNode.removeChild(a.clip.parentNode)}e=c.createSvgElement("clipPath");f=c.createSvgElement("rect");e.id=Ext.id(null,"ext-clip-");f.setAttribute("x",d.x);f.setAttribute("y",d.y);f.setAttribute("width",d.width);f.setAttribute("height",d.height);e.appendChild(f);c.getDefs().appendChild(e);a.el.dom.setAttribute("clip-path","url(#"+e.id+")");a.clip=f}},applyZIndex:function(a){var b=this,c=b.items,d=c.indexOf(a),e=a.el,f;if(b.el.dom.childNodes[d+2]!==e.dom){if(d>0){do{f=c.getAt(--d).el}while(!f&&d>0)}e.insertAfter(f||b.bgRect)}a.zIndexDirty=false},createItem:function(a){var b=new Ext.draw.Sprite(a);b.surface=this;return b},addGradient:function(a){a=Ext.draw.Draw.parseGradient(a);var b=this,c=a.stops.length,d=a.vector,e=Ext.isSafari&&!Ext.isStrict,f,g,h,i,j;j=b.gradientsMap||{};if(!e){if(a.type=="linear"){f=b.createSvgElement("linearGradient");f.setAttribute("x1",d[0]);f.setAttribute("y1",d[1]);f.setAttribute("x2",d[2]);f.setAttribute("y2",d[3])}else{f=b.createSvgElement("radialGradient");f.setAttribute("cx",a.centerX);f.setAttribute("cy",a.centerY);f.setAttribute("r",a.radius);if(Ext.isNumber(a.focalX)&&Ext.isNumber(a.focalY)){f.setAttribute("fx",a.focalX);f.setAttribute("fy",a.focalY)}}f.id=a.id;b.getDefs().appendChild(f);for(i=0;i<c;i++){g=a.stops[i];h=b.createSvgElement("stop");h.setAttribute("offset",g.offset+"%");h.setAttribute("stop-color",g.color);h.setAttribute("stop-opacity",g.opacity);f.appendChild(h)}}else{j["url(#"+a.id+")"]=a.stops[0].color}b.gradientsMap=j},hasCls:function(a,b){return b&&(" "+(a.el.dom.getAttribute("class")||"")+" ").indexOf(" "+b+" ")!=-1},addCls:function(a,b){var c=a.el,d,e,f,g=[],h=c.getAttribute("class")||"";if(!Ext.isArray(b)){if(typeof b=="string"&&!this.hasCls(a,b)){c.set({"class":h+" "+b})}}else{for(d=0,e=b.length;d<e;d++){f=b[d];if(typeof f=="string"&&(" "+h+" ").indexOf(" "+f+" ")==-1){g.push(f)}}if(g.length){c.set({"class":" "+g.join(" ")})}}},removeCls:function(a,b){var c=this,d=a.el,e=d.getAttribute("class")||"",f,g,h,i,j;if(!Ext.isArray(b)){b=[b]}if(e){j=e.replace(c.trimRe," ").split(c.spacesRe);for(f=0,h=b.length;f<h;f++){i=b[f];if(typeof i=="string"){i=i.replace(c.trimRe,"");g=Ext.Array.indexOf(j,i);if(g!=-1){Ext.Array.erase(j,g,1)}}}d.set({"class":j.join(" ")})}},destroy:function(){var a=this;a.callParent();if(a.el){a.el.remove()}if(a._defs){Ext.get(a._defs).destroy()}if(a.bgRect){Ext.get(a.bgRect).destroy()}if(a.webkitRect){Ext.get(a.webkitRect).destroy()}delete a.el}});Ext.define("Ext.draw.engine.SvgExporter",function(){var a=/,/g,b=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,c=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,d=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,e,f,g,h,i=function(a){e=a;f=e.length;g=e.width;h=e.height},j={path:function(b){var c=b.attr,d=c.path,e="",f,g,h;if(Ext.isArray(d[0])){h=d.length;for(g=0;g<h;g++){e+=d[g].join(" ")}}else if(Ext.isArray(d)){e=d.join(" ")}else{e=d.replace(a," ")}f=m({d:e,fill:c.fill||"none",stroke:c.stroke,"fill-opacity":c.opacity,"stroke-width":c["stroke-width"],"stroke-opacity":c["stroke-opacity"],"z-index":c.zIndex,transform:b.matrix.toSvg()});return"<path "+f+"/>"},text:function(a){var c=a.attr,d=b.exec(c.font),e=d&&d[1]||"12",f=d&&d[3]||"Arial",g=c.text,h=Ext.isFF3_0||Ext.isFF3_5?2:4,i="",j;a.getBBox();i+='<tspan x="'+(c.x||"")+'" dy="';i+=e/h+'">';i+=Ext.htmlEncode(g)+"</tspan>";j=m({x:c.x,y:c.y,"font-size":e,"font-family":f,"font-weight":c["font-weight"],"text-anchor":c["text-anchor"],fill:c.fill||"#000","fill-opacity":c.opacity,transform:a.matrix.toSvg()});return"<text "+j+">"+i+"</text>"},rect:function(a){var b=a.attr,c=m({x:b.x,y:b.y,rx:b.rx,ry:b.ry,width:b.width,height:b.height,fill:b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix&&a.matrix.toSvg()});return"<rect "+c+"/>"},circle:function(a){var b=a.attr,c=m({cx:b.x,cy:b.y,r:b.radius,fill:b.translation.fill||b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix.toSvg()});return"<circle "+c+" />"},image:function(a){var b=a.attr,c=m({x:b.x-(b.width/2>>0),y:b.y-(b.height/2>>0),width:b.width,height:b.height,"xlink:href":b.src,transform:a.matrix.toSvg()});return"<image "+c+" />"}},k=function(){var a='<?xml version="1.0" standalone="yes"?>';a+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';return a},l=function(){var a='<svg width="'+g+'px" height="'+h+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',b="",f,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;k=e.items.items;i=k.length;m=function(a){var b=a.childNodes,c=b.length,d=0,e,f,g="",h,i,j,k;for(;d<c;d++){h=b[d];i=h.attributes;j=h.tagName;g+="<"+j;for(f=0,e=i.length;f<e;f++){k=i.item(f);g+=" "+k.name+'="'+k.value+'"'}g+=">";if(h.childNodes.length>0){g+=m(h)}g+="</"+j+">"}return g};if(e.getDefs){b=m(e.getDefs())}else{p=e.gradientsColl;if(p){q=p.keys;r=p.items;s=0;t=q.length}for(;s<t;s++){u=q[s];v=r[s];l=e.gradientsColl.getByKey(u);b+='<linearGradient id="'+u+'" x1="0" y1="0" x2="1" y2="1">';var C=l.colors.replace(c,"rgb($1|$2|$3)");C=C.replace(d,"rgba($1|$2|$3|$4)");n=C.split(",");for(w=0,y=n.length;w<y;w++){o=n[w].split(" ");C=Ext.draw.Color.fromString(o[1].replace(/\|/g,","));b+='<stop offset="'+o[0]+'" stop-color="'+C.toString()+'" stop-opacity="1"></stop>'}b+="</linearGradient>"}}a+="<defs>"+b+"</defs>";a+=j.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}});z=new Array(i);for(w=0;w<i;w++){z[w]=w}z.sort(function(a,b){A=k[a].attr.zIndex||0;B=k[b].attr.zIndex||0;if(A==B){return a-b}return A-B});for(w=0;w<i;w++){f=k[z[w]];if(!f.attr.hidden){a+=j[f.type](f)}}a+="</svg>";return a},m=function(a){var b="",c;for(c in a){if(a.hasOwnProperty(c)&&a[c]!=null){b+=c+'="'+a[c]+'" '}}return b};return{singleton:true,generate:function(a,b){b=b||{};i(a);return k()+l()}}});Ext.define("Ext.draw.engine.Vml",{extend:Ext.draw.Surface,engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/gi,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:false,path2vml:function(a){var b=this,c=b.NonVmlPathRe,d=b.map,e=b.valRe,f=b.zoom,g=b.bitesRe,h=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),i,j,k,l,m,n,o,p;if(String(a).match(c)){h=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw)}else if(!String(a).match(b.partialPathRe)){i=String(a).replace(g,function(a,b,c){var g=[],h=b.toLowerCase()=="m",i=d[b];c.replace(e,function(a){if(h&&g.length===2){i+=g+d[b=="m"?"l":"L"];g=[]}g.push(Math.round(a*f))});return i+g});return i}j=h(a);i=[];for(m=0,n=j.length;m<n;m++){k=j[m];l=j[m][0].toLowerCase();if(l=="z"){l="x"}for(o=1,p=k.length;o<p;o++){l+=Math.round(k[o]*b.zoom)+(o!=p-1?",":"")}i.push(l)}return i.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(a,b){var c=b.getTarget(),d=this.surface,e;this.fireEvent(a,b);e=this.items.get(c.id);if(e){e.fireEvent(a,e,b)}},createSpriteElement:function(a){var b=this,c=a.attr,d=a.type,e=b.zoom,f=a.vml||(a.vml={}),g=Math.round,h=d==="image"?b.createNode("image"):b.createNode("shape"),i,j,k;h.coordsize=e+" "+e;h.coordorigin=c.coordorigin||"0 0";Ext.get(h).addCls(b.spriteCls);if(d=="text"){f.path=i=b.createNode("path");i.textpathok=true;f.textpath=k=b.createNode("textpath");k.on=true;h.appendChild(k);h.appendChild(i)}h.id=a.id;a.el=Ext.get(h);a.el.setStyle("zIndex",-b.zIndexShift);b.el.appendChild(h);if(d!=="image"){j=b.createNode("skew");j.on=true;h.appendChild(j);a.skew=j}a.matrix=new Ext.draw.Matrix;a.bbox={plain:null,transform:null};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return a.el},getBBoxText:function(a){var b=a.vml;return{x:b.X+(b.bbx||0)-b.W/2,y:b.Y-b.H/2,width:b.W,height:b.H}},applyAttrs:function(a){var b=this,c=a.vml,d=a.group,e=a.attr,f=a.el,g=f.dom,h,i,j,k,l,m,n,o,p,q,r,s;if(d){j=[].concat(d);l=j.length;for(k=0;k<l;k++){d=j[k];b.getGroup(d).add(a)}delete a.group}m=b.scrubAttrs(a)||{};if(a.zIndexDirty){b.setZIndex(a)}Ext.applyIf(m,b.minDefaults[a.type]);if(a.type=="image"){Ext.apply(a.attr,{x:m.x,y:m.y,width:m.width,height:m.height});f.setStyle({width:m.width+"px",height:m.height+"px"});g.src=m.src}if(g.href){g.href=m.href}if(g.title){g.title=m.title}if(g.target){g.target=m.target}if(g.cursor){g.cursor=m.cursor}if(a.dirtyHidden){m.hidden?b.hidePrim(a):b.showPrim(a);a.dirtyHidden=false}if(a.dirtyPath){if(a.type=="circle"||a.type=="ellipse"){p=m.x;q=m.y;r=m.rx||m.r||0;s=m.ry||m.r||0;g.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((p-r)*b.zoom),Math.round((q-s)*b.zoom),Math.round((p+r)*b.zoom),Math.round((q+s)*b.zoom),Math.round(p*b.zoom));a.dirtyPath=false}else if(a.type!=="text"&&a.type!=="image"){a.attr.path=m.path=b.setPaths(a,m)||m.path;g.path=b.path2vml(m.path);a.dirtyPath=false}}if("clip-rect"in m){b.setClip(a,m)}if(a.type=="text"){b.setTextAttributes(a,m)}if(m.opacity||m["stroke-opacity"]||m.fill){b.setFill(a,m)}if(m.stroke||m["stroke-opacity"]||m.fill){b.setStroke(a,m)}h=e.style;if(h){f.setStyle(h)}a.dirty=false},setZIndex:function(a){var b=this,c=a.attr.zIndex,d=b.zIndexShift,e,f,g,h;if(c<d){e=b.items.items;f=e.length;for(h=0;h<f;h++){if((c=e[h].attr.zIndex)&&c<d){d=c}}b.zIndexShift=d;for(h=0;h<f;h++){g=e[h];if(g.el){g.el.setStyle("zIndex",g.attr.zIndex-d)}g.zIndexDirty=false}}else if(a.el){a.el.setStyle("zIndex",c-d);a.zIndexDirty=false}},setPaths:function(a,b){var c=a.attr,d=a.attr["stroke-width"]||1;a.bbox.plain=null;a.bbox.transform=null;if(a.type=="circle"){c.rx=c.ry=b.r;return Ext.draw.Draw.ellipsePath(a)}else if(a.type=="ellipse"){c.rx=b.rx;c.ry=b.ry;return Ext.draw.Draw.ellipsePath(a)}else if(a.type=="rect"){c.rx=c.ry=b.r;return Ext.draw.Draw.rectPath(a)}else if(a.type=="path"&&c.path){return Ext.draw.Draw.pathToAbsolute(c.path)}return false},setFill:function(a,b){var c=this,d=a.el.dom,e=d.fill,f=false,g,h,i,j,k;if(!e){e=d.fill=c.createNode("fill");f=true}if(Ext.isArray(b.fill)){b.fill=b.fill[0]}if(b.fill=="none"){e.on=false}else{if(typeof b.opacity=="number"){e.opacity=b.opacity}if(typeof b["fill-opacity"]=="number"){e.opacity=b["fill-opacity"]}e.on=true;if(typeof b.fill=="string"){i=b.fill.match(c.fillUrlRe);if(i){i=i[1];if(i.charAt(0)=="#"){h=c.gradientsColl.getByKey(i.substring(1))}if(h){j=b.rotation;k=-(h.angle+270+(j?j.degrees:0))%360;if(k===0){k=180}e.angle=k;e.type="gradient";e.method="sigma";if(e.colors){e.colors.value=h.colors}else{e.colors=h.colors}}else{e.src=i;e.type="tile"}}else{e.color=Ext.draw.Color.toHex(b.fill);e.src="";e.type="solid"}}}if(f){d.appendChild(e)}},setStroke:function(a,b){var c=this,d=a.el.dom,e=a.strokeEl,f=false,g,h;if(!e){e=a.strokeEl=c.createNode("stroke");f=true}if(Ext.isArray(b.stroke)){b.stroke=b.stroke[0]}if(!b.stroke||b.stroke=="none"||b.stroke==0||b["stroke-width"]==0){e.on=false}else{e.on=true;if(b.stroke&&!b.stroke.match(c.fillUrlRe)){e.color=Ext.draw.Color.toHex(b.stroke)}e.dashstyle=b["stroke-dasharray"]?"dash":"solid";e.joinstyle=b["stroke-linejoin"];e.endcap=b["stroke-linecap"]||"round";e.miterlimit=b["stroke-miterlimit"]||8;g=parseFloat(b["stroke-width"]||1)*.75;h=b["stroke-opacity"]||1;if(Ext.isNumber(g)&&g<1){e.weight=1;e.opacity=h*g}else{e.weight=g;e.opacity=h}}if(f){d.appendChild(e)}},setClip:function(a,b){var c=this,d=a.el,e=a.clipEl,f=String(b["clip-rect"]).split(c.separatorRe);if(!e){e=a.clipEl=c.el.insertFirst(Ext.getDoc().dom.createElement("div"));e.addCls(Ext.baseCSSPrefix+"vml-sprite")}if(f.length==4){f[2]=+f[2]+ +f[0];f[3]=+f[3]+ +f[1];e.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",f[0],f[1],f[2],f[3]));e.setSize(c.el.width,c.el.height)}else{e.setStyle("clip","")}},setTextAttributes:function(a,b){var c=this,d=a.vml,e=d.textpath.style,f=c.span.style,g=c.zoom,h=Math.round,i={fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},j,k;if(a.dirtyFont){if(b.font){e.font=f.font=b.font}if(b["font-family"]){e.fontFamily='"'+b["font-family"].split(",")[0].replace(c.fontFamilyRe,"")+'"';f.fontFamily=b["font-family"]}for(j in i){k=b[i[j]];if(k){e[j]=f[j]=k}}c.setText(a,b.text);if(d.textpath.string){c.span.innerHTML=String(d.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")}d.W=c.span.offsetWidth;d.H=c.span.offsetHeight+2;if(b["text-anchor"]=="middle"){e["v-text-align"]="center"}else if(b["text-anchor"]=="end"){e["v-text-align"]="right";
d.bbx=-Math.round(d.W/2)}else{e["v-text-align"]="left";d.bbx=Math.round(d.W/2)}}d.X=b.x;d.Y=b.y;d.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(d.X*g),Math.round(d.Y*g),Math.round(d.X*g)+1);a.bbox.plain=null;a.bbox.transform=null;a.dirtyFont=false},setText:function(a,b){a.vml.textpath.string=Ext.htmlDecode(b)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(a,b){var c=this;a=a||c.width;b=b||c.height;c.width=a;c.height=b;if(c.el){if(a!=undefined){c.el.setWidth(a)}if(b!=undefined){c.el.setHeight(b)}}c.callParent(arguments)},applyViewBox:function(){var a=this,b=a.viewBox,c=a.width,d=a.height,e,f,g;a.callParent();if(b&&(c||d)){e=a.items.items;f=e.length;for(g=0;g<f;g++){a.applyTransformations(e[g])}}},onAdd:function(a){this.callParent(arguments);if(this.el){this.renderItem(a)}},onRemove:function(a){if(a.el){a.el.remove();delete a.el}this.callParent(arguments)},render:function(a){var b=this,c=Ext.getDoc().dom,d;if(!b.createNode){try{if(!c.namespaces.rvml){c.namespaces.add("rvml","urn:schemas-microsoft-com:vml")}b.createNode=function(a){return c.createElement("<rvml:"+a+' class="rvml">')}}catch(e){b.createNode=function(a){return c.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}if(!b.el){d=c.createElement("div");b.el=Ext.get(d);b.el.addCls(b.baseVmlCls);b.span=c.createElement("span");Ext.get(b.span).addCls(b.measureSpanCls);d.appendChild(b.span);b.el.setSize(b.width||0,b.height||0);a.appendChild(d);b.el.on({scope:b,mouseup:b.onMouseUp,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,mousemove:b.onMouseMove,mouseenter:b.onMouseEnter,mouseleave:b.onMouseLeave,click:b.onClick,dblclick:b.onDblClick})}b.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=true;this.renderItem(a)},renderItem:function(a){if(!this.el){return}if(!a.el){this.createSpriteElement(a)}if(a.dirty){this.applyAttrs(a);if(a.dirtyTransform){this.applyTransformations(a)}}},rotationCompensation:function(a,b,c){var d=new Ext.draw.Matrix;d.rotate(-a,.5,.5);return{x:d.x(b,c),y:d.y(b,c)}},transform:function(a,b){var c=this,d=c.getBBox(a,true),e=d.x+d.width*.5,f=d.y+d.height*.5,g=new Ext.draw.Matrix,h=a.transformations,i=h.length,j=0,k=0,l=1,m=1,n="",o=a.el,p=o.dom,q=p.style,r=c.zoom,s=a.skew,t=c.viewBoxShift,u,v,w,x,y,z,A,B,C,D,E,F;for(;j<i;j++){w=h[j];x=w.type;if(x=="translate"){g.translate(w.x,w.y)}else if(x=="rotate"){g.rotate(w.degrees,w.x,w.y);k+=w.degrees}else if(x=="scale"){g.scale(w.x,w.y,w.centerX,w.centerY);l*=w.x;m*=w.y}}a.matrix=g.clone();if(b){return}if(t){g.prepend(t.scale,0,0,t.scale,t.dx*t.scale,t.dy*t.scale)}if(a.type!="image"&&s){s.origin="0,0";s.matrix=g.toString();F=g.offset();if(F[0]>32767){F[0]=32767}else if(F[0]<-32768){F[0]=-32768}if(F[1]>32767){F[1]=32767}else if(F[1]<-32768){F[1]=-32768}s.offset=F}else{q.filter=g.toFilter();q.left=Math.min(g.x(d.x,d.y),g.x(d.x+d.width,d.y),g.x(d.x,d.y+d.height),g.x(d.x+d.width,d.y+d.height))+"px";q.top=Math.min(g.y(d.x,d.y),g.y(d.x+d.width,d.y),g.y(d.x,d.y+d.height),g.y(d.x+d.width,d.y+d.height))+"px"}},createItem:function(a){return Ext.create("Ext.draw.Sprite",a)},getRegion:function(){return this.el.getRegion()},addCls:function(a,b){if(a&&a.el){a.el.addCls(b)}},removeCls:function(a,b){if(a&&a.el){a.el.removeCls(b)}},addGradient:function(a){var b=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),c=[],d=Ext.create("Ext.util.MixedCollection"),e,f,g,h,i,j;d.addAll(a.stops);d.sortByKey("ASC",function(a,b){a=parseInt(a,10);b=parseInt(b,10);return a>b?1:a<b?-1:0});e=d.keys;f=d.items;g=e.length;for(j=0;j<g;j++){h=e[j];i=f[j];c.push(h+"% "+i.color)}b.add(a.id,{colors:c.join(","),angle:a.angle})},destroy:function(){var a=this;a.callParent(arguments);if(a.el){a.el.remove()}delete a.el}});Ext.define("Ext.flash.Component",{extend:Ext.Component,alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:false,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent();this.addEvents("success","failure")},beforeRender:function(){this.callParent();Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var a=this,b=Ext.apply({},a.flashParams),c=Ext.apply({},a.flashVars);a.callParent();b=Ext.apply({allowScriptAccess:"always",bgcolor:a.backgroundColor,wmode:a.wmode},b);c=Ext.apply({allowedDomain:document.location.hostname},c);new swfobject.embedSWF(a.url,a.getSwfId(),a.swfWidth,a.swfHeight,a.flashVersion,a.expressInstall?a.statics.EXPRESS_INSTALL_URL:undefined,c,b,a.flashAttributes,Ext.bind(a.swfCallback,a))},swfCallback:function(a){var b=this;if(a.success){b.swf=Ext.get(a.ref);b.onSuccess();b.fireEvent("success",b)}else{b.onFailure();b.fireEvent("failure",b)}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var a=this,b=a.swf;if(b){swfobject.removeSWF(a.getSwfId());Ext.destroy(b);delete a.swf}a.callParent()},statics:{EXPRESS_INSTALL_URL:"http:/"+"/swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}});Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(a){if(a){Ext.apply(this,a)}var b=a.params;if(Ext.isString(b)){this.params=Ext.Object.fromQueryString(b)}},run:Ext.emptyFn,onFailure:function(a){this.response=a;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(a){this.response=a;if(!a.responseText&&!a.responseXML){return true}return this.result=this.handleResponse(a)},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a=this,b,c=a.form;return{success:a.onSuccess,failure:a.onFailure,scope:a,timeout:this.timeout*1e3||c.timeout*1e3,upload:c.fileUpload?a.onSuccess:b}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}});Ext.define("Ext.form.action.Load",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(a){var b=this.processResponse(a),c=this.form;if(b===true||!b.success||!b.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;c.afterAction(this,false);return}c.clearInvalid();c.setValues(b.data);c.afterAction(this,true)},handleResponse:function(a){var b=this.form.reader,c,d;if(b){c=b.read(a);d=c.records&&c.records[0]?c.records[0].data:null;return{success:c.success,data:d}}return Ext.decode(a.responseText)}});Ext.define("Ext.form.action.Submit",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var a=this,b=a.form;if(a.clientValidation===false||b.isValid()){a.doSubmit()}else{a.failureType=Ext.form.action.Action.CLIENT_INVALID;b.afterAction(a,false)}},doSubmit:function(){var a=this,b=Ext.apply(a.createCallback(),{url:a.getUrl(),method:a.getMethod(),headers:a.headers}),c=a.form,d=a.jsonSubmit||c.jsonSubmit,e=d?"jsonData":"params",f,g;if(c.hasUpload()){g=a.buildForm();b.form=g.formEl;b.isUpload=true}else{b[e]=a.getParams(d)}Ext.Ajax.request(b);if(g){a.cleanup(g)}},cleanup:function(a){var b=a.formEl,c=a.uploadEls,d=a.uploadFields,e=d.length,f,g;for(f=0;f<e;++f){g=d[f];if(!g.clearOnSubmit){g.restoreInput(c[f])}}if(b){Ext.removeNode(b)}},getParams:function(a){var b=false,c=this.callParent(),d=this.form.getValues(b,b,this.submitEmptyText!==b,a);return Ext.apply({},d,c)},buildForm:function(){var a=this,b=[],c,d,e=a.form,f=a.getParams(),g=[],h=[],i=e.getFields().items,j,k=i.length,l,m,n,o,p,q;for(j=0;j<k;++j){l=i[j];if(l.rendered&&l.isFileUpload()){g.push(l)}}for(m in f){if(f.hasOwnProperty(m)){n=f[m];if(Ext.isArray(n)){p=n.length;for(o=0;o<p;o++){b.push(a.getFieldConfig(m,n[o]))}}else{b.push(a.getFieldConfig(m,n))}}}c={tag:"form",action:a.getUrl(),method:a.getMethod(),target:a.target||"_self",style:"display:none",cn:b};if(g.length){c.encoding=c.enctype="multipart/form-data"}d=Ext.DomHelper.append(Ext.getBody(),c);k=g.length;for(j=0;j<k;++j){q=g[j].extractFileInput();d.appendChild(q);h.push(q)}return{formEl:d,uploadFields:g,uploadEls:h}},getFieldConfig:function(a,b){return{tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)}},onSuccess:function(a){var b=this.form,c=true,d=this.processResponse(a);if(d!==true&&!d.success){if(d.errors){b.markInvalid(d.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;c=false}b.afterAction(this,c)},handleResponse:function(a){var b=this.form,c=b.errorReader,d,e,f,g,h,i;if(c){d=c.read(a);h=d.records;e=[];if(h){for(f=0,g=h.length;f<g;f++){e[f]=h[f].data}}if(e.length<1){e=null}i={success:d.success,errors:e}}else{try{i=Ext.decode(a.responseText)}catch(j){i={success:false,errors:[]}}}return i}});Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(a){var b=this,c=b.comp;b.startPosition=c.getXY();if(c.ghost&&!c.liveDrag){b.proxy=c.ghost();b.dragTarget=b.proxy.header.el}if(b.constrain||b.constrainDelegate){b.constrainTo=b.calculateConstrainRegion()}if(c.beginDrag){c.beginDrag()}},calculateConstrainRegion:function(){var a=this,b=a.comp,c=a.initialConstrainTo,d=b.constraintInsets,e,f,g,h=a.proxy?a.proxy.el:b.el,i=!a.constrainDelegate&&h.shadow&&b.constrainShadow&&!h.shadowDisabled?h.shadow.getShadowSize():0;if(!(c instanceof Ext.util.Region)){e=Ext.fly(c);c=e.getViewRegion();c.right=c.left+e.dom.clientWidth}else{c=c.copy()}if(d){d=Ext.isObject(d)?d:Ext.Element.parseBox(d);c.adjust(d.top,d.right,d.bottom,d.length)}if(i){c.adjust(i[0],-i[1],-i[2],i[3])}if(!a.constrainDelegate){f=Ext.fly(a.dragTarget).getRegion();g=h.getRegion();c.adjust(f.top-g.top,f.right-g.right,f.bottom-g.bottom,f.left-g.left)}return c},onDrag:function(a){var b=this,c=b.proxy&&!b.comp.liveDrag?b.proxy:b.comp,d=b.getOffset(b.constrain||b.constrainDelegate?"dragTarget":null);c.setPagePosition(b.startPosition[0]+d[0],b.startPosition[1]+d[1])},onEnd:function(a){var b=this.comp;if(b.isDestroyed||b.destroying){return}if(this.proxy&&!b.liveDrag){b.unghost()}if(b.endDrag){b.endDrag()}}});Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,initComponent:function(){var a=this;a.frame=false;a.callParent();a.addEvents("resize","maximize","minimize","restore");if(a.plain){a.addClsWithUI("plain")}if(a.modal){a.ariaRole="dialog"}a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a=this,b;b=a.callParent();b.tabIndex=-1;return b},getState:function(){var a=this,b=a.callParent()||{},c=!!a.maximized,d=a.ghostBox,e;b.maximized=c;if(c){e=a.restorePos}else if(d){e=[d.x,d.y]}else{e=a.getPosition()}Ext.apply(b,{size:c?a.restoreSize:a.getSize(),pos:e});return b},applyState:function(a){var b=this;if(a){b.maximized=a.maximized;if(b.maximized){b.hasSavedRestore=true;b.restoreSize=a.size;b.restorePos=a.pos}else{Ext.apply(b,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]})}}},onRender:function(a,b){var c=this;c.callParent(arguments);c.focusEl=c.el;if(c.maximizable){c.header.on({scope:c,dblclick:c.toggleMaximize})}},afterRender:function(){var a=this,b=a.header,c;a.callParent();if(a.maximized){a.maximized=false;a.maximize();if(b){b.removeCls(b.indicateDragCls)}}if(a.closable){c=a.getKeyMap();c.on(27,a.onEsc,a)}else{c=a.keyMap}if(c&&a.hidden){c.disable()}},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments);if(this.maximized){this.resizer.disable()}},onEsc:function(a,b){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this){b.stopEvent();this.close()}},beforeDestroy:function(){var a=this;if(a.rendered){delete this.animateTarget;a.hide();Ext.destroy(a.keyMap)}a.callParent()},addTools:function(){var a=this;a.callParent();if(a.minimizable){a.addTool({type:"minimize",handler:Ext.Function.bind(a.minimize,a,[])})}if(a.maximizable){a.addTool({type:"maximize",handler:Ext.Function.bind(a.maximize,a,[])});a.addTool({type:"restore",handler:Ext.Function.bind(a.restore,a,[]),hidden:true})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var a=this,b,c=a.defaultButton||a.defaultFocus,d;if(c!==undefined){if(Ext.isNumber(c)){b=a.query("button")[c]}else if(Ext.isString(c)){d=c;if(d.match(a.initialAlphaNum)){b=a.down("#"+d)}if(!b){b=a.down(d)}}else if(c.focus){b=c}}return b||a.el},onFocus:function(){var a=this,b;if(Ext.FocusManager&&Ext.FocusManager.enabled||(b=a.getDefaultFocus())===a){a.callParent(arguments)}else{b.focus()}},onShow:function(){var a=this;a.callParent(arguments);if(a.expandOnShow){a.expand(false)}a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.enable()}},doClose:function(){var a=this;if(a.hidden){a.fireEvent("close",a);if(a.closeAction=="destroy"){this.destroy()}}else{a.hide(a.animateTarget,a.doClose,a)}},afterHide:function(){var a=this;a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.disable()}a.callParent(arguments)},onWindowResize:function(){var a=this,b;if(a.maximized){a.fitContainer()}else{b=a.getSizeModel();if(b.width.natural||b.height.natural){a.updateLayout()}a.doConstrain()}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this,b=a.header,c=a.tools;if(b&&a.maximizable){b.suspendLayouts();c.maximize.hide();c.restore.hide();this.resumeHeaderLayout(true)}if(a.resizer){a.resizer.disable()}a.callParent(arguments)},afterExpand:function(){var a=this,b=a.header,c=a.tools,d;if(b){b.suspendLayouts();if(a.maximized){c.restore.show();d=true}else if(a.maximizable){c.maximize.show();d=true}this.resumeHeaderLayout(d)}if(a.resizer){a.resizer.enable()}a.callParent(arguments)},maximize:function(a){var b=this,c=b.header,d=b.tools,e;if(!b.maximized){b.expand(false);if(!b.hasSavedRestore){b.restoreSize=b.getSize();b.restorePos=b.getPosition(true)}if(c){c.suspendLayouts();if(d.maximize){d.maximize.hide();e=true}if(d.restore){d.restore.show();e=true}if(b.collapseTool){b.collapseTool.hide();e=true}b.resumeHeaderLayout(e)}b.maximized=true;b.el.disableShadow();if(b.dd){b.dd.disable();if(c){c.removeCls(c.indicateDragCls)}}if(b.resizer){b.resizer.disable()}b.el.addCls(Ext.baseCSSPrefix+"window-maximized");b.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");b.syncMonitorWindowResize();b.fitContainer(a=a||!!b.animateTarget?{callback:function(){b.fireEvent("maximize",b)}}:null);if(!a){b.fireEvent("maximize",b)}}return b},restore:function(a){var b=this,c=b.tools,d=b.header,e=b.restoreSize,f;if(b.maximized){b.hasSavedRestore=null;b.removeCls(Ext.baseCSSPrefix+"window-maximized");if(d){d.suspendLayouts();if(c.restore){c.restore.hide();f=true}if(c.maximize){c.maximize.show();f=true}if(b.collapseTool){b.collapseTool.show();f=true}b.resumeHeaderLayout(f)}b.maximized=false;e.x=b.restorePos[0];e.y=b.restorePos[1];b.setBox(e,a=a||!!b.animateTarget?{callback:function(){b.el.enableShadow(true);b.fireEvent("restore",b)}}:null);b.restorePos=b.restoreSize=null;if(b.dd){b.dd.enable();if(d){d.addCls(d.indicateDragCls)}}if(b.resizer){b.resizer.enable()}b.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");b.syncMonitorWindowResize();if(!a){b.el.enableShadow(true);b.fireEvent("restore",b)}}return b},syncMonitorWindowResize:function(){var a=this,b=a._monitoringResize,c=a.monitorResize||a.constrain||a.constrainHeader||a.maximized,d=a.hidden||a.destroying||a.isDestroyed;if(c&&!d){if(!b){Ext.EventManager.onWindowResize(a.onWindowResize,a,{delay:1});a._monitoringResize=true}}else if(b){Ext.EventManager.removeResizeListener(a.onWindowResize,a);a._monitoringResize=false}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}});Ext.define("Ext.form.Labelable",{autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td role=\"presentation\" id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li role="alert">{.}</li></tpl></ul>',"</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",inputRowCls:Ext.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",noWrap:true,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","extraFieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget","inputRowCls"],initLabelable:function(){var a=this,b=a.padding;if(b){a.padding=undefined;a.extraMargins=Ext.Element.parseBox(b)}if(!a.activeErrorsTpl){if(a.msgTarget=="title"){a.activeErrorsTpl=a.plaintextActiveErrorsTpl}else{a.activeErrorsTpl=a.htmlActiveErrorsTpl}}a.addCls(Ext.plainTableCls);a.addCls(a.formItemCls);a.lastActiveError="";a.addEvents("errorchange");a.enableBubble("errorchange")},trimLabelSeparator:function(){var a=this,b=a.labelSeparator,c=a.fieldLabel||"",d=c.substr(c.length-1);return d===b?c.slice(0,-1):c},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(a){a=a||"";var b=this,c=b.labelSeparator,d=b.labelEl;b.fieldLabel=a;if(b.rendered){if(Ext.isEmpty(a)&&b.hideEmptyLabel){d.parent().setDisplayed("none")}else{if(c){a=b.trimLabelSeparator()+c}d.update(a);d.parent().setDisplayed("")}b.updateLayout()}},getInsertionRenderData:function(a,b){var c=b.length,d,e;while(c--){d=b[c];e=this[d];if(e){if(typeof e!="string"){if(!e.isTemplate){e=Ext.XTemplate.getTpl(this,d)}e=e.apply(a)}}a[d]=e||""}return a},getLabelableRenderData:function(){var a=this,b,c,d=a.labelAlign==="top";if(!Ext.form.Labelable.errorIconWidth){c=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"});Ext.form.Labelable.errorIconWidth=c.getWidth()+c.getMargin("l");c.remove()}b=Ext.copyTo({inFormLayout:a.ownerLayout&&a.ownerLayout.type==="form",inputId:a.getInputId(),labelOnLeft:!d,hideLabel:!a.hasVisibleLabel(),fieldLabel:a.getFieldLabel(),labelCellStyle:a.getLabelCellStyle(),labelCellAttrs:a.getLabelCellAttrs(),labelCls:a.getLabelCls(),labelStyle:a.getLabelStyle(),bodyColspan:a.getBodyColspan(),externalError:!a.autoFitErrors,errorMsgCls:a.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},a,a.labelableRenderProps,true);a.getInsertionRenderData(b,a.labelableInsertions);return b},xhooks:{beforeRender:function(){var a=this;a.setFieldDefaults(a.getHierarchyState().fieldDefaults);if(a.ownerLayout){a.addCls(Ext.baseCSSPrefix+a.ownerLayout.type+"-form-item")}},onRender:function(){var a=this,b,c,d={};if(a.extraMargins){b=a.el.getMargin();for(c in b){if(b.hasOwnProperty(c)){d["margin-"+c]=b[c]+a.extraMargins[c]+"px"}}a.el.setStyle(d)}}},hasVisibleLabel:function(){if(this.hideLabel){return false}return!(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){var a=this;if(!a.hasVisibleLabel()){return 0}return a.labelWidth+a.labelPad},getBodyColspan:function(){var a=this,b;if(a.msgTarget==="side"&&(!a.autoFitErrors||a.hasActiveError())){b=1}else{b=2}if(a.labelAlign!=="top"&&!a.hasVisibleLabel()){b++}return b},getLabelCls:function(){var a=this.labelCls+" "+Ext.dom.Element.unselectableCls,b=this.labelClsExtra;return b?a+" "+b:a},getLabelCellStyle:function(){var a=this,b=a.hideLabel||!a.getFieldLabel()&&a.hideEmptyLabel;return b?"display:none;":""},getErrorMsgCls:function(){var a=this,b=a.hideLabel||!a.fieldLabel&&a.hideEmptyLabel;return a.errorMsgCls+(!b&&a.labelAlign==="top"?" "+Ext.baseCSSPrefix+"lbl-top-err-icon":"")},getLabelCellAttrs:function(){var a=this,b=a.labelAlign,c="";if(b!=="top"){c='valign="top" halign="'+b+'" width="'+(a.labelWidth+a.labelPad)+'"'}return c+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var a=this,b=a.labelPad,c="";if(a.labelAlign!=="top"){if(a.labelWidth){c="width:"+a.labelWidth+"px;"}if(b){c+="margin-right:"+b+"px;"}}return c+(a.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=Ext.Array.from(a);this.activeError=a[0];this.activeErrors=a;this.activeError=this.getTpl("activeErrorsTpl").apply({errors:a,listCls:Ext.plainListCls});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var a=this,b=a.getActiveError(),c=!!b;if(b!==a.lastActiveError){a.fireEvent("errorchange",a,b);a.lastActiveError=b}if(a.rendered&&!a.isDestroyed&&!a.preventMark){a.el[c?"addCls":"removeCls"](a.invalidCls);a.getActionEl().dom.setAttribute("aria-invalid",c);if(a.errorEl){a.errorEl.dom.innerHTML=b}}},setFieldDefaults:function(a){var b;for(b in a){if(!this.hasOwnProperty(b)){this[b]=a[b]}}}});Ext.define("Ext.form.field.Field",{isFormField:true,disabled:false,submitValue:true,validateOnChange:true,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange");this.initValue()},initValue:function(){var a=this;a.value=a.transformOriginalValue(a.value);a.originalValue=a.lastValue=a.value;a.suspendCheckChange++;a.setValue(a.value);a.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(a){var b=this;b.value=a;b.checkChange();return b},isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.value(a,""))===String(Ext.value(b,""))},getSubmitData:function(){var a=this,b=null;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){b={};b[a.getName()]=""+a.getValue()}return b},getModelData:function(){var a=this,b=null;if(!a.disabled&&!a.isFileUpload()){b={};b[a.getName()]=a.getValue()}return b},reset:function(){var a=this;a.beforeReset();a.setValue(a.originalValue);a.clearInvalid();delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var a=this,b=a.getValue(),c=a.lastValue;if(!a.isEqual(b,c)&&!a.isDestroyed){a.lastValue=b;a.fireEvent("change",a,b,c);a.onChange(b,c)}}},onChange:function(a,b){if(this.validateOnChange){this.validate()}this.checkDirty()},isDirty:function(){var a=this;return!a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();if(b!==a.wasDirty){a.fireEvent("dirtychange",a,b);a.onDirtyChange(b);a.wasDirty=b}},onDirtyChange:Ext.emptyFn,getErrors:function(a){return[]},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();if(b!==a.wasValid){a.wasValid=b;a.fireEvent("validitychange",a,b)}return b},batchChanges:function(a){try{this.suspendCheckChange++;a()}catch(b){throw b}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.layout.component.field.Field",{extend:Ext.layout.component.Auto,alias:"layout.field",type:"field",naturalSizingProp:"size",beginLayout:function(a){var b=this,c=b.owner;b.callParent(arguments);a.labelStrategy=b.getLabelStrategy();a.errorStrategy=b.getErrorStrategy();a.labelContext=a.getEl("labelEl");a.bodyCellContext=a.getEl("bodyEl");a.inputContext=a.getEl("inputEl");a.errorContext=a.getEl("errorEl");if(Ext.isIE7m&&Ext.isStrict&&a.inputContext){b.ieInputWidthAdjustment=a.inputContext.getPaddingInfo().width+a.inputContext.getBorderInfo().width}a.labelStrategy.prepare(a,c);a.errorStrategy.prepare(a,c)},beginLayoutCycle:function(a){var b=this,c=b.owner,d=a.widthModel,e=c[b.naturalSizingProp],f;b.callParent(arguments);if(d.shrinkWrap){b.beginLayoutShrinkWrap(a)}else if(d.natural){if(typeof e=="number"&&!c.inputWidth){b.beginLayoutFixed(a,f=e*6.5+20,"px")}else{b.beginLayoutShrinkWrap(a)}a.setWidth(f,false)}else{b.beginLayoutFixed(a,"100","%")}},beginLayoutFixed:function(a,b,c){var d=a.target,e=d.inputEl,f=d.inputWidth;d.el.setStyle("table-layout","fixed");d.bodyEl.setStyle("width",b+c);if(e){if(f){e.setStyle("width",f+"px")}else{e.setStyle("width",d.stretchInputElFixed?"100%":"")}}a.isFixed=true},beginLayoutShrinkWrap:function(a){var b=a.target,c=b.inputEl,d=b.inputWidth;if(c&&c.dom){c.dom.removeAttribute("size");if(d){c.setStyle("width",d+"px")}else{c.setStyle("width","")}}b.el.setStyle("table-layout","auto");b.bodyEl.setStyle("width","")},finishedLayout:function(a){var b=this.owner;this.callParent(arguments);a.labelStrategy.finishedLayout(a,b);a.errorStrategy.finishedLayout(a,b)},calculateOwnerHeightFromContentHeight:function(a,b){return b},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var a=this,b=a.labelStrategies,c=a.owner.labelAlign;return b[c]||b.base},getErrorStrategy:function(){var a=this,b=a.owner,c=a.errorStrategies,d=b.msgTarget;return!b.preventMark&&Ext.isString(d)?c[d]||c.elementId:c.none},labelStrategies:function(){var a={prepare:function(a,b){var c=b.labelCls+"-"+b.labelAlign,d=b.labelEl;if(d){d.addCls(c)}},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({getHeight:function(a){var b=a.labelContext,c=b.props,d=c.height;if(d===undefined){c.height=d=b.el.getHeight()}return d}},a),left:a,right:a}}(),errorStrategies:function(){function a(a){var b=Ext.layout.component.field.Field.tip,c;if(b&&b.isVisible()){c=b.activeTarget;if(c&&c.el===a.getActionEl().dom){b.toFront(true)}}}var b=Ext.applyIf,c=Ext.emptyFn,d=Ext.baseCSSPrefix+"form-invalid-icon",e,f={prepare:function(a,b){var c=b.errorEl;if(c){c.setDisplayed(false)}},getHeight:function(){return 0},onFocus:c,finishedLayout:c};return{none:f,side:b({prepare:function(a,b){var c=b.errorEl,f=b.sideErrorCell,g=b.hasActiveError(),h;if(!e){e=(h=Ext.getBody().createChild({style:"position:absolute",cls:d})).getWidth();h.remove()}c.addCls(d);c.set({"data-errorqtip":b.getActiveError()||""});if(b.autoFitErrors){c.setDisplayed(g)}else{c.setVisible(g)}if(f&&b.autoFitErrors){f.setDisplayed(g)}b.bodyEl.dom.colSpan=b.getBodyColspan();Ext.layout.component.field.Field.initTip()},onFocus:a},f),under:b({prepare:function(a,b){var c=b.errorEl,d=Ext.baseCSSPrefix+"form-invalid-under";c.addCls(d);c.setDisplayed(b.hasActiveError())},getHeight:function(a){var b=0,c,d;if(a.target.hasActiveError()){c=a.errorContext;d=c.props;b=d.height;if(b===undefined){d.height=b=c.el.getHeight()}}return b}},f),qtip:b({prepare:function(a,b){Ext.layout.component.field.Field.initTip();b.getActionEl().dom.setAttribute("data-errorqtip",b.getActiveError()||"")},onFocus:a},f),title:b({prepare:function(a,b){b.getActionEl().dom.setAttribute("title",b.getActiveError()||"")}},f),elementId:b({prepare:function(a,b){var c=Ext.fly(b.msgTarget);if(c){c.dom.innerHTML=b.getActiveError()||"";c.setDisplayed(b.hasActiveError())}}},f)}}(),statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"});a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}}});Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:{labelable:Ext.form.Labelable,field:Ext.form.field.Field},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:false,stretchInputElFixed:true,initComponent:function(){var a=this;
a.callParent();a.subTplData=a.subTplData||{};a.addEvents("specialkey","writeablechange");a.initLabelable();a.initField();if(!a.name){a.name=a.getInputId()}if(a.readOnly){a.addCls(a.readOnlyCls)}a.addCls(Ext.baseCSSPrefix+"form-type-"+a.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var a=this,b=a.inputType,c=a.getInputId(),d;d=Ext.apply({id:c,cmpId:a.id,name:a.name||c,disabled:a.disabled,readOnly:a.readOnly,value:a.getRawValue(),type:b,fieldCls:a.fieldCls,fieldStyle:a.getFieldStyle(),tabIdx:a.tabIndex,inputCls:a.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(b==="password"?"text":b)},a.subTplData);a.getInsertionRenderData(d,a.subTplInsertions);return d},applyRenderSelectors:function(){var a=this;a.callParent();a.addChildEls("inputEl");a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this,c=b.inputEl;if(c){c.applyStyles(a)}b.fieldStyle=a},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},onRender:function(){this.callParent(arguments);this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var a=this,b=null,c;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){c=a.getSubmitValue();if(c!==null){b={};b[a.getName()]=c}}return b},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this,b=a.inputEl?a.inputEl.getValue():Ext.value(a.rawValue,"");a.rawValue=b;return b},setRawValue:function(a){var b=this;a=Ext.value(b.transformRawValue(a),"");b.rawValue=a;if(b.inputEl){b.inputEl.dom.value=a}return a},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},setValue:function(a){var b=this;b.setRawValue(b.valueToRaw(a));return b.mixins.field.setValue.call(b,a)},onBoxReady:function(){var a=this;a.callParent();if(a.setReadOnlyOnBoxReady){a.setReadOnly(a.readOnly)}},onDisable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=true;if(a.hasActiveError()){a.clearInvalid();a.needsValidateOnEnable=true}}},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=false;if(a.needsValidateOnEnable){delete a.needsValidateOnEnable;a.forceValidation=true;a.isValid();delete a.forceValidation}}},setReadOnly:function(a){var b=this,c=b.inputEl;a=!!a;b[a?"addCls":"removeCls"](b.readOnlyCls);b.readOnly=a;if(c){c.dom.readOnly=a}else if(b.rendering){b.setReadOnlyOnBoxReady=true}b.fireEvent("writeablechange",b,a)},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,new Ext.EventObjectImpl(a))}},initEvents:function(){var a=this,b=a.inputEl,c,d,e=a.checkChangeEvents,f,g=e.length,h;if(b){a.mon(b,Ext.EventManager.getKeyEvent(),a.fireKey,a);c=new Ext.util.DelayedTask(a.checkChange,a);a.onChangeEvent=d=function(){c.delay(a.checkChangeBuffer)};for(f=0;f<g;f++){h=e[f];if(h==="propertychange"){a.usesPropertychange=true}a.mon(b,h,d)}}a.callParent()},doComponentLayout:function(){var a=this,b=a.inputEl,c=a.usesPropertychange,d="propertychange",e=a.onChangeEvent;if(c){a.mun(b,d,e)}a.callParent(arguments);if(c){a.mon(b,d,e)}},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var a=this,b=a.disabled,c=a.forceValidation||!b;return c?a.validateValue(a.processRawValue(a.getRawValue())):b},validateValue:function(a){var b=this,c=b.getErrors(a),d=Ext.isEmpty(c);if(!b.preventMark){if(d){b.clearInvalid()}else{b.markInvalid(c)}}return d},markInvalid:function(a){var b=this,c=b.getActiveError(),d;b.setActiveErrors(Ext.Array.from(a));d=b.getActiveError();if(c!==d){b.setError(d)}},clearInvalid:function(){var a=this,b=a.hasActiveError();delete a.needsValidateOnEnable;a.unsetActiveError();if(b){a.setError("")}},setError:function(a){var b=this,c=b.msgTarget,d;if(b.rendered){if(c=="title"||c=="qtip"){if(b.rendered){d=c=="qtip"?"data-errorqtip":"title"}b.getActionEl().dom.setAttribute(d,a||"")}else{b.updateLayout()}}},renderActiveError:function(){var a=this,b=a.hasActiveError();if(a.inputEl){a.inputEl[b?"addCls":"removeCls"](a.invalidCls+"-field")}a.mixins.labelable.renderActiveError.call(a)},getActionEl:function(){return this.inputEl||this.el}});Ext.define("Ext.form.field.VTypes",function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http:/'+'/www.example.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}());Ext.define("Ext.layout.component.field.Text",{extend:Ext.layout.component.field.Field,alias:"layout.textfield",type:"textfield",canGrowWidth:true,beginLayoutCycle:function(a){this.callParent(arguments);if(a.heightModel.shrinkWrap){a.inputContext.el.setStyle("height","")}},measureContentWidth:function(a){var b=this,c=b.owner,d=b.callParent(arguments),e=a.inputContext,f,g,h,i,j;if(c.grow&&b.canGrowWidth&&!a.state.growHandled){f=c.inputEl;g=Ext.util.Format.htmlEncode(f.dom.value||(c.hasFocus?"":c.emptyText)||"");g+=c.growAppend;h=f.getTextWidth(g)+e.getFrameInfo().width;i=c.growMax;j=Math.min(i,d);i=Math.max(c.growMin,i,j);h=Ext.Number.constrain(h,c.growMin,i);e.setWidth(h);a.state.growHandled=true;e.domBlock(b,"width");d=NaN}return d},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},beginLayoutFixed:function(a,b,c){var d=this,e=d.ieInputWidthAdjustment;if(e){d.adjustIEInputPadding(a);if(c==="px"){b-=e}}d.callParent(arguments)},adjustIEInputPadding:function(a){this.owner.bodyEl.setStyle("padding-right",this.ieInputWidthAdjustment+"px")}});Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:false,initComponent:function(){var a=this;if(a.allowOnlyWhitespace===false){a.allowBlank=false}a.callParent();a.addEvents("autosize","keydown","keyup","keypress");a.addStateEvents("change");a.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow){this.shrinkWrap|=1}},initEvents:function(){var a=this,b=a.inputEl;a.callParent();if(a.selectOnFocus||a.emptyText){a.mon(b,"mousedown",a.onMouseDown,a)}if(a.maskRe||a.vtype&&a.disableKeyFilter!==true&&(a.maskRe=Ext.form.field.VTypes[a.vtype+"Mask"])){a.mon(b,"keypress",a.filterKeys,a)}if(a.enableKeyEvents){a.mon(b,{scope:a,keyup:a.onKeyUp,keydown:a.onKeyDown,keypress:a.onKeyPress})}},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(a,b){this.callParent(arguments);this.autoSize()},getSubTplData:function(){var a=this,b=a.getRawValue(),c=a.emptyText&&b.length<1,d=a.maxLength,e;if(a.enforceMaxLength){if(d===Number.MAX_VALUE){d=undefined}}else{d=undefined}if(c){if(Ext.supports.Placeholder){e=a.emptyText}else{b=a.emptyText;a.valueContainsPlaceholder=true}}return Ext.apply(a.callParent(),{maxLength:d,readOnly:a.readOnly,placeholder:e,value:b,fieldCls:a.fieldCls+(c&&(e||b)?" "+a.emptyCls:"")+(a.allowBlank?"":" "+a.requiredCls)})},afterRender:function(){this.autoSize();this.callParent()},onMouseDown:function(a){var b=this;if(!b.hasFocus){b.mon(b.inputEl,"mouseup",Ext.emptyFn,b,{single:true,preventDefault:true})}},processRawValue:function(a){var b=this,c=b.stripCharsRe,d;if(c){d=a.replace(c,"");if(d!==a){b.setRawValue(d);a=d}}return a},onDisable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var a=this,b=a.emptyText,c;if(a.rendered&&b){c=a.getRawValue().length<1&&!a.hasFocus;if(Ext.supports.Placeholder){a.inputEl.dom.placeholder=b}else if(c){a.setRawValue(b);a.valueContainsPlaceholder=true}if(c){a.inputEl.addCls(a.emptyCls)}a.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a){a.dom.unselectable="on"}}},beforeFocus:function(){var a=this,b=a.inputEl,c=a.emptyText,d;a.callParent(arguments);if(c&&!Ext.supports.Placeholder&&(b.dom.value===a.emptyText&&a.valueContainsPlaceholder)){a.setRawValue("");d=true;b.removeCls(a.emptyCls);a.valueContainsPlaceholder=false}else if(Ext.supports.Placeholder){a.inputEl.removeCls(a.emptyCls)}if(a.selectOnFocus||d){if(Ext.isWebKit){if(!a.inputFocusTask){a.inputFocusTask=new Ext.util.DelayedTask(a.focusInput,a)}a.inputFocusTask.delay(1)}else{b.dom.select()}}},focusInput:function(){var a=this.inputEl;if(a){a=a.dom;if(a){a.select()}}},onFocus:function(){var a=this;a.callParent(arguments);if(a.emptyText){a.autoSize()}},postBlur:function(){this.callParent(arguments);this.applyEmptyText()},filterKeys:function(a){if(a.ctrlKey&&!a.altKey){return}var b=a.getKey(),c=String.fromCharCode(a.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(a.isNavKeyPress()||b===a.BACKSPACE||b===a.DELETE&&a.button===-1)){return}if(!Ext.isGecko&&!Ext.isOpera&&a.isSpecialKey()&&!c){return}if(!this.maskRe.test(c)){a.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments);if(a.hasOwnProperty("value")){this.setValue(a.value)}},getRawValue:function(){var a=this,b=a.callParent();if(b===a.emptyText&&a.valueContainsPlaceholder){b=""}return b},setValue:function(a){var b=this,c=b.inputEl;if(c&&b.emptyText&&!Ext.isEmpty(a)){c.removeCls(b.emptyCls);b.valueContainsPlaceholder=false}b.callParent(arguments);b.applyEmptyText();return b},getErrors:function(a){var b=this,c=b.callParent(arguments),d=b.validator,e=b.vtype,f=Ext.form.field.VTypes,g=b.regex,h=Ext.String.format,i,j,k;a=a||b.processRawValue(b.getRawValue());if(Ext.isFunction(d)){i=d.call(b,a);if(i!==true){c.push(i)}}j=b.allowOnlyWhitespace?a:Ext.String.trim(a);if(j.length<1||a===b.emptyText&&b.valueContainsPlaceholder){if(!b.allowBlank){c.push(b.blankText)}if(!b.validateBlank){return c}k=true}if(!k&&a.length<b.minLength){c.push(h(b.minLengthText,b.minLength))}if(a.length>b.maxLength){c.push(h(b.maxLengthText,b.maxLength))}if(e){if(!f[e](a,b)){c.push(b.vtypeText||f[e+"Text"])}}if(g&&!g.test(a)){c.push(b.regexText||b.invalidText)}return c},selectText:function(a,b){var c=this,d=c.getRawValue(),e=true,f=c.inputEl.dom,g,h;if(d.length>0){a=a===g?0:a;b=b===g?d.length:b;if(f.setSelectionRange){f.setSelectionRange(a,b)}else if(f.createTextRange){h=f.createTextRange();h.moveStart("character",a);h.moveEnd("character",b-d.length);h.select()}e=Ext.isGecko||Ext.isOpera}if(e){c.focus()}},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=true;a.updateLayout()}},afterComponentLayout:function(){var a=this,b;a.callParent(arguments);if(a.autoSizing){b=a.inputEl.getWidth();if(b!==a.lastInputWidth){a.fireEvent("autosize",a,b);a.lastInputWidth=b;delete a.autoSizing}}},onDestroy:function(){var a=this;a.callParent();if(a.inputFocusTask){a.inputFocusTask.cancel();a.inputFocusTask=null}}});Ext.define("Ext.layout.component.field.TextArea",{extend:Ext.layout.component.field.Text,alias:"layout.textareafield",type:"textareafield",canGrowWidth:false,naturalSizingProp:"cols",beginLayout:function(a){this.callParent(arguments);a.target.inputEl.setStyle("height","")},measureContentHeight:function(a){var b=this,c=b.owner,d=b.callParent(arguments),e,f,g,h,i,j;if(c.grow&&!a.state.growHandled){e=a.inputContext;f=c.inputEl;i=f.getWidth(true);g=Ext.util.Format.htmlEncode(f.dom.value)||"&#160;";g+=c.growAppend;g=g.replace(/\n/g,"<br/>");j=Ext.util.TextMetrics.measure(f,g,i).height+e.getBorderInfo().height+e.getPaddingInfo().height;j=Ext.Number.constrain(j,c.growMin,c.growMax);e.setHeight(j);a.state.growHandled=true;e.domBlock(b,"height");d=NaN}return d}});Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:false,preventScrollbars:false,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var a=this,b=a.getFieldStyle(),c=a.callParent();if(a.grow){if(a.preventScrollbars){c.fieldStyle=(b||"")+";overflow:hidden;height:"+a.growMin+"px"}}Ext.applyIf(c,{cols:a.cols,rows:a.rows});return c},afterRender:function(){var a=this;a.callParent(arguments);a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(a.needsMaxCheck){a.inputEl.on("paste",a.onPaste,a)}},transformRawValue:function(a){return this.stripReturns(a)},transformOriginalValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(a){a=this.stripReturns(a);return this.callParent([a])},stripReturns:function(a){if(a&&typeof a==="string"){a=a.replace(this.returnRe,"")}return a},onPaste:function(a){var b=this;if(!b.pasteTask){b.pasteTask=new Ext.util.DelayedTask(b.pasteCheck,b)}b.pasteTask.delay(1)},pasteCheck:function(){var a=this,b=a.getValue(),c=a.maxLength;if(b.length>c){b=b.substr(0,c);a.setValue(b)}},fireKey:function(a){var b=this,c=a.getKey(),d;if(a.isSpecialKey()&&(b.enterIsSpecial||(c!==a.ENTER||a.hasModifier()))){b.fireEvent("specialkey",b,a)}if(b.needsMaxCheck&&c!==a.BACKSPACE&&c!==a.DELETE&&!a.isNavKeyPress()&&!b.isCutCopyPasteSelectAll(a,c)){d=b.getValue();if(d.length>=b.maxLength){a.stopEvent()}}},isCutCopyPasteSelectAll:function(a,b){if(a.ctrlKey){return b===a.A||b===a.C||b===a.V||b===a.X}return false},autoSize:function(){var a=this,b;if(a.grow&&a.rendered){a.updateLayout();b=a.inputEl.getHeight();if(b!==a.lastInputHeight){a.fireEvent("autosize",a,b);a.lastInputHeight=b}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute("aria-multiline",true)},beforeDestroy:function(){var a=this.pasteTask;if(a){a.cancel();this.pasteTask=null}this.callParent()}});Ext.define("Ext.form.field.Display",{extend:Ext.form.field.Base,alias:"widget.displayfield",alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:true,disableFormats:true}],readOnly:true,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:false,noWrap:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,isDirty:function(){return false},isValid:function(){return true},validate:function(){return true},getRawValue:function(){return this.rawValue},setRawValue:function(a){var b=this;a=Ext.value(a,"");b.rawValue=a;if(b.rendered){b.inputEl.dom.innerHTML=b.getDisplayValue();b.updateLayout()}return a},getDisplayValue:function(){var a=this,b=this.getRawValue(),c;if(a.renderer){c=a.renderer.call(a.scope||a,b,a)}else{c=a.htmlEncode?Ext.util.Format.htmlEncode(b):b}return c},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}});Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,beginLayoutCycle:function(a){var b=this,c=0,d,e,f,g,h,i;b.callParent(arguments);f=a.childItems;h=f.length;for(g=0;g<h;++g){e=f[g];d=e.target.anchorSpec;if(d){if(e.widthModel.calculated&&d.right){c|=1}if(e.heightModel.calculated&&d.bottom){c|=2}if(c==3){break}}}a.anchorDimensions=c},calculateItems:function(a,b){var c=this,d=a.childItems,e=d.length,f=b.gotHeight,g=b.gotWidth,h=b.height,i=b.width,j=(g?1:0)|(f?2:0),k=a.anchorDimensions,l,m,n,o,p,q;if(!k){return true}for(p=0;p<e;p++){m=d[p];n=m.getMarginInfo();l=m.target.anchorSpec;if(g&&m.widthModel.calculated){q=l.right(i)-n.width;q=c.adjustWidthAnchor(q,m);m.setWidth(q)}if(f&&m.heightModel.calculated){o=l.bottom(h)-n.height;o=c.adjustHeightAnchor(o,m);m.setHeight(o)}}return(j&k)===k},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,b,c){if(a&&a!="none"){var d=this.anchorFactory,e;if(this.parseAnchorRE.test(a)){return d.standard(c-b)}if(a.indexOf("%")!=-1){return d.ratio(parseFloat(a.replace("%",""))*.01)}e=parseInt(a,10);if(!isNaN(e)){return d.offset(e)}}return null},adjustWidthAnchor:function(a,b){return a},adjustHeightAnchor:function(a,b){return a},configureItem:function(a){var b=this,c=b.owner,d=a.anchor,e,f,g;b.callParent(arguments);if(!a.anchor&&a.items&&!Ext.isNumber(a.width)&&!(Ext.isIE6&&Ext.isStrict)){a.anchor=d=b.defaultAnchor}if(c.anchorSize){if(typeof c.anchorSize=="number"){f=c.anchorSize}else{f=c.anchorSize.width;g=c.anchorSize.height}}else{f=c.initialConfig.width;g=c.initialConfig.height}if(d){e=d.split(" ");a.anchorSpec={right:b.parseAnchor(e[0],a.initialConfig.width,f),bottom:b.parseAnchor(e[1],a.initialConfig.height,g)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(a){var b=a.anchorSpec,c="$",d=this.sizePolicy,e;if(b){e=this.owner.getSizeModel();if(b.right&&!e.width.shrinkWrap){d=d.r}if(b.bottom&&!e.height.shrinkWrap){c="b"}}return d[c]}});Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,makeButton:function(a){var b=this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:b,scope:this,text:this.buttonText[b],minWidth:75})},btnCallback:function(a){var b=this,c,d;if(b.cfg.prompt||b.cfg.multiline){if(b.cfg.multiline){d=b.textArea}else{d=b.textField}c=d.getValue();d.reset()}b.hide();b.userCallback(a.itemId,c,b.cfg)},hide:function(){var a=this,b=a.cfg.cls;a.dd.endDrag();a.progressBar.reset();if(b){a.removeCls(b)}a.callParent(arguments)},constructor:function(a){var b=this;b.callParent(arguments);b.minWidth=b.defaultMinWidth=b.minWidth||b.defaultMinWidth;b.maxWidth=b.defaultMaxWidth=b.maxWidth||b.defaultMaxWidth;b.minHeight=b.defaultMinHeight=b.minHeight||b.defaultMinHeight;b.maxHeight=b.defaultMaxHeight=b.maxHeight||b.defaultMaxHeight},initComponent:function(a){var b=this,c=b.id,d,e;b.title="&#160;";b.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[b.iconComponent=new Ext.Component({width:b.iconWidth,height:b.iconHeight}),b.promptContainer=new Ext.container.Container({flex:1,layout:"anchor",items:[b.msg=new Ext.form.field.Display({id:c+"-displayfield",cls:b.baseCls+"-text"}),b.textField=new Ext.form.field.Text({id:c+"-textfield",anchor:"100%",enableKeyEvents:true,listeners:{keydown:b.onPromptKey,scope:b}}),b.textArea=new Ext.form.field.TextArea({id:c+"-textarea",anchor:"100%",height:75})]})]});b.progressBar=new Ext.ProgressBar({id:c+"-progressbar",margins:"0 10 10 10"});b.items=[b.topContainer,b.progressBar];b.msgButtons=[];for(d=0;d<4;d++){e=b.makeButton(d);b.msgButtons[e.itemId]=e;b.msgButtons.push(e)}b.bottomTb=new Ext.toolbar.Toolbar({id:c+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[b.msgButtons[0],b.msgButtons[1],b.msgButtons[2],b.msgButtons[3]]});b.dockedItems=[b.bottomTb];b.on("close",b.onClose,b);b.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel";this.btnCallback(a);delete a.itemId},onPromptKey:function(a,b){var c=this;if(b.keyCode===b.RETURN||b.keyCode===10){if(c.msgButtons.ok.isVisible()){c.msgButtons.ok.handler.call(c,c.msgButtons.ok)}else if(c.msgButtons.yes.isVisible()){c.msgButtons.yes.handler.call(c,c.msgButtons.yes)}}},reconfigure:function(a){var b=this,c=0,d=true,e=b.buttonText,f=b.resizer,g,h,i,j,k,l,m,n,o;b.updateButtonText();a=a||{};b.cfg=a;if(a.width){h=a.width}if(a.height){i=a.height}b.minWidth=a.minWidth||b.defaultMinWidth;b.maxWidth=a.maxWidth||b.defaultMaxWidth;b.minHeight=a.minHeight||b.defaultMinHeight;b.maxHeight=a.maxHeight||b.defaultMaxHeight;if(f){g=f.resizeTracker;f.minWidth=g.minWidth=b.minWidth;f.maxWidth=g.maxWidth=b.maxWidth;f.minHeight=g.minHeight=b.minHeight;f.maxHeight=g.maxHeight=b.maxHeight}delete b.defaultFocus;if(a.defaultFocus){b.defaultFocus=a.defaultFocus}b.animateTarget=a.animateTarget||undefined;b.modal=a.modal!==false;b.setTitle(a.title||"");b.setIconCls(a.iconCls||"");if(Ext.isObject(a.buttons)){b.buttonText=a.buttons;c=0}else{b.buttonText=a.buttonText||b.buttonText;c=Ext.isNumber(a.buttons)?a.buttons:0}c=c|b.updateButtonText();b.buttonText=e;Ext.suspendLayouts();delete b.width;delete b.height;if(h||i){if(h){b.setWidth(h)}if(i){b.setHeight(i)}}b.hidden=false;if(!b.rendered){b.render(Ext.getBody())}b.closable=a.closable!==false&&!a.wait;b.header.child("[type=close]").setVisible(b.closable);if(!a.title&&!b.closable&&!a.iconCls){b.header.hide()}else{b.header.show()}b.liveDrag=!a.proxyDrag;b.userCallback=Ext.Function.bind(a.callback||a.fn||Ext.emptyFn,a.scope||Ext.global);b.setIcon(a.icon,a.iconWidth,a.iconHeight);m=b.msg;if(a.msg){m.setValue(a.msg);m.show()}else{m.hide()}k=b.textArea;l=b.textField;if(a.prompt||a.multiline){b.multiline=a.multiline;if(a.multiline){k.setValue(a.value);k.setHeight(a.defaultTextHeight||b.defaultTextHeight);k.show();l.hide();b.defaultFocus=k}else{l.setValue(a.value);k.hide();l.show();b.defaultFocus=l}}else{k.hide();l.hide()}n=b.progressBar;if(a.progress||a.wait){n.show();b.updateProgress(0,a.progressText);if(a.wait===true){n.wait(a.waitConfig)}}else{n.hide()}o=b.msgButtons;for(j=0;j<4;j++){if(c&Math.pow(2,j)){if(!b.defaultFocus){b.defaultFocus=o[j]}o[j].show();d=false}else{o[j].hide()}}if(d){b.bottomTb.hide()}else{b.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var a=this,b=a.buttonText,c=0,d,e;for(d in b){if(b.hasOwnProperty(d)){e=a.msgButtons[d];if(e){if(a.cfg&&a.cfg.buttonText){c=c|Math.pow(2,Ext.Array.indexOf(a.buttonIds,d))}if(e.text!=b[d]){e.setText(b[d])}}}}return c},show:function(a){var b=this,c;if(Ext.AbstractComponent.layoutSuspendCount){Ext.on({resumelayouts:function(){b.show(a)},single:true});return b}b.reconfigure(a);if(a.cls){b.addCls(a.cls)}c=b.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");b.preventFocusOnActivate=!c.length;b.hidden=true;b.callParent();return b},onShow:function(){this.callParent(arguments);this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(a,b,c){var d=this,e=d.iconComponent,f=d.messageIconCls;if(f){e.removeCls(f)}if(a){e.show();e.setSize(b||d.iconWidth,c||d.iconHeight);e.addCls(Ext.baseCSSPrefix+"dlg-icon");e.addCls(d.messageIconCls=a)}else{e.removeCls(Ext.baseCSSPrefix+"dlg-icon");e.hide()}return d},updateProgress:function(a,b,c){this.progressBar.updateProgress(a,b);if(c){this.updateText(c)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(a,b,c,d){if(Ext.isString(a)){a={title:a,icon:this.QUESTION,msg:b,buttons:this.YESNO,callback:c,scope:d}}return this.show(a)},prompt:function(a,b,c,d,e,f){if(Ext.isString(a)){a={prompt:true,title:a,minWidth:this.minPromptWidth,msg:b,buttons:this.OKCANCEL,callback:c,scope:d,multiline:e,value:f}}return this.show(a)},wait:function(a,b,c){if(Ext.isString(a)){a={title:b,msg:a,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:c}}return this.show(a)},alert:function(a,b,c,d){if(Ext.isString(a)){a={title:a,msg:b,buttons:this.OK,fn:c,scope:d,minWidth:this.minWidth}}return this.show(a)},progress:function(a,b,c){if(Ext.isString(a)){a={title:a,msg:b,progress:true,progressText:c}}return this.show(a)}},function(){Ext.MessageBox=Ext.Msg=new this});Ext.define("Ext.form.Basic",{extend:Ext.util.Observable,alternateClassName:"Ext.form.BasicForm",constructor:function(a,b){var c=this,d;c.owner=a;c.checkValidityTask=new Ext.util.DelayedTask(c.checkValidity,c);c.checkDirtyTask=new Ext.util.DelayedTask(c.checkDirty,c);c.monitor=new Ext.container.Monitor({selector:"[isFormField]",scope:c,addHandler:c.onFieldAdd,removeHandler:c.onFieldRemove});c.monitor.bind(a);Ext.apply(c,b);if(Ext.isString(c.paramOrder)){c.paramOrder=c.paramOrder.split(/[\s,|]/)}d=c.reader;if(d&&!d.isReader){if(typeof d==="string"){d={type:d}}c.reader=Ext.createByAlias("reader."+d.type,d)}d=c.errorReader;if(d&&!d.isReader){if(typeof d==="string"){d={type:d}}c.errorReader=Ext.createByAlias("reader."+d.type,d)}c.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange");c.callParent()},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var a=this,b=a.monitor;if(b){b.unbind();a.monitor=null}a.clearListeners();a.checkValidityTask.cancel();a.checkDirtyTask.cancel()},onFieldAdd:function(a){var b=this;b.mon(a,"validitychange",b.checkValidityDelay,b);b.mon(a,"dirtychange",b.checkDirtyDelay,b);if(b.initialized){b.checkValidityDelay()}},onFieldRemove:function(a){var b=this;b.mun(a,"validitychange",b.checkValidityDelay,b);b.mun(a,"dirtychange",b.checkDirtyDelay,b);if(b.initialized){b.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;if(!a||a.getCount()===0){a=this._boundItems=new Ext.util.MixedCollection;a.addAll(this.owner.query("[formBind]"))}return a},hasInvalidField:function(){return!!this.getFields().findBy(function(a){var b=a.preventMark,c;a.preventMark=true;c=a.isValid();a.preventMark=b;return!c})},isValid:function(){var a=this,b;Ext.suspendLayouts();b=a.getFields().filterBy(function(a){return!a.validate()});Ext.resumeLayouts(true);return b.length<1},checkValidity:function(){var a=this,b=!a.hasInvalidField();if(b!==a.wasValid){a.onValidityChange(b);a.fireEvent("validitychange",a,b);a.wasValid=b}},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(a){var b=this.getBoundItems(),c,d,e,f;if(b){c=b.items;e=c.length;for(d=0;d<e;d++){f=c[d];if(f.disabled===a){f.setDisabled(!a)}}}},isDirty:function(){return!!this.getFields().findBy(function(a){return a.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var a=this.isDirty();if(a!==this.wasDirty){this.fireEvent("dirtychange",this,a);this.wasDirty=a}},hasUpload:function(){return!!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){if(Ext.isString(a)){a=Ext.ClassManager.instantiateByAlias("formaction."+a,Ext.apply({},b,{form:this}))}if(this.fireEvent("beforeaction",this,a)!==false){this.beforeAction(a);Ext.defer(a.run,100,a)}return this},submit:function(a){a=a||{};var b=this,c;if(a.standardSubmit||b.standardSubmit){c="standardsubmit"}else{c=b.api?"directsubmit":"submit"}return b.doAction(c,a)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(a){a=a||this._record;if(!a){return this}var b=a.fields.items,c=this.getFieldValues(),d={},e=0,f=b.length,g;for(;e<f;++e){g=b[e].name;if(c.hasOwnProperty(g)){d[g]=c[g]}}a.beginEdit();a.set(d);a.endEdit();return this},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(a){var b=this,c=a.waitMsg,d=Ext.baseCSSPrefix+"mask-loading",e=b.getFields().items,f,g=e.length,h,i;for(f=0;f<g;f++){h=e[f];if(h.isFormField&&h.syncValue){h.syncValue()}}if(c){i=b.waitMsgTarget;if(i===true){b.owner.el.mask(c,d)}else if(i){i=b.waitMsgTarget=Ext.get(i);i.mask(c,d)}else{b.floatingAncestor=b.owner.up("[floating]");if(b.floatingAncestor){b.savePreventFocusOnActivate=b.floatingAncestor.preventFocusOnActivate;b.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(c,a.waitTitle||b.waitTitle)}}},afterAction:function(a,b){var c=this;if(a.waitMsg){var d=Ext.MessageBox,e=c.waitMsgTarget;if(e===true){c.owner.el.unmask()}else if(e){e.unmask()}else{d.hide()}}if(c.floatingAncestor){c.floatingAncestor.preventFocusOnActivate=c.savePreventFocusOnActivate}if(b){if(a.reset){c.reset()}Ext.callback(a.success,a.scope||a,[c,a]);c.fireEvent("actioncomplete",c,a)}else{Ext.callback(a.failure,a.scope||a,[c,a]);c.fireEvent("actionfailed",c,a)}},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.getName()===a})},markInvalid:function(a){var b=this,c,d,e,f,g;function h(a,c){var d=b.findField(a);if(d){d.markInvalid(c)}}if(Ext.isArray(a)){d=a.length;for(c=0;c<d;c++){e=a[c];h(e.id,e.msg)}}else if(a instanceof Ext.data.Errors){d=a.items.length;for(c=0;c<d;c++){e=a.items[c];h(e.field,e.message)}}else{for(g in a){if(a.hasOwnProperty(g)){f=a[g];
h(g,f,a)}}}return this},setValues:function(a){var b=this,c,d,e,f;function g(a,c){var d=b.findField(a);if(d){d.setValue(c);if(b.trackResetOnLoad){d.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(a)){d=a.length;for(c=0;c<d;c++){e=a[c];g(e.id,e.value)}}else{Ext.iterate(a,g)}Ext.resumeLayouts(true);return this},getValues:function(a,b,c,d){var e={},f=this.getFields().items,g,h=f.length,i=Ext.isArray,j,k,l,m,n;for(g=0;g<h;g++){j=f[g];if(!b||j.isDirty()){k=j[d?"getModelData":"getSubmitData"](c);if(Ext.isObject(k)){for(n in k){if(k.hasOwnProperty(n)){l=k[n];if(c&&l===""){l=j.emptyText||""}if(e.hasOwnProperty(n)){m=e[n];if(!i(m)){m=e[n]=[m]}if(i(l)){e[n]=m.concat(l)}else{m.push(l)}}else{e[n]=l}}}}}}if(a){e=Ext.Object.toQueryString(e)}return e},getFieldValues:function(a){return this.getValues(false,a,false,true)},clearInvalid:function(){Ext.suspendLayouts();var a=this,b=a.getFields().items,c,d=b.length;for(c=0;c<d;c++){b[c].clearInvalid()}Ext.resumeLayouts(true);return a},reset:function(a){Ext.suspendLayouts();var b=this,c=b.getFields().items,d,e=c.length;for(d=0;d<e;d++){c[d].reset()}Ext.resumeLayouts(true);if(a===true){delete b._record}return b},applyToFields:function(a){var b=this.getFields().items,c,d=b.length;for(c=0;c<d;c++){Ext.apply(b[c],a)}return this},applyIfToFields:function(a){var b=this.getFields().items,c,d=b.length;for(c=0;c<d;c++){Ext.applyIf(b[c],a)}return this}});Ext.define("Ext.form.FieldAncestor",{xhooks:{initHierarchyState:function(a){if(this.fieldDefaults){if(a.fieldDefaults){a.fieldDefaults=Ext.apply(Ext.Object.chain(a.fieldDefaults),this.fieldDefaults)}else{a.fieldDefaults=this.fieldDefaults}}}},initFieldAncestor:function(){var a=this;a.addEvents("fieldvaliditychange","fielderrorchange");a.monitor=new Ext.container.Monitor({scope:a,selector:"[isFormField]",addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove});a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(a){var b=this;b.mon(a,"errorchange",b.handleFieldErrorChange,b);b.mon(a,"validitychange",b.handleFieldValidityChange,b)},onChildFieldRemove:function(a){var b=this;b.mun(a,"errorchange",b.handleFieldErrorChange,b);b.mun(a,"validitychange",b.handleFieldValidityChange,b)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(a,b){var c=this;if(a!==c){c.fireEvent("fieldvaliditychange",c,a,b);c.onFieldValidityChange(a,b)}},handleFieldErrorChange:function(a,b){var c=this;if(a!==c){c.fireEvent("fielderrorchange",c,a,b);c.onFieldErrorChange(a,b)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind();this.callParent()}});Ext.define("Ext.layout.component.field.FieldContainer",{extend:Ext.layout.component.field.Field,alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(a){var b=this.owner;this.callParent(arguments);a.hasRawContent=true;b.bodyEl.setStyle("height","");b.containerEl.setStyle("height","");a.containerElContext=a.getEl("containerEl")},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerWidth:function(a,b){var c=a.bodyCellContext,d=c.el.getWidth();c.setWidth(d,false);a.containerElContext.setWidth(d,false)},publishInnerHeight:function(a,b){var c=a.bodyCellContext,d=a.containerElContext;b-=this.measureLabelErrorHeight(a);c.setHeight(b);d.setHeight(b)}});Ext.define("Ext.form.FieldContainer",{extend:Ext.container.Container,mixins:{labelable:Ext.form.Labelable,fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:'<div id="{id}-containerEl" class="{containerElCls}">{%this.renderContainer(out,values)%}</div>',initComponent:function(){var a=this;a.initLabelable();a.initFieldAncestor();a.callParent();a.initMonitor()},getOverflowEl:function(){return this.containerEl},onAdd:function(a){var b=this;if(Ext.isGecko&&b.layout.type==="absolute"&&!b.hideLabel&&b.labelAlign!=="top"){a.x+=b.labelWidth+b.labelPad}b.callParent(arguments);if(b.combineLabels){a.oldHideLabel=a.hideLabel;a.hideLabel=true}b.updateLabel()},onRemove:function(a,b){var c=this;c.callParent(arguments);if(!b){if(c.combineLabels){a.hideLabel=a.oldHideLabel}c.updateLabel()}},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},initRenderData:function(){var a=this,b=a.callParent();b.containerElCls=a.containerElCls;return Ext.applyIf(b,a.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||"";if(!a&&this.combineLabels){a=Ext.Array.map(this.query("[isFieldLabelable]"),function(a){return a.getFieldLabel()}).join(this.labelConnector)}return a},getSubTplData:function(){var a=this.initRenderData();Ext.apply(a,this.subTplData);return a},getSubTplMarkup:function(){var a=this,b=a.getTpl("fieldSubTpl"),c;if(!b.renderContent){a.setupRenderTpl(b)}c=b.apply(a.getSubTplData());return c},updateLabel:function(){var a=this,b=a.labelEl;if(b){a.setFieldLabel(a.getFieldLabel())}},onFieldErrorChange:function(a,b){if(this.combineErrors){var c=this,d=c.getActiveError(),e=Ext.Array.filter(c.query("[isFormField]"),function(a){return a.hasActiveError()}),f=c.getCombinedErrors(e);if(f){c.setActiveErrors(f)}else{c.unsetActiveError()}if(d!==c.getActiveError()){c.doComponentLayout()}}},getCombinedErrors:function(a){var b=[],c,d=a.length,e,f,g,h,i,j;for(c=0;c<d;c++){e=a[c];f=e.getActiveErrors();h=f.length;for(g=0;g<h;g++){i=f[g];j=e.getFieldLabel();b.push((j?j+": ":"")+i)}}return b},getTargetEl:function(){return this.containerEl},applyTargetCls:function(a){var b=this.containerElCls;this.containerElCls=b?b+" "+a:a}});Ext.define("Ext.layout.container.CheckboxGroup",{extend:Ext.layout.container.Container,alias:["layout.checkboxgroup"],autoFlex:true,type:"checkboxgroup",createsInnerCt:true,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(a){var b=this,c,d,e,f,g,h=0,i=0,j=b.autoFlex,k=b.innerCt.dom.style;b.callParent(arguments);c=b.columnNodes;a.innerCtContext=a.getEl("innerCt",b);if(!a.widthModel.shrinkWrap){d=c.length;if(b.columnsArray){for(e=0;e<d;e++){f=b.owner.columns[e];if(f<1){h+=f;i++}}for(e=0;e<d;e++){f=b.owner.columns[e];if(f<1){g=f/h*100+"%"}else{g=f+"px"}c[e].style.width=g}}else{for(e=0;e<d;e++){g=j?1/d*100+"%":"";c[e].style.width=g;i++}}if(!i){k.tableLayout="fixed";k.width=""}else if(i<d){k.tableLayout="fixed";k.width="100%"}else{k.tableLayout="auto";if(j){k.width="100%"}else{k.width=""}}}else{k.tableLayout="auto";k.width=""}},cacheElements:function(){var a=this;a.callParent();a.rowEl=a.innerCt.down("tr");a.columnNodes=a.rowEl.dom.childNodes},calculate:function(a){var b=this,c,d,e,f,g,h;if(!a.getDomProp("containerChildrenSizeDone")){b.done=false}else{c=a.innerCtContext;d=a.widthModel.shrinkWrap;e=a.heightModel.shrinkWrap;f=e||d;g=c.el.dom;h=f&&c.getPaddingInfo();if(d){a.setContentWidth(g.offsetWidth+h.width,true)}if(e){a.setContentHeight(g.offsetHeight+h.height,true)}}},doRenderColumn:function(a,b,c){var d=b.$layout,e=d.owner,f=b.columnCount,g=e.items.items,h=g.length,i,j,k,l,m;if(e.vertical){k=Math.ceil(h/f);j=c*k;h=Math.min(h,j+k);l=1}else{j=c;l=f}for(;j<h;j+=l){i=g[j];d.configureItem(i);m=i.getRenderTree();Ext.DomHelper.generateMarkup(m,a)}},getColumnCount:function(){var a=this,b=a.owner,c=b.columns;if(a.columnsArray){return c.length}if(Ext.isNumber(c)){return c}return b.items.length},getItemSizePolicy:function(a){return this.autoSizePolicy},getRenderData:function(){var a=this,b=a.callParent(),c=a.owner,d,e=a.getColumnCount(),f,g,h,i=a.autoFlex,j=0,k=0;if(a.columnsArray){for(d=0;d<e;d++){f=a.owner.columns[d];if(f<1){j+=f;k++}}}b.colCls=c.groupCls;b.columnCount=e;b.columns=[];for(d=0;d<e;d++){g=b.columns[d]={};if(a.columnsArray){f=a.owner.columns[d];if(f<1){h=f/j*100+"%"}else{h=f+"px"}g.style="width:"+h}else{g.style="width:"+1/e*100+"%";k++}}b.tableStyle=!k?"table-layout:fixed;":k<e?"table-layout:fixed;width:100%":i?"table-layout:auto;width:100%":"table-layout:auto;";return b},initLayout:function(){var a=this,b=a.owner;a.columnsArray=Ext.isArray(b.columns);a.autoColumns=!b.columns||b.columns==="auto";a.vertical=b.vertical;a.callParent()},isValidParent:function(){return true},setupRenderTpl:function(a){this.callParent(arguments);a.renderColumn=this.doRenderColumn},renderChildren:function(){var a=this,b=a.owner.items.generation;if(a.lastOwnerItemsGeneration!==b){a.lastOwnerItemsGeneration=b;a.renderItems(a.getLayoutItems())}},renderItems:function(a){var b=this,c=a.length,d,e,f,g,h,i;if(c){Ext.suspendLayouts();if(b.autoColumns){b.addMissingColumns(c)}g=b.columnNodes.length;f=Math.ceil(c/g);for(d=0;d<c;d++){e=a[d];h=b.getRenderRowIndex(d,f,g);i=b.getRenderColumnIndex(d,f,g);if(!e.rendered){b.renderItem(e,h,i)}else if(!b.isItemAtPosition(e,h,i)){b.moveItem(e,h,i)}}if(b.autoColumns){b.removeExceedingColumns(c)}Ext.resumeLayouts(true)}},isItemAtPosition:function(a,b,c){return a.el.dom===this.getNodeAt(b,c)},getRenderColumnIndex:function(a,b,c){if(this.vertical){return Math.floor(a/b)}else{return a%c}},getRenderRowIndex:function(a,b,c){var d=this;if(d.vertical){return a%b}else{return Math.floor(a/c)}},getNodeAt:function(a,b){return this.columnNodes[b].childNodes[a]},addMissingColumns:function(a){var b=this,c=b.columnNodes.length,d,e,f,g;if(c<a){d=a-c;e=b.rowEl;f=b.owner.groupCls;for(g=0;g<d;g++){e.createChild({cls:f,tag:"td",vAlign:"top"})}}},removeExceedingColumns:function(a){var b=this,c=b.columnNodes.length,d,e,f;if(c>a){d=c-a;e=b.rowEl;for(f=0;f<d;f++){e.last().remove()}}},renderItem:function(a,b,c){var d=this;d.configureItem(a);a.render(Ext.get(d.columnNodes[c]),b);d.afterRenderItem(a)},moveItem:function(a,b,c){var d=this,e=d.columnNodes[c],f=e.childNodes[b];e.insertBefore(a.el.dom,f||null)}});Ext.define("Ext.form.CheckboxManager",{extend:Ext.util.MixedCollection,singleton:true,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})}});Ext.define("Ext.form.field.Checkbox",{extend:Ext.form.field.Base,alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",componentLayout:"field",stretchInputElFixed:false,childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="{inputTypeAttr}" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl if="ariaAttrs"> {ariaAttrs}</tpl>',' class="{fieldCls} {typeCls} {inputCls} {childElCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:true,compiled:true}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",extraFieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",inputTypeAttr:"button",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){this.callParent(arguments);this.getManager().add(this)},initValue:function(){var a=this,b=!!a.checked;a.originalValue=a.lastValue=b;a.setValue(b)},getElConfig:function(){var a=this;if(a.isChecked(a.rawValue,a.inputValue)){a.addCls(a.checkedCls)}return a.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{disabled:a.readOnly||a.disabled,boxLabel:a.boxLabel,boxLabelCls:a.boxLabelCls,boxLabelAlign:a.boxLabelAlign,inputTypeAttr:a.inputTypeAttr})},initEvents:function(){var a=this;a.callParent();a.mon(a.inputEl,"click",a.onBoxClick,a)},setBoxLabel:function(a){var b=this;b.boxLabel=a;if(b.rendered){b.boxLabelEl.update(a)}},onBoxClick:function(a){var b=this;if(!b.disabled&&!b.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(a,b){return a===true||a==="true"||a==="1"||a===1||((Ext.isString(a)||Ext.isNumber(a))&&b?a==b:this.onRe.test(a))},setRawValue:function(a){var b=this,c=b.inputEl,d=b.isChecked(a,b.inputValue);if(c){b[d?"addCls":"removeCls"](b.checkedCls)}b.checked=b.rawValue=d;return d},setValue:function(a){var b=this,c,d,e,f;if(Ext.isArray(a)){c=b.getManager().getByName(b.name,b.getFormId()).items;e=c.length;for(d=0;d<e;++d){f=c[d];f.setValue(Ext.Array.contains(a,f.inputValue))}}else{b.callParent(arguments)}return b},valueToRaw:function(a){return a},onChange:function(a,b){var c=this,d=c.handler;if(d){d.call(c.scope||c,c,a)}c.callParent(arguments)},resetOriginalValue:function(a){var b=this,c,d,e,f;if(!a){c=b.getManager().getByName(b.name,b.getFormId()).items;e=c.length;for(f=0;f<e;++f){d=c[f];if(d!==b){c[f].resetOriginalValue(true)}}}b.callParent()},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=a.readOnly}},setReadOnly:function(a){var b=this,c=b.inputEl;if(c){c.dom.disabled=!!a||b.disabled}b.callParent(arguments)},getFormId:function(){var a=this,b;if(!a.formId){b=a.up("form");if(b){a.formId=b.id}}return a.formId}});Ext.define("Ext.form.CheckboxGroup",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.checkboxgroup",columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",initComponent:function(){var a=this;a.callParent();a.initField()},initValue:function(){var a=this,b=a.value;a.originalValue=a.lastValue=b||a.getValue();if(b){a.setValue(b)}},onAdd:function(a){var b=this,c,d,e;if(a.isCheckbox){b.mon(a,"change",b.checkChange,b)}else if(a.isContainer){c=a.items.items;for(e=0,d=c.length;e<d;e++){b.onAdd(c[e])}}b.callParent(arguments)},onRemove:function(a){var b=this,c,d,e;if(a.isCheckbox){b.mun(a,"change",b.checkChange,b)}else if(a.isContainer){c=a.items.items;for(e=0,d=c.length;e<d;e++){b.onRemove(c[e])}}b.callParent(arguments)},isEqual:function(a,b){var c=Ext.Object.toQueryString;return c(a)===c(b)},getErrors:function(){var a=[];if(!this.allowBlank&&Ext.isEmpty(this.getChecked())){a.push(this.blankText)}return a},getBoxes:function(a){return this.query("[isCheckbox]"+(a||""))},eachBox:function(a,b){Ext.Array.forEach(this.getBoxes(),a,b||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var a=this.getBoxes(),b,c=a.length;for(b=0;b<c;b++){if(a[b].isDirty()){return true}}},setReadOnly:function(a){var b=this.getBoxes(),c,d=b.length;for(c=0;c<d;c++){b[c].setReadOnly(a)}this.readOnly=a},reset:function(){var a=this,b=a.hasActiveError(),c=a.preventMark;a.preventMark=true;a.batchChanges(function(){var b=a.getBoxes(),c,d=b.length;for(c=0;c<d;c++){b[c].reset()}});a.preventMark=c;a.unsetActiveError();if(b){a.updateLayout()}},resetOriginalValue:function(){var a=this,b=a.getBoxes(),c,d=b.length;for(c=0;c<d;c++){b[c].resetOriginalValue()}a.originalValue=a.getValue();a.checkDirty()},setValue:function(a){var b=this,c=b.getBoxes(),d,e=c.length,f,g,h;b.batchChanges(function(){for(d=0;d<e;d++){f=c[d];g=f.getName();h=false;if(a&&a.hasOwnProperty(g)){if(Ext.isArray(a[g])){h=Ext.Array.contains(a[g],f.inputValue)}else{h=a[g]}}f.setValue(h)}});return b},getValue:function(){var a={},b=this.getBoxes(),c,d=b.length,e,f,g,h;for(c=0;c<d;c++){e=b[c];f=e.getName();g=e.inputValue;if(e.getValue()){if(a.hasOwnProperty(f)){h=a[f];if(!Ext.isArray(h)){h=a[f]=[h]}h.push(g)}else{a[f]=g}}}return a},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var a=this,b,c,d;if(a.disabled){c=true}else{b=a.getErrors();c=Ext.isEmpty(b);d=a.wasValid;if(c){a.unsetActiveError()}else{a.setActiveError(b)}}if(c!==d){a.wasValid=c;a.fireEvent("validitychange",a,c);a.updateLayout()}return c}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])});Ext.define("Ext.form.FieldSet",{extend:Ext.container.Container,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldset",collapsed:false,toggleOnTitleClick:true,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,beforeDestroy:function(){var a=this,b=a.legend;if(b){delete b.ownerCt;b.destroy();a.legend=null}a.callParent()},initComponent:function(){var a=this,b=a.baseCls;a.initFieldAncestor();a.callParent();a.layout.managePadding=a.layout.manageOverflow=false;a.addEvents("beforeexpand","beforecollapse","expand","collapse");if(a.collapsed){a.addCls(b+"-collapsed");a.collapse()}if(a.title||a.checkboxToggle||a.collapsible){a.addTitleClasses();a.legend=Ext.widget(a.createLegendCt())}a.initMonitor()},initPadding:function(a){var b=this,c=b.getProtoBody(),d=b.padding,e;if(d!==undefined){if(Ext.isIEQuirks||Ext.isIE8m){d=b.parseBox(d);e=Ext.Element.parseBox(0);e.top=d.top;d.top=0;c.setStyle("padding",b.unitizeBox(e))}a.setStyle("padding",b.unitizeBox(d))}},getProtoBody:function(){var a=this,b=a.protoBody;if(!b){a.protoBody=b=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true})}return b},initRenderData:function(){var a=this,b=a.callParent();b.bodyTargetCls=a.bodyTargetCls;a.protoBody.writeTo(b);delete a.protoBody;return b},getState:function(){var a=this.callParent();a=this.addPropertyToState(a,"collapsed");return a},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var a=this,b=[],c={xtype:"container",baseCls:a.baseCls+"-header",id:a.id+"-legend",autoEl:"legend",items:b,ownerCt:a,shrinkWrap:true,ownerLayout:a.componentLayout};if(a.checkboxToggle){b.push(a.createCheckboxCmp())}else if(a.collapsible){b.push(a.createToggleCmp())}b.push(a.createTitleCmp());return c},createTitleCmp:function(){var a=this,b={xtype:"component",html:a.title,cls:a.baseCls+"-header-text",id:a.id+"-legendTitle"};if(a.collapsible&&a.toggleOnTitleClick){b.listeners={click:{element:"el",scope:a,fn:a.toggle}};b.cls+=" "+a.baseCls+"-header-text-collapsible"}return a.titleCmp=Ext.widget(b)},createCheckboxCmp:function(){var a=this,b="-checkbox";a.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:true,name:a.checkboxName||a.id+b,cls:a.baseCls+"-header"+b,id:a.id+"-legendChk",checked:!a.collapsed,listeners:{change:a.onCheckChange,scope:a}});return a.checkboxCmp},createToggleCmp:function(){var a=this;a.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:a.toggle,id:a.id+"-legendToggle",scope:a});return a.toggleCmp},doRenderLegend:function(a,b){var c=b.$comp,d=c.legend,e;if(d){d.ownerLayout.configureItem(d);e=d.getRenderTree();Ext.DomHelper.generateMarkup(e,a)}},finishRender:function(){var a=this.legend;this.callParent();if(a){a.finishRender()}},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(a){var b=this,c=b.legend,d=b.baseCls;b.title=a;if(b.rendered){if(!c){b.legend=c=Ext.widget(b.createLegendCt());b.addTitleClasses();c.ownerLayout.configureItem(c);c.render(b.el,0)}b.titleCmp.update(a)}else if(c){b.titleCmp.update(a)}else{b.addTitleClasses();b.legend=Ext.widget(b.createLegendCt())}return b},addTitleClasses:function(){var a=this,b=a.title,c=a.baseCls;if(b){a.addCls(c+"-with-title")}if(b||a.checkboxToggle||a.collapsible){a.addCls(c+"-with-header")}},applyTargetCls:function(a){this.bodyTargetCls=a},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(a){var b=this,c=b.checkboxCmp,d=a?"expand":"collapse";if(!b.rendered||b.fireEvent("before"+d,b)!==false){a=!!a;if(c){c.setValue(a)}if(a){b.removeCls(b.baseCls+"-collapsed")}else{b.addCls(b.baseCls+"-collapsed")}b.collapsed=!a;if(a){delete b.getHierarchyState().collapsed}else{b.getHierarchyState().collapsed=true}if(b.rendered){b.updateLayout({isRoot:false});b.fireEvent(d,b)}}return b},getRefItems:function(a){var b=this.callParent(arguments),c=this.legend;if(c){b.unshift(c);if(a){b.unshift.apply(b,c.getRefItems(true))}}return b},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(a,b){this.setExpanded(b)},setupRenderTpl:function(a){this.callParent(arguments);a.renderLegend=this.doRenderLegend}});Ext.define("Ext.form.Label",{extend:Ext.Component,alias:"widget.label",autoEl:"label",maskOnDisable:false,getElConfig:function(){var a=this;a.html=a.text?Ext.util.Format.htmlEncode(a.text):a.html||"";return Ext.apply(a.callParent(),{htmlFor:a.forId||""})},setText:function(a,b){var c=this;b=b!==false;if(b){c.text=a;delete c.html}else{c.html=a;delete c.text}if(c.rendered){c.el.dom.innerHTML=b!==false?Ext.util.Format.htmlEncode(a):a;c.updateLayout()}return c}});Ext.define("Ext.form.Panel",{extend:Ext.panel.Panel,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var a=this;if(a.frame){a.border=false}a.initFieldAncestor();a.callParent();a.relayEvents(a.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(a.pollForChanges){a.startPolling(a.pollInterval||500)}},initItems:function(){this.callParent();this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments);this.form.initialize()},createForm:function(){var a={},b=this.basicFormConfigs,c=b.length,d=0,e;for(;d<c;++d){e=b[d];a[e]=this[e]}return new Ext.form.Basic(this,a)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(a,b,c,d){return this.getForm().getValues(a,b,c,d)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(a){this.stopPolling();var b=new Ext.util.TaskRunner(a);b.start({interval:0,run:this.checkChange,scope:this});this.pollTask=b},stopPolling:function(){var a=this.pollTask;if(a){a.stopAll();delete this.pollTask}},checkChange:function(){var a=this.form.getFields().items,b,c=a.length;for(b=0;b<c;b++){a[b].checkChange()}}});Ext.define("Ext.form.RadioManager",{extend:Ext.util.MixedCollection,singleton:true,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})},getWithValue:function(a,b,c){return this.filterBy(function(d){return d.name==a&&d.inputValue==b&&d.getFormId()==c})},getChecked:function(a,b){return this.findBy(function(c){return c.name==a&&c.checked&&c.getFormId()==b})}});Ext.define("Ext.form.field.Radio",{extend:Ext.form.field.Checkbox,alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",isRadio:true,focusCls:"form-radio-focus",inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onBoxClick:function(a){var b=this;if(!b.disabled&&!b.readOnly){this.setValue(true)}},onRemoved:function(){this.callParent(arguments);this.formId=null},setValue:function(a){var b=this,c;if(Ext.isBoolean(a)){b.callParent(arguments)}else{c=b.getManager().getWithValue(b.name,a,b.getFormId()).getAt(0);if(c){c.setValue(true)}}return b},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(a,b){var c=this,d,e,f,g;c.callParent(arguments);if(a){g=c.getManager().getByName(c.name,c.getFormId()).items;e=g.length;for(d=0;d<e;d++){f=g[d];if(f!==c){f.setValue(false)}}}},getManager:function(){return Ext.form.RadioManager}});Ext.define("Ext.form.RadioGroup",{extend:Ext.form.CheckboxGroup,alias:"widget.radiogroup",allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(a){return this.query("[isRadio]"+(a||""))},checkChange:function(){var a=this.getValue(),b=Ext.Object.getKeys(a)[0];if(Ext.isArray(a[b])){return}this.callParent(arguments)},setValue:function(a){var b,c,d,e,f,g,h;if(Ext.isObject(a)){for(h in a){if(a.hasOwnProperty(h)){b=a[h];c=this.items.first();d=c?c.getFormId():null;e=Ext.form.RadioManager.getWithValue(h,b,d).items;g=e.length;for(f=0;f<g;++f){e[f].setValue(true)}}}}return this}});Ext.define("Ext.form.action.DirectLoad",{extend:Ext.form.action.Load,alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var a=this,b=a.form,c=b.api,d=c.load,e,f;if(typeof d!=="function"){c.load=d=Ext.direct.Manager.parseMethod(d)}e=d.directCfg.method;f=e.getArgs(a.getParams(),b.paramOrder,b.paramsAsHash);f.push(a.onComplete,a);d.apply(window,f)},processResponse:function(a){return this.result=a},onComplete:function(a,b){if(a){this.onSuccess(a)}else{this.onFailure(null)}}});Ext.define("Ext.form.action.DirectSubmit",{extend:Ext.form.action.Submit,alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var a=this,b=a.form,c=b.api,d=c.submit,e=Ext.Function.bind(a.onComplete,a),f=a.buildForm(),g;if(typeof d!=="function"){c.submit=d=Ext.direct.Manager.parseMethod(d)}if(a.timeout||b.timeout){g={timeout:a.timeout*1e3||b.timeout*1e3}}d.call(window,f.formEl,e,a,g);a.cleanup(f)},processResponse:function(a){return this.result=a},onComplete:function(a,b){if(a){this.onSuccess(a)}else{this.onFailure(null)}}});Ext.define("Ext.form.action.StandardSubmit",{extend:Ext.form.action.Submit,alias:"formaction.standardsubmit",doSubmit:function(){var a=this.buildForm();a.formEl.submit();this.cleanup(a)}});Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:Ext.layout.component.field.Field,type:"triggerfield",borderWidths:{},beginLayout:function(a){var b=this,c=b.owner,d;a.triggerWrap=a.getEl("triggerWrap");b.callParent(arguments);d=c.getTriggerStateFlags();if(d!=c.lastTriggerStateFlags){c.lastTriggerStateFlags=d;b.updateEditState()}},beginLayoutCycle:function(a){this.callParent(arguments);if(a.widthModel.shrinkWrap&&!this.owner.inputWidth){a.inputContext.el.setStyle("width","")}},beginLayoutFixed:function(a,b,c){var d=this,e=a.target,f=d.ieInputWidthAdjustment||0,g="100%",h=e.triggerWrap;d.callParent(arguments);e.inputCell.setStyle("width","100%");if(f){d.adjustIEInputPadding(a);if(c==="px"){if(e.inputWidth){g=e.inputWidth-d.getExtraWidth(a)}else{g=b-f-d.getExtraWidth(a)}g+="px"}}e.inputEl.setStyle("width",g);g=e.inputWidth;if(g){h.setStyle("width",g+f+"px")}else{h.setStyle("width",b+c)}h.setStyle("table-layout","fixed")},adjustIEInputPadding:function(a){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},getExtraWidth:function(a){var b=this,c=b.owner,d=b.borderWidths,e=c.ui+c.triggerEl.getCount();if(!(e in d)){d[e]=a.triggerWrap.getBorderInfo().width}return d[e]+c.getTriggerWidth()},beginLayoutShrinkWrap:function(a){var b=a.target,c="",d=b.inputWidth,e=b.triggerWrap;this.callParent(arguments);if(d){e.setStyle("width",d+"px");d=d-this.getExtraWidth(a)+"px";b.inputEl.setStyle("width",d);b.inputCell.setStyle("width",d)}else{b.inputCell.setStyle("width",c);b.inputEl.setStyle("width",c);e.setStyle("width",c);e.setStyle("table-layout","auto")}},getTextWidth:function(){var a=this,b=a.owner,c=b.inputEl,d;d=(c.dom.value||(b.hasFocus?"":b.emptyText)||"")+b.growAppend;return c.getTextWidth(d)},publishOwnerWidth:function(a,b){var c=this.owner;this.callParent(arguments);if(!c.grow&&!c.inputWidth){b-=this.getExtraWidth(a);if(c.labelAlign!="top"){b-=c.getLabelWidth()}a.inputContext.setWidth(b)}},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},measureContentWidth:function(a){var b=this,c=b.owner,d=b.callParent(arguments),e=a.inputContext,f,g,h;if(c.grow&&!a.state.growHandled){f=b.getTextWidth()+a.inputContext.getFrameInfo().width;g=c.growMax;h=Math.min(g,d);g=Math.max(c.growMin,g,h);f=Ext.Number.constrain(f,c.growMin,g);e.setWidth(f);a.state.growHandled=true;e.domBlock(b,"width");d=NaN}else if(!c.inputWidth){d-=b.getExtraWidth(a)}return d},updateEditState:function(){var a=this,b=a.owner,c=b.inputEl,d=Ext.baseCSSPrefix+"trigger-noedit",e,f;if(a.owner.readOnly){c.addCls(d);f=true;e=false}else{if(a.owner.editable){c.removeCls(d);f=false}else{c.addCls(d);f=true}e=!a.owner.hideTrigger}b.triggerCell.setDisplayed(e);c.dom.readOnly=f}});Ext.define("Ext.form.field.Trigger",{extend:Ext.form.field.Text,alias:["widget.triggerfield","widget.trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:false,editable:true,readOnly:false,repeatTriggerClick:false,autoSize:Ext.emptyFn,monitorTab:true,mimicing:false,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus";this.callParent(arguments)},getSubTplMarkup:function(a){var b=this,c=a.childElCls,d=b.callParent(arguments);return'<table id="'+b.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+c+'" cellpadding="0" cellspacing="0"><tbody><tr>'+'<td id="'+b.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+c+'">'+d+"</td>"+b.getTriggerMarkup()+"</tr></tbody></table>"
},getSubTplData:function(){var a=this,b=a.callParent(),c=a.readOnly===true,d=a.editable!==false;return Ext.apply(b,{editableCls:c||!d?" "+a.triggerNoEditCls:"",readOnly:!d||c})},getLabelableRenderData:function(){var a=this,b=a.triggerWrapCls,c=a.callParent(arguments);return Ext.applyIf(c,{triggerWrapCls:b,triggerMarkup:a.getTriggerMarkup()})},getTriggerMarkup:function(){var a=this,b=0,c=a.readOnly||a.hideTrigger,d,e=a.triggerBaseCls,f=[],g=Ext.dom.Element.unselectableCls,h="width:"+a.triggerWidth+"px;"+(c?"display:none;":""),i=a.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+g;if(!a.trigger1Cls){a.trigger1Cls=a.triggerCls}for(b=0;(d=a["trigger"+(b+1)+"Cls"])||b<1;b++){f.push({tag:"td",valign:"top",cls:i,style:h,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+b,e,d].join(" "),role:"button"}})}f[0].cn.cls+=" "+e+"-first";return Ext.DomHelper.markup(f)},disableCheck:function(){return!this.disabled},beforeRender:function(){var a=this,b=a.triggerBaseCls,c;if(!a.triggerWidth){c=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"});Ext.form.field.Trigger.prototype.triggerWidth=c.getWidth();c.remove()}a.callParent();if(b!=Ext.baseCSSPrefix+"form-trigger"){a.addChildEls({name:"triggerEl",select:"."+b})}a.lastTriggerStateFlags=a.getTriggerStateFlags()},onRender:function(){var a=this;a.callParent(arguments);a.doc=Ext.getDoc();a.initTrigger()},getTriggerWidth:function(){var a=this,b=0;if(a.triggerWrap&&!a.hideTrigger&&!a.readOnly){b=a.triggerEl.getCount()*a.triggerWidth}return b},setHideTrigger:function(a){if(a!=this.hideTrigger){this.hideTrigger=a;this.updateLayout()}},setEditable:function(a){if(a!=this.editable){this.editable=a;this.updateLayout()}},setReadOnly:function(a){var b=this,c=b.readOnly;b.callParent(arguments);if(a!=c){b.updateLayout()}},initTrigger:function(){var a=this,b=a.triggerWrap,c=a.triggerEl,d=a.disableCheck,e,f,g,h,i;if(a.repeatTriggerClick){a.triggerRepeater=new Ext.util.ClickRepeater(b,{preventDefault:true,handler:a.onTriggerWrapClick,listeners:{mouseup:a.onTriggerWrapMouseup,scope:a},scope:a})}else{a.mon(b,{click:a.onTriggerWrapClick,mouseup:a.onTriggerWrapMouseup,scope:a})}c.setVisibilityMode(Ext.Element.DISPLAY);c.addClsOnOver(a.triggerBaseCls+"-over",d,a);e=c.elements;f=e.length;for(h=0;h<f;h++){g=e[h];i=h+1;g.addClsOnOver(a["trigger"+i+"Cls"]+"-over",d,a);g.addClsOnClick(a["trigger"+i+"Cls"]+"-click",d,a)}c.addClsOnClick(a.triggerBaseCls+"-click",d,a)},onDestroy:function(){var a=this;Ext.destroyMembers(a,"triggerRepeater","triggerWrap","triggerEl");delete a.doc;a.callParent()},onFocus:function(){var a=this;a.callParent(arguments);if(!a.mimicing){a.bodyEl.addCls(a.wrapFocusCls);a.mimicing=true;a.mon(a.doc,"mousedown",a.mimicBlur,a,{delay:10});if(a.monitorTab){a.on("specialkey",a.checkTab,a)}}},checkTab:function(a,b){if(!this.ignoreMonitorTab&&b.getKey()==b.TAB){this.triggerBlur()}},getTriggerStateFlags:function(){var a=this,b=0;if(a.readOnly){b+=1}if(a.editable){b+=2}if(a.hideTrigger){b+=4}return b},onBlur:Ext.emptyFn,mimicBlur:function(a){if(!this.isDestroyed&&!this.bodyEl.contains(a.target)&&this.validateBlur(a)){this.triggerBlur(a)}},triggerBlur:function(a){var b=this;b.mimicing=false;b.mun(b.doc,"mousedown",b.mimicBlur,b);if(b.monitorTab&&b.inputEl){b.un("specialkey",b.checkTab,b)}Ext.form.field.Trigger.superclass.onBlur.call(b,a);if(b.bodyEl){b.bodyEl.removeCls(b.wrapFocusCls)}},validateBlur:function(a){return true},onTriggerWrapClick:function(){var a=this,b,c,d,e;e=arguments[a.triggerRepeater?1:0];if(e&&!a.readOnly&&!a.disabled){b=e.getTarget("."+a.triggerBaseCls,null);c=b&&b.className.match(a.triggerIndexRe);if(c){d=a["onTrigger"+(parseInt(c[1],10)+1)+"Click"]||a.onTriggerClick;if(d){d.call(a,e)}}}},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn});Ext.define("Ext.form.field.Picker",{extend:Ext.form.field.Trigger,alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:true,initComponent:function(){this.callParent();this.addEvents("expand","collapse","select")},initEvents:function(){var a=this;a.callParent();a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:false},scope:a,forceKeyDown:true});if(!a.editable){a.mon(a.inputEl,"click",a.onTriggerClick,a)}if(Ext.isGecko){a.inputEl.dom.setAttribute("autocomplete","off")}},onEsc:function(a){if(Ext.isIE){a.preventDefault()}if(this.isExpanded){this.collapse();a.stopEvent()}},onDownArrow:function(a){if(!this.isExpanded){this.onTriggerClick()}},expand:function(){var a=this,b,c,d;if(a.rendered&&!a.isExpanded&&!a.isDestroyed){a.expanding=true;b=a.bodyEl;c=a.getPicker();d=a.collapseIf;c.show();a.isExpanded=true;a.alignPicker();b.addCls(a.openCls);a.mon(Ext.getDoc(),{mousewheel:d,mousedown:d,scope:a});Ext.EventManager.onWindowResize(a.alignPicker,a);a.fireEvent("expand",a);a.onExpand();delete a.expanding}},onExpand:Ext.emptyFn,alignPicker:function(){var a=this,b=a.getPicker();if(a.isExpanded){if(a.matchFieldWidth){b.setWidth(a.bodyEl.getWidth())}if(b.isFloating()){a.doAlign()}}},doAlign:function(){var a=this,b=a.picker,c="-above",d;a.picker.alignTo(a.triggerWrap,a.pickerAlign,a.pickerOffset);d=b.el.getY()<a.inputEl.getY();a.bodyEl[d?"addCls":"removeCls"](a.openCls+c);b[d?"addCls":"removeCls"](b.baseCls+c)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var a=this,b=a.openCls,c=a.picker,d=Ext.getDoc(),e=a.collapseIf,f="-above";c.hide();a.isExpanded=false;a.bodyEl.removeCls([b,b+f]);c.el.removeCls(c.baseCls+f);d.un("mousewheel",e,a);d.un("mousedown",e,a);Ext.EventManager.removeResizeListener(a.alignPicker,a);a.fireEvent("collapse",a);a.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(a){var b=this;if(!b.isDestroyed&&!a.within(b.bodyEl,false,true)&&!a.within(b.picker.el,false,true)&&!b.isEventWithinPickerLoadMask(a)){b.collapse()}},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.expand()}a.inputEl.focus()}},triggerBlur:function(){var a=this.picker;this.callParent(arguments);if(a&&a.isVisible()){a.hide()}},mimicBlur:function(a){var b=this,c=b.picker;if(!c||!a.within(c.el,false,true)&&!b.isEventWithinPickerLoadMask(a)){b.callParent(arguments)}},onDestroy:function(){var a=this,b=a.picker;Ext.EventManager.removeResizeListener(a.alignPicker,a);Ext.destroy(a.keyNav);if(b){delete b.pickerField;b.destroy()}a.callParent()},isEventWithinPickerLoadMask:function(a){var b=this.picker.loadMask;return b?a.within(b.maskEl,false,true)||a.within(b.el,false,true):false}});Ext.define("Ext.selection.Model",{extend:Ext.util.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:{bindable:Ext.util.Bindable},allowDeselect:undefined,toggleOnClick:true,selected:null,pruneRemoved:true,suspendChange:0,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.addEvents("selectionchange","focuschange");b.modes={SINGLE:true,SIMPLE:true,MULTI:true};b.setSelectionMode(a.mode||b.mode);b.selected=new Ext.util.MixedCollection(null,b.getSelectionId);b.callParent(arguments)},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments);if(c.store&&!b){c.refresh()}},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,bulkremove:a.onStoreRemove,update:a.onStoreUpdate,load:a.onStoreLoad,idchanged:a.onModelIdChanged,refresh:a.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(a){var b=this,c=b.store.getRange(),d=0,e=c.length,f=b.getSelection().length;b.suspendChanges();for(;d<e;d++){b.doSelect(c[d],true,a)}b.resumeChanges();if(!a){b.maybeFireSelectionChange(b.getSelection().length!==f)}},deselectAll:function(a){var b=this,c=b.getSelection(),d={},e=b.store,f=c.length,g,h,i;for(g=0,h=c.length;g<h;g++){i=c[g];d[i.internalId]=e.indexOf(i)}c=Ext.Array.sort(c,function(a,b){var c=d[a.internalId],e=d[b.internalId];return c<e?-1:1});b.suspendChanges();b.doDeselect(c,a);b.resumeChanges();if(!a){b.maybeFireSelectionChange(b.getSelection().length!==f)}},selectWithEvent:function(a,b){var c=this,d=c.isSelected(a),e=b.shiftKey,f=b.ctrlKey,g=c.selectionStart,h=c.getSelection(),i=h.length,j=c.allowDeselect,k,l,m;switch(c.selectionMode){case"MULTI":if(e&&g){c.selectRange(g,a,f)}else if(f&&d){c.doDeselect(a,false)}else if(f){c.doSelect(a,true,false)}else if(d&&!e&&!f&&i>1){k=[];for(l=0;l<i;++l){m=h[l];if(m!==a){k.push(m)}}c.doDeselect(k)}else if(!d){c.doSelect(a,false)}break;case"SIMPLE":if(d){c.doDeselect(a)}else{c.doSelect(a,true)}break;case"SINGLE":if(j&&!f){j=c.toggleOnClick}if(j&&d){c.doDeselect(a)}else{c.doSelect(a,false)}break}if(!e){if(c.isSelected(a)){c.selectionStart=a}else{c.selectionStart=null}}},afterKeyNavigate:function(a,b){var c=this,d,e,f=c.isSelected(b),g=c.selectionStart&&c.isSelected(c.lastFocused)?c.selectionStart:c.selectionStart=c.lastFocused,h=a.getCharCode(),i=h===a.SPACE,j=h===a.UP||h===a.PAGE_UP?"up":h===a.DOWN||h===a.DOWN?"down":null;switch(c.selectionMode){case"MULTI":if(i){if(a.shiftKey){c.selectRange(g,b,a.ctrlKey)}else{if(f){c.doDeselect(b,a.ctrlKey);c.setLastFocused(null);c.setLastFocused(b)}else{c.doSelect(b,a.ctrlKey)}}}else if(a.shiftKey&&g){e=c.store.indexOf(g);d=c.store.indexOf(b);if(j==="up"&&e<=d){c.deselectRange(c.lastFocused,d+1)}else if(j==="down"&&e>=d){c.deselectRange(c.lastFocused,d-1)}else if(g!==b){c.selectRange(g,b,a.ctrlKey)}c.lastSelected=b;c.setLastFocused(b)}else if(a.ctrlKey&&f){c.setLastFocused(b)}else if(a.ctrlKey){c.setLastFocused(b)}else{c.doSelect(b,false)}break;case"SIMPLE":if(f){c.doDeselect(b)}else{c.doSelect(b,true)}break;case"SINGLE":if(i){if(f){c.doDeselect(b);c.setLastFocused(b)}else{c.doSelect(b)}}else if(a.ctrlKey){c.setLastFocused(b)}else if(c.allowDeselect&&f){c.doDeselect(b)}else{c.doSelect(b,false)}break}if(!a.shiftKey){if(c.isSelected(b)){c.selectionStart=b}}},selectRange:function(a,b,c){var d=this,e=d.store,f=d.selected.items,g,h,i,j,k,l,m;if(d.isLocked()){return}g=d.normalizeRowRange(a,b);a=g[0];b=g[1];j=[];for(h=a;h<=b;h++){if(!d.isSelected(e.getAt(h))){j.push(e.getAt(h))}}if(!c){k=[];d.suspendChanges();for(h=0,i=f.length;h<i;++h){m=f[h];l=e.indexOf(m);if(l<a||l>b){k.push(m)}}for(h=0,i=k.length;h<i;++h){d.doDeselect(k[h])}d.resumeChanges()}d.doMultiSelect(j,true)},deselectRange:function(a,b){var c=this,d=c.store,e,f,g,h;if(c.isLocked()){return}e=c.normalizeRowRange(a,b);a=e[0];b=e[1];g=[];for(f=a;f<=b;f++){h=d.getAt(f);if(c.isSelected(h)){g.push(h)}}c.doDeselect(g)},normalizeRowRange:function(a,b){var c=this.store,d;if(!Ext.isNumber(a)){a=c.indexOf(a)}a=Math.max(0,a);if(!Ext.isNumber(b)){b=c.indexOf(b)}b=Math.min(b,c.getCount()-1);if(a>b){d=b;b=a;a=d}return[a,b]},onModelIdChanged:function(a,b,c,d,e){this.selected.updateKey(e,d)},select:function(a,b,c){if(Ext.isDefined(a)){this.doSelect(a,b,c)}},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){var d=this,e;if(d.locked||!d.store){return}if(typeof a==="number"){e=d.store.getAt(a);if(!e){return}a=[e]}if(d.selectionMode=="SINGLE"&&a){e=a.length?a[0]:a;d.doSingleSelect(e,c)}else{d.doMultiSelect(a,b,c)}},doMultiSelect:function(a,b,c){var d=this,e=d.selected,f=false,g,h,i,j,k;if(d.locked){return}a=!Ext.isArray(a)?[a]:a;i=a.length;if(!b&&e.getCount()>0){g=d.deselectDuringSelect(a,e.getRange(),c);if(g[0]){d.maybeFireSelectionChange(g[1]>0&&!c);return}}k=function(){e.add(j);f=true};for(h=0;h<i;h++){j=a[h];if(d.isSelected(j)){continue}d.lastSelected=j;d.onSelectChange(j,true,c,k)}if(!d.preventFocus){d.setLastFocused(j,c)}d.maybeFireSelectionChange(f&&!c)},deselectDuringSelect:function(a,b,c){var d=this,e=b.length,f=0,g=false,h,i;d.suspendChanges();for(i=0;i<e;++i){h=b[i];if(!Ext.Array.contains(a,h)){if(d.doDeselect(h,c)){++f}else{g=true}}}d.resumeChanges();return[g,f]},doDeselect:function(a,b){var c=this,d=c.selected,e=0,f,g,h=0,i=0,j;if(c.locked||!c.store){return false}if(typeof a==="number"){g=c.store.getAt(a);if(!g){return false}a=[g]}else if(!Ext.isArray(a)){a=[a]}j=function(){++i;d.remove(g)};f=a.length;c.suspendChanges();for(;e<f;e++){g=a[e];if(c.isSelected(g)){if(c.lastSelected===g){c.lastSelected=d.last();if(c.lastFocused===g){c.setLastFocused(null)}}++h;c.onSelectChange(g,false,b,j)}}c.resumeChanges();c.maybeFireSelectionChange(i>0&&!b);return i===h},doSingleSelect:function(a,b){var c=this,d=false,e=c.selected,f;if(c.locked){return}if(c.isSelected(a)){return}if(e.getCount()){c.suspendChanges();if(!c.doDeselect(c.lastSelected,b)){c.resumeChanges();return}c.resumeChanges()}f=function(){e.add(a);c.lastSelected=a;d=true};c.onSelectChange(a,true,b,f);if(d){if(!b&&!c.preventFocus){c.setLastFocused(a)}c.maybeFireSelectionChange(!b)}},setLastFocused:function(a,b){var c=this,d=c.lastFocused;if(a!==d){c.lastFocused=a;c.onLastFocusChanged(d,a,b)}},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){var b=this;if(a&&!b.suspendChange){b.fireEvent("selectionchange",b,b.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(a,b){var c=this,d=c.store,e,f;f=c.normalizeRowRange(a,b);a=f[0];b=f[1];for(e=a;e<=b;e++){if(!c.isSelected(d.getAt(e))){return false}}return true},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(a){return a.internalId},pruneIf:function(){var a=this,b=a.selected,c=[],d=b.length,e,f;if(a.pruneRemoved){for(e=0;e<d;e++){f=b.getAt(e);if(!this.storeHasSelected(f)){c.push(f)}}if(c.length){for(e=0,d=c.length;e<d;e++){b.remove(c[e])}a.maybeFireSelectionChange(true)}}},storeHasSelected:function(a){var b=this.store,c,d,e,f;if(a.hasId()&&b.getById(a)){return true}else{c=b.data.items;d=c.length;e=a.internalId;for(f=0;f<d;++f){if(e===c[f].internalId){return true}}}return false},refresh:function(){var a=this,b=a.store,c,d=[],e=[],f=a.getSelection(),g=f.length,h,i,j=0,k=a.getLastFocused();if(!b){return}for(;j<g;j++){h=f[j];if(b.indexOf(h)!==-1){d.push(h)}else if(!a.pruneRemoved){c=b.getById(h.getId());if(c){d.push(c)}else{e.push(h)}}if(a.mode==="SINGLE"&&e.length){break}}if(a.selected.getCount()!=d.length+e.length){i=true}a.clearSelections();if(b.indexOf(k)!==-1){a.setLastFocused(k,true)}if(d.length){a.doSelect(d,false,true)}if(e.length){a.selected.addAll(e);if(!a.lastSelected){a.lastSelected=e[e.length-1]}}a.maybeFireSelectionChange(i)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount()>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(a,b,c,d){var e=this;if(e.selectionStart&&Ext.Array.contains(b,e.selectionStart)){e.selectionStart=null}if(d||e.locked||!e.pruneRemoved){return}e.deselectDeletedRecords(b)},deselectDeletedRecords:function(a){var b=this,c=b.selected,d,e=a.length,f=0,g;for(d=0;d<e;d++){g=a[d];if(c.remove(g)){if(b.lastSelected==g){b.lastSelected=null}if(b.getLastFocused()==g){b.setLastFocused(null)}++f}}if(f){b.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(a,b,c,d){var e=this,f=b?"select":"deselect";if((c||e.fireEvent("before"+f,e,a))!==false&&d()!==false){if(!c){e.fireEvent(f,e,a)}}},onLastFocusChanged:function(a,b){this.fireEvent("focuschange",this,a,b)},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),true)},bindComponent:Ext.emptyFn});Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,deselectOnContainerClick:true,enableKeyNav:true,constructor:function(a){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(a){var b=this,c={refresh:b.refresh,scope:b};b.view=a;b.bindStore(a.getStore());c[a.triggerEvent]=b.onItemClick;c[a.triggerCtEvent]=b.onContainerClick;a.on(c);if(b.enableKeyNav){b.initKeyNav(a)}},onUpdate:function(a){var b=this.view;if(b&&this.isSelected(a)){b.onItemSelect(a)}},onItemClick:function(a,b,c,d,e){this.selectWithEvent(b,e)},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on({render:Ext.Function.bind(b.initKeyNav,b,[a]),single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,down:Ext.pass(b.onNavKey,[1],b),right:Ext.pass(b.onNavKey,[1],b),left:Ext.pass(b.onNavKey,[-1],b),up:Ext.pass(b.onNavKey,[-1],b),scope:b})},onNavKey:function(a){a=a||1;var b=this,c=b.view,d=b.getSelection()[0],e=b.view.store.getCount(),f;if(d){f=c.indexOf(c.getNode(d))+a}else{f=0}if(f<0){f=e-1}else if(f>=e){f=0}b.select(f)},onSelectChange:function(a,b,c,d){var e=this,f=e.view,g=b?"select":"deselect";if((c||e.fireEvent("before"+g,e,a))!==false&&d()!==false){if(f){if(b){f.onItemSelect(a)}else{f.onItemDeselect(a)}}if(!c){e.fireEvent(g,e,a)}}},onLastFocusChanged:function(a,b,c){var d=this.view;if(d&&!c&&b){d.focusNode(b);this.fireEvent("focuschange",this,a,b)}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:{bindable:Ext.util.Bindable},inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:true,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,last:false,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var a=this,b=Ext.isDefined,c=a.itemTpl,d={};if(c){if(Ext.isArray(c)){c=c.join("")}else if(Ext.isObject(c)){d=Ext.apply(d,c.initialConfig);c=c.html}if(!a.itemSelector){a.itemSelector="."+a.itemCls}c=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',a.itemCls,c);a.tpl=new Ext.XTemplate(c,d)}a.callParent();a.tpl=a.getTpl("tpl");if(a.overItemCls){a.trackOver=true}a.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove");a.addCmpEvents();a.store=Ext.data.StoreManager.lookup(a.store||"ext-empty-store");if(!a.dataSource){a.dataSource=a.store}a.bindStore(a.dataSource,true,"dataSource");if(!a.all){a.all=new Ext.CompositeElementLite}a.scrollState={top:0,left:0};a.on({scroll:a.onViewScroll,element:"el",scope:a})},onRender:function(){var a=this,b=a.loadMask,c=a.getMaskStore(),d={target:a,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:c};a.callParent(arguments);if(b&&!c.proxy.isSynchronous){if(Ext.isObject(b)){d=Ext.apply(d,b)}a.loadMask=new Ext.LoadMask(d);a.loadMask.on({scope:a,beforeshow:a.onMaskBeforeShow,hide:a.onMaskHide})}},finishRender:function(){var a=this;a.callParent(arguments);if(!a.up("[collapsed],[hidden]")){a.doFirstRefresh(a.dataSource)}},onBoxReady:function(){var a=this;a.callParent(arguments);if(!a.firstRefreshDone){a.doFirstRefresh(a.dataSource)}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=this,b=a.loadingHeight;if(b&&b>a.getHeight()){a.hasLoadingHeight=true;a.oldMinHeight=a.minHeight;a.minHeight=b;a.updateLayout()}},onMaskHide:function(){var a=this;if(!a.destroying&&a.hasLoadingHeight){a.minHeight=a.oldMinHeight;a.updateLayout();delete a.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=this,b="SINGLE";if(a.simpleSelect){b="SIMPLE"}else if(a.multiSelect){b="MULTI"}if(!a.selModel||!a.selModel.events){a.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:a.allowDeselect,mode:b},a.selModel))}if(!a.selModel.hasRelaySetup){a.relayEvents(a.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);a.selModel.hasRelaySetup=true}if(a.disableSelection){a.selModel.locked=true}return a.selModel},refresh:function(){var a=this,b,c,d,e,f,g;if(!a.rendered||a.isDestroyed){return}if(!a.hasListeners.beforerefresh||a.fireEvent("beforerefresh",a)!==false){b=a.getTargetEl();g=a.getViewRange();f=b.dom;if(!a.preserveScrollOnRefresh){c=f.parentNode;d=f.style.display;f.style.display="none";e=f.nextSibling;c.removeChild(f)}if(a.refreshCounter){a.clearViewEl()}else{a.fixedNodes=b.dom.childNodes.length;a.refreshCounter=1}a.tpl.append(b,a.collectData(g,a.all.startIndex));if(g.length<1){if(!this.store.loading&&(!a.deferEmptyText||a.hasFirstRefresh)){Ext.core.DomHelper.insertHtml("beforeEnd",b.dom,a.emptyText)}a.all.clear()}else{a.collectNodes(b.dom);a.updateIndexes(0)}if(a.hasFirstRefresh){if(a.refreshSelmodelOnRefresh!==false){a.selModel.refresh()}else{a.selModel.pruneIf()}}a.hasFirstRefresh=true;if(!a.preserveScrollOnRefresh){c.insertBefore(f,e);f.style.display=d}this.refreshSize();a.fireEvent("refresh",a);if(!a.viewReady){a.viewReady=true;a.fireEvent("viewready",a)}}},collectNodes:function(a){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(a)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var a=this.getSizeModel();if(a.height.shrinkWrap||a.width.shrinkWrap){this.updateLayout()}},clearViewEl:function(){var a=this,b=a.getTargetEl();if(a.fixedNodes){while(b.dom.childNodes[a.fixedNodes]){b.dom.removeChild(b.dom.childNodes[a.fixedNodes])}}else{b.update("")}a.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;b.left=a.scrollLeft;b.top=a.scrollTop}},restoreScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;a.scrollLeft=b.left;a.scrollTop=b.top}},prepareData:function(a,b,c){var d,e,f;if(c){d=c.getAssociatedData();for(e in d){if(d.hasOwnProperty(e)){if(!f){a=Ext.Object.chain(a);f=true}a[e]=d[e]}}}return a},collectData:function(a,b){var c=[],d=0,e=a.length,f;for(;d<e;d++){f=a[d];c[d]=this.prepareData(f.data,b+d,f)}return c},bufferRender:function(a,b){var c=this,d=c.renderBuffer||(c.renderBuffer=document.createElement("div"));c.tpl.overwrite(d,c.collectData(a,b));return Ext.DomQuery.select(c.getItemSelector(),d)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(a,b){var c=this,d,e;if(c.viewReady){d=c.dataSource.indexOf(b);if(d>-1){e=c.bufferRender([b],d)[0];if(c.getNode(b)){c.all.replaceElement(d,e,true);c.updateIndexes(d,d);c.selModel.onUpdate(b);if(c.hasListeners.itemupdate){c.fireEvent("itemupdate",b,d,e)}return e}}}},onAdd:function(a,b,c){var d=this,e;if(d.rendered){if(d.all.getCount()===0){d.refresh();e=d.all.slice()}else{e=d.doAdd(b,c);if(d.refreshSelmodelOnRefresh!==false){d.selModel.refresh()}d.updateIndexes(c);d.refreshSize()}if(d.hasListeners.itemadd){d.fireEvent("itemadd",b,c,e)}}},doAdd:function(a,b){var c=this,d=c.bufferRender(a,b,true),e=c.all,f=e.getCount(),g,h;if(f===0){for(g=0,h=d.length;g<h;g++){this.getNodeContainer().appendChild(d[g])}}else if(b<f){if(b===0){e.item(b).insertSibling(d,"before",true)}else{e.item(b-1).insertSibling(d,"after",true)}}else{e.last().insertSibling(d,"after",true)}e.insert(b,d);return d},onRemove:function(a,b,c){var d=this,e=d.hasListeners.itemremove,f,g,h;if(d.all.getCount()){if(d.dataSource.getCount()===0){if(e){for(f=c.length-1;f>=0;--f){d.fireEvent("itemremove",b[f],c[f])}}d.refresh()}else{for(f=c.length-1;f>=0;--f){g=b[f];h=c[f];d.doRemove(g,h);if(e){d.fireEvent("itemremove",g,h)}}d.updateIndexes(c[0])}this.refreshSize()}},doRemove:function(a,b){this.all.removeElement(b,true)},refreshNode:function(a){this.onUpdate(this.dataSource,this.dataSource.getAt(a))},updateIndexes:function(a,b){var c=this.all.elements,d=this.getViewRange(),e;a=a||0;b=b||(b===0?0:c.length-1);for(e=a;e<=b;e++){c[e].viewIndex=e;c[e].viewRecordId=d[e].internalId;if(!c[e].boundView){c[e].boundView=this.id}}},getStore:function(){return this.store},bindStore:function(a,b,c){var d=this;d.mixins.bindable.bindStore.apply(d,arguments);if(!b){d.getSelectionModel().bindStore(a)}if(d.componentLayoutCounter){d.doFirstRefresh(a)}},doFirstRefresh:function(a){var b=this;b.firstRefreshDone=true;if(a&&!a.loading){if(b.deferInitialRefresh){b.applyFirstRefresh()}else{b.refresh()}}},applyFirstRefresh:function(){var a=this;if(a.isDestroyed){return}if(a.up("[isCollapsingOrExpanding]")){Ext.Function.defer(a.applyFirstRefresh,100,a)}else{Ext.Function.defer(function(){if(!a.isDestroyed){a.refresh()}},1)}},onUnbindStore:function(a){this.setMaskBind(null)},onBindStore:function(a,b,c){this.setMaskBind(a);if(!b&&c==="store"){this.bindStore(a,false,"dataSource")}},setMaskBind:function(a){var b=this.loadMask;if(b&&b.bindStore){b.bindStore(a)}},getStoreListeners:function(){var a=this;return{idchanged:a.onIdChanged,refresh:a.onDataRefresh,add:a.onAdd,bulkremove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var a=this,b=!a.firstRefreshDone&&(!a.rendered||a.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));if(b){a.deferInitialRefresh=false}else if(a.blockRefresh!==true){a.firstRefreshDone=true;a.refresh()}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var a=[],b=this.selModel.getSelection(),c=b.length,d=0;for(;d<c;d++){a.push(this.getNode(b[d]))}return a},getRecords:function(a){var b=[],c=0,d=a.length,e=this.dataSource.data;for(;c<d;c++){b[b.length]=e.getByKey(a[c].viewRecordId)}return b},getRecord:function(a){return this.dataSource.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(a){var b=this.getRecord(a);return this.selModel.isSelected(b)},select:function(a,b,c){this.selModel.select(a,b,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){if(!a&&a!==0||!this.rendered){return null}if(Ext.isString(a)){return document.getElementById(a)}if(Ext.isNumber(a)){return this.all.elements[a]}if(a.isModel){return this.getNodeByRecord(a)}return a},getNodeByRecord:function(a){var b=this.all.elements,c=b.length,d=0;for(;d<c;d++){if(b[d].viewRecordId===a.internalId){return b[d]}}return null},getNodes:function(a,b){var c=this.all;if(b===undefined){b=c.getCount()}else{b++}return c.slice(a||0,b)},indexOf:function(a){a=this.getNode(a);if(!a&&a!==0){return-1}if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onDestroy:function(){var a=this;a.all.clear();a.callParent();a.bindStore(null);a.selModel.destroy()},onItemSelect:function(a){var b=this.getNode(a);if(b){Ext.fly(b).addCls(this.selectedItemCls)}},onItemDeselect:function(a){var b=this.getNode(a);if(b){Ext.fly(b).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(a,b,c){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var d=this.getSelectionModel();return d.select.apply(d,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var a=this.getSelectionModel();return a.deselectAll()}})})});Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var a=this;a.callParent();if(a.mouseOverOutBuffer){a.handleMouseOverOrOut=Ext.Function.createBuffered(a.handleMouseOverOrOut,a.mouseOverOutBuffer,a);a.lastMouseOverOutEvent=new Ext.EventObjectImpl}else if(a.deferHighlight){a.setHighlightedItem=Ext.Function.createBuffered(a.setHighlightedItem,a.deferHighlight,a)}},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this,b=a.mouseOverOutBuffer?a.onMouseOverOut:a.handleMouseOverOrOut;a.callParent();a.mon(a.getTargetEl(),{scope:a,freezeEvent:true,click:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,mouseover:b,mouseout:b})},onMouseOverOut:function(a){var b=this;b.lastMouseOverOutEvent.setEvent(a.browserEvent,true);b.handleMouseOverOrOut(b.lastMouseOverOutEvent)},handleMouseOverOrOut:function(a){var b=this,c=a.type==="mouseout",d=c?a.getRelatedTarget:a.getTarget,e=d.call(a,b.itemSelector)||d.call(a,b.dataRowSelector);if(!b.mouseOverItem||e!==b.mouseOverItem){if(b.mouseOverItem){a.item=b.mouseOverItem;a.newType="mouseleave";b.handleEvent(a)}b.mouseOverItem=e;if(b.mouseOverItem){a.item=b.mouseOverItem;a.newType="mouseenter";b.handleEvent(a)}}},handleEvent:function(a){var b=this,c=a.type=="keydown"&&a.getKey();if(b.processUIEvent(a)!==false){b.processSpecialEvent(a)}if(c===a.SPACE){if(!b.inputTagRe.test(a.getTarget().tagName)){a.stopEvent()}}},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(a){if(!Ext.getBody().isAncestor(a.target)){return}var b=this,c=a.getTarget(b.getItemSelector(),b.getTargetEl()),d=this.statics().EventMap,e,f,g=a.type,h=a.type,i;if(a.newType){h=a.newType;c=a.item}if(!c&&g=="keydown"){i=b.getSelectionModel();f=i.lastFocused||i.getLastSelected();if(f){c=b.getNode(f,true)}}if(c){if(!f){f=b.getRecord(c)}e=b.indexInStore?b.indexInStore(f):b.indexOf(c);if(!f||b.processItemEvent(f,c,e,a)===false){return false
}if(b["onBeforeItem"+d[h]](f,c,e,a)===false||b.fireEvent("beforeitem"+h,b,f,c,e,a)===false||b["onItem"+d[h]](f,c,e,a)===false){return false}b.fireEvent("item"+h,b,f,c,e,a)}else{if(b.processContainerEvent(a)===false||b["onBeforeContainer"+d[g]](a)===false||b.fireEvent("beforecontainer"+g,b,a)===false||b["onContainer"+d[g]](a)===false){return false}b.fireEvent("container"+g,b,a)}return true},onItemMouseEnter:function(a,b,c,d){if(this.trackOver){this.highlightItem(b)}},onItemMouseLeave:function(a,b,c,d){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(a){var b=this,c=b.highlightedItem,d=b.overItemCls,e=b.beforeOverItemCls,f;if(c!=a){if(c){Ext.fly(c).removeCls(d);f=c.previousSibling;if(e&&f){Ext.fly(f).removeCls(e)}b.fireEvent("unhighlightitem",b,c)}b.highlightedItem=a;if(a){Ext.fly(a).addCls(b.overItemCls);f=a.previousSibling;if(e&&f){Ext.fly(f).addCls(e)}b.fireEvent("highlightitem",b,a)}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(undefined)},onUpdate:function(a,b){var c=this,d,e,f;if(c.viewReady){d=c.getNode(b);e=c.callParent(arguments);f=c.highlightedItem;if(f&&f===d){delete c.highlightedItem;if(e){c.highlightItem(e)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(a){var b=this,c=b.getNode(a,true),d=b.el,e=0,f=0,g=d.getRegion(),h;g.bottom=g.top+d.dom.clientHeight;g.right=g.left+d.dom.clientWidth;if(c){h=Ext.fly(c).getRegion();if(h.top<g.top){e=h.top-g.top}else if(h.bottom>g.bottom){e=h.bottom-g.bottom}if(h.left<g.left){f=h.left-g.left}else if(h.right>g.right){f=h.right-g.right}if(f||e){b.scrollBy(f,e,false)}d.focus()}}});Ext.define("Ext.layout.component.BoundList",{extend:Ext.layout.component.Auto,alias:"layout.boundlist",type:"component",beginLayout:function(a){var b=this,c=b.owner,d=c.pagingToolbar;b.callParent(arguments);if(c.floating){a.savedXY=c.getXY();c.setXY([0,-9999])}if(d){a.toolbarContext=a.context.getCmp(d)}a.listContext=a.getEl("listEl")},beginLayoutCycle:function(a){var b=this.owner;this.callParent(arguments);if(a.heightModel.auto){b.el.setHeight("auto");b.listEl.setHeight("auto")}},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return true},finishedLayout:function(a){var b=a.savedXY;this.callParent(arguments);if(b){this.owner.setXY(b)}},measureContentWidth:function(a){return this.owner.listEl.getWidth()},measureContentHeight:function(a){return this.owner.listEl.getHeight()},publishInnerHeight:function(a,b){var c=a.toolbarContext,d=0;if(c){d=c.getProp("height")}if(d===undefined){this.done=false}else{a.listContext.setHeight(b-a.getFrameInfo().height-d)}},calculateOwnerHeightFromContentHeight:function(a){var b=this.callParent(arguments),c=a.toolbarContext;if(c){b+=c.getProp("height")}return b}});Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var a=this;a.callParent();Ext.apply(a.renderData,{text:a.text})},setText:function(a){var b=this;b.text=a;if(b.rendered){b.el.update(a);b.updateLayout()}}});Ext.define("Ext.form.field.Spinner",{extend:Ext.form.field.Trigger,alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}">'+'<div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="button"></div>'+'<div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="button"></div>'+"</td>"+"</tr>",initComponent:function(){this.callParent();this.addEvents("spin","spinup","spindown")},onRender:function(){var a=this,b;a.callParent(arguments);b=a.triggerEl;a.spinUpEl=b.item(0);a.spinDownEl=b.item(1);a.triggerCell=a.spinUpEl.parent();if(a.keyNavEnabled){a.spinnerKeyNav=new Ext.util.KeyNav(a.inputEl,{scope:a,up:a.spinUp,down:a.spinDown})}if(a.mouseWheelEnabled){a.mon(a.bodyEl,"mousewheel",a.onMouseWheel,a)}},getSubTplMarkup:function(a){var b=this,c=a.childElCls,d=Ext.form.field.Base.prototype.getSubTplMarkup.apply(b,arguments);return'<table id="'+b.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+c+'" cellpadding="0" cellspacing="0">'+"<tbody>"+'<tr><td id="'+b.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+c+'">'+d+"</td>"+b.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){var a=this,b=a.readOnly||a.hideTrigger;return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:b?"display:none":"",spinnerUpCls:!a.spinUpEnabled?a.trigger1Cls+"-disabled":"",spinnerDownCls:!a.spinDownEnabled?a.trigger2Cls+"-disabled":""}},getTriggerWidth:function(){var a=this,b=0;if(a.triggerWrap&&!a.hideTrigger&&!a.readOnly){b=a.triggerWidth}return b},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var a=this;if(a.spinUpEnabled&&!a.disabled){a.fireEvent("spin",a,"up");a.fireEvent("spinup",a);a.onSpinUp()}},spinDown:function(){var a=this;if(a.spinDownEnabled&&!a.disabled){a.fireEvent("spin",a,"down");a.fireEvent("spindown",a);a.onSpinDown()}},setSpinUpEnabled:function(a){var b=this,c=b.spinUpEnabled;b.spinUpEnabled=a;if(c!==a&&b.rendered){b.spinUpEl[a?"removeCls":"addCls"](b.trigger1Cls+"-disabled")}},setSpinDownEnabled:function(a){var b=this,c=b.spinDownEnabled;b.spinDownEnabled=a;if(c!==a&&b.rendered){b.spinDownEl[a?"removeCls":"addCls"](b.trigger2Cls+"-disabled")}},onMouseWheel:function(a){var b=this,c;if(b.hasFocus){c=a.getWheelDelta();if(c>0){b.spinUp()}else if(c<0){b.spinDown()}a.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl");this.callParent()}});Ext.define("Ext.form.field.Number",{extend:Ext.form.field.Spinner,alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:true,allowDecimals:true,decimalSeparator:".",submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var a=this;a.callParent();a.setMinValue(a.minValue);a.setMaxValue(a.maxValue)},getErrors:function(a){var b=this,c=b.callParent(arguments),d=Ext.String.format,e;a=Ext.isDefined(a)?a:this.processRawValue(this.getRawValue());if(a.length<1){return c}a=String(a).replace(b.decimalSeparator,".");if(isNaN(a)){c.push(d(b.nanText,a))}e=b.parseValue(a);if(b.minValue===0&&e<0){c.push(this.negativeText)}else if(e<b.minValue){c.push(d(b.minText,b.minValue))}if(e>b.maxValue){c.push(d(b.maxText,b.maxValue))}return c},rawToValue:function(a){var b=this.fixPrecision(this.parseValue(a));if(b===null){b=a||null}return b},valueToRaw:function(a){var b=this,c=b.decimalSeparator;a=b.parseValue(a);a=b.fixPrecision(a);a=Ext.isNumber(a)?a:parseFloat(String(a).replace(c,"."));a=isNaN(a)?"":String(a).replace(".",c);return a},getSubmitValue:function(){var a=this,b=a.callParent();if(!a.submitLocaleSeparator){b=b.replace(a.decimalSeparator,".")}return b},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var a=this,b=a.getValue(),c=b===null,d;if(a.spinUpEnabled||a.spinUpDisabledByToggle){d=c||b<a.maxValue;a.setSpinUpEnabled(d,true)}if(a.spinDownEnabled||a.spinDownDisabledByToggle){d=c||b>a.minValue;a.setSpinDownEnabled(d,true)}},setMinValue:function(a){var b=this,c;b.minValue=Ext.Number.from(a,Number.NEGATIVE_INFINITY);b.toggleSpinners();if(b.disableKeyFilter!==true){c=b.baseChars+"";if(b.allowExponential){c+=b.decimalSeparator+"e+-"}else{if(b.allowDecimals){c+=b.decimalSeparator}if(b.minValue<0){c+="-"}}c=Ext.String.escapeRegex(c);b.maskRe=new RegExp("["+c+"]");if(b.autoStripChars){b.stripCharsRe=new RegExp("[^"+c+"]","gi")}}},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?null:a},fixPrecision:function(a){var b=this,c=isNaN(a),d=b.decimalPrecision;if(c||!a){return c?"":a}else if(!b.allowDecimals||d<=0){d=0}return parseFloat(Ext.Number.toFixed(parseFloat(a),d))},beforeBlur:function(){var a=this,b=a.parseValue(a.getRawValue());if(!Ext.isEmpty(b)){a.setValue(b)}},setSpinUpEnabled:function(a,b){this.callParent(arguments);if(!b){delete this.spinUpDisabledByToggle}else{this.spinUpDisabledByToggle=!a}},onSpinUp:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))}},setSpinDownEnabled:function(a,b){this.callParent(arguments);if(!b){delete this.spinDownDisabledByToggle}else{this.spinDownDisabledByToggle=!a}},onSpinDown:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))}},setSpinValue:function(a){var b=this,c;if(b.enforceMaxLength){if(b.fixPrecision(a).toString().length>b.maxLength){return}}b.setValue(a)}});Ext.define("Ext.toolbar.Paging",{extend:Ext.toolbar.Toolbar,alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",mixins:{bindable:Ext.util.Bindable},displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var a=this;return[{itemId:"first",tooltip:a.firstText,overflowText:a.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:a.moveFirst,scope:a},{itemId:"prev",tooltip:a.prevText,overflowText:a.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:a.movePrevious,scope:a},"-",a.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:a.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:a,keydown:a.onPagingKeyDown,blur:a.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(a.afterPageText,1)},"-",{itemId:"next",tooltip:a.nextText,overflowText:a.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:a.moveNext,scope:a},{itemId:"last",tooltip:a.lastText,overflowText:a.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:a.moveLast,scope:a},"-",{itemId:"refresh",tooltip:a.refreshText,overflowText:a.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:a.doRefresh,scope:a}]},initComponent:function(){var a=this,b=a.getPagingItems(),c=a.items||a.buttons||[];if(a.prependButtons){a.items=c.concat(b)}else{a.items=b.concat(c)}delete a.buttons;if(a.displayInfo){a.items.push("->");a.items.push({xtype:"tbtext",itemId:"displayItem"})}a.callParent();a.addEvents("change","beforechange");a.on("beforerender",a.onLoad,a,{single:true});a.bindStore(a.store||"ext-empty-store",true)},updateInfo:function(){var a=this,b=a.child("#displayItem"),c=a.store,d=a.getPageData(),e,f;if(b){e=c.getCount();if(e===0){f=a.emptyMsg}else{f=Ext.String.format(a.displayMsg,d.fromRecord,d.toRecord,d.total)}b.setText(f)}},onLoad:function(){var a=this,b,c,d,e,f,g,h;f=a.store.getCount();g=f===0;if(!g){b=a.getPageData();c=b.currentPage;d=b.pageCount;e=Ext.String.format(a.afterPageText,isNaN(d)?1:d)}else{c=0;d=0;e=Ext.String.format(a.afterPageText,0)}Ext.suspendLayouts();h=a.child("#afterTextItem");if(h){h.setText(e)}h=a.getInputItem();if(h){h.setDisabled(g).setValue(c)}a.setChildDisabled("#first",c===1||g);a.setChildDisabled("#prev",c===1||g);a.setChildDisabled("#next",c===d||g);a.setChildDisabled("#last",c===d||g);a.setChildDisabled("#refresh",false);a.updateInfo();Ext.resumeLayouts(true);if(a.rendered){a.fireEvent("change",a,b)}},setChildDisabled:function(a,b){var c=this.child(a);if(c){c.setDisabled(b)}},getPageData:function(){var a=this.store,b=a.getTotalCount();return{total:b,currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:(a.currentPage-1)*a.pageSize+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){if(!this.rendered){return}this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(a){var b=this.getInputItem(),c=false,d;if(b){d=b.getValue();c=parseInt(d,10);if(!d||isNaN(c)){b.setValue(a.currentPage);return false}}return c},onPagingFocus:function(){var a=this.getInputItem();if(a){a.select()}},onPagingBlur:function(a){var b=this.getInputItem(),c;if(b){c=this.getPageData().currentPage;b.setValue(c)}},onPagingKeyDown:function(a,b){var c=this,d=b.getKey(),e=c.getPageData(),f=b.shiftKey?10:1,g;if(d==b.RETURN){b.stopEvent();g=c.readPageFromInput(e);if(g!==false){g=Math.min(Math.max(1,g),e.pageCount);if(c.fireEvent("beforechange",c,g)!==false){c.store.loadPage(g)}}}else if(d==b.HOME||d==b.END){b.stopEvent();g=d==b.HOME?1:e.pageCount;a.setValue(g)}else if(d==b.UP||d==b.PAGE_UP||d==b.DOWN||d==b.PAGE_DOWN){b.stopEvent();g=c.readPageFromInput(e);if(g){if(d==b.DOWN||d==b.PAGE_DOWN){f*=-1}g+=f;if(g>=1&&g<=e.pageCount){a.setValue(g)}}}},beforeLoad:function(){if(this.rendered){this.setChildDisabled("#refresh",true)}},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1)}},movePrevious:function(){var a=this,b=a.store.currentPage-1;if(b>0){if(a.fireEvent("beforechange",a,b)!==false){a.store.previousPage()}}},moveNext:function(){var a=this,b=a.getPageData().pageCount,c=a.store.currentPage+1;if(c<=b){if(a.fireEvent("beforechange",a,c)!==false){a.store.nextPage()}}},moveLast:function(){var a=this,b=a.getPageData().pageCount;if(a.fireEvent("beforechange",a,b)!==false){a.store.loadPage(b)}},doRefresh:function(){var a=this,b=a.store.currentPage;if(a.fireEvent("beforechange",a,b)!==false){a.store.loadPage(b)}},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(a){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.unbind();this.callParent()}});Ext.define("Ext.view.BoundList",{extend:Ext.view.View,alias:"widget.boundlist",alternateClassName:"Ext.BoundList",mixins:{queryable:Ext.Queryable},pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,refreshed:0,deferInitialRefresh:false,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],initComponent:function(){var a=this,b=a.baseCls,c=a.itemCls;a.selectedItemCls=b+"-selected";if(a.trackOver){a.overItemCls=b+"-item-over"}a.itemSelector="."+c;if(a.floating){a.addCls(b+"-floating")}if(!a.tpl){a.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">','<li role="option" unselectable="on" class="'+c+'">'+a.getInnerTpl(a.displayField)+"</li>","</tpl></ul>")}else if(!a.tpl.isTemplate){a.tpl=new Ext.XTemplate(a.tpl)}if(a.pageSize){a.pagingToolbar=a.createPagingToolbar()}a.callParent()},beforeRender:function(){var a=this;a.callParent(arguments);if(a.up("menu")){a.addCls(Ext.baseCSSPrefix+"menu")}},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments);if(a){a.finishRender()}},refresh:function(){var a=this,b=a.tpl,c=a.pagingToolbar,d=a.rendered;b.field=a.pickerField;b.store=a.store;a.callParent();b.field=b.store=null;if(d&&c&&c.rendered&&!a.preserveScrollOnRefresh){a.el.appendChild(c.el)}if(d&&Ext.isIE6&&Ext.isStrict){a.listEl.repaint()}},bindStore:function(a,b){var c=this.pagingToolbar;this.callParent(arguments);if(c){c.bindStore(a,b)}},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl");this.callParent()}});Ext.define("Ext.view.BoundListKeyNav",{extend:Ext.util.KeyNav,constructor:function(a,b){var c=this;c.boundList=b.boundList;c.callParent([a,Ext.apply({},b,c.defaultHandlers)])},defaultHandlers:{up:function(){var a=this,b=a.boundList,c=b.all,d=b.highlightedItem,e=d?b.indexOf(d):-1,f=e>0?e-1:c.getCount()-1;a.highlightAt(f)},down:function(){var a=this,b=a.boundList,c=b.all,d=b.highlightedItem,e=d?b.indexOf(d):-1,f=e<c.getCount()-1?e+1:0;a.highlightAt(f)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(a){var b=this.boundList,c=b.all.item(a);if(c){c=c.dom;b.highlightItem(c);b.getTargetEl().scrollChildIntoView(c,false)}},selectHighlighted:function(a){var b=this,c=b.boundList,d=c.highlightedItem,e=c.getSelectionModel();if(d){e.selectWithEvent(c.getRecord(d),a)}}});Ext.define("Ext.layout.component.field.ComboBox",{extend:Ext.layout.component.field.Trigger,alias:"layout.combobox",type:"combobox",startingWidth:null,getTextWidth:function(){var a=this,b=a.owner,c=b.store,d=b.displayField,e=c.data.length,f="",g=0,h=0,i,j,k;for(;g<e;g++){j=c.getAt(g).data[d];i=j.length;if(i>h){h=i;f=j}}k=Math.max(a.callParent(arguments),b.inputEl.getTextWidth(f+b.growAppend));if(!a.startingWidth||b.removingRecords){a.startingWidth=k;if(k<b.growMin){b.defaultListConfig.minWidth=b.growMin}b.removingRecords=false}return k<a.startingWidth?a.startingWidth:k}});Ext.define("Ext.form.field.ComboBox",{extend:Ext.form.field.Picker,alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:Ext.util.Bindable},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:true,disableFormats:true}],getSubTplData:function(){var a=this;Ext.applyIf(a.subTplData,{hiddenDataCls:a.hiddenDataCls});return a.callParent(arguments)},afterRender:function(){var a=this;a.callParent(arguments);a.setHiddenValue(a.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,pageSize:0,anyMatch:false,caseSensitive:false,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var a=this,b=Ext.isDefined,c=a.store,d=a.transform,e,f;Ext.applyIf(a.renderSelectors,{hiddenDataEl:"."+a.hiddenDataCls.split(" ").join(".")});this.addEvents("beforequery","select","beforeselect","beforedeselect");if(d){e=Ext.getDom(d);if(e){if(!a.store){c=Ext.Array.map(Ext.Array.from(e.options),function(a){return[a.value,a.text]})}if(!a.name){a.name=e.name}if(!("value"in a)){a.value=e.value}}}a.bindStore(c||"ext-empty-store",true);c=a.store;if(c.autoCreated){a.queryMode="local";a.valueField=a.displayField="field1";if(!c.expanded){a.displayField="field2"}}if(!b(a.valueField)){a.valueField=a.displayField}f=a.queryMode==="local";if(!b(a.queryDelay)){a.queryDelay=f?10:500}if(!b(a.minChars)){a.minChars=f?0:4}if(!a.displayTpl){a.displayTpl=new Ext.XTemplate('<tpl for=".">'+'{[typeof values === "string" ? values : values["'+a.displayField+'"]]}'+'<tpl if="xindex < xcount">'+a.delimiter+"</tpl>"+"</tpl>")}else if(Ext.isString(a.displayTpl)){a.displayTpl=new Ext.XTemplate(a.displayTpl)}a.callParent();a.doQueryTask=new Ext.util.DelayedTask(a.doRawQuery,a);if(a.store.getCount()>0){a.setValue(a.value)}if(e){a.render(e.parentNode,e);Ext.removeNode(e);delete a.renderTo}},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel();this.assertValue()},assertValue:function(){var a=this,b=a.getRawValue(),c,d;if(a.forceSelection){if(a.multiSelect){if(b!==a.getDisplayValue()){a.setValue(a.lastSelection)}}else{c=a.findRecordByDisplay(b);if(c){d=a.value;if(!a.findRecordByValue(d)){a.select(c,true)}}else{a.setValue(a.lastSelection)}}}a.collapse()},onTypeAhead:function(){var a=this,b=a.displayField,c=a.store.findRecord(b,a.getRawValue()),d=a.getPicker(),e,f,g;if(c){e=c.get(b);f=e.length;g=a.getRawValue().length;d.highlightItem(d.getNode(c));if(g!==0&&g!==f){a.setRawValue(e);a.selectText(g,e.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent();if(this.queryFilter&&!this.queryFilter.disabled){this.queryFilter.disabled=true;this.store.filter()}},onUnbindStore:function(a){var b=this,c=b.picker;if(b.queryFilter){b.store.removeFilter(b.queryFilter)}if(!a&&c){c.bindStore(null)}},onBindStore:function(a,b){var c=this.picker;if(!b){this.resetToDefault()}if(c){c.bindStore(a)}},getStoreListeners:function(){var a=this;return{beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;if(a.resizeComboToGrow()){a.updateLayout()}},onClear:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true;a.onDataChanged()}},onRemove:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true}},onException:function(){if(this.ignoreSelection>0){--this.ignoreSelection}this.collapse()},onLoad:function(a,b,c){var d=this;if(d.ignoreSelection>0){--d.ignoreSelection}if(c&&!a.lastOptions.rawQuery){if(d.value==null){if(d.store.getCount()){d.doAutoSelect()}else{d.setValue(d.value)}}else{d.setValue(d.value)}}},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(a,b,c){var d=this,e=d.beforeQuery({query:a||"",rawQuery:c,forceAll:b,combo:d,cancel:false});if(e===false||e.cancel){return false}if(d.queryCaching&&e.query===d.lastQuery){d.expand()}else{d.lastQuery=e.query;if(d.queryMode==="local"){d.doLocalQuery(e)}else{d.doRemoteQuery(e)}}return true},beforeQuery:function(a){var b=this;if(b.fireEvent("beforequery",a)===false){a.cancel=true}else if(!a.cancel){if(a.query.length<b.minChars&&!a.forceAll){a.cancel=true}}return a},doLocalQuery:function(a){var b=this,c=a.query;if(!b.queryFilter){b.queryFilter=new Ext.util.Filter({id:b.id+"-query-filter",anyMatch:b.anyMatch,caseSensitive:b.caseSensitive,root:"data",property:b.displayField});b.store.addFilter(b.queryFilter,false)}if(c||!a.forceAll){b.queryFilter.disabled=false;b.queryFilter.setValue(b.enableRegEx?new RegExp(c):c)}else{b.queryFilter.disabled=true}b.store.filter();if(b.store.getCount()){b.expand()}else{b.collapse()}b.afterQuery(a)},doRemoteQuery:function(a){var b=this,c=function(){b.afterQuery(a)};b.expand();if(b.pageSize){b.loadPage(1,{rawQuery:a.rawQuery,callback:c})}else{b.store.load({params:b.getParams(a.query),rawQuery:a.rawQuery,callback:c})}},afterQuery:function(a){var b=this;if(b.store.getCount()){if(b.typeAhead){b.doTypeAhead()}if(b.getRawValue()!==b.getDisplayValue()){b.ignoreSelection++;b.picker.getSelectionModel().deselectAll();b.ignoreSelection--}if(a.rawQuery){b.syncSelection();if(b.picker&&!b.picker.getSelectionModel().hasSelection()){b.doAutoSelect()}}else{b.doAutoSelect()}}},loadPage:function(a,b){this.store.loadPage(a,Ext.apply({params:this.getParams(this.lastQuery)},b))},onPageChange:function(a,b){this.loadPage(b);return false},getParams:function(a){var b={},c=this.queryParam;if(c){b[c]=a}return b},doAutoSelect:function(){var a=this,b=a.picker,c,d;if(b&&a.autoSelect&&a.store.getCount()>0){c=b.getSelectionModel().lastSelected;d=b.getNode(c||0);if(d){b.highlightItem(d);b.listEl.scrollChildIntoView(d,false)}}},doTypeAhead:function(){if(!this.typeAheadTask){this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.typeAheadTask.delay(this.typeAheadDelay)}},onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.onFocus({});if(a.triggerAction==="all"){a.doQuery(a.allQuery,true)}else if(a.triggerAction==="last"){a.doQuery(a.lastQuery,true)}else{a.doQuery(a.getRawValue(),false,true)}}a.inputEl.focus()}},onPaste:function(){var a=this;if(!a.readOnly&&!a.disabled&&a.editable){a.doQueryTask.delay(a.queryDelay)}},onKeyUp:function(a,b){var c=this,d=a.getKey();if(!c.readOnly&&!c.disabled&&c.editable){c.lastKey=d;if(!a.isSpecialKey()||d==a.BACKSPACE||d==a.DELETE){c.doQueryTask.delay(c.queryDelay)}}if(c.enableKeyEvents){c.callParent(arguments)}},initEvents:function(){var a=this;a.callParent();if(!a.enableKeyEvents){a.mon(a.inputEl,"keyup",a.onKeyUp,a)}a.mon(a.inputEl,"paste",a.onPaste,a)},onDestroy:function(){Ext.destroy(this.listKeyNav);this.bindStore(null);this.callParent()},onAdded:function(){var a=this;a.callParent(arguments);if(a.picker){a.picker.ownerCt=a.up("[floating]");a.picker.registerWithOwnerCt()}},createPicker:function(){var a=this,b,c=Ext.apply({xtype:"boundlist",pickerField:a,selModel:{mode:a.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,store:a.store,displayField:a.displayField,focusOnToFront:false,pageSize:a.pageSize,tpl:a.tpl},a.listConfig,a.defaultListConfig);b=a.picker=Ext.widget(c);if(a.pageSize){b.pagingToolbar.on("beforechange",a.onPageChange,a)}a.mon(b,{itemclick:a.onItemClick,refresh:a.onListRefresh,scope:a});a.mon(b.getSelectionModel(),{beforeselect:a.onBeforeSelect,beforedeselect:a.onBeforeDeselect,selectionchange:a.onListSelectionChange,scope:a});return b},alignPicker:function(){var a=this,b=a.getPicker(),c=a.getPosition()[1]-Ext.getBody().getScroll().top,d=Ext.Element.getViewHeight()-c-a.getHeight(),e=Math.max(c,d);if(b.height){delete b.height;b.updateLayout()}if(b.getHeight()>e-5){b.setHeight(e-5)}a.callParent()},onListRefresh:function(){if(!this.expanding){this.alignPicker()}this.syncSelection()},onItemClick:function(a,b){var c=this,d=c.picker.getSelectionModel().getSelection(),e=c.valueField;if(!c.multiSelect&&d.length){if(b.get(e)===d[0].get(e)){c.displayTplData=[b.data];c.setRawValue(c.getDisplayValue());c.collapse()}}},onBeforeSelect:function(a,b){return this.fireEvent("beforeselect",this,b,b.index)},onBeforeDeselect:function(a,b){return this.fireEvent("beforedeselect",this,b,b.index)},onListSelectionChange:function(a,b){var c=this,d=c.multiSelect,e=b.length>0;if(!c.ignoreSelection&&c.isExpanded){if(!d){Ext.defer(c.collapse,1,c)}if(d||e){c.setValue(b,false)}if(e){c.fireEvent("select",c,b)}c.inputEl.focus()}},onExpand:function(){var a=this,b=a.listKeyNav,c=a.selectOnTab,d=a.getPicker();if(b){b.enable()}else{b=a.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:d,forceKeyDown:true,tab:function(b){if(c){this.selectHighlighted(b);a.triggerBlur()}return true},enter:function(b){var c=d.getSelectionModel(),e=c.getCount();this.selectHighlighted(b);if(!a.multiSelect&&e===c.getCount()){a.collapse()}}})}if(c){a.ignoreMonitorTab=true}Ext.defer(b.enable,1,b);a.inputEl.focus()},onCollapse:function(){var a=this,b=a.listKeyNav;if(b){b.disable();a.ignoreMonitorTab=false}},select:function(a,b){var c=this,d=c.picker,e=true,f;if(a&&a.isModel&&b===true&&d){f=!d.getSelectionModel().isSelected(a)}c.setValue(a,true);if(f){c.fireEvent("select",c,a)}},findRecord:function(a,b){var c=this.store,d=c.findExact(a,b);return d!==-1?c.getAt(d):false},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(a,b){var c=this,d=c.valueNotFoundText,e=c.inputEl,f,g,h,i,j=[],k=[],l=[];if(c.store.loading){c.value=a;c.setHiddenValue(c.value);return c}a=Ext.Array.from(a);for(f=0,g=a.length;f<g;f++){h=a[f];if(!h||!h.isModel){h=c.findRecordByValue(h)}if(h){j.push(h);k.push(h.data);l.push(h.get(c.valueField))}else{if(!c.forceSelection){l.push(a[f]);i={};i[c.displayField]=a[f];k.push(i)}else if(Ext.isDefined(d)){k.push(d)}}}c.setHiddenValue(l);c.value=c.multiSelect?l:l[0];if(!Ext.isDefined(c.value)){c.value=null}c.displayTplData=k;c.lastSelection=c.valueModels=j;if(e&&c.emptyText&&!Ext.isEmpty(a)){e.removeCls(c.emptyCls)}c.setRawValue(c.getDisplayValue());c.checkChange();if(b!==false){c.syncSelection()}c.applyEmptyText();return c},setHiddenValue:function(a){var b=this,c=b.hiddenName,d,e,f,g,h,i;if(!b.hiddenDataEl||!c){return}a=Ext.Array.from(a);e=b.hiddenDataEl.dom;f=e.childNodes;g=f[0];h=a.length;i=f.length;if(!g&&h>0){b.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:c}));i=1;g=e.firstChild}while(i>h){e.removeChild(f[0]);--i}while(i<h){e.appendChild(g.cloneNode(true));++i}for(d=0;d<h;d++){f[d].value=a[d]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this,b=a.picker,c=a.getRawValue(),d=a.value;if(a.getDisplayValue()!==c){d=c;a.value=a.displayTplData=a.valueModels=null;if(b){a.ignoreSelection++;b.getSelectionModel().deselectAll();a.ignoreSelection--}}return d},getSubmitValue:function(){var a=this.getValue();
if(Ext.isEmpty(a)){a=""}return a},isEqual:function(a,b){var c=Ext.Array.from,d,e;a=c(a);b=c(b);e=a.length;if(e!==b.length){return false}for(d=0;d<e;d++){if(b[d]!==a[d]){return false}}return true},clearValue:function(){this.setValue([])},syncSelection:function(){var a=this,b=a.picker,c,d,e=a.valueModels||[],f=e.length,g,h;if(b){c=[];for(g=0;g<f;g++){h=e[g];if(h&&h.isModel&&a.store.indexOf(h)>=0){c.push(h)}}a.ignoreSelection++;d=b.getSelectionModel();d.deselectAll();if(c.length){d.select(c,undefined,true)}a.ignoreSelection--}},onEditorTab:function(a){var b=this.listKeyNav;if(this.selectOnTab&&b){b.selectHighlighted(a)}}});Ext.define("Ext.picker.Month",{extend:Ext.Component,alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" ></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" ></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:true,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var a=this;a.selectedCls=a.baseCls+"-selected";a.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick");if(a.small){a.addCls(a.smallCls)}a.setValue(a.value);a.activeYear=a.getYear((new Date).getFullYear()-4,-4);if(a.showButtons){a.okBtn=new Ext.button.Button({text:a.okText,handler:a.onOkClick,scope:a});a.cancelBtn=new Ext.button.Button({text:a.cancelText,handler:a.onCancelClick,scope:a})}this.callParent()},beforeRender:function(){var a=this,b=0,c=[],d=Ext.Date.getShortMonthName,e=a.monthOffset,f=a.monthMargin,g="";a.callParent();for(;b<e;++b){c.push(d(b),d(b+e))}if(Ext.isDefined(f)){g="margin: 0 "+f+"px;"}Ext.apply(a.renderData,{months:c,years:a.getYears(),showButtons:a.showButtons,monthStyle:g})},afterRender:function(){var a=this,b=a.bodyEl,c=a.buttonsEl;a.callParent();a.mon(b,"click",a.onBodyClick,a);a.mon(b,"dblclick",a.onBodyClick,a);a.years=b.select("."+a.baseCls+"-year a");a.months=b.select("."+a.baseCls+"-month a");a.backRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:Ext.Function.bind(a.adjustYear,a,[-a.totalYears])});a.prevEl.addClsOnOver(a.baseCls+"-yearnav-prev-over");a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:Ext.Function.bind(a.adjustYear,a,[a.totalYears])});a.nextEl.addClsOnOver(a.baseCls+"-yearnav-next-over");a.updateBody();if(!Ext.isDefined(a.monthMargin)){Ext.picker.Month.prototype.monthMargin=a.calculateMonthMargin()}},calculateMonthMargin:function(){var a=this,b=a.monthEl,c=a.months,d=c.first(),e=d.getMargin("l");while(e&&a.getLargest()>a.measureMaxHeight){--e;c.setStyle("margin","0 "+e+"px")}return e},getLargest:function(a){var b=0;this.months.each(function(a){var c=a.getHeight();if(c>b){b=c}});return b},setValue:function(a){var b=this,c=b.activeYear,d=b.monthOffset,e,f;if(!a){b.value=[null,null]}else if(Ext.isDate(a)){b.value=[a.getMonth(),a.getFullYear()]}else{b.value=[a[0],a[1]]}if(b.rendered){e=b.value[1];if(e!==null){if(e<c||e>c+b.yearOffset){b.activeYear=e-b.yearOffset+1}}b.updateBody()}return b},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return a[0]!==null&&a[1]!==null},getYears:function(){var a=this,b=a.yearOffset,c=a.activeYear,d=c+b,e=c,f=[];for(;e<d;++e){f.push(e,e+b)}return f},updateBody:function(){var a=this,b=a.years,c=a.months,d=a.getYears(),e=a.selectedCls,f=a.getYear(null),g=a.value[0],h=a.monthOffset,i,j,k,l,m;if(a.rendered){b.removeCls(e);c.removeCls(e);j=b.elements;l=j.length;for(k=0;k<l;k++){m=Ext.fly(j[k]);i=d[k];m.dom.innerHTML=i;if(i==f){m.addCls(e)}}if(g!==null){if(g<h){g=g*2}else{g=(g-h)*2+1}c.item(g).addCls(e)}}},getYear:function(a,b){var c=this.value[1];b=b||0;return c===null?a:c+b},onBodyClick:function(a,b){var c=this,d=a.type=="dblclick";if(a.getTarget("."+c.baseCls+"-month")){a.stopEvent();c.onMonthClick(b,d)}else if(a.getTarget("."+c.baseCls+"-year")){a.stopEvent();c.onYearClick(b,d)}},adjustYear:function(a){if(typeof a!="number"){a=this.totalYears}this.activeYear+=a;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(a,b){var c=this;c.value[0]=c.resolveOffset(c.months.indexOf(a),c.monthOffset);c.updateBody();c.fireEvent("month"+(b?"dbl":"")+"click",c,c.value);c.fireEvent("select",c,c.value)},onYearClick:function(a,b){var c=this;c.value[1]=c.activeYear+c.resolveOffset(c.years.indexOf(a),c.yearOffset);c.updateBody();c.fireEvent("year"+(b?"dbl":"")+"click",c,c.value);c.fireEvent("select",c,c.value)},resolveOffset:function(a,b){if(a%2===0){return a/2}else{return b+Math.floor(a/2)}},beforeDestroy:function(){var a=this;a.years=a.months=null;Ext.destroyMembers(a,"backRepeater","nextRepeater","okBtn","cancelBtn");a.callParent()},finishRenderChildren:function(){var a=this;this.callParent(arguments);if(this.showButtons){a.okBtn.finishRender();a.cancelBtn.finishRender()}},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");this.callParent()}});Ext.define("Ext.picker.Date",{extend:Ext.Component,alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(a){a--;var b=a%7===0&&a!==0;return b?'</tr><tr role="row">':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:false,focusOnSelect:true,initHour:12,numDays:42,initComponent:function(){var a=this,b=Ext.Date.clearTime;a.selectedCls=a.baseCls+"-selected";a.disabledCellCls=a.baseCls+"-disabled";a.prevCls=a.baseCls+"-prevday";a.activeCls=a.baseCls+"-active";a.cellCls=a.baseCls+"-cell";a.nextCls=a.baseCls+"-prevday";a.todayCls=a.baseCls+"-today";if(!a.format){a.format=Ext.Date.defaultFormat}if(!a.dayNames){a.dayNames=Ext.Date.dayNames}a.dayNames=a.dayNames.slice(a.startDay).concat(a.dayNames.slice(0,a.startDay));a.callParent();a.value=a.value?b(a.value,true):b(new Date);a.addEvents("select");a.initDisabledDays()},beforeRender:function(){var a=this,b=new Array(a.numDays),c=Ext.Date.format(new Date,a.format);if(a.up("menu")){a.addCls(Ext.baseCSSPrefix+"menu")}a.monthBtn=new Ext.button.Split({ownerCt:a,ownerLayout:a.getComponentLayout(),text:"",tooltip:a.monthYearText,listeners:{click:a.showMonthPicker,arrowclick:a.showMonthPicker,scope:a}});if(a.showToday){a.todayBtn=new Ext.button.Button({ownerCt:a,ownerLayout:a.getComponentLayout(),text:Ext.String.format(a.todayText,c),tooltip:Ext.String.format(a.todayTip,c),tooltipType:"title",handler:a.selectToday,scope:a})}a.callParent();Ext.applyIf(a,{renderData:{}});Ext.apply(a.renderData,{dayNames:a.dayNames,showToday:a.showToday,prevText:a.prevText,nextText:a.nextText,days:b});a.protoEl.unselectable()},finishRenderChildren:function(){var a=this;a.callParent();a.monthBtn.finishRender();if(a.showToday){a.todayBtn.finishRender()}},onRender:function(a,b){var c=this;c.callParent(arguments);c.cells=c.eventEl.select("tbody td");c.textNodes=c.eventEl.query("tbody td a");c.mon(c.eventEl,{scope:c,mousewheel:c.handleMouseWheel,click:{fn:c.handleDateClick,delegate:"a."+c.baseCls+"-date"}})},initEvents:function(){var a=this,b=Ext.Date,c=b.DAY;a.callParent();a.prevRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:a.showPrevMonth,scope:a,preventDefault:true,stopDefault:true});a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:a.showNextMonth,scope:a,preventDefault:true,stopDefault:true});a.keyNav=new Ext.util.KeyNav(a.eventEl,Ext.apply({scope:a,left:function(d){if(d.ctrlKey){a.showPrevMonth()}else{a.update(b.add(a.activeDate,c,-1))}},right:function(d){if(d.ctrlKey){a.showNextMonth()}else{a.update(b.add(a.activeDate,c,1))}},up:function(d){if(d.ctrlKey){a.showNextYear()}else{a.update(b.add(a.activeDate,c,-7))}},down:function(d){if(d.ctrlKey){a.showPrevYear()}else{a.update(b.add(a.activeDate,c,7))}},pageUp:function(b){if(b.altKey){a.showPrevYear()}else{a.showPrevMonth()}},pageDown:function(b){if(b.altKey){a.showNextYear()}else{a.showNextMonth()}},tab:function(b){a.doCancelFieldFocus=true;a.handleTabClick(b);delete a.doCancelFieldFocus;return true},enter:function(a){a.stopPropagation();return true},home:function(c){a.update(b.getFirstDateOfMonth(a.activeDate))},end:function(c){a.update(b.getLastDateOfMonth(a.activeDate))}},a.keyNavConfig));if(a.showToday){a.todayKeyListener=a.eventEl.addKeyListener(Ext.EventObject.SPACE,a.selectToday,a)}a.update(a.value)},handleTabClick:function(a){var b=this,c=b.getSelectedDate(b.activeDate),d=b.handler;if(!b.disabled&&c.dateValue&&!Ext.fly(c.parentNode).hasCls(b.disabledCellCls)){b.doCancelFocus=b.focusOnSelect===false;b.setValue(new Date(c.dateValue));delete b.doCancelFocus;b.fireEvent("select",b,b.value);if(d){d.call(b.scope||b,b,b.value)}b.onSelect()}},getSelectedDate:function(a){var b=this,c=a.getTime(),d=b.cells,e=b.selectedCls,f=d.elements,g,h=f.length,i;d.removeCls(e);for(g=0;g<h;g++){i=Ext.fly(f[g]);if(i.dom.firstChild.dateValue==c){return i.dom.firstChild}}return null},initDisabledDays:function(){var a=this,b=a.disabledDates,c="(?:",d,e,f,g;if(!a.disabledDatesRE&&b){d=b.length-1;f=b.length;for(e=0;e<f;e++){g=b[e];c+=Ext.isDate(g)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(g,a.format))+"$":g;if(e!=d){c+="|"}}a.disabledDatesRE=new RegExp(c+")")}},setDisabledDates:function(a){var b=this;if(Ext.isArray(a)){b.disabledDates=a;b.disabledDatesRE=null}else{b.disabledDatesRE=a}b.initDisabledDays();b.update(b.value,true);return b},setDisabledDays:function(a){this.disabledDays=a;return this.update(this.value,true)},setMinDate:function(a){this.minDate=a;return this.update(this.value,true)},setMaxDate:function(a){this.maxDate=a;return this.update(this.value,true)},setValue:function(a){this.value=Ext.Date.clearTime(a,true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent();this.setDisabledStatus(false);this.update(this.activeDate)},onDisable:function(){this.callParent();this.setDisabledStatus(true)},setDisabledStatus:function(a){var b=this;b.keyNav.setDisabled(a);b.prevRepeater.setDisabled(a);b.nextRepeater.setDisabled(a);if(b.showToday){b.todayKeyListener.setDisabled(a);b.todayBtn.setDisabled(a)}},getActive:function(){return this.activeDate||this.value},runAnimation:function(a){var b=this.monthPicker,c={duration:200,callback:function(){if(a){b.hide()}else{b.show()}}};if(a){b.el.slideOut("t",c)}else{b.el.slideIn("t",c)}},hideMonthPicker:function(a){var b=this,c=b.monthPicker;if(c){if(b.shouldAnimate(a)){b.runAnimation(true)}else{c.hide()}}return b},showMonthPicker:function(a){var b=this,c;if(b.rendered&&!b.disabled){c=b.createMonthPicker();c.setValue(b.getActive());c.setSize(b.getSize());c.setPosition(-1,-1);if(b.shouldAnimate(a)){b.runAnimation(false)}else{c.show()}}return b},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var a=this,b=a.monthPicker;if(!b){a.monthPicker=b=new Ext.picker.Month({renderTo:a.el,floating:true,shadow:false,small:a.showToday===false,listeners:{scope:a,cancelclick:a.onCancelClick,okclick:a.onOkClick,yeardblclick:a.onOkClick,monthdblclick:a.onOkClick}});if(!a.disableAnim){b.el.setStyle("display","none")}a.on("beforehide",Ext.Function.bind(a.hideMonthPicker,a,[false]))}return b},onOkClick:function(a,b){var c=this,d=b[0],e=b[1],f=new Date(e,d,c.getActive().getDate());if(f.getMonth()!==d){f=Ext.Date.getLastDateOfMonth(new Date(e,d,1))}c.setValue(f);c.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(a){a.stopEvent();if(!this.disabled){var b=a.getWheelDelta();if(b>0){this.showPrevMonth()}else if(b<0){this.showNextMonth()}}},handleDateClick:function(a,b){var c=this,d=c.handler;a.stopEvent();if(!c.disabled&&b.dateValue&&!Ext.fly(b.parentNode).hasCls(c.disabledCellCls)){c.doCancelFocus=c.focusOnSelect===false;c.setValue(new Date(b.dateValue));delete c.doCancelFocus;c.fireEvent("select",c,c.value);if(d){d.call(c.scope||c,c,c.value)}c.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var a=this,b=a.todayBtn,c=a.handler;if(b&&!b.disabled){a.setValue(Ext.Date.clearTime(new Date));a.fireEvent("select",a,a.value);if(c){c.call(a.scope||a,a,a.value)}a.onSelect()}return a},selectedUpdate:function(a){var b=this,c=a.getTime(),d=b.cells,e=b.selectedCls,f=d.elements,g,h=f.length,i;d.removeCls(e);for(g=0;g<h;g++){i=Ext.fly(f[g]);if(i.dom.firstChild.dateValue==c){b.fireEvent("highlightitem",b,i);i.addCls(e);if(b.isVisible()&&!b.doCancelFocus){Ext.fly(i.dom.firstChild).focus(50)}break}}},fullUpdate:function(a){var b=this,c=b.cells.elements,d=b.textNodes,e=b.disabledCellCls,f=Ext.Date,g=0,h=0,i=b.isVisible(),j=+f.clearTime(a,true),k=+f.clearTime(new Date),l=b.minDate?f.clearTime(b.minDate,true):Number.NEGATIVE_INFINITY,m=b.maxDate?f.clearTime(b.maxDate,true):Number.POSITIVE_INFINITY,n=b.disabledDatesRE,o=b.disabledDatesText,p=b.disabledDays?b.disabledDays.join(""):false,q=b.disabledDaysText,r=b.format,s=f.getDaysInMonth(a),t=f.getFirstDateOfMonth(a),u=t.getDay()-b.startDay,v=f.add(a,f.MONTH,-1),w=b.longDayFormat,x,y,z,A,B,C,D,E,F;if(u<0){u+=7}s+=u;x=f.getDaysInMonth(v)-u;y=new Date(v.getFullYear(),v.getMonth(),x,b.initHour);if(b.showToday){A=f.clearTime(new Date);z=A<l||A>m||n&&r&&n.test(f.dateFormat(A,r))||p&&p.indexOf(A.getDay())!=-1;if(!b.disabled){b.todayBtn.setDisabled(z);b.todayKeyListener.setDisabled(z)}}B=function(a,c){F=+f.clearTime(y,true);a.title=f.format(y,w);a.firstChild.dateValue=F;if(F==k){c+=" "+b.todayCls;a.title=b.todayText;b.todayElSpan=Ext.DomHelper.append(a.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hide-clip",html:b.todayText},true)}if(F==j){c+=" "+b.selectedCls;b.fireEvent("highlightitem",b,a);if(i&&b.floating){Ext.fly(a.firstChild).focus(50)}}if(F<l){c+=" "+e;a.title=b.minText}else if(F>m){c+=" "+e;a.title=b.maxText}else if(p&&p.indexOf(y.getDay())!==-1){a.title=q;c+=" "+e}else if(n&&r){E=f.dateFormat(y,r);if(n.test(E)){a.title=o.replace("%0",E);c+=" "+e}}a.className=c+" "+b.cellCls};for(;g<b.numDays;++g){if(g<u){C=++x;D=b.prevCls}else if(g>=s){C=++h;D=b.nextCls}else{C=g-u+1;D=b.activeCls}d[g].innerHTML=C;y.setDate(y.getDate()+1);B(c[g],D)}b.monthBtn.setText(Ext.Date.format(a,b.monthYearFormat))},update:function(a,b){var c=this,d=c.activeDate;if(c.rendered){c.activeDate=a;if(!b&&d&&c.el&&d.getMonth()==a.getMonth()&&d.getFullYear()==a.getFullYear()){c.selectedUpdate(a,d)}else{c.fullUpdate(a,d)}}return c},beforeDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.todayKeyListener,a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn);delete a.textNodes;delete a.cells.elements}a.callParent()},onShow:function(){this.callParent(arguments);if(this.focusOnShow){this.focus()}}});Ext.define("Ext.form.field.Date",{extend:Ext.form.field.Picker,alias:"widget.datefield",alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,initComponent:function(){var a=this,b=Ext.isString,c,d;c=a.minValue;d=a.maxValue;if(b(c)){a.minValue=a.parseDate(c)}if(b(d)){a.maxValue=a.parseDate(d)}a.disabledDatesRE=null;a.initDisabledDays();a.callParent()},initValue:function(){var a=this,b=a.value;if(Ext.isString(b)){a.value=a.rawToValue(b)}a.callParent()},initDisabledDays:function(){if(this.disabledDates){var a=this.disabledDates,b=a.length-1,c="(?:",d,e=a.length,f;for(d=0;d<e;d++){f=a[d];c+=Ext.isDate(f)?"^"+Ext.String.escapeRegex(f.dateFormat(this.format))+"$":f;if(d!==b){c+="|"}}this.disabledDatesRE=new RegExp(c+")")}},setDisabledDates:function(a){var b=this,c=b.picker;b.disabledDates=a;b.initDisabledDays();if(c){c.setDisabledDates(b.disabledDatesRE)}},setDisabledDays:function(a){var b=this.picker;this.disabledDays=a;if(b){b.setDisabledDays(a)}},setMinValue:function(a){var b=this,c=b.picker,d=Ext.isString(a)?b.parseDate(a):a;b.minValue=d;if(c){c.minText=Ext.String.format(b.minText,b.formatDate(b.minValue));c.setMinDate(d)}},setMaxValue:function(a){var b=this,c=b.picker,d=Ext.isString(a)?b.parseDate(a):a;b.maxValue=d;if(c){c.maxText=Ext.String.format(b.maxText,b.formatDate(b.maxValue));c.setMaxDate(d)}},getErrors:function(a){var b=this,c=Ext.String.format,d=Ext.Date.clearTime,e=b.callParent(arguments),f=b.disabledDays,g=b.disabledDatesRE,h=b.minValue,i=b.maxValue,j=f?f.length:0,k=0,l,m,n,o;a=b.formatDate(a||b.processRawValue(b.getRawValue()));if(a===null||a.length<1){return e}l=a;a=b.parseDate(a);if(!a){e.push(c(b.invalidText,l,Ext.Date.unescapeFormat(b.format)));return e}o=a.getTime();if(h&&o<d(h).getTime()){e.push(c(b.minText,b.formatDate(h)))}if(i&&o>d(i).getTime()){e.push(c(b.maxText,b.formatDate(i)))}if(f){n=a.getDay();for(;k<j;k++){if(n===f[k]){e.push(b.disabledDaysText);break}}}m=b.formatDate(a);if(g&&g.test(m)){e.push(c(b.disabledDatesText,m))}return e},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(a,b){var c=this,d=Ext.Date,e=null,f=c.useStrict,g;if(d.formatContainsHourInfo(b)){e=d.parse(a,b,f)}else{g=d.parse(a+" "+c.initTime,b+" "+c.initTimeFormat,f);if(g){e=d.clearTime(g)}}return e},getSubmitValue:function(){var a=this.submitFormat||this.format,b=this.getValue();return b?Ext.Date.format(b,a):""},parseDate:function(a){if(!a||Ext.isDate(a)){return a}var b=this,c=b.safeParse(a,b.format),d=b.altFormats,e=b.altFormatsArray,f=0,g;if(!c&&d){e=e||d.split("|");g=e.length;for(;f<g&&!c;++f){c=b.safeParse(a,e[f])}}return c},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:true,hidden:true,focusOnShow:true,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},onDownArrow:function(a){this.callParent(arguments);if(this.isExpanded){this.getPicker().focus()}},onSelect:function(a,b){var c=this;c.setValue(b);c.fireEvent("select",c,b);c.collapse()},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date)},onCollapse:function(){this.focus(false,60)},beforeBlur:function(){var a=this,b=a.parseDate(a.getRawValue()),c=a.focusTask;if(c){c.cancel()}if(b){a.setValue(b)}}});Ext.define("Ext.form.field.FileButton",{extend:Ext.button.Button,alias:"widget.filebutton",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:false,renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<input id="{id}-fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}">'],getTemplateArgs:function(){var a=this.callParent();a.inputCls=this.inputCls;a.inputName=this.inputName;return a},afterRender:function(){var a=this;a.callParent(arguments);a.fileInputEl.on("change",a.fireChange,a)},fireChange:function(a){this.fireEvent("change",this,a,this.fileInputEl.dom.value)},createFileInput:function(a){var b=this;b.fileInputEl=b.el.createChild({name:b.inputName,id:!a?b.id+"-fileInputEl":undefined,cls:b.inputCls,tag:"input",type:"file",size:1});b.fileInputEl.on("change",b.fireChange,b)},reset:function(a){if(a){this.fileInputEl.remove()}this.createFileInput(!a)},restoreInput:function(a){this.fileInputEl.remove();a=Ext.get(a);this.el.appendChild(a);this.fileInputEl=a},onDisable:function(){this.callParent();this.fileInputEl.dom.disabled=true},onEnable:function(){this.callParent();this.fileInputEl.dom.disabled=false}});Ext.define("Ext.form.field.File",{extend:Ext.form.field.Trigger,alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],buttonText:"Browse...",buttonOnly:false,buttonMargin:3,clearOnSubmit:true,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:true,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["browseButtonWrap"],onRender:function(){var a=this,b=a.id,c;a.callParent(arguments);c=a.inputEl;c.dom.name="";a.button=new Ext.form.field.FileButton(Ext.apply({renderTo:b+"-browseButtonWrap",ownerCt:a,ownerLayout:a.componentLayout,id:b+"-button",ui:a.ui,disabled:a.disabled,text:a.buttonText,style:a.buttonOnly?"":a.getButtonMarginProp()+a.buttonMargin+"px",inputName:a.getName(),listeners:{scope:a,change:a.onFileChange}},a.buttonConfig));a.fileInputEl=a.button.fileInputEl;if(a.buttonOnly){a.inputCell.setDisplayed(false)}a.browseButtonWrap.dom.style.width=a.browseButtonWrap.dom.lastChild.offsetWidth+a.button.getEl().getMargin("lr")+"px";if(Ext.isIE){a.button.getEl().repaint()}},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"></td>'},onFileChange:function(a,b,c){this.lastValue=null;Ext.form.field.File.superclass.setValue.call(this,c)},setValue:Ext.emptyFn,reset:function(){var a=this,b=a.clearOnSubmit;if(a.rendered){a.button.reset(b);a.fileInputEl=a.button.fileInputEl;if(b){a.inputEl.dom.value=""}}a.callParent()},onShow:function(){this.callParent();this.button.updateLayout()},onDisable:function(){this.callParent();this.button.disable()},onEnable:function(){this.callParent();this.button.enable()},isFileUpload:function(){return true},extractFileInput:function(){var a=this.button.fileInputEl.dom;this.reset();return a},restoreInput:function(a){var b=this.button;b.restoreInput(a);this.fileInputEl=b.fileInputEl},onDestroy:function(){Ext.destroyMembers(this,"button");delete this.fileInputEl;this.callParent()},getButtonMarginProp:function(){return"margin-left:"}});Ext.define("Ext.form.field.Hidden",{extend:Ext.form.field.Base,alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:true,hidden:true,initComponent:function(){this.formItemCls+="-hidden";this.callParent()},isEqual:function(a,b){return this.isEqualAsString(a,b)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.picker.Color",{extend:Ext.Component,alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("select");if(a.handler){a.on("select",a.handler,a.scope,true)}},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var a=this,b=a.clickEvent;a.callParent(arguments);a.mon(a.el,b,a.handleClick,a,{delegate:"a"});if(b!="click"){a.mon(a.el,"click",Ext.emptyFn,a,{delegate:"a",stopEvent:true})}},afterRender:function(){var a=this,b;a.callParent(arguments);if(a.value){b=a.value;a.value=null;a.select(b,true)}},handleClick:function(a,b){var c=this,d;a.stopEvent();if(!c.disabled){d=b.className.match(c.colorRe)[1];c.select(d.toUpperCase())}},select:function(a,b){var c=this,d=c.selectedCls,e=c.value,f;a=a.replace("#","");if(!c.rendered){c.value=a;return}if(a!=e||c.allowReselect){f=c.el;if(c.value){f.down("a.color-"+e).removeCls(d)}f.down("a.color-"+a).addCls(d);c.value=a;if(b!==true){c.fireEvent("select",c,a)}}},clear:function(){var a=this,b=a.value,c;if(b&&a.rendered){c=a.el.down("a.color-"+b);c.removeCls(a.selectedCls)}a.value=null},getValue:function(){return this.value||null}});Ext.define("Ext.layout.component.field.HtmlEditor",{extend:Ext.layout.component.field.FieldContainer,alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(a){var b=this.owner,c;if(Ext.isGecko){c=b.textareaEl.dom;this.lastValue=c.value;c.value=""}this.callParent(arguments);a.toolbarContext=a.context.getCmp(b.toolbar);a.inputCmpContext=a.context.getCmp(b.inputCmp);a.textAreaContext=a.getEl("textareaEl");a.iframeContext=a.getEl("iframeEl")},beginLayoutCycle:function(a){var b=this,c=a.widthModel,d=a.heightModel,e=b.owner,f=e.iframeEl,g=e.textareaEl;b.callParent(arguments);if(c.shrinkWrap){f.setStyle("width","");g.setStyle("width","")}else if(c.natural){a.bodyCellContext.setWidth(b.naturalWidth)}if(d.natural||d.shrinkWrap){f.setHeight(b.naturalHeight);g.setHeight(b.naturalHeight)}},finishedLayout:function(){var a=this.owner;this.callParent(arguments);if(Ext.isIE9m&&Ext.isIEQuirks){a.el.repaint()}if(Ext.isGecko){a.textareaEl.dom.value=this.lastValue}},publishOwnerWidth:function(a,b){this.callParent(arguments);b-=a.inputCmpContext.getBorderInfo().width;a.textAreaContext.setWidth(b);a.iframeContext.setWidth(b)},publishInnerWidth:function(a,b){var c=a.inputCmpContext.getBorderInfo().width,d=Ext.isStrict&&Ext.isIE8m,e=a.widthModel.natural;this.callParent(arguments);b=a.bodyCellContext.props.width-c;if(e){if(d){b-=2}a.textAreaContext.setWidth(b);a.iframeContext.setWidth(b)}else if(d){a.textAreaContext.setWidth(b)}},publishInnerHeight:function(a,b){var c=a.toolbarContext.getProp("height"),d=this.owner.sourceEditMode;this.callParent(arguments);b=a.bodyCellContext.props.height;if(c!==undefined){b-=c+a.inputCmpContext.getFrameInfo().height;if(Ext.isIE8&&Ext.isStrict){b-=2}else if(Ext.isIEQuirks&&(Ext.isIE8||Ext.isIE9)){b-=4}a.iframeContext.setHeight(b);a.textAreaContext.setHeight(b)}else{this.done=false}}});Ext.define("Ext.form.field.HtmlEditor",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],stretchInputElFixed:true,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http:/"+"/",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,containerElCls:Ext.baseCSSPrefix+"html-editor-container",initComponent:function(){var a=this;
a.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");a.items=[a.createToolbar(),a.createInputCmp()];a.layout={type:"vbox",align:"stretch"};a.callParent(arguments);a.initField()},createInputCmp:function(){this.inputCmp=Ext.widget(this.getInputCmpCfg());return this.inputCmp},getInputCmpCfg:function(){var a=this,b=a.id+"-inputCmp",c={id:b,name:a.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:a.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};a.getInsertionRenderData(c,a.subTplInsertions);return{flex:1,xtype:"component",tpl:a.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:b,cls:Ext.baseCSSPrefix+"html-editor-input",data:c}},createToolbar:function(){this.toolbar=Ext.widget(this.getToolbarCfg());return this.toolbar},getToolbarCfg:function(){var a=this,b=[],c,d=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),e=Ext.baseCSSPrefix,f,g;function h(b,c,f){return{itemId:b,cls:e+"btn-icon",iconCls:e+"edit-"+b,enableToggle:c!==false,scope:a,handler:f||a.relayBtnCmd,clickEvent:"mousedown",tooltip:d?a.buttonTips[b]||g:g,overflowText:a.buttonTips[b].title||g,tabIndex:-1}}if(a.enableFont&&!Ext.isSafari2){f=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" class="'+e+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){a.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var a=this.selectEl;if(a){a.dom.disabled=true}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var a=this.selectEl;if(a){a.dom.disabled=false}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){a.win.focus();a.relayCmd("fontName",a.fontSelect.dom.value);a.deferFocus()},element:"selectEl"}});b.push(f,"-")}if(a.enableFormat){b.push(h("bold"),h("italic"),h("underline"))}if(a.enableFontSize){b.push("-",h("increasefontsize",false,a.adjustFont),h("decreasefontsize",false,a.adjustFont))}if(a.enableColors){b.push("-",{itemId:"forecolor",cls:e+"btn-icon",iconCls:e+"edit-forecolor",overflowText:a.buttonTips.forecolor.title,tooltip:d?a.buttonTips.forecolor||g:g,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(b,c){a.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+c:c);this.up("menu").hide()}}]})},{itemId:"backcolor",cls:e+"btn-icon",iconCls:e+"edit-backcolor",overflowText:a.buttonTips.backcolor.title,tooltip:d?a.buttonTips.backcolor||g:g,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(b,c){if(Ext.isGecko){a.execCmd("useCSS",false);a.execCmd("hilitecolor","#"+c);a.execCmd("useCSS",true);a.deferFocus()}else{a.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+c:c)}this.up("menu").hide()}}]})})}if(a.enableAlignments){b.push("-",h("justifyleft"),h("justifycenter"),h("justifyright"))}if(!Ext.isSafari2){if(a.enableLinks){b.push("-",h("createlink",false,a.createLink))}if(a.enableLists){b.push("-",h("insertorderedlist"),h("insertunorderedlist"))}if(a.enableSourceEdit){b.push("-",h("sourceedit",true,function(b){a.toggleSourceEdit(!a.sourceEditMode)}))}}for(c=0;c<b.length;c++){if(b[c].itemId!=="sourceedit"){b[c].disabled=true}}return{xtype:"toolbar",defaultButtonUI:a.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:true,items:b,listeners:{click:function(a){a.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(a){var b=this,c=b.textareaEl,d=b.iframeEl,e;b.readOnly=a;if(c){c.dom.readOnly=a}if(b.initialized){e=b.getEditorBody();if(Ext.isIE){d.setDisplayed(false);e.contentEditable=!a;d.setDisplayed(true)}else{b.setDesignMode(!a)}if(e){e.style.cursor=a?"default":"text"}b.disableItems(a)}},getDocMarkup:function(){var a=this,b=a.iframeEl.getHeight()-a.iframePad*2,c=Ext.isIE8m;return Ext.String.format((c?"":"<!DOCTYPE html>")+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(a.rtl?"rtl;":"ltr;")+(c?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",a.iframePad,b,a.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var a=this,b=0,c,d,e,f,g,h,i;if(!a.defaultFont){d=a.textareaEl.getStyle("font-family");d=Ext.String.capitalize(d.split(",")[0]);c=Ext.Array.clone(a.fontFamilies);Ext.Array.include(c,d);c.sort();a.defaultFont=d;e=a.down("#fontSelect").selectEl.dom;for(g=0,h=c.length;g<h;++g){d=c[g];i=d.toLowerCase();f=new Option(d,i);if(d==a.defaultFont){b=g}f.style.fontFamily=i;if(Ext.isIE){e.add(f)}else{e.options.add(f)}}e.options[b].selected=true}},isEqual:function(a,b){return this.isEqualAsString(a,b)},afterRender:function(){var a=this,b=a.inputCmp;a.callParent(arguments);a.iframeEl=b.iframeEl;a.textareaEl=b.textareaEl;a.inputEl=a.iframeEl;if(a.enableFont){a.initDefaultFont()}a.monitorTask=Ext.TaskManager.start({run:a.checkDesignMode,scope:a,interval:100});a.relayCmd("fontName",a.defaultFont)},initFrameDoc:function(){var a=this,b,c;Ext.TaskManager.stop(a.monitorTask);b=a.getDoc();a.win=a.getWin();b.open();b.write(a.getDocMarkup());b.close();c={run:function(){var b=a.getDoc();if(b.body||b.readyState==="complete"){Ext.TaskManager.stop(c);a.setDesignMode(true);Ext.defer(a.initEditor,10,a)}},interval:10,duration:1e4,scope:a};Ext.TaskManager.start(c)},checkDesignMode:function(){var a=this,b=a.getDoc();if(b&&(!b.editorInitialized||a.getDesignMode()!=="on")){a.initFrameDoc()}},setDesignMode:function(a){var b=this,c=b.getDoc();if(c){if(b.readOnly){a=false}c.designMode=/on|true/i.test(String(a).toLowerCase())?"on":"off"}},getDesignMode:function(){var a=this.getDoc();return!a?"":String(a.designMode).toLowerCase()},disableItems:function(a){var b=this.getToolbar().items.items,c,d=b.length,e;for(c=0;c<d;c++){e=b[c];if(e.getItemId()!=="sourceedit"){e.setDisabled(a)}}},toggleSourceEdit:function(a){var b=this,c=b.iframeEl,d=b.textareaEl,e=Ext.baseCSSPrefix+"hidden",f=b.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(a)){a=!b.sourceEditMode}b.sourceEditMode=a;if(f.pressed!==a){f.toggle(a)}if(a){b.disableItems(true);b.syncValue();c.addCls(e);d.removeCls(e);d.dom.removeAttribute("tabIndex");d.focus();b.inputEl=d}else{if(b.initialized){b.disableItems(b.readOnly)}b.pushValue();c.removeCls(e);d.addCls(e);d.dom.setAttribute("tabIndex",-1);b.deferFocus();b.inputEl=c}b.fireEvent("editmodechange",b,a);b.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!=="http:/"+"/"){this.relayCmd("createlink",a)}},clearInvalid:Ext.emptyFn,setValue:function(a){var b=this,c=b.textareaEl,d=b.inputCmp;b.mixins.field.setValue.call(b,a);if(a===null||a===undefined){a=""}if(c){c.dom.value=a}b.pushValue();if(!b.rendered&&b.inputCmp){b.inputCmp.data.value=a}return b},cleanHtml:function(a){a=String(a);if(Ext.isWebKit){a=a.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")}if(a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)){a=a.substring(1)}return a},syncValue:function(){var a=this,b,c,d,e,f,g;if(a.initialized){b=a.getEditorBody();d=b.innerHTML;g=a.textareaEl.dom;if(Ext.isWebKit){e=b.getAttribute("style");f=e.match(/text-align:(.*?);/i);if(f&&f[1]){d='<div style="'+f[0]+'">'+d+"</div>"}}d=a.cleanHtml(d);if(a.fireEvent("beforesync",a,d)!==false){if(Ext.isGecko&&g.value===""&&d==="<br>"){d=""}if(g.value!==d){g.value=d;c=true}a.fireEvent("sync",a,d);if(c){a.checkChange()}}}},getValue:function(){var a=this,b;if(!a.sourceEditMode){a.syncValue()}b=a.rendered?a.textareaEl.dom.value:a.value;a.value=b;return b},pushValue:function(){var a=this,b;if(a.initialized){b=a.textareaEl.dom.value||"";if(!a.activated&&b.length<1){b=a.defaultValue}if(a.fireEvent("beforepush",a,b)!==false){a.getEditorBody().innerHTML=b;if(Ext.isGecko){a.setDesignMode(false);a.setDesignMode(true)}a.fireEvent("push",a,b)}}},deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl},focus:function(a,b){var c=this,d,e;if(b){if(!c.focusTask){c.focusTask=new Ext.util.DelayedTask(c.focus)}c.focusTask.delay(Ext.isNumber(b)?b:10,null,c,[a,false])}else{if(a){if(c.textareaEl&&c.textareaEl.dom){d=c.textareaEl.dom.value}if(d&&d.length){c.execCmd("selectall",true)}}e=c.getFocusEl();if(e&&e.focus){e.focus()}}return c},initEditor:function(){try{var a=this,b=a.getEditorBody(),c=a.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),d,e;c["background-attachment"]="fixed";b.bgProperties="fixed";Ext.DomHelper.applyStyles(b,c);d=a.getDoc();if(d){try{Ext.EventManager.removeAll(d)}catch(f){}}e=Ext.Function.bind(a.onEditorEvent,a);Ext.EventManager.on(d,{mousedown:e,dblclick:e,click:e,keyup:e,buffer:100});e=a.onRelayedEvent;Ext.EventManager.on(d,{mousedown:e,mousemove:e,mouseup:e,click:e,dblclick:e,scope:a});if(Ext.isGecko){Ext.EventManager.on(d,"keypress",a.applyCommand,a)}if(a.fixKeys){Ext.EventManager.on(d,"keydown",a.fixKeys,a)}if(a.fixKeysAfter){Ext.EventManager.on(d,"keyup",a.fixKeysAfter,a)}if(Ext.isIE9&&Ext.isStrict){Ext.EventManager.on(d.documentElement,"focus",a.focus,a)}if(Ext.isIE8m||Ext.isIE9&&!Ext.isStrict){Ext.EventManager.on(d,"focusout",function(){a.savedSelection=d.selection.type!=="None"?d.selection.createRange():null},a);Ext.EventManager.on(d,"focusin",function(){if(a.savedSelection){a.savedSelection.select()}},a)}Ext.EventManager.onWindowUnload(a.beforeDestroy,a);d.editorInitialized=true;a.initialized=true;a.pushValue();a.setReadOnly(a.readOnly);a.fireEvent("initialize",a)}catch(g){}},beforeDestroy:function(){var a=this,b=a.monitorTask,c,d;if(b){Ext.TaskManager.stop(b)}if(a.rendered){Ext.EventManager.removeUnloadListener(a.beforeDestroy,a);try{c=a.getDoc();if(c){Ext.EventManager.removeAll(Ext.fly(c));for(d in c){if(c.hasOwnProperty&&c.hasOwnProperty(d)){delete c[d]}}}}catch(e){}delete a.iframeEl;delete a.textareaEl;delete a.toolbar;delete a.inputCmp}a.callParent()},onRelayedEvent:function(a){var b=this.iframeEl,c=Ext.Element.getTrueXY(b),d=a.getXY(),e=Ext.EventManager.getPageXY(a.browserEvent);a.xy=[c[0]+e[0],c[1]+e[1]];a.injectEvent(b);a.xy=d},onFirstFocus:function(){var a=this,b,c;a.activated=true;a.disableItems(a.readOnly);if(Ext.isGecko){a.win.focus();b=a.win.getSelection();if(!b.focusNode||b.focusNode.nodeType!==3){c=b.getRangeAt(0);c.selectNodeContents(a.getEditorBody());c.collapse(true);a.deferFocus()}try{a.execCmd("useCSS",true);a.execCmd("styleWithCSS",false)}catch(d){}}a.fireEvent("activate",a)},adjustFont:function(a){var b=a.getItemId()==="increasefontsize"?1:-1,c=this.getDoc().queryCommandValue("FontSize")||"2",d=Ext.isString(c)&&c.indexOf("px")!==-1,e;c=parseInt(c,10);if(d){if(c<=10){c=1+b}else if(c<=13){c=2+b}else if(c<=16){c=3+b}else if(c<=18){c=4+b}else if(c<=24){c=5+b}else{c=6+b}c=Ext.Number.constrain(c,1,6)}else{e=Ext.isSafari;if(e){b*=2}c=Math.max(1,c+b)+(e?"px":0)}this.relayCmd("FontSize",c)},onEditorEvent:function(a){this.updateToolbar()},updateToolbar:function(){var a=this,b,c,d,e,f,g,h,i;if(a.readOnly){return}if(!a.activated){a.onFirstFocus();return}d=a.getToolbar().items.map;e=a.getDoc();if(a.enableFont&&!Ext.isSafari2){g=e.queryCommandValue("fontName");f=(g?g.split(",")[0].replace(/^'/,"").replace(/'$/,""):a.defaultFont).toLowerCase();h=a.fontSelect.dom;if(f!==h.value||f!=g){h.value=f}}function j(){var a;for(b=0,c=arguments.length,f;b<c;b++){f=arguments[b];try{a=e.queryCommandState(f)}catch(g){a=false}d[f].toggle(a)}}if(a.enableFormat){j("bold","italic","underline")}if(a.enableAlignments){j("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&a.enableLists){j("insertorderedlist","insertunorderedlist")}i=a.toolbar.query("menu");for(b=0;b<i.length;b++){i[b].hide()}a.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(a,b){Ext.defer(function(){var c=this;if(!this.isDestroyed){c.win.focus();c.execCmd(a,b);c.updateToolbar()}},10,this)},execCmd:function(a,b){var c=this,d=c.getDoc();d.execCommand(a,false,b==undefined?null:b);c.syncValue()},applyCommand:function(a){if(a.ctrlKey){var b=this,c=a.getCharCode(),d;if(c>0){c=String.fromCharCode(c);switch(c){case"b":d="bold";break;case"i":d="italic";break;case"u":d="underline";break}if(d){b.win.focus();b.execCmd(d);b.deferFocus();a.preventDefault()}}}},insertAtCursor:function(a){var b=this,c;if(b.activated){b.win.focus();if(Ext.isIE){c=b.getDoc().selection.createRange();if(c){c.pasteHTML(a);b.syncValue();b.deferFocus()}}else{b.execCmd("InsertHTML",a);b.deferFocus()}}},fixKeys:function(){if(Ext.isIE){return function(a){var b=this,c=a.getKey(),d=b.getDoc(),e=b.readOnly,f,g;if(c===a.TAB){a.stopEvent();if(!e){f=d.selection.createRange();if(f){if(f.collapse){f.collapse(true);f.pasteHTML("&#160;&#160;&#160;&#160;")}b.deferFocus()}}}else if(c===a.ENTER){if(!e){f=d.selection.createRange();if(f){g=f.parentElement();if(!g||g.tagName.toLowerCase()!=="li"){a.stopEvent();f.pasteHTML("<br />");f.collapse(false);f.select()}}}}}}if(Ext.isOpera){return function(a){var b=this,c=a.getKey(),d=b.readOnly;if(c===a.TAB){a.stopEvent();if(!d){b.win.focus();b.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");b.deferFocus()}}}}return null}(),fixKeysAfter:function(){if(Ext.isIE){return function(a){var b=this,c=a.getKey(),d=b.getDoc(),e=b.readOnly,f;if(!e&&(c===a.BACKSPACE||c===a.DELETE)){f=d.body.innerHTML;if(f==="<p>&nbsp;</p>"||f==="<P>&nbsp;</P>"){d.body.innerHTML=""}}}}return null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}});Ext.define("Ext.picker.Time",{extend:Ext.view.BoundList,alias:"widget.timepicker",increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:false,initComponent:function(){var a=this,b=Ext.Date,c=b.clearTime,d=a.initDate;a.absMin=c(new Date(d[0],d[1],d[2]));a.absMax=b.add(c(new Date(d[0],d[1],d[2])),"mi",24*60-1);a.store=a.createStore();a.store.addFilter(a.rangeFilter=new Ext.util.Filter({id:"time-picker-filter"}),false);a.updateList();a.callParent()},setMinValue:function(a){this.minValue=a;this.updateList()},setMaxValue:function(a){this.maxValue=a;this.updateList()},normalizeDate:function(a){var b=this.initDate;a.setFullYear(b[0],b[1],b[2]);return a},updateList:function(){var a=this,b=a.normalizeDate(a.minValue||a.absMin),c=a.normalizeDate(a.maxValue||a.absMax);a.rangeFilter.setFilterFn(function(a){var d=a.get("date");return d>=b&&d<=c});a.store.filter()},createStore:function(){var a=this,b=Ext.Date,c=[],d=a.absMin,e=a.absMax;while(d<=e){c.push({disp:b.dateFormat(d,a.format),date:d});d=b.add(d,"mi",a.increment)}return new Ext.data.Store({fields:["disp","date"],data:c})},focusNode:function(a){return false}});Ext.define("Ext.form.field.Time",{extend:Ext.form.field.ComboBox,alias:"widget.timefield",alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:true,snapToIncrement:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var a=this,b=a.minValue,c=a.maxValue;if(b){a.setMinValue(b)}if(c){a.setMaxValue(c)}a.displayTpl=new Ext.XTemplate('<tpl for=".">'+'{[typeof values === "string" ? values : this.formatDate(values["'+a.displayField+'"])]}'+'<tpl if="xindex < xcount">'+a.delimiter+"</tpl>"+"</tpl>",{formatDate:Ext.Function.bind(a.formatDate,a)});this.callParent()},transformOriginalValue:function(a){if(Ext.isString(a)){return this.rawToValue(a)}return a},isEqual:function(a,b){return Ext.Date.isEqual(a,b)},setMinValue:function(a){var b=this,c=b.picker;b.setLimit(a,true);if(c){c.setMinValue(b.minValue)}},setMaxValue:function(a){var b=this,c=b.picker;b.setLimit(a,false);if(c){c.setMaxValue(b.maxValue)}},setLimit:function(a,b){var c=this,d,e;if(Ext.isString(a)){d=c.parseDate(a)}else if(Ext.isDate(a)){d=a}if(d){e=Ext.Date.clearTime(new Date(c.initDate));e.setHours(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())}else{e=null}c[b?"minValue":"maxValue"]=e},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(a){var b=this,c=Ext.String.format,d=b.callParent(arguments),e=b.minValue,f=b.maxValue,g;a=b.formatDate(a||b.processRawValue(b.getRawValue()));if(a===null||a.length<1){return d}g=b.parseDate(a);if(!g){d.push(c(b.invalidText,a,Ext.Date.unescapeFormat(b.format)));return d}if(e&&g<e){d.push(c(b.minText,b.formatDate(e)))}if(f&&g>f){d.push(c(b.maxText,b.formatDate(f)))}return d},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(a){var b=this,c=a,d=b.altFormats,e=b.altFormatsArray,f=0,g;if(a&&!Ext.isDate(a)){c=b.safeParse(a,b.format);if(!c&&d){e=e||d.split("|");g=e.length;for(;f<g&&!c;++f){c=b.safeParse(a,e[f])}}}if(c&&b.snapToIncrement){c=new Date(Ext.Number.snap(c.getTime(),b.increment*60*1e3))}return c},safeParse:function(a,b){var c=this,d=Ext.Date,e,f=null;if(d.formatContainsDateInfo(b)){f=d.parse(a,b)}else{e=d.parse(c.initDate+" "+a,c.initDateFormat+" "+b);if(e){f=e}}return f},getSubmitValue:function(){var a=this,b=a.submitFormat||a.format,c=a.getValue();return c?Ext.Date.format(c,b):null},createPicker:function(){var a=this,b;a.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:undefined,minValue:a.minValue,maxValue:a.maxValue,increment:a.increment,format:a.format,maxHeight:a.pickerMaxHeight},a.listConfig);b=a.callParent();a.bindStore(b.store);return b},onItemClick:function(a,b){var c=this,d=a.getSelectionModel().getSelection();if(d.length>0){d=d[0];if(d&&Ext.Date.isEqual(b.get("date"),d.get("date"))){c.collapse()}}},onListSelectionChange:function(a,b){if(b.length){var c=this,d=b[0].get("date");if(!c.ignoreSelection){c.skipSync=true;c.setValue(d);c.skipSync=false;c.fireEvent("select",c,d);c.picker.clearHighlight();c.collapse();c.inputEl.focus()}}},syncSelection:function(){var a=this,b=a.picker,c,d,e,f,g,h,i;if(b&&!a.skipSync){b.clearHighlight();e=a.getValue();d=b.getSelectionModel();a.ignoreSelection++;if(e===null){d.deselectAll()}else if(Ext.isDate(e)){f=b.store.data.items;h=f.length;for(g=0;g<h;g++){i=f[g];if(Ext.Date.isEqual(i.get("date"),e)){c=i;break}}d.select(c)}a.ignoreSelection--}},postBlur:function(){var a=this,b=a.getValue();a.callParent(arguments);if(a.wasValid&&b){a.setRawValue(a.formatDate(b))}},setValue:function(){this.getPicker();return this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}});Ext.define("Ext.grid.CellContext",{isCellContext:true,constructor:function(a){this.view=a},setPosition:function(a,b){var c=this;if(arguments.length===1){if(a.view){c.view=a.view}b=a.column;a=a.row}c.setRow(a);c.setColumn(b);return c},setRow:function(a){var b=this;if(a!==undefined){if(typeof a==="number"){b.row=Math.max(Math.min(a,b.view.dataSource.getCount()-1),0);b.record=b.view.dataSource.getAt(a)}else if(a.isModel){b.record=a;b.row=b.view.indexOf(a)}else if(a.tagName){b.record=b.view.getRecord(a);b.row=b.view.indexOf(b.record)}}},setColumn:function(a){var b=this,c=b.view.ownerCt.columnManager;if(a!==undefined){if(typeof a==="number"){b.column=a;b.columnHeader=c.getHeaderAtIndex(a)}else if(a.isHeader){b.columnHeader=a;b.column=c.getHeaderIndex(a)}}}});Ext.define("Ext.grid.CellEditor",{extend:Ext.Editor,constructor:function(a){a=Ext.apply({},a);if(a.field){a.field.monitorTab=false}this.callParent([a])},onShow:function(){var a=this,b=a.boundEl.first();if(b){if(a.isForTree){b=b.child(a.treeNodeSelector)}b.hide()}a.callParent(arguments)},onHide:function(){var a=this,b=a.boundEl.first();if(b){if(a.isForTree){b=b.child(a.treeNodeSelector)}b.show()}a.callParent(arguments)},afterRender:function(){var a=this,b=a.field;a.callParent(arguments);if(b.isCheckbox){b.mon(b.inputEl,{mousedown:a.onCheckBoxMouseDown,click:a.onCheckBoxClick,scope:a})}},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(a){var b=this,c=b.boundEl,d=c.first(),e=c.getWidth(),f=Ext.Array.clone(b.offsets),g=b.grid,h;if(b.isForTree){h=b.getTreeNodeOffset(d);e-=Math.abs(h);f[0]+=h}if(g.columnLines){e-=c.getBorderWidth("rl")}if(a===true){b.field.setWidth(e)}b.alignTo(d,b.alignment,f)},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]},onEditorTab:function(a){var b=this.field;if(b.onEditorTab){b.onEditorTab(a)}},alignment:"l-l",hideEl:false,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:false,shadow:false});Ext.define("Ext.grid.ColumnComponentLayout",{extend:Ext.layout.component.Auto,alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:true,beginLayout:function(a){var b=this;b.callParent(arguments);a.titleContext=a.getEl("titleEl");a.triggerContext=a.getEl("triggerEl")},beginLayoutCycle:function(a){var b=this,c=b.owner;b.callParent(arguments);if(a.widthModel.shrinkWrap){c.el.setWidth("")}var d=c.isLast&&c.isSubHeader?"0":"";if(d!==b.lastBorderRightWidth){c.el.dom.style.borderRightWidth=b.lasBorderRightWidth=d}c.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(a,b){if(!b){return}var c=this,d=c.owner,e=b-a.getBorderInfo().height,f=e,g,h,i,j;if(!d.noWrap&&!a.hasDomProp("width")){c.done=false;return}if(a.hasRawContent){h=f;g=d.textEl.getHeight();if(g){f-=g;if(f>0){i=Math.floor(f/2);j=f-i;a.titleContext.setProp("padding-top",i);a.titleContext.setProp("padding-bottom",j)}}}else{h=d.titleEl.getHeight();a.setProp("innerHeight",e-h,false)}if((Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext){a.triggerContext.setHeight(h)}},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishOwnerHeight:function(a,b){this.callParent(arguments);if((Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext){a.triggerContext.setHeight(b)}},publishInnerWidth:function(a,b){if(!a.hasRawContent){a.setProp("innerWidth",b-a.getBorderInfo().width,false)}},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);if(!a.hasRawContent){if(this.owner.noWrap||a.hasDomProp("width")){return b+this.owner.titleEl.getHeight()+a.getBorderInfo().height}return null}return c},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.owner,d=Math.max(b,c.textEl.getWidth()+a.titleContext.getPaddingInfo().width),e=a.getPaddingInfo().width,f=this.getTriggerOffset(c,a);return d+e+f},getTriggerOffset:function(a,b){var c=0;if(b.widthModel.shrinkWrap&&!a.menuDisabled){if(a.query(">:not([hidden])").length===0){c=a.self.triggerElWidth}}return c}});Ext.define("Ext.grid.ColumnLayout",{extend:Ext.layout.container.HBox,alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:false,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){if(!this.scrollbarWidth){this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}this.grid=this.owner.up("[scrollerOwner]");this.callParent()},beginLayout:function(a){var b=this,c=b.owner,d=b.grid,e=d.view,f=b.getVisibleItems(),g=f.length,h=b.firstHeaderCls,i=b.lastHeaderCls,j,k;if(d.lockable){if(c.up("tablepanel")===e.normalGrid){e=e.normalGrid.getView()}else{e=null}}for(j=0;j<g;j++){k=f[j];k.isLast=false;k.removeCls([h,i]);if(j===0){k.addCls(h)}if(j===g-1){k.addCls(i);k.isLast=true}}b.callParent(arguments);if(!c.isColumn&&Ext.getScrollbarSize().width&&!d.collapsed&&e&&e.rendered&&(a.viewTable=e.body.dom)){a.viewContext=a.context.getCmp(e)}},roundFlex:function(a){return Math.floor(a)},calculate:function(a){this.callParent(arguments);if(a.state.parallelDone&&(!this.owner.forceFit||a.flexedItems.length)){a.setProp("columnWidthsDone",true)}if(a.viewContext){a.state.tableHeight=a.viewTable.offsetHeight}},completeLayout:function(a){var b=this,c=b.owner,d=a.state;b.callParent(arguments);if(!a.flexedItems.length&&!d.flexesCalculated&&c.forceFit&&b.convertWidthsToFlexes(a)){b.cacheFlexes(a);a.invalidate({state:{flexesCalculated:true}})}else{a.setProp("columnWidthsDone",true)}},convertWidthsToFlexes:function(a){var b=this,c=0,d=b.sizeModels.calculated,e,f,g,h,i;e=a.childItems;f=e.length;for(g=0;g<f;g++){h=e[g];i=h.target;c+=h.props.width;if(!(i.fixed||i.resizable===false)){i.flex=a.childItems[g].flex=h.props.width;i.width=null;h.widthModel=d}}return c!==a.props.width},getContainerSize:function(a){var b=this,c,d=a.viewContext,e;if(b.owner.isColumn){c=b.getColumnContainerSize(a)}else{c=b.callParent(arguments);if(d&&!d.heightModel.shrinkWrap&&d.target.componentLayout.ownerContext){e=d.getProp("height");if(isNaN(e)){b.done=false}else if(a.state.tableHeight>e){c.width-=Ext.getScrollbarSize().width;a.state.parallelDone=false;d.invalidate()}}}return c},getColumnContainerSize:function(a){var b=a.paddingContext.getPaddingInfo(),c=0,d=0,e,f,g,h;if(!a.widthModel.shrinkWrap){++d;g=a.getProp("innerWidth");e=typeof g=="number";if(e){++c;g-=b.width;if(g<0){g=0}}}if(!a.heightModel.shrinkWrap){++d;h=a.getProp("innerHeight");f=typeof h=="number";if(f){++c;h-=b.height;if(h<0){h=0}}}return{width:g,height:h,needed:d,got:c,gotAll:c==d,gotWidth:e,gotHeight:f}},publishInnerCtSize:function(a){var b=this,c=a.state.boxPlan.targetSize,d=a.peek("contentWidth"),e;b.owner.tooNarrow=a.state.boxPlan.tooNarrow;if(d!=null&&!b.owner.isColumn){c.width=d;e=b.owner.ownerCt.view;if(e.scrollFlags.y){c.width+=Ext.getScrollbarSize().width}}return b.callParent(arguments)}});Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(a,b){this.headerCt=a;if(b){this.secondHeaderCt=b}},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},getHeaderIndex:function(a){if(a.isGroupHeader){a=a.down(":not([isGroupHeader])")}return Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(a){var b=this.getColumns();return b.length?b[a]:null},getHeaderById:function(a){var b=this.getColumns(),c=b.length,d,e;for(d=0;d<c;++d){e=b[d];if(e.getItemId()===a){return e}}return null},getVisibleHeaderClosestToIndex:function(a){var b=this.getHeaderAtIndex(a);if(b&&b.hidden){b=b.next(":not([hidden])")||b.prev(":not([hidden])")}return b},cacheColumns:function(){this.columns=this.headerCt.getVisibleGridColumns();if(this.secondHeaderCt){Ext.Array.push(this.columns,this.secondHeaderCt.getVisibleGridColumns())}},invalidate:function(){this.columns=null;if(this.rootColumns){this.rootColumns.invalidate()}}},function(){this.createAlias("indexOf","getHeaderIndex")});Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:true,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a,b){var c=b||this.owner.getSizeModel(),d=(c.width.shrinkWrap?0:1)|(c.height.shrinkWrap?0:2);return this.sizePolicies[d]},beginLayoutCycle:function(a,b){var c=this,d=c.lastHeightModel&&c.lastHeightModel.calculated,e=c.lastWidthModel&&c.lastWidthModel.calculated,f=e||d,g=0,h=0,i,j,k,l,m,n,o,p,q,r;c.callParent(arguments);if(f&&a.targetContext.el.dom.tagName.toUpperCase()!="TD"){f=e=d=false}j=a.childItems;m=j.length;for(k=0;k<m;++k){l=j[k];if(b){i=l.target;o=i.minHeight;p=i.minWidth;if(p||o){n=l.marginInfo||l.getMarginInfo();o+=n.height;p+=n.height;if(g<o){g=o}if(h<p){h=p}}}if(f){q=l.el.dom.style;if(d){q.height=""}if(e){q.width=""}}}if(b){a.maxChildMinHeight=g;a.maxChildMinWidth=h}i=a.target;a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&i.scrollFlags.x||r;a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&i.scrollFlags.y||r},calculate:function(a){var b=this,c=a.childItems,d=c.length,e=b.getContainerSize(a),f={length:d,ownerContext:a,targetSize:e},g=a.widthModel.shrinkWrap,h=a.heightModel.shrinkWrap,i=a.overflowX,j=a.overflowY,k,l,m,n,o,p;if(i||j){k=b.getScrollbarsNeeded(i&&e.width,j&&e.height,a.maxChildMinWidth,a.maxChildMinHeight);if(k){l=Ext.getScrollbarSize();if(k&1){e.height-=l.height}if(k&2){e.width-=l.width}}}for(n=0;n<d;++n){f.index=n;b.fitItem(c[n],f)}if(h||g){m=a.targetContext.getPaddingInfo();if(g){if(j&&!e.gotHeight){b.done=false}else{o=f.contentWidth+m.width;if(k&2){o+=l.width}if(!a.setContentWidth(o)){b.done=false}}}if(h){if(i&&!e.gotWidth){b.done=false}else{p=f.contentHeight+m.height;if(k&1){p+=l.height}if(!a.setContentHeight(p)){b.done=false}}}}},fitItem:function(a,b){var c=this;if(a.invalid){c.done=false;return}b.margins=a.getMarginInfo();b.needed=b.got=0;c.fitItemWidth(a,b);c.fitItemHeight(a,b);if(b.got!=b.needed){c.done=false}},fitItemWidth:function(a,b){var c,d;if(b.ownerContext.widthModel.shrinkWrap){d=a.getProp("width")+b.margins.width;c=b.contentWidth;if(c===undefined){b.contentWidth=d}else{b.contentWidth=Math.max(c,d)}}else if(a.widthModel.calculated){++b.needed;if(b.targetSize.gotWidth){++b.got;this.setItemWidth(a,b)}}this.positionItemX(a,b)},fitItemHeight:function(a,b){var c,d;if(b.ownerContext.heightModel.shrinkWrap){d=a.getProp("height")+b.margins.height;
c=b.contentHeight;if(c===undefined){b.contentHeight=d}else{b.contentHeight=Math.max(c,d)}}else if(a.heightModel.calculated){++b.needed;if(b.targetSize.gotHeight){++b.got;this.setItemHeight(a,b)}}this.positionItemY(a,b)},positionItemX:function(a,b){var c=b.margins;if(b.index||c.left){a.setProp("x",c.left)}if(c.width){a.setProp("margin-right",c.width)}},positionItemY:function(a,b){var c=b.margins;if(b.index||c.top){a.setProp("y",c.top)}if(c.height){a.setProp("margin-bottom",c.height)}},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}});Ext.define("Ext.panel.Table",{extend:Ext.panel.Panel,alias:"widget.tablepanel",extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:false,viewType:null,selType:"rowmodel",scroll:true,deferRowRender:true,sortableColumns:true,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,rowLines:true,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var a=this,b=a.columns||a.colModel,c,d,e,f=a.store=Ext.data.StoreManager.lookup(a.store||"ext-empty-store"),g;if(a.columnLines){a.addCls(a.colLinesCls)}a.addCls(a.rowLines?a.rowLinesCls:a.noRowLinesCls);if(b instanceof Ext.grid.header.Container){b.isRootHeader=true;a.headerCt=b}else{if(a.enableLocking||a.hasLockedColumns(b)){a.self.mixin("lockable",Ext.grid.locking.Lockable);a.injectLockable()}else{if(Ext.isArray(b)){b={items:b}}Ext.apply(b,{grid:a,forceFit:a.forceFit,sortable:a.sortableColumns,enableColumnMove:a.enableColumnMove,enableColumnResize:a.enableColumnResize,sealed:a.sealedColumns,isRootHeader:true});if(Ext.isDefined(a.enableColumnHide)){b.enableColumnHide=a.enableColumnHide}if(!a.headerCt){a.headerCt=new Ext.grid.header.Container(b)}}}a.columns=a.headerCt.getGridColumns();a.scrollTask=new Ext.util.DelayedTask(a.syncHorizontalScroll,a);a.addEvents("reconfigure","viewready");a.bodyCls=a.bodyCls||"";a.bodyCls+=" "+a.extraBodyCls;a.cls=a.cls||"";a.cls+=" "+a.extraBaseCls;delete a.autoScroll;if(!a.hasView){g=a.headerCt.getGridColumns();if(f.buffered&&!f.remoteSort){for(d=0,e=g.length;d<e;d++){g[d].sortable=false}}if(a.hideHeaders){a.headerCt.height=0;a.headerCt.hiddenHeaders=true;a.headerCt.addCls(a.hiddenHeaderCtCls);a.addCls(a.hiddenHeaderCls);if(Ext.isIEQuirks){a.headerCt.style={display:"none"}}}a.relayHeaderCtEvents(a.headerCt);a.features=a.features||[];if(!Ext.isArray(a.features)){a.features=[a.features]}a.dockedItems=[].concat(a.dockedItems||[]);a.dockedItems.unshift(a.headerCt);a.viewConfig=a.viewConfig||{};c=a.getView();a.items=[c];a.hasView=true;if(!a.hideHeaders){c.on({scroll:{fn:a.onHorizontalScroll,element:"el",scope:a}})}a.bindStore(f,true);a.mon(c,{viewready:a.onViewReady,refresh:a.onRestoreHorzScroll,scope:a})}a.relayEvents(a.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]);a.callParent(arguments);a.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange"]);if(!a.lockable&&a.headerCt){a.headerCt.on("afterlayout",a.onRestoreHorzScroll,a)}},hasLockedColumns:function(a){var b,c,d;if(Ext.isObject(a)){a=a.items}for(b=0,c=a.length;b<c;b++){d=a[b];if(!d.processed&&d.locked){return true}}},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var a=this,b=a.callParent(),c=a.store.getState();b=a.addPropertyToState(b,"columns",a.headerCt.getColumnsState());if(c){b.storeState=c}return b},applyState:function(a){var b=this,c=a.sort,d=a.storeState,e=b.store,f=a.columns;delete a.columns;b.callParent(arguments);if(f){b.headerCt.applyColumnsState(f)}if(c){if(e.remoteSort){e.sort({property:c.property,direction:c.direction,root:c.root},null,false)}else{e.sort(c.property,c.direction)}}else if(d){e.applyState(d)}},getStore:function(){return this.store},getView:function(){var a=this,b;if(!a.view){b=a.getSelectionModel();Ext.widget(Ext.apply({grid:a,deferInitialRefresh:a.deferRowRender!==false,trackOver:a.trackMouseOver!==false,scroll:a.scroll,xtype:a.viewType,store:a.store,headerCt:a.headerCt,columnLines:a.columnLines,rowLines:a.rowLines,selModel:b,features:a.features,panel:a,emptyText:a.emptyText||""},a.viewConfig));if(a.view.emptyText){a.view.emptyText='<div class="'+a.emptyCls+'">'+a.view.emptyText+"</div>"}a.view.getComponentLayout().headerCt=a.headerCt;a.mon(a.view,{uievent:a.processEvent,scope:a});b.view=a.view;a.headerCt.view=a.view}return a.view},setAutoScroll:Ext.emptyFn,processEvent:function(a,b,c,d,e,f,g,h){var i=this,j;if(e!==-1){j=i.columnManager.getColumns()[e];return j.processEvent.apply(j,arguments)}},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(a,b){this.getView().scrollBy(0,a,b)},scrollByDeltaX:function(a,b){this.getView().scrollBy(a,0,b)},afterCollapse:function(){var a=this;a.saveScrollPos();a.saveScrollPos();a.callParent(arguments)},afterExpand:function(){var a=this;a.callParent(arguments);a.restoreScrollPos();a.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(a,b,c,d,e){var f=this;if(f.optimizedColumnMove===false){f.view.refresh()}else{f.view.moveColumn(d,e,c)}f.delayScroll()},onHeaderHide:function(a,b){this.view.refresh();this.delayScroll()},onHeaderShow:function(a,b){this.view.refresh();this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;if(a){this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;if(a){this.syncHorizontalScroll(a,true)}},getScrollerOwner:function(){var a=this;if(!this.scrollerOwner){a=this.up("[scrollerOwner]")}return a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},true))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},true))},getSelectionModel:function(){var a=this,b=a.selModel,c,d,e;if(!b){b={};c=true}if(!b.events){e=b.selType||a.selType;c=!b.mode;b=a.selModel=Ext.create("selection."+e,b)}if(a.simpleSelect){d="SIMPLE"}else if(a.multiSelect){d="MULTI"}Ext.applyIf(b,{allowDeselect:a.allowDeselect});if(d&&c){b.setSelectionMode(d)}if(!b.hasRelaySetup){a.relayEvents(b,["selectionchange","beforeselect","beforedeselect","select","deselect"]);b.hasRelaySetup=true}if(a.disableSelection){b.locked=true}return b},getScrollTarget:function(){var a=this.getScrollerOwner(),b=a.query("tableview");return b[1]||b[0]},onHorizontalScroll:function(a,b){this.syncHorizontalScroll(b.scrollLeft)},syncHorizontalScroll:function(a,b){var c=this,d;b=b===true;if(c.rendered&&(b||a!==c.scrollLeftPos)){if(b){d=c.getScrollTarget();d.el.dom.scrollLeft=a}c.headerCt.el.dom.scrollLeft=a;c.scrollLeftPos=a}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(a,b){var c=this,d=c.getView(),e=a&&a.buffered,f;c.store=a;f=c.findPlugin("bufferedrenderer");if(f){c.verticalScroller=f;if(f.store){f.bindStore(a)}}else if(e){c.verticalScroller=f=c.addPlugin(Ext.apply({ptype:"bufferedrenderer"},c.initialConfig.verticalScroller))}if(d.store!==a){if(b){d.bindStore(a,false,"dataSource")}else{d.bindStore(a,false)}}c.mon(a,{load:c.onStoreLoad,scope:c});c.storeRelayers=c.relayEvents(a,["filterchange"]);if(f){c.invalidateScrollerOnRefresh=false}if(c.invalidateScrollerOnRefresh!==undefined){d.preserveScrollOnRefresh=!c.invalidateScrollerOnRefresh}},unbindStore:function(){var a=this,b=a.store;if(b){a.store=null;a.mun(b,{load:a.onStoreLoad,scope:a});Ext.destroy(a.storeRelayers)}},reconfigure:function(a,b){var c=this,d=c.getView(),e,f=c.store,g=c.headerCt,h=g?g.items.getRange():c.columns;if(b){b=Ext.Array.slice(b)}c.fireEvent("beforereconfigure",c,a,b,f,h);if(c.lockable){c.reconfigureLockable(a,b)}else{Ext.suspendLayouts();if(b){delete c.scrollLeftPos;g.removeAll();g.add(b)}if(a&&(a=Ext.StoreManager.lookup(a))!==f){if(c.store){c.unbindStore()}e=d.deferInitialRefresh;d.deferInitialRefresh=false;c.bindStore(a);d.deferInitialRefresh=e}else{c.getView().refresh()}g.setSortState();Ext.resumeLayouts(true)}c.fireEvent("reconfigure",c,a,b,f,h)},beforeDestroy:function(){var a=this.scrollTask;if(a){a.cancel();this.scrollTask=null}this.callParent()},onDestroy:function(){if(this.lockable){this.destroyLockable()}this.callParent()}});Ext.define("Ext.util.CSS",function(){var a,b=null,c=document,d=/(-[a-z])/gi,e=function(a,b){return b.charAt(1).toUpperCase()};return{singleton:true,rules:b,initialized:false,constructor:function(){a=this},createStyleSheet:function(b,d){var e,f=c.getElementsByTagName("head")[0],g=c.createElement("style");g.setAttribute("type","text/css");if(d){g.setAttribute("id",d)}if(Ext.isIE){f.appendChild(g);e=g.styleSheet;e.cssText=b}else{try{g.appendChild(c.createTextNode(b))}catch(h){g.cssText=b}f.appendChild(g);e=g.styleSheet?g.styleSheet:g.sheet||c.styleSheets[c.styleSheets.length-1]}a.cacheStyleSheet(e);return e},removeStyleSheet:function(a){var b=c.getElementById(a);if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(b,d){var e;a.removeStyleSheet(b);e=c.createElement("link");e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");e.setAttribute("id",b);e.setAttribute("href",d);c.getElementsByTagName("head")[0].appendChild(e)},refreshCache:function(){return a.getRules(true)},cacheStyleSheet:function(c){if(!b){b=a.rules={}}try{var d=c.cssRules||c.rules,e=d.length-1,f=c.imports,g=f?f.length:0,h,i;for(i=0;i<g;++i){a.cacheStyleSheet(f[i])}for(;e>=0;--e){h=d[e];if(h.styleSheet){a.cacheStyleSheet(h.styleSheet)}a.cacheRule(h,c)}}catch(j){}},cacheRule:function(c,d){if(c.styleSheet){return a.cacheStyleSheet(c.styleSheet)}var e=c.selectorText,f,g;if(e){e=e.split(",");f=e.length;for(g=0;g<f;g++){b[Ext.String.trim(e[g]).toLowerCase()]={parentStyleSheet:d,cssRule:c}}}},getRules:function(c){var d={},e;if(b===null||c){a.refreshCache()}for(e in b){d[e]=b[e].cssRule}return d},refreshCache:function(){var d=c.styleSheets,e=0,f=d.length;b=a.rules={};for(;e<f;e++){try{if(!d[e].disabled){a.cacheStyleSheet(d[e])}}catch(g){}}},getRule:function(c,d,e){var f,g;if(!b||d){a.refreshCache()}if(!Ext.isArray(c)){g=b[c.toLowerCase()];if(g&&!e){g=g.cssRule}return g||null}for(f=0;f<c.length;f++){if(b[c[f]]){return e?b[c[f].toLowerCase()]:b[c[f].toLowerCase()].cssRule}}return null},createRule:function(b,c,d){var e,f=b.cssRules||b.rules,g=f.length;if(b.insertRule){b.insertRule(c+"{"+d+"}",g)}else{b.addRule(c,d||" ")}a.cacheRule(e=f[g],b);return e},updateRule:function(b,c,f){var g,h,i;if(!Ext.isArray(b)){g=a.getRule(b);if(g){if(arguments.length==2){i=Ext.Element.parseStyles(c);for(c in i){g.style[c.replace(d,e)]=i[c]}}else{g.style[c.replace(d,e)]=f}return true}}else{for(h=0;h<b.length;h++){if(a.updateRule(b[h],c,f)){return true}}}return false},deleteRule:function(c){var d=a.getRule(c,false,true),e,f;if(d){e=d.parentStyleSheet;f=Ext.Array.indexOf(e.cssRules||e.rules,d.cssRule);if(e.deleteRule){e.deleteRule(f)}else{e.removeRule(f)}delete b[c]}}}});Ext.define("Ext.view.TableLayout",{extend:Ext.layout.component.Auto,alias:["layout.tableview"],type:"tableview",beginLayout:function(a){var b=this,c=b.owner.lockingPartner,d=b.owner;b.callParent(arguments);if(c){b.lockedGrid=b.owner.up("[lockable]");b.lockedGrid.needsRowHeightSync=true;if(!a.lockingPartner){a.lockingPartner=a.context.getItem(c,c.el);if(a.lockingPartner&&!a.lockingPartner.lockingPartner){a.lockingPartner.lockingPartner=a}}}a.headerContext=a.context.getCmp(b.headerCt);if(b.owner.body.dom){a.bodyContext=a.getEl(b.owner.body)}if(Ext.isWebKit){d.el.select(d.getBodySelector()).setStyle("table-layout","auto")}},calculate:function(a){var b=this,c=b.lockingPartner,d=b.owner,e=0,f;if(a.headerContext.hasProp("columnWidthsDone")){if(!b.setColumnWidths(a)){b.done=false;return}a.state.columnWidthsSynced=true;if(a.bodyContext){f=b.owner.el.down("."+d.ownerCt.emptyCls,true);if(!f){e=a.bodyContext.el.dom.offsetHeight;a.bodyContext.setHeight(e,false)}else{e=f.offsetHeight}a.setProp("contentHeight",e)}if(c&&!c.state.columnWidthsSynced){b.done=false}else{b.callParent(arguments)}}else{b.done=false}},measureContentHeight:function(a){var b=a.lockingPartner;if(!a.bodyContext||a.state.columnWidthsSynced&&(!b||b.state.columnWidthsSynced)){return this.callParent(arguments)}},setColumnWidths:function(a){var b=this,c=b.owner,d=a.context,e=b.headerCt.getVisibleGridColumns(),f,g=0,h=e.length,i=0,j=0,k,l,m=!Ext.isBorderBox;if(d){d.currentLayout=b}for(g=0;g<h;g++){f=e[g];k=d.getCmp(f);l=k.props.width;if(isNaN(l)){k.getProp("width");return false}i+=l;if(m&&c.columnLines){if(!j){j=d.getCmp(f).borderInfo.width||1}l-=j}c.body.select(c.getColumnSizerSelector(f)).setWidth(l)}c.el.select(c.getBodySelector()).setWidth(i);return true},finishedLayout:function(){var a=this,b=a.owner;a.callParent(arguments);if(Ext.isWebKit){b.el.select(b.getBodySelector()).setStyle("table-layout","")}if(b.refreshCounter&&a.lockedGrid&&a.lockedGrid.syncRowHeight&&a.lockedGrid.needsRowHeightSync){a.lockedGrid.syncRowHeights();a.lockedGrid.needsRowHeightSync=false}}});Ext.define("Ext.view.NodeCache",{constructor:function(a){this.view=a;this.clear();this.el=new Ext.dom.AbstractElement.Fly},clear:function(a){var b=this,c=this.elements,d,e;if(a){for(d in c){e=c[d];e.parentNode.removeChild(e)}}b.elements={};b.count=b.startIndex=0;b.endIndex=-1},fill:function(a,b){var c=this,d=c.elements={},e,f=a.length;if(!b){b=0}for(e=0;e<f;e++){d[b+e]=a[e]}c.startIndex=b;c.endIndex=b+f-1;c.count=f;return this},insert:function(a,b){var c=this,d=c.elements,e,f=b.length;if(c.count){if(a<c.count){for(e=c.endIndex+f;e>=a+f;e--){d[e]=d[e-f];d[e].setAttribute("data-recordIndex",e)}}c.endIndex=c.endIndex+f}else{c.startIndex=a;c.endIndex=a+f-1}for(e=0;e<f;e++,a++){d[a]=b[e];d[a].setAttribute("data-recordIndex",a)}c.count+=f},item:function(a,b){var c=this.elements[a],d=null;if(c){d=b?this.elements[a]:this.el.attach(this.elements[a])}return d},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},getCount:function(){return this.count},slice:function(a,b){var c=this.elements,d=[],e;if(arguments.length<2){b=this.endIndex}else{b=Math.min(this.endIndex,b-1)}for(e=a||this.startIndex;e<=b;e++){d.push(c[e])}return d},replaceElement:function(a,b,c){var d=this.elements,e=typeof a==="number"?a:this.indexOf(a);if(e>-1){b=Ext.getDom(b);if(c){a=d[e];a.parentNode.insertBefore(b,a);Ext.removeNode(a);b.setAttribute("data-recordIndex",e)}this.elements[e]=b}return this},indexOf:function(a){var b=this.elements,c;a=Ext.getDom(a);for(c=this.startIndex;c<=this.endIndex;c++){if(b[c]===a){return c}}return-1},removeRange:function(a,b,c){var d=this,e=d.elements,f,g,h,i;if(b===undefined){b=d.count}else{b=Math.min(d.endIndex+1,b+1)}if(!a){a=0}h=b-a;for(g=a,i=b;g<d.endIndex;g++,i++){if(c&&g<b){Ext.removeNode(e[g])}if(i<=d.endIndex){f=e[g]=e[i];f.setAttribute("data-recordIndex",g)}else{delete e[g]}}d.count-=h;d.endIndex-=h},removeElement:function(a,b){var c=this,d,e,f=c.elements,g,h,i=0,j,k;if(Ext.isArray(a)){d=a;a=[];h=d.length;for(i=0;i<h;i++){e=d[i];if(typeof e!=="number"){e=c.indexOf(e)}if(e>=c.startIndex&&e<=c.endIndex){a[a.length]=e}}Ext.Array.sort(a);h=a.length}else{if(a<c.startIndex||a>c.endIndex){return}h=1;a=[a]}for(j=k=a[0],i=0;j<=c.endIndex;j++,k++){if(i<h&&j===a[i]){k++;i++;if(b){Ext.removeNode(f[j])}}if(k<=c.endIndex&&k>=c.startIndex){g=f[j]=f[k];g.setAttribute("data-recordIndex",j)}else{delete f[j]}}c.endIndex-=h;c.count-=h},scroll:function(a,b,c){var d=this,e=d.elements,f=a.length,g,h,i,j,k=d.view.getNodeContainer(),l=document.createDocumentFragment();if(b==-1){for(g=d.endIndex-c+1;g<=d.endIndex;g++){h=e[g];delete e[g];h.parentNode.removeChild(h)}d.endIndex-=c;j=d.view.bufferRender(a,d.startIndex-=f);for(g=0;g<f;g++){e[d.startIndex+g]=j[g];l.appendChild(j[g])}k.insertBefore(l,k.firstChild)}else{i=d.startIndex+c;for(g=d.startIndex;g<i;g++){h=e[g];delete e[g];h.parentNode.removeChild(h)}d.startIndex=g;j=d.view.bufferRender(a,d.endIndex+1);for(g=0;g<f;g++){e[d.endIndex+=1]=j[g];l.appendChild(j[g])}k.appendChild(l)}d.count=d.endIndex-d.startIndex+1}});Ext.define("Ext.view.Table",{extend:Ext.view.View,alias:"widget.tableview",componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",beforeSelectedItemCls:Ext.baseCSSPrefix+"grid-row-before-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",beforeFocusedItemCls:Ext.baseCSSPrefix+"grid-row-before-focused",tableFocusedFirstCls:Ext.baseCSSPrefix+"grid-table-focused-first",tableSelectedFirstCls:Ext.baseCSSPrefix+"grid-table-selected-first",tableOverFirstCls:Ext.baseCSSPrefix+"grid-table-over-first",overItemCls:Ext.baseCSSPrefix+"grid-row-over",beforeOverItemCls:Ext.baseCSSPrefix+"grid-row-before-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),positionBody:true,trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:["{%",'var view=values.view,tableCls=["'+Ext.baseCSSPrefix+'" + view.id + "-table '+Ext.baseCSSPrefix+'grid-table"];',"if (view.columnLines) tableCls[tableCls.length]=view.ownerCt.colLinesCls;","if (view.rowLines) tableCls[tableCls.length]=view.ownerCt.rowLinesCls;","%}",'<table role="presentation" id="{view.id}-table" class="{[tableCls.join(" ")]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">',"{[view.renderColumnSizer(out)]}","{[view.renderTHead(values, out)]}","{[view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body">',"{%","view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr role="row" {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">'+"{%","parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td role="gridcell" class="{tdCls}" {tdAttr} id="{[Ext.id()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:false,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(a){if(a.grid.isTree){a.baseCls=Ext.baseCSSPrefix+"tree-view"}this.callParent([a])},initComponent:function(){var a=this,b=a.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown");a.body=new Ext.dom.Element.Fly;a.body.id=a.id+"gridBody";a.autoScroll=undefined;if(!a.trackOver){a.overItemCls=null;a.beforeOverItemCls=null}if(b===true||b==="both"){a.autoScroll=true}else if(b==="horizontal"){a.overflowX="auto"}else if(b==="vertical"){a.overflowY="auto"}a.selModel.view=a;a.headerCt.view=a;a.grid.view=a;a.initFeatures(a.grid);delete a.grid;a.tpl=a.getTpl("tpl");a.itemSelector=a.getItemSelector();a.all=new Ext.view.NodeCache(a);a.callParent()},moveColumn:function(a,b,c){var d=this,e=c>1?document.createDocumentFragment():undefined,f=b,g=d.getGridColumns().length,h=g-1,i=(d.firstCls||d.lastCls)&&(b===0||b==g||a===0||a==h),j,k,l,m,n,o,p;if(d.rendered&&b!==a){l=d.el.query(d.getDataRowSelector());if(b>a&&e){f-=c}for(j=0,m=l.length;j<m;j++){n=l[j];o=n.childNodes;if(i){if(o.length===1){Ext.fly(o[0]).addCls(d.firstCls);Ext.fly(o[0]).addCls(d.lastCls);continue}if(a===0){Ext.fly(o[0]).removeCls(d.firstCls);Ext.fly(o[1]).addCls(d.firstCls)}else if(a===h){Ext.fly(o[h]).removeCls(d.lastCls);Ext.fly(o[h-1]).addCls(d.lastCls)}if(b===0){Ext.fly(o[0]).removeCls(d.firstCls);Ext.fly(o[a]).addCls(d.firstCls)}else if(b===g){Ext.fly(o[h]).removeCls(d.lastCls);Ext.fly(o[a]).addCls(d.lastCls)}}if(e){for(k=0;k<c;k++){e.appendChild(o[a])}n.insertBefore(e,o[f]||null)}else{n.insertBefore(o[a],o[f]||null)}}p=d.el.query(d.getBodySelector());for(j=0,m=p.length;j<m;j++){n=p[j];if(e){for(k=0;k<c;k++){e.appendChild(n.childNodes[a])}n.insertBefore(e,n.childNodes[f]||null)}else{n.insertBefore(n.childNodes[a],n.childNodes[f]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(a,b,c){this.mon(this,a,b,c,{element:"el"})},getGridColumns:function(){return this.ownerCt.columnManager.getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.columnManager.getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getNode(a,true);return Ext.fly(c).down(b.getCellSelector())},getFeature:function(a){var b=this.featuresMC;if(b){return b.get(a)}},findFeature:function(a){if(this.features){return Ext.Array.findBy(this.features,function(b){if(b.ftype===a){return true}})}},initFeatures:function(a){var b=this,c,d,e,f;b.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl");b.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");b.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");b.featuresMC=new Ext.util.MixedCollection;d=b.features=b.constructFeatures();f=d?d.length:0;for(c=0;c<f;c++){e=d[c];e.view=b;e.grid=a;b.featuresMC.add(e);e.init(a)}},renderTHead:function(a,b){var c=a.view.headerFns,d,e;if(c){for(e=0,d=c.length;e<d;++e){c[e].call(this,a,b)}}},addHeaderFn:function(){var a=this.headerFns;if(!a){a=this.headerFns=[]}a.push(fn)},renderTFoot:function(a,b){var c=a.view.footerFns,d,e;if(c){for(e=0,d=c.length;e<d;++e){c[e].call(this,a,b)}}},addFooterFn:function(a){var b=this.footerFns;if(!b){b=this.footerFns=[]}b.push(a)},addTableTpl:function(a){return this.addTpl("tableTpl",a)},addRowTpl:function(a){return this.addTpl("rowTpl",a)},addCellTpl:function(a){return this.addTpl("cellTpl",a)},addTpl:function(a,b){var c=this,d,e;b=Ext.Object.chain(b);if(!b.isTemplate){b.applyOut=c.tplApplyOut}for(d=c[a];b.priority<d.priority;d=d.nextTpl){e=d}if(e){e.nextTpl=b}else{c[a]=b}b.nextTpl=d;return b},tplApplyOut:function(a,b){if(this.before){if(this.before(a,b)===false){return}}this.nextTpl.applyOut(a,b);if(this.after){this.after(a,b)}},constructFeatures:function(){var a=this,b=a.features,c,d,e=0,f;if(b){d=[];f=b.length;for(;e<f;e++){c=b[e];if(!c.isFeature){c=Ext.create("feature."+c.ftype,c)}d[e]=c}}return d},beforeRender:function(){var a=this;a.callParent();if(!a.enableTextSelection){a.protoEl.unselectable()}},onViewScroll:function(a,b){this.callParent(arguments);this.fireEvent("bodyscroll",a,b)},createRowElement:function(a,b){var c=this,d=c.renderBuffer;c.tpl.overwrite(d,c.collectData([a],b));return Ext.fly(d).down(c.getNodeContainerSelector(),true).firstChild},bufferRender:function(a,b){var c=this,d=c.renderBuffer;c.tpl.overwrite(d,c.collectData(a,b));return Ext.Array.toArray(Ext.fly(d).down(c.getNodeContainerSelector(),true).childNodes)},collectData:function(a,b){this.rowValues.view=this;return{view:this,rows:a,viewStartIndex:b,tableStyle:this.bufferedRenderer?"position:absolute;top:"+this.bufferedRenderer.bodyTop:""}},collectNodes:function(a){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var a=this,b,c=a.getBodySelector();if(c){a.body.attach(a.el.child(c,true))}if(!a.hasLoadingHeight){b=a.up("tablepanel");Ext.suspendLayouts();a.callParent();b.updateLayout();Ext.resumeLayouts(true)}},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},getRecord:function(a){a=this.getNode(a);if(a){var b=a.getAttribute("data-recordIndex");if(b){b=parseInt(b,10);if(b>-1){return this.store.data.getAt(b)}}return this.dataSource.data.get(a.getAttribute("data-recordId"))}},indexOf:function(a){a=this.getNode(a,false);if(!a&&a!==0){return-1}return this.all.indexOf(a)},indexInStore:function(a){a=this.getNode(a,true);if(!a&&a!==0){return-1}var b=a.getAttribute("data-recordIndex");if(b){return parseInt(b,10)}return this.dataSource.indexOf(this.getRecord(a))},renderRows:function(a,b,c){var d=this.rowValues,e=a.length,f;d.view=this;d.columns=this.ownerCt.columnManager.getColumns();for(f=0;f<e;f++,b++){d.itemClasses.length=d.rowClasses.length=0;this.renderRow(a[f],b,c)}d.view=d.columns=d.record=null},renderColumnSizer:function(a){var b=this.getGridColumns(),c=b.length,d,e,f;for(d=0;d<c;d++){e=b[d];f=e.hidden?0:e.lastBox?e.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth;a.push('<colgroup><col class="',Ext.baseCSSPrefix,"grid-cell-",b[d].getItemId(),'" style="width:'+f+'px"></colgroup>')}},renderRow:function(a,b,c){var d=this,e=b===-1,f=d.selModel,g=d.rowValues,h=g.itemClasses,i=g.rowClasses,j,k=d.rowTpl;g.record=a;g.recordId=a.internalId;g.recordIndex=b;g.rowId=d.getRowId(a);g.itemCls=g.rowCls="";if(!g.columns){g.columns=d.ownerCt.columnManager.getColumns()}h.length=i.length=0;if(!e){h[0]=Ext.baseCSSPrefix+"grid-row";if(f&&f.isRowSelected){if(f.isRowSelected(b+1)){h.push(d.beforeSelectedItemCls)}if(f.isRowSelected(a)){h.push(d.selectedItemCls)}}if(d.stripeRows&&b%2!==0){i.push(d.altRowCls)}if(d.getRowClass){j=d.getRowClass(a,b,null,d.dataSource);if(j){i.push(j)}}}if(c){k.applyOut(g,c)}else{return k.apply(g)}},renderCell:function(a,b,c,d,e){var f=this,g=f.selModel,h=f.cellValues,i=h.classes,j=b.data[a.dataIndex],k=f.cellTpl,l,m;h.record=b;h.column=a;h.recordIndex=c;h.columnIndex=d;h.cellIndex=d;h.align=a.align;h.tdCls=a.tdCls;h.innerCls=a.innerCls;h.style=h.tdAttr="";h.unselectableAttr=f.enableTextSelection?"":'unselectable="on"';if(a.renderer&&a.renderer.call){l=a.renderer.call(a.scope||f.ownerCt,j,h,b,c,d,f.dataSource,f);if(h.css){b.cssWarning=true;h.tdCls+=" "+h.css;delete h.css}}else{l=j}h.value=l==null||l===""?"&#160;":l;i[1]=Ext.baseCSSPrefix+"grid-cell-"+a.getItemId();m=2;if(a.tdCls){i[m++]=a.tdCls}if(f.markDirty&&b.isModified(a.dataIndex)){i[m++]=f.dirtyCls}if(a.isFirstVisible){i[m++]=f.firstCls}if(a.isLastVisible){i[m++]=f.lastCls}if(!f.enableTextSelection){i[m++]=Ext.baseCSSPrefix+"unselectable"}i[m++]=h.tdCls;if(g&&g.isCellSelected&&g.isCellSelected(f,c,d)){i[m++]=f.selectedCellCls}i.length=m;h.tdCls=i.join(" ");k.applyOut(h,e);h.column=null},getNode:function(a,b){var c,d=this.callParent(arguments);if(d&&d.tagName){if(b){if(!(c=Ext.fly(d)).is(this.dataRowSelector)){return c.down(this.dataRowSelector,true)}}else if(b===false){if(!(c=Ext.fly(d)).is(this.itemSelector)){return c.up(this.itemSelector,null,true)}}}return d},getRowId:function(a){return this.id+"-record-"+a.internalId},constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(a,b){a=this.constructRowId(a);return this.retrieveNode(a,b)},getNodeByRecord:function(a,b){var c=this.getRowId(a);return this.retrieveNode(c,b)},retrieveNode:function(a,b){var c=this.el.getById(a,true),d=this.itemSelector,e;if(b===false&&c){if(!(e=Ext.fly(c)).is(d)){return e.up(d,null,true)}}return c},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,true)},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(a){return this.sizerSelector+"-"+a.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(a){var b=this.cellSelector;if(a){b+="-"+a.getItemId()}return b},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(a,b){var c=this.getNode(a,false);if(c){Ext.fly(c).addCls(b)}},removeRowCls:function(a,b){var c=this.getNode(a,false);if(c){Ext.fly(c).removeCls(b)}},setHighlightedItem:function(a){var b=this,c=b.highlightedItem;if(c&&b.el.isAncestor(c)&&b.isRowStyleFirst(c)){b.getRowStyleTableEl(c).removeCls(b.tableOverFirstCls)}if(a&&b.isRowStyleFirst(a)){b.getRowStyleTableEl(a).addCls(b.tableOverFirstCls)}b.callParent(arguments)},onRowSelect:function(a){var b=this;b.addRowCls(a,b.selectedItemCls);if(b.isRowStyleFirst(a)){b.getRowStyleTableEl(a).addCls(b.tableSelectedFirstCls)}else{b.addRowCls(a-1,b.beforeSelectedItemCls)}},onRowDeselect:function(a){var b=this;b.removeRowCls(a,[b.selectedItemCls,b.focusedItemCls]);if(b.isRowStyleFirst(a)){b.getRowStyleTableEl(a).removeCls([b.tableFocusedFirstCls,b.tableSelectedFirstCls])}else{b.removeRowCls(a-1,[b.beforeFocusedItemCls,b.beforeSelectedItemCls])}},onCellSelect:function(a){var b=this.getCellByPosition(a);if(b){b.addCls(this.selectedCellCls);this.scrollCellIntoView(b)}},onCellDeselect:function(a){var b=this.getCellByPosition(a,true);if(b){Ext.fly(b).removeCls(this.selectedCellCls)}},getCellByPosition:function(a,b){if(a){var c=this.getNode(a.row,true),d=this.ownerCt.columnManager.getHeaderAtIndex(a.column);if(d&&c){return Ext.fly(c).down(this.getCellSelector(d),b)}}return false},getFocusEl:function(){var a=this,b;if(a.refreshCounter){b=a.focusedRow;if(!(b&&a.el.contains(b))){if(a.all.getCount()&&(b=a.getNode(a.all.item(0).dom,true))){a.focusRow(b)}else{b=a.body}}}else{return a.el}return Ext.get(b)},onRowFocus:function(a,b,c){var d=this;if(b){d.addRowCls(a,d.focusedItemCls);if(d.isRowStyleFirst(a)){d.getRowStyleTableEl(a).addCls(d.tableFocusedFirstCls)}else{d.addRowCls(a-1,d.beforeFocusedItemCls)}if(!c){d.focusRow(a)}}else{d.removeRowCls(a,d.focusedItemCls);if(d.isRowStyleFirst(a)){d.getRowStyleTableEl(a).removeCls(d.tableFocusedFirstCls)}else{d.removeRowCls(a-1,d.beforeFocusedItemCls)}}if((Ext.isIE6||Ext.isIE7)&&!d.ownerCt.rowLines){d.repaintRow(a)}},focus:function(a,b){var c=this,d=Ext.isIE&&!b,e;if(d){e=c.el.dom.scrollLeft}this.callParent(arguments);if(d){c.el.dom.scrollLeft=e}},focusRow:function(a,b){var c=this,d,e=c.ownerCt&&c.ownerCt.collapsed,f;
if(c.isVisible(true)&&!e&&(a=c.getNode(a,true))){c.scrollRowIntoView(a);f=c.getRecord(a);d=c.indexInStore(a);c.selModel.setLastFocused(f);c.focusedRow=a;c.focus(false,b,function(){c.fireEvent("rowfocus",f,a,d)})}},scrollRowIntoView:function(a){a=this.getNode(a,true);if(a){Ext.fly(a).scrollIntoView(this.el,false)}},focusCell:function(a){var b=this,c=b.getCellByPosition(a),d=b.getRecord(a.row);b.focusRow(d);if(c){b.scrollCellIntoView(c);b.fireEvent("cellfocus",d,c,a)}},scrollCellIntoView:function(a){if(a.row!=null&&a.column!=null){a=this.getCellByPosition(a)}if(a){Ext.fly(a).scrollIntoView(this.el,true)}},scrollByDelta:function(a,b){b=b||"scrollTop";var c=this.el.dom;c[b]=c[b]+=a},isDataRow:function(a){return Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(a,b){a=Ext.get(a);b=Ext.get(b);a.dom.style.height=b.dom.style.height="";var c=this,d=c.rowTpl,e=a.dom.offsetHeight,f=b.dom.offsetHeight;if(e!==f){while(d){if(d.syncRowHeights){if(d.syncRowHeights(a,b)===false){break}}d=d.nextTpl}e=a.dom.offsetHeight;f=b.dom.offsetHeight;if(e!==f){a=a.down("[data-recordId]")||a;b=b.down("[data-recordId]")||b;if(a&&b){a.dom.style.height=b.dom.style.height="";e=a.dom.offsetHeight;f=b.dom.offsetHeight;if(e>f){a.setHeight(e);b.setHeight(e)}else if(f>e){a.setHeight(f);b.setHeight(f)}}}}},onIdChanged:function(a,b,c,d,e){var f=this,g;if(f.viewReady){g=f.getNodeById(e);if(g){g.setAttribute("data-recordId",b.internalId);g.id=f.getRowId(b)}}},onUpdate:function(a,b,c,d){var e=this,f=e.rowTpl,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(e.viewReady){i=e.getNodeByRecord(b,false);if(i){o=e.overItemCls;p=e.overItemCls;q=e.focusedItemCls;r=e.beforeFocusedItemCls;s=e.selectedItemCls;t=e.beforeSelectedItemCls;g=e.indexInStore(b);h=Ext.fly(i,"_internal");j=e.createRowElement(b,g);if(h.hasCls(o)){Ext.fly(j).addCls(o)}if(h.hasCls(p)){Ext.fly(j).addCls(p)}if(h.hasCls(q)){Ext.fly(j).addCls(q)}if(h.hasCls(r)){Ext.fly(j).addCls(r)}if(h.hasCls(s)){Ext.fly(j).addCls(s)}if(h.hasCls(t)){Ext.fly(j).addCls(t)}u=e.ownerCt.columnManager.getColumns();if(Ext.isIE9m&&i.mergeAttributes){i.mergeAttributes(j,true)}else{k=j.attributes;l=k.length;for(n=0;n<l;n++){m=k[n].name;if(m!=="id"){i.setAttribute(m,k[n].value)}}}if(u.length){e.updateColumns(b,e.getNode(i,true),e.getNode(j,true),u,d)}while(f){if(f.syncContent){if(f.syncContent(i,j)===false){break}}f=f.nextTpl}e.fireEvent("itemupdate",b,g,i);e.refreshSize()}}},updateColumns:function(a,b,c,d,e){var f=this,g,h,i,j,k=d.length,l,m,n,o,p,q=f.editingPlugin||f.lockingPartner&&f.ownerCt.ownerLockable.view.editingPlugin,r=q&&q.editing,s=f.getCellSelector();if(b.mergeAttributes){b.mergeAttributes(c,true)}else{g=c.attributes;h=g.length;for(j=0;j<h;j++){i=g[j].name;if(i!=="id"){b.setAttribute(i,g[j].value)}}}for(l=0;l<k;l++){m=d[l];if(f.shouldUpdateCell(a,m,e)){s=f.getCellSelector(m);n=Ext.DomQuery.selectNode(s,b);o=Ext.DomQuery.selectNode(s,c);if(r){Ext.fly(n).syncContent(o)}else{p=n.parentNode;p.insertBefore(o,n);p.removeChild(n)}}}},shouldUpdateCell:function(a,b,c){if(b.hasCustomRenderer||!c){return true}if(c){var d=c.length,e,f;for(e=0;e<d;++e){f=c[e];if(f===b.dataIndex||f===a.idProperty){return true}}}return false},refresh:function(){var a=this,b=a.el&&a.el.isAncestor(Ext.Element.getActiveElement());a.callParent(arguments);a.headerCt.setSortState();if(a.el&&!a.all.getCount()&&a.headerCt&&a.headerCt.tooNarrow){a.el.createChild({style:"position:absolute;height:1px;width:1px;left:"+(a.headerCt.getFullWidth()-1)+"px"})}if(b){a.selModel.onLastFocusChanged(null,a.selModel.lastFocused)}},processItemEvent:function(a,b,c,d){if(this.indexInStore(b)!==-1){var e=this,f=d.getTarget(e.getCellSelector(),b),g,h=e.statics().EventMap,i=e.getSelectionModel(),j=d.type,k=e.features,l=k.length,m,n,o,p;if(j=="keydown"&&!f&&i.getCurrentPosition){f=e.getCellByPosition(i.getCurrentPosition(),true)}if(f){if(!f.parentNode){return false}p=e.getHeaderByCell(f);g=Ext.Array.indexOf(e.getGridColumns(),p)}else{g=-1}n=e.fireEvent("uievent",j,e,f,c,g,d,a,b);if(n===false||e.callParent(arguments)===false){e.selModel.onVetoUIEvent(j,e,f,c,g,d,a,b);return false}for(m=0;m<l;++m){o=k[m];if(o.wrapsItem){if(o.vetoEvent(a,b,c,d)===false){e.processSpecialEvent(d);return false}}}if(j=="mouseover"||j=="mouseout"){return true}if(!f){return true}return!(e["onBeforeCell"+h[j]](f,g,a,b,c,d)===false||e.fireEvent("beforecell"+j,e,f,g,a,b,c,d)===false||e["onCell"+h[j]](f,g,a,b,c,d)===false||e.fireEvent("cell"+j,e,f,g,a,b,c,d)===false)}else{this.processSpecialEvent(d);return false}},processSpecialEvent:function(a){var b=this,c=b.features,d=c.length,e=a.type,f,g,h,i,j,k,l=b.ownerCt;b.callParent(arguments);if(e=="mouseover"||e=="mouseout"){return}for(f=0;f<d;f++){g=c[f];if(g.hasFeatureEvent){i=a.getTarget(g.eventSelector,b.getTargetEl());if(i){h=g.eventPrefix;j=g.getFireEventArgs("before"+h+e,b,i,a);k=g.getFireEventArgs(h+e,b,i,a);if(b.fireEvent.apply(b,j)===false||l.fireEvent.apply(l,j)===false||b.fireEvent.apply(b,k)===false||l.fireEvent.apply(l,k)===false){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){if(Ext.isNumber(a)){a=this.getGridColumns[a]}if(a){if(a.isGroupHeader){a.autoSize();return}delete a.flex;a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(a){var b=this,c=b.el.query(a.getCellInnerSelector()),d=a.getWidth(),e=0,f=c.length,g=Ext.supports.ScrollWidthInlinePaddingBug,h=b.body.select(b.getColumnSizerSelector(a)),i=Math.max,j,k;if(g&&f>0){j=b.getCellPaddingAfter(c[0])}h.setWidth(1);k=a.textEl.dom.offsetWidth+a.titleEl.getPadding("lr");for(;e<f;e++){k=i(k,c[e].scrollWidth)}if(g){k+=j}k=i(k,40);h.setWidth(d);return k},getPositionByEvent:function(a){var b=this,c=a.getTarget(b.cellSelector),d=a.getTarget(b.itemSelector),e=b.getRecord(d),f=b.getHeaderByCell(c);return b.getPosition(e,f)},getHeaderByCell:function(a){if(a){var b=a.className.match(this.cellRe);if(b&&b[1]){return this.ownerCt.columnManager.getHeaderById(b[1])}}return false},walkCells:function(a,b,c,d,e,f){if(!a){return false}var g=this,h=a.row,i=a.column,j=g.dataSource.getCount(),k=g.ownerCt.columnManager.getColumns().length-1,l=h,m=i,n=g.ownerCt.columnManager.getHeaderAtIndex(i);if(!n||n.hidden||!j){return false}c=c||{};b=b.toLowerCase();switch(b){case"right":if(i===k){if(d||h===j-1){return false}if(!c.ctrlKey){l=g.walkRows(h,1);if(l!==h){m=0}}}else{if(!c.ctrlKey){m=i+1}else{m=k}}break;case"left":if(i===0){if(d||h===0){return false}if(!c.ctrlKey){l=g.walkRows(h,-1);if(l!==h){m=k}}}else{if(!c.ctrlKey){m=i-1}else{m=0}}break;case"up":if(h===0){return false}else{if(!c.ctrlKey){l=g.walkRows(h,-1)}else{l=g.walkRows(-1,1)}}break;case"down":if(h===j-1){return false}else{if(!c.ctrlKey){l=g.walkRows(h,1)}else{l=g.walkRows(j,-1)}}break}if(e&&e.call(f||g,{row:l,column:m})!==true){return false}else{return new Ext.grid.CellContext(g).setPosition(l,m)}},walkRows:function(a,b){var c=this,d=0,e=a,f,g=(c.dataSource.buffered?c.dataSource.getTotalCount():c.dataSource.getCount())-1,h=b<0?0:g,i=h?1:-1,j=a;do{if(h?j>=h:j<=0){return e||h}j+=i;if((f=Ext.fly(c.getNode(j,true)))&&f.isVisible(true)){d+=i;e=j}}while(d!==b);return j},walkRecs:function(a,b){var c=this,d=0,e=a,f,g=(c.store.buffered?c.store.getTotalCount():c.store.getCount())-1,h=b<0?0:g,i=h?1:-1,j=c.store.indexOf(a),k;do{if(h?j>=h:j<=0){return e}j+=i;k=c.store.getAt(j);if((f=Ext.fly(c.getNodeByRecord(k,true)))&&f.isVisible(true)){d+=i;e=k}}while(d!==b);return e},getFirstVisibleRowIndex:function(){var a=this,b=a.dataSource.buffered?a.dataSource.getTotalCount():a.dataSource.getCount(),c=a.indexOf(a.all.first())-1;do{c+=1;if(c===b){return}}while(!Ext.fly(a.getNode(c,true)).isVisible(true));return c},getLastVisibleRowIndex:function(){var a=this,b=a.indexOf(a.all.last());do{b-=1;if(b===-1){return}}while(!Ext.fly(a.getNode(b,true)).isVisible(true));return b},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){return new Ext.grid.CellContext(this).setPosition(a,b)},beforeDestroy:function(){var a=this;if(a.rendered){a.el.removeAllListeners()}a.callParent(arguments)},onDestroy:function(){var a=this,b=a.featuresMC,c,d;if(b){for(d=0,c=b.getCount();d<c;++d){b.getAt(d).destroy()}}a.featuresMC=null;this.callParent(arguments)},onAdd:function(a,b,c){this.callParent(arguments);this.doStripeRows(c)},onRemove:function(a,b,c){this.callParent(arguments);this.doStripeRows(c[0])},doStripeRows:function(a,b){var c=this,d,e,f,g;if(c.rendered&&c.stripeRows){d=c.getNodes(a,b);for(f=0,e=d.length;f<e;f++){g=d[f];g.className=g.className.replace(c.rowClsRe," ");a++;if(a%2===0){g.className+=" "+c.altRowCls}}}},repaintRow:function(a){var b=this.getNode(a),c=b.childNodes,d=c.length;while(d--){c[d].className=c[d].className}},getRowStyleTableEl:function(a){var b=this;if(!a.tagName){a=this.getNode(a)}return(b.isGrouping?Ext.fly(a):this.el).down("table.x-grid-table")},isRowStyleFirst:function(a){var b=this,c;if(a===-1){return false}if(!a.tagName){c=a;a=this.getNode(a)}else{c=b.indexOf(a)}return!c||b.isGrouping&&Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-group-row")},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")}});Ext.define("Ext.grid.View",{extend:Ext.view.Table,alias:"widget.gridview",stripeRows:true,autoScroll:true});Ext.define("Ext.grid.Panel",{extend:Ext.panel.Table,alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:false,rowLines:true});Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(a,b,c){var d=this,e=d.bufferedRenderer,f=d.all;if(d.rendered&&e&&f.getCount()+b.length>e.viewSize){if(c<f.startIndex+e.viewSize&&c+b.length>f.startIndex){d.refreshView()}else{e.stretchView(d,e.getScrollHeight())}}else{d.callParent([a,b,c])}},onRemove:function(a,b,c){var d=this,e=d.bufferedRenderer;d.callParent([a,b,c]);if(d.rendered&&e){if(d.dataSource.getCount()>e.viewSize){d.refreshView()}else{e.stretchView(d,e.getScrollHeight())}}},onDataRefresh:function(){var a=this;if(a.bufferedRenderer){a.all.clear();a.bufferedRenderer.onStoreClear()}a.callParent()}});Ext.define("Ext.grid.RowEditorButtons",{extend:Ext.container.Container,alias:"widget.roweditorbuttons",frame:true,shrinkWrap:true,position:"bottom",constructor:function(a){var b=this,c=a.rowEditor,d=Ext.baseCSSPrefix,e=c.editingPlugin;a=Ext.apply({baseCls:d+"grid-row-editor-buttons",defaults:{xtype:"button",ui:c.buttonUI,scope:e,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:d+"row-editor-update-button",itemId:"update",handler:e.completeEdit,text:c.saveBtnText,disabled:c.updateButtonDisabled},{cls:d+"row-editor-cancel-button",handler:e.cancelEdit,text:c.cancelBtnText}]},a);b.callParent([a]);b.addClsWithUI(b.position)},setButtonPosition:function(a){var b=this;b.removeClsWithUI(b.position);b.position=a;b.addClsWithUI(a)},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var a=this.callParent();a.top=true;return a}});Ext.define("Ext.grid.RowEditor",{extend:Ext.form.Panel,alias:"widget.roweditor",saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:false,buttonUI:"default",hideMode:"offsets",initComponent:function(){var a=this,b=a.editingPlugin.grid,c=Ext.container.Container;a.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor";a.layout={type:"hbox",align:"middle"};a.lockable=b.lockable;if(a.lockable){a.items=[a.lockedColumnContainer=new c({id:b.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),a.normalColumnContainer=new c({flex:1,id:b.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]}else{a.lockedColumnContainer=a.normalColumnContainer=a}a.callParent(arguments);if(a.fields){a.addFieldsForColumn(a.fields,true);a.insertColumnEditor(a.fields);delete a.fields}a.mon(a.hierarchyEventSource,{scope:a,show:a.repositionIfVisible});a.getForm().trackResetOnLoad=true},onGridResize:function(){var a=this,b=a.getClientWidth(),c=a.editingPlugin.grid,d=c.body,e=a.getFloatingButtons();a.setLocalX(d.getOffsetsTo(c)[0]+d.getBorderWidth("l")-c.el.getBorderWidth("l"));a.setWidth(b);e.setLocalX((b-e.getWidth())/2)},onFieldRender:function(a){var b=this,c=a.column;if(c.isVisible()){b.syncFieldWidth(c)}else if(!c.rendered){b.view.headerCt.on({afterlayout:Ext.Function.bind(b.syncFieldWidth,b,[c]),single:true})}},syncFieldWidth:function(a){var b=a.getEditor(),c;b._marginWidth=b._marginWidth||b.el.getMargin("lr");c=a.getWidth()-b._marginWidth;b.setWidth(c);if(b.xtype==="displayfield"){b.inputWidth=c}},onFieldChange:function(){var a=this,b=a.getForm(),c=b.isValid();if(a.errorSummary&&a.isVisible()){a[c?"hideToolTip":"showToolTip"]()}a.updateButton(c);a.isValid=c},updateButton:function(a){var b=this.floatingButtons;if(b){b.child("#update").setDisabled(!a)}else{this.updateButtonDisabled=!a}},afterRender:function(){var a=this,b=a.editingPlugin,c=b.grid,d=c.lockable?c.normalGrid.view:c.view,e;a.callParent(arguments);a.scrollingView=d;a.scrollingViewEl=d.el;d.mon(a.scrollingViewEl,"scroll",a.onViewScroll,a);a.mon(a.el,{click:Ext.emptyFn,stopPropagation:true});a.mon(c,{resize:a.onGridResize,scope:a});a.el.swallowEvent(["keypress","keydown"]);a.fieldScroller=a.normalColumnContainer.layout.innerCt;a.fieldScroller.dom.style.overflow="hidden";a.fieldScroller.on({scroll:a.onFieldContainerScroll,scope:a});a.keyNav=new Ext.util.KeyNav(a.el,{enter:b.completeEdit,esc:b.onEscKey,scope:b});a.mon(b.view,{beforerefresh:a.onBeforeViewRefresh,refresh:a.onViewRefresh,itemremove:a.onViewItemRemove,scope:a});a.preventReposition=true;Ext.Array.each(a.query("[isFormField]"),function(b){if(b.column.isVisible()){a.onColumnShow(b.column)}},a);delete a.preventReposition},onBeforeViewRefresh:function(a){var b=this,c=a.el.dom;if(b.el.dom.parentNode===c){c.removeChild(b.el.dom)}},onViewRefresh:function(a){var b=this,c=b.context,d;if(c&&(d=a.getNode(c.record,true))){c.row=d;b.reposition();if(b.tooltip&&b.tooltip.isVisible()){b.tooltip.setTarget(c.row)}}else{b.editingPlugin.cancelEdit()}},onViewItemRemove:function(a,b){var c=this.context;if(c&&a===c.record){this.editingPlugin.cancelEdit()}},onViewScroll:function(){var a=this,b=a.editingPlugin.view.el,c=a.scrollingViewEl,d=c.dom.scrollTop,e=c.getScrollLeft(),f=e!==a.lastScrollLeft,g=d!==a.lastScrollTop,h;a.lastScrollTop=d;a.lastScrollLeft=e;if(a.isVisible()){h=Ext.getDom(a.context.row.id);if(h&&b.contains(h)){if(g){a.context.row=h;a.reposition(null,true);if(a.tooltip&&a.tooltip.isVisible()||a.hiddenTip){a.repositionTip()}a.syncEditorClip()}}else{a.setLocalY(-400)}}if(a.rendered&&f){a.syncFieldsHorizontalScroll()}},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingViewEl.setScrollLeft(this.fieldScroller.getScrollLeft())},onColumnResize:function(a,b){var c=this;if(c.rendered){c.onGridResize();c.onViewScroll();if(!a.isGroupHeader){c.syncFieldWidth(a);c.repositionIfVisible()}}},onColumnHide:function(a){if(!a.isGroupHeader){a.getEditor().hide();this.repositionIfVisible()}},onColumnShow:function(a){var b=this;if(b.rendered&&!a.isGroupHeader){a.getEditor().show();b.syncFieldWidth(a);if(!b.preventReposition){this.repositionIfVisible()}}},onColumnMove:function(a,b,c){var d=this,e,f=1,g,h,i,j=a.isLocked()?d.lockedColumnContainer:d.normalColumnContainer;if(a.isGroupHeader){Ext.suspendLayouts();a=a.getGridColumns();if(c>b){c--;f=0}this.addFieldsForColumn(a);for(e=0,g=a.length;e<g;e++,b+=f,c+=f){h=a[e].getEditor();i=j.items.indexOf(h);if(i===-1){j.insert(c,h)}else if(i!=c){j.move(b,c)}}Ext.resumeLayouts(true)}else{if(c>b){c--}this.addFieldsForColumn(a);h=a.getEditor();i=j.items.indexOf(h);if(i===-1){j.insert(c,h)}else if(i!=c){j.move(b,c)}}},onColumnAdd:function(a){if(a.isGroupHeader){a=a.getGridColumns()}this.addFieldsForColumn(a);this.insertColumnEditor(a);this.preventReposition=false},insertColumnEditor:function(a){var b=this,c,d,e;if(Ext.isArray(a)){for(e=0,d=a.length;e<d;e++){b.insertColumnEditor(a[e])}return}if(!a.getEditor){return}c=a.isLocked()?b.lockedColumnContainer:b.normalColumnContainer;c.insert(a.getVisibleIndex(),a.getEditor())},onColumnRemove:function(a,b){b=b.isGroupHeader?b.getGridColumns():b;this.removeColumnEditor(b)},removeColumnEditor:function(a){var b=this,c,d,e;if(Ext.isArray(a)){for(e=0,d=a.length;e<d;e++){b.removeColumnEditor(a[e])}return}if(a.hasEditor()){c=a.getEditor();if(c&&c.ownerCt){c.ownerCt.remove(c,false)}}},onColumnReplace:function(a,b,c,d){this.onColumnRemove(d.ownerCt,d)},getFloatingButtons:function(){var a=this,b=a.floatingButtons;if(!b){a.floatingButtons=b=new Ext.grid.RowEditorButtons({rowEditor:a})}return b},repositionIfVisible:function(a){var b=this,c=b.view;if(a&&(a==b||!a.el.isAncestor(c.el))){return}if(b.isVisible()&&c.isVisible(true)){b.reposition()}},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(){var a=this,b;if(a.lockable){b=a.lockedColumnContainer.getRefItems();b.push.apply(b,a.normalColumnContainer.getRefItems())}else{b=a.callParent()}b.push.apply(b,a.getFloatingButtons().getRefItems());return b},reposition:function(a,b){var c=this,d=c.context,e=d&&Ext.get(d.row),f=0,g,h,i,j;if(e&&Ext.isElement(e.dom)){i=c.syncButtonPosition(c.getScrollDelta());if(!c.editingPlugin.grid.rowLines){f=-parseInt(e.first().getStyle("border-bottom-width"))}g=c.calculateLocalRowTop(e);h=c.calculateEditorTop(g)+f;if(!b){j=function(){if(i){c.scrollingViewEl.scrollBy(0,i,true)}c.focusContextCell()}}c.syncEditorClip();if(a){c.animate(Ext.applyIf({to:{top:h},duration:a.duration||125,callback:j},a))}else{c.setLocalY(h);if(j){j()}}}},getScrollDelta:function(){var a=this,b=a.scrollingViewEl.dom,c=a.context,d=a.body,e=0;if(c){e=Ext.fly(c.row).getOffsetsTo(b)[1]-d.getBorderPadding().beforeY;if(e>0){e=Math.max(e+a.getHeight()+a.floatingButtons.getHeight()-b.clientHeight-d.getBorderWidth("b"),0)}}return e},calculateLocalRowTop:function(a){var b=this.editingPlugin.grid;return Ext.fly(a).getOffsetsTo(b)[1]-b.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(a){return a-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var a=this,b=a.editingPlugin.grid,c;if(a.lockable){c=b.lockedGrid.getWidth()+b.normalGrid.view.el.dom.clientWidth-1}else{c=b.view.el.dom.clientWidth}return c},getEditor:function(a){var b=this;if(Ext.isNumber(a)){return b.query("[isFormField]")[a]}else if(a.isHeader&&!a.isGroupHeader){return a.getEditor()}},addFieldsForColumn:function(a,b){var c=this,d,e,f;if(Ext.isArray(a)){for(d=0,e=a.length;d<e;d++){c.addFieldsForColumn(a[d],b)}return}if(a.getEditor){f=a.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}});if(a.align==="right"){f.fieldStyle="text-align:right"}if(a.xtype==="actioncolumn"){f.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"}if(c.isVisible()&&c.context){if(f.is("displayfield")){c.renderColumnData(f,c.context.record,a)}else{f.suspendEvents();f.setValue(c.context.record.get(a.dataIndex));f.resumeEvents()}}if(a.hidden){c.onColumnHide(a)}else if(a.rendered&&!b){c.onColumnShow(a)}}},loadRecord:function(a){var b=this,c=b.getForm(),d=c.getFields(),e=d.items,f=e.length,g,h,i;for(g=0;g<f;g++){e[g].suspendEvents()}c.loadRecord(a);for(g=0;g<f;g++){e[g].resumeEvents()}i=c.isValid();if(b.errorSummary){if(i){b.hideToolTip()}else{b.showToolTip()}}b.updateButton(i);h=b.query(">displayfield");f=h.length;for(g=0;g<f;g++){b.renderColumnData(h[g],a)}},renderColumnData:function(a,b,c){var d=this,e=d.editingPlugin.grid,f=e.headerCt,g=d.scrollingView,h=g.dataSource,i=c||a.column,j=b.get(i.dataIndex),k=i.editRenderer||i.renderer,l,m,n;if(k){l={tdCls:"",style:""};m=h.indexOf(b);n=f.getHeaderIndex(i);j=k.call(i.scope||f.ownerCt,j,l,b,m,n,h,g)}a.setRawValue(j);a.resetOriginalValue()},beforeEdit:function(){var a=this,b;if(a.isVisible()&&a.errorSummary&&!a.autoCancel&&a.isDirty()){b=a.getScrollDelta();if(b){a.scrollingViewEl.scrollBy(0,b,true)}a.showToolTip();return false}},startEdit:function(a,b){var c=this,d=c.editingPlugin,e=d.grid,f=c.context=d.context;if(!c.rendered){c.width=c.getClientWidth();c.render(e.el,e.el.dom.firstChild);c.getFloatingButtons().render(c.el);c.onViewScroll()}else{c.syncFieldsHorizontalScroll()}if(c.isVisible()){c.reposition(true)}else{c.show()}c.onGridResize();f.grid.getSelectionModel().select(a);c.loadRecord(a)},syncButtonPosition:function(a){var b=this,c=b.getFloatingButtons(),d=b.scrollingViewEl.dom,e=this.getScrollDelta()-(d.scrollHeight-d.scrollTop-d.clientHeight);if(e>0){if(!b._buttonsOnTop){c.setButtonPosition("top");b._buttonsOnTop=true}a=0}else if(b._buttonsOnTop){c.setButtonPosition("bottom");b._buttonsOnTop=false}return a},syncEditorClip:function(){var a=this,b=a.getScrollDelta(),c;if(b){a.isOverflowing=true;c=a.floatingButtons.getHeight();if(b>0){a.clipBottom(Math.max(a.getHeight()-b+c,-c))}else if(b<0){b=Math.abs(b);a.clipTop(Math.max(b,0))}}else if(a.isOverflowing){a.clearClip();a.isOverflowing=false}},focusContextCell:function(){var a=this.getEditor(this.context.column);if(a&&a.focus){a.focus()}},cancelEdit:function(){var a=this,b=a.getForm(),c=b.getFields(),d=c.items,e=d.length,f;a.hide();b.clearInvalid();for(f=0;f<e;f++){d[f].suspendEvents()}b.reset();for(f=0;f<e;f++){d[f].resumeEvents()}},completeEdit:function(){var a=this,b=a.getForm();if(!b.isValid()){return false}b.updateRecord(a.context.record);a.hide();return true},onShow:function(){var a=this;a.callParent(arguments);a.reposition()},onHide:function(){var a=this;a.callParent(arguments);if(a.tooltip){a.hideToolTip()}if(a.context){a.context.view.focusRow(a.context.record);a.context=null}},isDirty:function(){var a=this,b=a.getForm();return b.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left",anchorToTarget:false}))},hideToolTip:function(){var a=this,b=a.getToolTip();if(b.rendered){b.disable()}a.hiddenTip=false},showToolTip:function(){var a=this,b=a.getToolTip();b.showAt([0,0]);b.update(a.getErrors());a.repositionTip();b.enable()},repositionTip:function(){var a=this,b=a.getToolTip(),c=a.context,d=Ext.get(c.row),e=a.scrollingViewEl,f=e.dom.clientHeight,g=a.lastScrollTop,h=g+f,i=d.getHeight(),j=d.getOffsetsTo(a.context.view.body)[1],k=j+i;if(k>g&&j<h){b.showAt(b.getAlignToXY(e,"tl-tr",[15,d.getOffsetsTo(e)[1]]));a.hiddenTip=false}else{b.hide();a.hiddenTip=true}},getErrors:function(){var a=this,b=[],c=a.query(">[isFormField]"),d=c.length,e;for(e=0;e<d;e++){b=b.concat(Ext.Array.map(c[e].getErrors(),a.createErrorListItem))}if(!b.length&&!a.autoCancel&&a.isDirty()){b[0]=a.createErrorListItem(a.dirtyText)}return'<ul class="'+Ext.plainListCls+'">'+b.join("")+"</ul>"},createErrorListItem:function(a){return'<li class="'+Ext.baseCSSPrefix+'grid-row-editor-errors-item">'+a+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);this.callParent()},clipBottom:function(a){this.el.setStyle("clip","rect(-1000px auto "+a+"px auto)")},clipTop:function(a){this.el.setStyle("clip","rect("+a+"px auto 1000px auto)")},clearClip:function(a){this.el.setStyle("clip",Ext.isIE8m||Ext.isIEQuirks?"rect(-1000px auto 1000px auto)":"auto")}});Ext.define("Ext.view.DropZone",{extend:Ext.dd.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(a){var b=this;Ext.apply(b,a);if(!b.ddGroup){b.ddGroup="view-dd-zone-"+b.view.id}b.callParent([b.view.el])},fireViewEvent:function(){var a=this,b;a.lock();b=a.view.fireEvent.apply(a.view,arguments);a.unlock();return b},getTargetFromEvent:function(a){var b=a.getTarget(this.view.getItemSelector()),c,d,e,f,g,h;if(!b){c=a.getPageY();for(f=0,d=this.view.getNodes(),g=d.length;f<g;f++){e=d[f];h=Ext.fly(e).getBox();if(c<=h.bottom){return e}}}return b},getIndicator:function(){var a=this;if(!a.indicator){a.indicator=new Ext.Component({html:a.indicatorHtml,cls:a.indicatorCls,ownerCt:a.view,floating:true,shadow:false})}return a.indicator},getPosition:function(a,b){var c=a.getXY()[1],d=Ext.fly(b).getRegion(),e;if(d.bottom-c>=(d.bottom-d.top)/2){e="before"}else{e="after"}return e},containsRecordAtOffset:function(a,b,c){if(!b){return false}var d=this.view,e=d.indexOf(b),f=d.getNode(e+c,true),g=f?d.getRecord(f):null;return g&&Ext.Array.contains(a,g)},positionIndicator:function(a,b,c){var d=this,e=d.view,f=d.getPosition(c,a),g=e.getRecord(a),h=b.records,i;if(!Ext.Array.contains(h,g)&&(f=="before"&&!d.containsRecordAtOffset(h,g,-1)||f=="after"&&!d.containsRecordAtOffset(h,g,1))){d.valid=true;if(d.overRecord!=g||d.currentPosition!=f){i=Ext.fly(a).getY()-e.el.getY()-1;if(f=="after"){i+=Ext.fly(a).getHeight()}d.getIndicator().setWidth(Ext.fly(e.el).getWidth()).showAt(0,i);d.overRecord=g;d.currentPosition=f}}else{d.invalidateDrop()}},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(a,b,c,d){var e=this;if(!Ext.Array.contains(d.records,e.view.getRecord(a))){e.positionIndicator(a,d,c)}return e.valid?e.dropAllowed:e.dropNotAllowed},notifyOut:function(a,b,c,d){var e=this;e.callParent(arguments);e.overRecord=e.currentPosition=null;e.valid=false;if(e.indicator){e.indicator.hide()}},onContainerOver:function(a,b,c){var d=this,e=d.view,f=e.dataSource.getCount();if(f){d.positionIndicator(e.all.last(),c,b)}else{d.overRecord=d.currentPosition=null;d.getIndicator().setWidth(Ext.fly(e.el).getWidth()).showAt(0,0);d.valid=true}return d.dropAllowed},onContainerDrop:function(a,b,c){return this.onNodeDrop(a,null,b,c)},onNodeDrop:function(a,b,c,d){var e=this,f=false,g={wait:false,processDrop:function(){e.invalidateDrop();e.handleNodeDrop(d,e.overRecord,e.currentPosition);f=true;e.fireViewEvent("drop",a,d,e.overRecord,e.currentPosition)},cancelDrop:function(){e.invalidateDrop();f=true}},h=false;if(e.valid){h=e.fireViewEvent("beforedrop",a,d,e.overRecord,e.currentPosition,g);if(g.wait){return}if(h!==false){if(!f){g.processDrop()}}}return h},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;this.callParent()}});Ext.define("Ext.grid.ViewDropZone",{extend:Ext.view.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(a,b,c){var d=this.view,e=d.getStore(),f,g,h,i;if(a.copy){g=a.records;a.records=[];for(h=0,i=g.length;h<i;h++){a.records.push(g[h].copy())}}else{a.view.store.remove(a.records,a.view===d)}if(b&&c){f=e.indexOf(b);if(c!=="before"){f++}e.insert(f,a.records)}else{e.add(a.records)}d.getSelectionModel().select(a.records)}});Ext.define("Ext.grid.plugin.HeaderResizer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderresizer",disabled:false,config:{dynamic:false},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){if(this.tracker){this.tracker.destroy()}},afterHeaderRender:function(){var a=this.headerCt,b=a.el;a.mon(b,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(a,b){var c=this,d,e,f,g,h,i;if(c.headerCt.dragging){if(c.activeHd){c.activeHd.el.dom.style.cursor="";delete c.activeHd}}else{e=a.getTarget("."+c.colHeaderCls,3,true);if(e){f=Ext.getCmp(e.id);if(f.isOnLeftEdge(a)){g=f.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(g){i=c.headerCt.up("tablepanel");h=g.up("tablepanel");if(!(h===i||i.ownerCt.isXType("tablepanel")&&i.ownerCt.view.lockedGrid===h)){g=null}}}else if(f.isOnRightEdge(a)){g=f}else{g=null}if(g){if(g.isGroupHeader){d=g.getGridColumns();g=d[d.length-1]}if(g&&!(g.fixed||g.resizable===false||c.disabled)){c.activeHd=g;f.el.dom.style.cursor=c.eResizeCursor;if(f.triggerEl){f.triggerEl.dom.style.cursor=c.eResizeCursor}}}else{f.el.dom.style.cursor="";if(f.triggerEl){f.triggerEl.dom.style.cursor=""}c.activeHd=null}}}},onBeforeStart:function(a){this.dragHd=this.activeHd;if(!!this.dragHd&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}else{this.headerCt.dragging=false;return false}},getConstrainRegion:function(){var a=this,b=a.dragHd.el,c=0,d,e;if(a.headerCt.forceFit){d=a.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(d){if(!a.headerInSameGrid(d)){d=null}c=d.getWidth()-a.minColWidth}}else if((e=a.dragHd.up("tablepanel")).isLocked){c=a.dragHd.up("[scrollerOwner]").getWidth()-e.getWidth()-30}else{c=a.maxColWidth-b.getWidth()}return a.adjustConstrainRegion(b.getRegion(),0,c,0,a.minColWidth)},onStart:function(a){var b=this,c=b.dragHd,d=c.el.getWidth(),e=c.getOwnerHeaderCt(),f,g,h,i,j,k,l;b.headerCt.dragging=true;b.origWidth=d;if(!b.dynamic){h=i=e.up("tablepanel");if(h.ownerLockable){i=h.ownerLockable}f=b.getLeftMarkerX(i);j=i.getLhsMarker();k=i.getRhsMarker();l=h.body.getHeight()+e.getHeight();g=e.getOffsetsTo(i)[1];j.setLocalY(g);k.setLocalY(g);j.setHeight(l);k.setHeight(l);b.setMarkerX(j,f);b.setMarkerX(k,f+d)}},onDrag:function(a){var b=this,c;if(b.dynamic){b.doResize()}else{c=this.headerCt.up("tablepanel");if(c.ownerLockable){c=c.ownerLockable}this.setMarkerX(this.getMovingMarker(c),this.calculateDragX(c))}},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(a){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var b=this.headerCt.up("tablepanel");if(b.ownerLockable){b=b.ownerLockable}this.setMarkerX(b.getLhsMarker(),-9999);this.setMarkerX(b.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var a=this,b=a.dragHd,c,d;if(b){d=a.tracker.getOffset("point");if(b.flex){delete b.flex}Ext.suspendLayouts();a.adjustColumnWidth(d[0]);if(a.headerCt.forceFit){c=b.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(c&&!a.headerInSameGrid(c)){c=null}if(c){delete c.flex;c.setWidth(c.getWidth()-d[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(a){var b=this.dragHd.up("tablepanel");return!!a.up(b)},disable:function(){this.disabled=true;if(this.tracker){this.tracker.disable()}},enable:function(){this.disabled=false;if(this.tracker){this.tracker.enable()}},calculateDragX:function(a){return this.tracker.getXY("point")[0]-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(a,b,c,d,e){return a.adjust(b,c,d,e)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}});Ext.define("Ext.grid.header.DragZone",{extend:Ext.dd.DragZone,colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(a){if(a.getTarget(this.colInnerSelector)){var b=a.getTarget(this.colHeaderSelector),c,d;
if(b){c=Ext.getCmp(b.id);if(!this.headerCt.dragging&&c.draggable&&!(c.isOnLeftEdge(a)||c.isOnRightEdge(a))){d=document.createElement("div");d.innerHTML=Ext.getCmp(b.id).text;return{ddel:d,header:c}}}}return false},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}});Ext.define("Ext.grid.header.DropZone",{extend:Ext.dd.DropZone,colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},true);this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},true)}return this.bottomIndicator},getLocation:function(a,b){var c=a.getXY()[0],d=Ext.fly(b).getRegion(),e;if(d.right-c<=(d.right-d.left)/2){e="after"}else{e="before"}return{pos:e,header:Ext.getCmp(b.id),node:b}},positionIndicator:function(a,b,c){var d=this,e=a.header,f=d.getLocation(c,b),g=f.header,h=f.pos,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(g===d.lastTargetHeader&&h===d.lastDropPos){return}i=e.nextSibling("gridcolumn:not([hidden])");j=e.previousSibling("gridcolumn:not([hidden])");d.lastTargetHeader=g;d.lastDropPos=h;if(!g.draggable&&h==="before"&&g.getIndex()===0){return false}a.dropLocation=f;if(e!==g&&(h==="before"&&i!==g||h==="after"&&j!==g)&&!g.isDescendantOf(e)){t=Ext.dd.DragDropManager.getRelated(d);u=t.length;v=0;for(;v<u;v++){w=t[v];if(w!==d&&w.invalidateDrop){w.invalidateDrop()}}d.valid=true;k=d.getTopIndicator();l=d.getBottomIndicator();if(h==="before"){m="bc-tl";n="tc-bl"}else{m="bc-tr";n="tc-br"}o=k.getAlignToXY(g.el,m);p=l.getAlignToXY(g.el,n);q=d.headerCt.el;r=q.getX()-d.indicatorXOffset;s=q.getX()+q.getWidth();o[0]=Ext.Number.constrain(o[0],r,s);p[0]=Ext.Number.constrain(p[0],r,s);k.setXY(o);l.setXY(p);k.show();l.show()}else{d.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(a,b,c,d){var e=this,f=d.header,g,h,i,j;if(d.header.el.dom===a){g=false}else{d.isLock=d.isUnlock=false;h=e.getLocation(c,a).header;g=f.ownerCt===h.ownerCt;if(!g&&(!f.ownerCt.sealed&&!h.ownerCt.sealed)){g=true;i=f.up("tablepanel");j=h.up("tablepanel");d.isLock=j.isLocked&&!i.isLocked;d.isUnlock=!j.isLocked&&i.isLocked;if(d.isUnlock&&f.lockable===false||d.isLock&&!f.isLockable()){g=false}}}if(g){e.positionIndicator(d,a,c)}else{e.valid=false}return e.valid?e.dropAllowed:e.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide();a.getBottomIndicator().hide();a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(a,b,c,d){if(this.valid){var e=d.header,f=d.dropLocation,g=f.header,h=e.ownerCt,i=h.items.indexOf(e),j=g.ownerCt,k=j.items.indexOf(g),l=this.headerCt,m=l.columnManager,n=m.getHeaderIndex(e),o=m.getHeaderIndex(g),p=e.isGroupHeader?e.query(":not([isGroupHeader])").length:1,q=h===j,r,s;if(f.pos==="after"){k++;o+=g.isGroupHeader?g.query(":not([isGroupHeader])").length:1}if(d.isLock){r=h.up("[scrollerOwner]");r.lock(e,k);d.isLock=false;this.onNodeDrop(a,b,c,d)}else if(d.isUnlock){r=h.up("[scrollerOwner]");r.unlock(e,k);d.isUnlock=false;this.onNodeDrop(a,b,c,d)}else{this.invalidateDrop();s=e.getWidth();if(q){if(k===i){l.onHeaderMoved(e,p,n,o);return}if(k>i){k-=1}}Ext.suspendLayouts();if(q){j.move(i,k)}else{h.remove(e,false);j.insert(k,e)}if(j.isGroupHeader){if(!q){e.savedFlex=e.flex;delete e.flex;e.width=s}}else{if(e.savedFlex){e.flex=e.savedFlex;delete e.width}}l.purgeCache();Ext.resumeLayouts(true);l.onHeaderMoved(e,p,n,o)}}}});Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderreorderer",init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt);a.dropZone=new Ext.grid.header.DropZone(a.headerCt);if(a.disabled){a.dragZone.disable()}},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}});Ext.define("Ext.grid.header.Container",{extend:Ext.container.Container,border:true,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:false,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",triStateSort:false,ddLock:false,dragging:false,sortable:true,enableColumnHide:true,initComponent:function(){var a=this;a.headerCounter=0;a.plugins=a.plugins||[];if(!a.isColumn){if(a.enableColumnResize){a.resizer=new Ext.grid.plugin.HeaderResizer;a.plugins.push(a.resizer)}if(a.enableColumnMove){a.reorderer=new Ext.grid.plugin.HeaderReorderer;a.plugins.push(a.reorderer)}}if(a.isColumn&&(!a.items||a.items.length===0)){a.isContainer=false;a.layout={type:"container",calculate:Ext.emptyFn}}else{a.layout=Ext.apply({type:"gridcolumn",align:"stretch"},a.initialConfig.layout);if(a.isRootHeader){a.grid.columnManager=a.columnManager=new Ext.grid.ColumnManager(a)}}a.defaults=a.defaults||{};Ext.applyIf(a.defaults,{triStateSort:a.triStateSort,sortable:a.sortable});a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a);a.callParent();a.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow","columnschanged","sortchange","menucreate")},isLayoutRoot:function(){if(this.hiddenHeaders){return false}return this.callParent()},getOwnerHeaderCt:function(){var a=this;return a.isRootHeader?a:a.up("[isRootHeader]")},onDestroy:function(){var a=this;if(a.menu){a.menu.un("hide",a.onMenuHide,a)}a.menuTask.cancel();Ext.destroy(a.resizer,a.reorderer);a.callParent()},applyColumnsState:function(a){if(!a||!a.length){return}var b=this,c=b.items.items,d=c.length,e=0,f=a.length,g,h,i,j;for(g=0;g<f;g++){i=a[g];for(j=d;j--;){h=c[j];if(h.getStateId&&h.getStateId()==i.id){if(e!==j){b.moveHeader(j,e)}if(h.applyColumnState){h.applyColumnState(i)}++e;break}}}},getColumnsState:function(){var a=this,b=[],c;a.items.each(function(a){c=a.getColumnState&&a.getColumnState();if(c){b.push(c)}});return b},onAdd:function(a){var b=this;if(!a.headerId){a.headerId=a.initialConfig.id||Ext.id(null,"header-")}if(!a.getStateId()){a.stateId=a.initialConfig.id||"h"+ ++b.headerCounter}b.callParent(arguments);b.onColumnsChanged()},onMove:function(){this.callParent(arguments);this.onColumnsChanged()},onShow:function(){this.callParent(arguments);this.onColumnsChanged()},onColumnsChanged:function(){var a=this;while(a){a.purgeCache();if(a.isRootHeader){break}a=a.ownerCt}if(a&&a.rendered){a.fireEvent("columnschanged",a)}},onRemove:function(a){var b=this,c=b.ownerCt;b.callParent(arguments);if(!b.destroying){b.onColumnsChanged();if(b.isGroupHeader&&!b.items.getCount()&&c){b.detachComponent(a);Ext.suspendLayouts();c.remove(b);Ext.resumeLayouts(true)}}},applyDefaults:function(a){var b;if(a&&!a.isComponent&&a.xtype=="rownumberer"){b=a}else{b=this.callParent(arguments);if(!a.isGroupHeader&&!("width"in b)&&!b.flex){b.width=this.defaultWidth}}return b},setSortState:function(){var a=this.up("[store]").store,b=a.getFirstSorter(),c;if(b){c=this.down("gridcolumn[dataIndex="+b.property+"]");if(c){c.setSortState(b.direction,false,true)}}else{this.clearOtherSortStates(null)}},getHeaderMenu:function(){var a=this.getMenu(),b;if(a){b=a.child("#columnItem");if(b){return b.menu}}return null},onHeaderVisibilityChange:function(a,b){var c=this,d=c.getHeaderMenu(),e;c.purgeCache();if(d){e=c.getMenuItemForHeader(d,a);if(e){e.setChecked(b,true)}if(d.isVisible()){c.menuTask.delay(50)}}},updateMenuDisabledState:function(a){var b=this,c=b.query(":not([hidden])"),d,e=c.length,f,g,h;if(!a){a=b.getMenu()}for(d=0;d<e;++d){f=c[d];g=b.getMenuItemForHeader(a,f);if(g){h=f.isHideable()?"enable":"disable";if(g.menu){h+="CheckChange"}g[h]()}}},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(a){var b=this,c=b.ownerCt;if(b.forceFit){delete b.flex}b.onHeaderVisibilityChange(a,true);if(!a.isGroupHeader){if(c){c.onHeaderShow(b,a)}}b.fireEvent("columnshow",b,a);b.fireEvent("columnschanged",this)},onHeaderHide:function(a){var b=this,c=b.ownerCt;b.onHeaderVisibilityChange(a,false);if(!a.isGroupHeader){if(c){c.onHeaderHide(b,a)}}b.fireEvent("columnhide",b,a);b.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=false},200,this)},onHeaderResize:function(a,b,c){var d=this,e=d.view,f=d.ownerCt;if(e&&e.body.dom){d.tempLock();if(f){f.onHeaderResize(d,a,b)}}d.fireEvent("columnresize",this,a,b)},onHeaderClick:function(a,b,c){a.fireEvent("headerclick",this,a,b,c);this.fireEvent("headerclick",this,a,b,c)},onHeaderContextMenu:function(a,b,c){a.fireEvent("headercontextmenu",this,a,b,c);this.fireEvent("headercontextmenu",this,a,b,c)},onHeaderTriggerClick:function(a,b,c){var d=this;if(a.fireEvent("headertriggerclick",d,a,b,c)!==false&&d.fireEvent("headertriggerclick",d,a,b,c)!==false){d.showMenuBy(c,a)}},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#ascItem"),e=c.down("#descItem"),f;c.activeHeader=c.ownerButton=b;b.setMenuActive(true);f=b.sortable?"enable":"disable";if(d){d[f]()}if(e){e[f]()}c.showBy(a)},onMenuHide:function(a){a.activeHeader.setMenuActive(false)},moveHeader:function(a,b){this.tempLock();this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){var a=this,b=a.menu;a.gridDataColumns=a.hideableColumns=null;if(a.columnManager){a.columnManager.invalidate()}if(b&&b.hidden){b.hide();b.destroy();a.menu=null}},onHeaderMoved:function(a,b,c,d){var e=this,f=e.ownerCt;if(f&&f.onHeaderMove){f.onHeaderMove(e,a,b,c,d)}e.fireEvent("columnmove",e,a,c,d)},getMenu:function(){var a=this;if(!a.menu){a.menu=new Ext.menu.Menu({hideOnParentHide:false,items:a.getMenuItems(),listeners:{hide:a.onMenuHide,scope:a}});a.fireEvent("menucreate",a,a.menu)}a.updateMenuDisabledState(a.menu);return a.menu},getMenuItems:function(){var a=this,b=[],c=a.enableColumnHide?a.getColumnMenu(a):null;if(a.sortable){b=[{itemId:"ascItem",text:a.sortAscText,cls:a.menuSortAscCls,handler:a.onSortAscClick,scope:a},{itemId:"descItem",text:a.sortDescText,cls:a.menuSortDescCls,handler:a.onSortDescClick,scope:a}]}if(c&&c.length){if(a.sortable){b.push("-")}b.push({itemId:"columnItem",text:a.columnsText,cls:a.menuColsIcon,menu:c,hideOnClick:false})}return b},onSortAscClick:function(){var a=this.getMenu(),b=a.activeHeader;b.setSortState("ASC")},onSortDescClick:function(){var a=this.getMenu(),b=a.activeHeader;b.setSortState("DESC")},getColumnMenu:function(a){var b=[],c=0,d,e=a.query(">gridcolumn[hideable]"),f=e.length,g;for(;c<f;c++){d=e[c];g=new Ext.menu.CheckItem({text:d.menuText||d.text,checked:!d.hidden,hideOnClick:false,headerId:d.id,menu:d.isGroupHeader?this.getColumnMenu(d):undefined,checkHandler:this.onColumnCheckChange,scope:this});b.push(g);d.on({destroy:Ext.Function.bind(g.destroy,g)})}return b},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);c[b?"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){var a=0,b=this.getVisibleGridColumns(),c=b.length,d=0,e;for(;d<c;d++){e=b[d];if(e.getDesiredWidth){a+=e.getDesiredWidth()||0}else{a+=e.getWidth()}}return a},clearOtherSortStates:function(a){var b=this.getGridColumns(),c=b.length,d=0;for(;d<c;d++){if(b[d]!==a){b[d].setSortState(null,true)}}},getVisibleGridColumns:function(){var a=this.getGridColumns(),b=[],c=a.length,d;for(d=0;d<c;d++){if(!a[d].hidden){b[b.length]=a[d]}}return b},getGridColumns:function(a,b){if(!a&&this.gridDataColumns){return this.gridDataColumns}var c=this,d=a||[],e,f,g,h,i;b=b||c.hidden;if(c.items){e=c.items.items;for(f=0,g=e.length;f<g;f++){h=e[f];if(h.isGroupHeader){h.getGridColumns(d,b)}else{h.hiddenAncestor=b;d.push(h)}}}if(!a){c.gridDataColumns=d}if(!a&&g){for(f=0,g=d.length;f<g;f++){h=d[f];h.isFirstVisible=h.isLastVisible=false;if(!(h.hidden||h.hiddenAncestor)){if(!i){h.isFirstVisible=true}i=h}}if(i){i.isLastVisible=true}}return d},getHideableColumns:function(){var a=this,b=a.hideableColumns;if(!b){b=a.hideableColumns=a.query("[hideable]")}return b},getHeaderIndex:function(a){return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){return this.columnManager.getVisibleHeaderClosestToIndex(a)},autoSizeColumn:function(a){var b=this.view;if(b){b.autoSizeColumn(a)}}});Ext.define("Ext.grid.column.Column",{extend:Ext.grid.header.Container,alias:"widget.gridcolumn",alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],noWrap:true,renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner">'+'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+"column-header-text"+'{childElCls}">'+"{text}"+"</span>"+'<tpl if="!menuDisabled">'+'<div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+"column-header-trigger"+'{childElCls}"></div>'+"</tpl>"+"</div>"+"{%this.renderContainer(out,values)%}",dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,editRenderer:false,align:"left",draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:true,isColumn:true,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:true,initResizable:Ext.emptyFn,initComponent:function(){var a=this,b,c;if(a.header!=null){a.text=a.header;a.header=null}if(!a.triStateSort){a.possibleSortStates.length=2}if(a.columns!=null){a.isGroupHeader=true;a.items=a.columns;a.columns=a.flex=a.width=null;a.cls=(a.cls||"")+" "+a.groupHeaderCls;a.sortable=a.resizable=false;a.align="center"}else{if(a.flex){a.minWidth=a.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}a.addCls(Ext.baseCSSPrefix+"column-header-align-"+a.align);b=a.renderer;if(b){if(typeof b=="string"){a.renderer=Ext.util.Format[b]}a.hasCustomRenderer=true}else if(a.defaultRenderer){a.scope=a;a.renderer=a.defaultRenderer}a.callParent(arguments);c={element:a.clickTargetName,click:a.onTitleElClick,contextmenu:a.onTitleElContextMenu,mouseenter:a.onTitleMouseOver,mouseleave:a.onTitleMouseOut,scope:a};if(a.resizable){c.dblclick=a.onTitleElDblClick}a.on(c)},onAdd:function(a){if(a.isColumn){a.isSubHeader=true;a.addCls(this.groupSubHeaderCls)}if(this.hidden){a.hide()}this.callParent(arguments)},onRemove:function(a){if(a.isSubHeader){a.isSubHeader=false;a.removeCls(this.groupSubHeaderCls)}this.callParent(arguments)},initRenderData:function(){var a=this,b="",c=a.tooltip,d=a.tooltipType=="qtip"?"data-qtip":"title";if(!Ext.isEmpty(c)){b=d+'="'+c+'" '}return Ext.applyIf(a.callParent(arguments),{text:a.text,menuDisabled:a.menuDisabled,tipMarkup:b})},applyColumnState:function(a){var b=this;b.applyColumnsState(a.columns);if(a.hidden!=null){b.hidden=a.hidden}if(a.locked!=null){b.locked=a.locked}if(a.sortable!=null){b.sortable=a.sortable}if(a.width!=null){b.flex=null;b.width=a.width}else if(a.flex!=null){b.width=null;b.flex=a.flex}},getColumnState:function(){var a=this,b=a.items.items,c=b?b.length:0,d,e=[],f={id:a.getStateId()};a.savePropsToState(["hidden","sortable","locked","flex","width"],f);if(a.isGroupHeader){for(d=0;d<c;d++){e.push(b[d].getColumnState())}if(e.length){f.columns=e}}else if(a.isSubHeader&&a.ownerCt.hidden){delete a.hidden}if("width"in f){delete f.flex}return f},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;if(this.rendered){this.textEl.update(a)}},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?false:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this,b=a.up("tablepanel");a.callParent();if(b&&(!a.sortable||b.sortableColumns===false)&&!a.groupable&&!a.lockable&&(b.enableColumnHide===false||!a.getOwnerHeaderCt().getHideableColumns().length)){a.menuDisabled=true}a.protoEl.unselectable()},afterRender:function(){var a=this,b=a.triggerEl,c;a.callParent(arguments);if(!Ext.isIE8||!Ext.isStrict){a.mon(a.getFocusEl(),{focus:a.onTitleMouseOver,blur:a.onTitleMouseOut,scope:a})}if(b&&a.self.triggerElWidth===undefined){b.setStyle("display","block");a.self.triggerElWidth=b.getWidth();b.setStyle("display","")}a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,down:a.onDownKey,scope:a})},afterComponentLayout:function(a,b,c,d){var e=this,f=e.getOwnerHeaderCt();e.callParent(arguments);if(f&&(c!=null||e.flex)&&a!==c){f.onHeaderResize(e,a,true)}},onDestroy:function(){var a=this;Ext.destroy(a.textEl,a.keyNav,a.field);a.keyNav=null;a.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl){this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(a,b){var c=this,d,e;if(c.isOnLeftEdge(a)){d=c.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(d&&d.getOwnerHeaderCt()===c.getOwnerHeaderCt()){d.autoSize()}}else if(c.isOnRightEdge(a)){if(c.isGroupHeader&&a.getPoint().isContainedBy(c.layout.innerCt)){e=c.query("gridcolumn:not([hidden]):not([isGroupHeader])");this.getOwnerHeaderCt().autoSizeColumn(e[e.length-1]);return}c.autoSize()}},autoSize:function(){var a=this,b,c,d,e;if(a.isGroupHeader){b=a.query("gridcolumn:not([hidden]):not([isGroupHeader])");c=b.length;e=this.getOwnerHeaderCt();Ext.suspendLayouts();for(d=0;d<c;d++){e.autoSizeColumn(b[d])}Ext.resumeLayouts(true);return}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(a,b){var c=this,d=c.getOwnerHeaderCt();if(d&&!d.ddLock){if(c.triggerEl&&(a.target===c.triggerEl.dom||b===c.triggerEl.dom||a.within(c.triggerEl))){d.onHeaderTriggerClick(c,a,b)}else if(a.getKey()||!c.isOnLeftEdge(a)&&!c.isOnRightEdge(a)){c.toggleSortState();d.onHeaderClick(c,a,b)}}},onTitleElContextMenu:function(a,b){var c=this,d=c.getOwnerHeaderCt();if(d&&!d.ddLock){d.onHeaderContextMenu(c,a,b)}},processEvent:function(a,b,c,d,e,f){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a=this,b,c;if(a.sortable){b=Ext.Array.indexOf(a.possibleSortStates,a.sortState);c=(b+1)%a.possibleSortStates.length;a.setSortState(a.possibleSortStates[c])}},doSort:function(a){var b=this.up("tablepanel"),c=b.store;if(b.ownerLockable&&c.isNodeStore){c=b.ownerLockable.lockedGrid.store}c.sort({property:this.getSortParam(),direction:a})},getSortParam:function(){return this.dataIndex},setSortState:function(a,b,c){var d=this,e=d.ascSortCls,f=d.descSortCls,g=d.getOwnerHeaderCt(),h=d.sortState;a=a||null;if(!d.sorting&&h!==a&&d.getSortParam()!=null){if(a&&!c){d.sorting=true;d.doSort(a);d.sorting=false}switch(a){case"DESC":d.addCls(f);d.removeCls(e);break;case"ASC":d.addCls(e);d.removeCls(f);break;default:d.removeCls([e,f])}if(g&&!d.triStateSort&&!b){g.clearOtherSortStates(d)}d.sortState=a;if(d.triStateSort||a!=null){g.fireEvent("sortchange",g,d,a)}}},isHideable:function(){var a={hideCandidate:this,result:this.hideable};if(a.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a])}return a.result},hasOtherMenuEnabledChildren:function(a){var b,c;if(!this.isXType("headercontainer")){a.result=false;return false}b=this.query(">:not([hidden]):not([menuDisabled])");c=b.length;if(Ext.Array.contains(b,a.hideCandidate)){c--}if(c){return false}a.hideCandidate=this},isLockable:function(){var a={result:this.lockable!==false};if(a.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a])}return a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){if(!this.isXType("headercontainer")){a.result=false;return false}if(this.query(">:not([hidden])").length>1){return false}},hide:function(a){var b=this,c=b.getOwnerHeaderCt(),d=b.ownerCt,e,f,g,h,i;if(!b.isVisible()){return b}if(!c){b.callParent();return b}if(c.forceFit){b.visibleSiblingCount=c.getVisibleGridColumns().length-1;if(b.flex){b.savedWidth=b.getWidth();b.flex=null}}e=d.isGroupHeader;if(e&&!a){g=d.query(">:not([hidden])");if(g.length===1&&g[0]==b){b.ownerCt.hide();return}}Ext.suspendLayouts();if(b.isGroupHeader){g=b.items.items;for(i=0,h=g.length;i<h;i++){f=g[i];if(!f.hidden){f.hide(true)}}}b.callParent();c.onHeaderHide(b);Ext.resumeLayouts(true);return b},show:function(a,b){var c=this,d=c.getOwnerHeaderCt(),e=c.ownerCt,f,g,h,i,j,k,l,m,n=Ext.grid.header.Container.prototype.defaultWidth;if(c.isVisible()){return c}if(!c.rendered){c.hidden=false;return}k=d.el.getViewSize().width-(d.view.el.dom.scrollHeight>d.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0);if(d.forceFit){f=Ext.ComponentQuery.query(":not([flex])",d.getVisibleGridColumns());if(f.length){c.width=c.savedWidth||c.width||n}else{f=d.getVisibleGridColumns();g=f.length;m=c.visibleSiblingCount;j=c.savedWidth||c.width||n;j=Math.min(j*(m/g),n,Math.max(k-g*n,n));c.width=null;c.flex=j;k-=j;l=0;for(h=0;h<g;h++){i=f[h];i.flex=i.width||i.getWidth();l+=i.flex;i.width=null}for(h=0;h<g;h++){i=f[h];i.flex=i.flex/l*k}}}Ext.suspendLayouts();if(c.isSubHeader&&e.hidden){e.show(false,true)}c.callParent(arguments);if(c.isGroupHeader&&b!==true&&!c.query(":not([hidden])").length){f=c.items.items;for(h=0,g=f.length;h<g;h++){i=f[h];if(i.hidden){i.show(true)}}}Ext.resumeLayouts(true);e=c.getOwnerHeaderCt();if(e){e.onHeaderShow(c)}},getDesiredWidth:function(){var a=this;if(a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize){return a.componentLayout.lastComponentSize.width}else if(a.flex){return a.width}else{return a.width}},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return a.getXY()[0]-this.getX()<=this.handleWidth},isOnRightEdge:function(a){return this.getX()+this.getWidth()-a.getXY()[0]<=this.handleWidth},setMenuActive:function(a){this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)}});Ext.define("Ext.grid.column.Action",{extend:Ext.grid.column.Column,alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:false,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(a){var b=this,c=Ext.apply({},a),d=c.items||b.items||[b],e,f,g;b.origRenderer=c.renderer||b.renderer;b.origScope=c.scope||b.scope;b.renderer=b.scope=c.renderer=c.scope=null;c.items=null;b.callParent([c]);b.items=d;for(f=0,g=d.length;f<g;++f){if(d[f].getClass){e=true;break}}if(b.origRenderer||e){b.hasCustomRenderer=true}},defaultRenderer:function(a,b,c,d,e,f,g){var h=this,i=Ext.baseCSSPrefix,j=h.origScope||h,k=h.items,l=k.length,m=0,n,o,p,q;o=Ext.isFunction(h.origRenderer)?h.origRenderer.apply(j,arguments)||"":"";b.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;m<l;m++){n=k[m];p=n.disabled||(n.isDisabled?n.isDisabled.call(n.scope||j,g,d,e,n,c):false);q=p?null:n.tooltip||(n.getTip?n.getTip.apply(n.scope||j,arguments):null);if(!n.hasActionConfiguration){n.stopSelection=h.stopSelection;n.disable=Ext.Function.bind(h.disableAction,h,[m],0);n.enable=Ext.Function.bind(h.enableAction,h,[m],0);n.hasActionConfiguration=true}o+='<img role="button" alt="'+(n.altText||h.altText)+'" src="'+(n.icon||Ext.BLANK_IMAGE_URL)+'" class="'+i+"action-col-icon "+i+"action-col-"+String(m)+" "+(p?i+"item-disabled":" ")+" "+(Ext.isFunction(n.getClass)?n.getClass.apply(n.scope||j,arguments):n.iconCls||h.iconCls||"")+'"'+(q?' data-qtip="'+q+'"':"")+" />"}return o},enableAction:function(a,b){var c=this;if(!a){a=0}else if(!Ext.isNumber(a)){a=Ext.Array.indexOf(c.items,a)}c.items[a].disabled=false;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).removeCls(c.disabledCls);if(!b){c.fireEvent("enable",c)}},disableAction:function(a,b){var c=this;if(!a){a=0}else if(!Ext.isNumber(a)){a=Ext.Array.indexOf(c.items,a)}c.items[a].disabled=true;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).addCls(c.disabledCls);if(!b){c.fireEvent("disable",c)}},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(a,b,c,d,e,f,g,h){var i=this,j=f.getTarget(),k,l,m,n=a=="keydown"&&f.getKey(),o;if(n&&!Ext.fly(j).findParent(b.getCellSelector())){j=Ext.fly(c).down("."+Ext.baseCSSPrefix+"action-col-icon",true)}if(j&&(k=j.className.match(i.actionIdRe))){l=i.items[parseInt(k[1],10)];o=l.disabled||(l.isDisabled?l.isDisabled.call(l.scope||i.origScope||i,b,d,e,l,g):false);if(l&&!o){if(a=="click"||(n==f.ENTER||n==f.SPACE)){m=l.handler||i.handler;if(m){m.call(l.scope||i.origScope||i,b,d,e,l,f,g,h)}}else if(a=="mousedown"&&l.stopSelection!==false){return false}}}return i.callParent(arguments)},cascade:function(a,b){a.call(b||this,this)},getRefItems:function(){return[]}});Ext.define("Ext.grid.column.Boolean",{extend:Ext.grid.column.Column,alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(a){if(a===undefined){return this.undefinedText}if(!a||a==="false"){return this.falseText}return this.trueText}});Ext.define("Ext.grid.column.CheckColumn",{extend:Ext.grid.column.Column,alternateClassName:"Ext.ux.CheckColumn",alias:"widget.checkcolumn",align:"center",stopSelection:true,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",constructor:function(){this.addEvents("beforecheckchange","checkchange");this.scope=this;this.callParent(arguments)},processEvent:function(a,b,c,d,e,f,g,h){var i=this,j=a==="keydown"&&f.getKey(),k=a=="mousedown";if(!i.disabled&&(k||(j==f.ENTER||j==f.SPACE))){var l=i.dataIndex,m=!g.get(l);if(i.fireEvent("beforecheckchange",i,d,m)!==false){g.set(l,m);i.fireEvent("checkchange",i,d,m);if(k){f.stopEvent()}if(!i.stopSelection){b.selModel.selectByPosition({row:d,column:e})}return false}else{return!i.stopSelection}}else{return i.callParent(arguments)}},onEnable:function(a){var b=this;b.callParent(arguments);b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+b.id).removeCls(b.disabledCls);if(!a){b.fireEvent("enable",b)}},onDisable:function(a){var b=this;b.callParent(arguments);b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+b.id).addCls(b.disabledCls);if(!a){b.fireEvent("disable",b)}},renderer:function(a,b){var c=Ext.baseCSSPrefix,d=[c+"grid-checkcolumn"];if(this.disabled){b.tdCls+=" "+this.disabledCls}if(a){d.push(c+"grid-checkcolumn-checked")}return'<img class="'+d.join(" ")+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}});Ext.define("Ext.grid.column.Date",{extend:Ext.grid.column.Column,alias:["widget.datecolumn"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){if(!this.format){this.format=Ext.Date.defaultFormat}this.callParent(arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)}});Ext.define("Ext.grid.column.Number",{extend:Ext.grid.column.Column,alias:["widget.numbercolumn"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)}});Ext.define("Ext.grid.column.RowNumberer",{extend:Ext.grid.column.Column,alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",text:"&#160",width:23,sortable:false,draggable:false,autoLock:true,lockable:false,align:"right",constructor:function(a){var b=this;b.width=b.width;b.callParent(arguments);b.scope=b},resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:undefined,renderer:function(a,b,c,d,e,f){var g=this.rowspan,h=f.currentPage,i=c.index;if(g){b.tdAttr='rowspan="'+g+'"'}if(i==null){i=d;if(h>1){i+=(h-1)*f.pageSize}}return i+1}});Ext.define("Ext.grid.column.Template",{extend:Ext.grid.column.Column,alias:["widget.templatecolumn"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var a=this;a.tpl=!Ext.isPrimitive(a.tpl)&&a.tpl.compile?a.tpl:new Ext.XTemplate(a.tpl);a.hasCustomRenderer=true;a.callParent(arguments)},defaultRenderer:function(a,b,c){var d=Ext.apply({},c.data,c.getAssociatedData());return this.tpl.apply(d)}});Ext.define("Ext.grid.feature.Feature",{extend:Ext.util.Observable,alias:"feature.feature",wrapsItem:false,isFeature:true,disabled:false,hasFeatureEvent:true,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(a){this.initialConfig=a;this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(a,b,c,d){return[a,b,c,d]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.grid.feature.AbstractSummary",{extend:Ext.grid.feature.Feature,alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryTableCls:Ext.plainTableCls+" "+Ext.baseCSSPrefix+"grid-table",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",summaryRowTpl:{before:function(a,b){if(a.record.isSummary){this.summaryFeature.outputSummaryRecord(a.record,a,b);return false}},priority:1e3},showSummaryRow:true,init:function(){var a=this;a.view.summaryFeature=a;a.rowTpl=a.view.self.prototype.rowTpl;a.view.addRowTpl(a.summaryRowTpl).summaryFeature=a},toggleSummaryRow:function(a){this.showSummaryRow=!!a},outputSummaryRecord:function(a,b,c){var d=b.view,e=d.rowValues,f=b.columns||d.headerCt.getVisibleGridColumns(),g=f.length,h,i,j={view:d,record:a,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:d.getRowId(a),columns:f};for(h=0;h<g;h++){i=f[h];i.savedRenderer=i.renderer;if(i.summaryRenderer){i.renderer=i.summaryRenderer}else if(!i.summaryType){i.renderer=Ext.emptyFn}if(!i.dataIndex){i.dataIndex=i.id}}d.rowValues=j;d.self.prototype.rowTpl.applyOut(j,c);d.rowValues=e;for(h=0;h<g;h++){i=f[h];i.renderer=i.savedRenderer;i.savedRenderer=null}},getSummary:function(a,b,c,d){var e=d.records;if(b){if(Ext.isFunction(b)){return a.getAggregate(b,null,e,[c])}switch(b){case"count":return e.length;
case"min":return a.getMin(e,c);case"max":return a.getMax(e,c);case"sum":return a.getSum(e,c);case"average":return a.getAverage(e,c);default:return""}}},generateSummaryData:function(){var a=this,b=a.view.store,c=b.groups.items,d=b.proxy.reader,e=c.length,f=a.getGroupField(),g={},h=a.lockingPartner,i,j,k,l,m,n,o,p;if(a.remoteRoot&&d.rawData){n=true;p={};l=d.root;d.root=a.remoteRoot;d.buildExtractors(true);m=d.getRoot(d.rawData)||[];e=m.length;if(!d.convertRecordData){d.buildExtractors()}for(i=0;i<e;++i){o={};d.convertRecordData(o,m[i]);p[o[f]]=o}d.root=l;d.buildExtractors(true)}for(i=0;i<e;++i){j=c[i];if(n||j.isDirty()||!j.hasAggregate()){if(n){k=a.populateRemoteRecord(j,p)}else{k=a.populateRecord(j)}if(!h||a.view.ownerCt===a.view.ownerCt.ownerLockable.normalGrid){j.commit()}}else{k=j.getAggregateRecord()}g[j.key]=k}return g},populateRemoteRecord:function(a,b){var c=a.getAggregateRecord(true),d=b[a.key],e;c.beginEdit();for(e in d){if(d.hasOwnProperty(e)){if(e!==c.idProperty){c.set(e,d[e])}}}c.endEdit(true);c.commit(true);return c},populateRecord:function(a){var b=this,c=b.grid.ownerLockable?b.grid.ownerLockable.view:b.view,d=b.view.store,e=a.getAggregateRecord(),f=c.headerCt.getGridColumns(),g=f.length,h,i,j;e.beginEdit();for(h=0;h<g;++h){i=f[h];j=i.dataIndex||i.id;e.set(j,b.getSummary(d,i.summaryType,j,a))}e.endEdit(true);e.commit();return e}});Ext.define("Ext.grid.feature.GroupStore",{extend:Ext.util.Observable,isStore:true,constructor:function(a,b){var c=this;c.superclass.constructor.apply(c,arguments);c.groupingFeature=a;c.bindStore(b);c.processStore(b);c.view.dataSource=c},bindStore:function(a){var b=this;if(b.store){Ext.destroy(b.storeListeners);b.store=null}if(a){b.storeListeners=a.on({bulkremove:b.onBulkRemove,add:b.onAdd,update:b.onUpdate,refresh:b.onRefresh,clear:b.onClear,scope:b,destroyable:true});b.store=a}},processStore:function(a){var b=this,c=a.getGroups(),d=c.length,e,f,g,h=b.data,i=b.groupingFeature.groupCache,j=b.groupingFeature.clearGroupCache(),k=b.groupingFeature.startCollapsed;if(h){h.clear()}else{h=b.data=new Ext.util.MixedCollection(false,Ext.data.Store.recordIdFn)}if(a.getCount()){b.groupingFeature.startCollapsed=false;for(e=0;e<d;e++){f=c[e];j[f.name]=f;f.isCollapsed=k||i[f.name]&&i[f.name].isCollapsed;if(f.isCollapsed){f.placeholder=g=new a.model(null,"group-"+f.name+"-placeholder");g.set(b.getGroupField(),f.name);g.rows=g.children=f.children;g.isCollapsedPlaceholder=true;h.add(g)}else{h.insert(b.data.length,f.children)}}}},isCollapsed:function(a){return this.groupingFeature.groupCache[a].isCollapsed},isInCollapsedGroup:function(a){var b;if(this.store.isGrouped()&&(b=this.groupingFeature.groupCache[a.get(this.getGroupField())])){return b.isCollapsed||false}return false},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(a,b){return b<this.getCount()},getRange:function(a,b,c){var d=this.data.getRange(a,b);if(c&&c.callback){c.callback.call(c.scope||this,d,a,b,c)}return d},getAt:function(a){return this.getRange(a,a)[0]},getById:function(a){return this.store.getById(a)},expandGroup:function(a){var b=this,c;if(typeof a==="string"){a=b.groupingFeature.groupCache[a]}if(a&&a.children.length&&(c=b.indexOf(a.children[0],true,true))!==-1){a.isCollapsed=false;b.isExpandingOrCollapsing=1;b.data.removeAt(c);b.fireEvent("bulkremove",b,[b.getGroupPlaceholder(a)],[c]);b.data.insert(c,a.children);b.fireEvent("add",b,a.children,c);b.fireEvent("groupexpand",b,a);b.isExpandingOrCollapsing=0}},collapseGroup:function(a){var b=this,c,d,e,f,g,h;if(typeof a==="string"){a=b.groupingFeature.groupCache[a]}if(a&&(g=a.children.length)&&(c=b.indexOf(a.children[0],true))!==-1){a.isCollapsed=true;b.isExpandingOrCollapsing=2;b.data.removeRange(c,g);h=new Array(g);for(e=0,f=c;e<g;e++,f++){h[e]=f}b.fireEvent("bulkremove",b,a.children,h);b.data.insert(c,d=b.getGroupPlaceholder(a));b.fireEvent("add",b,[d],c);b.fireEvent("groupcollapse",b,a);b.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(a){if(!a.placeholder){var b=a.placeholder=new this.store.model(null,"group-"+a.name+"-placeholder");b.set(this.getGroupField(),a.name);b.rows=b.children=a.children;b.isCollapsedPlaceholder=true}return a.placeholder},indexOf:function(a,b,c){var d=this,e,f,g,h,i,j=0;if(a&&(c||!d.isInCollapsedGroup(a))){e=d.store.getGroups();f=e.length;for(g=0;g<f;g++){h=e[g];if(h.name===this.store.getGroupString(a)){i=Ext.Array.indexOf(h.children,a);return j+i}j+=b&&d.isCollapsed(h.name)?1:h.children.length}}return-1},indexOfTotal:function(a){var b=a.index;if(b||b===0){return b}return this.istore.ndexOf(a)},onRefresh:function(a){this.processStore(this.store);this.fireEvent("refresh",this)},onBulkRemove:function(a,b,c){this.processStore(this.store);this.fireEvent("refresh",this)},onClear:function(a,b,c){this.processStore(this.store);this.fireEvent("clear",this)},onAdd:function(a,b,c){this.processStore(this.store);this.fireEvent("refresh",this)},onUpdate:function(a,b,c,d){var e=this,f=e.groupingFeature.getRecordGroup(b),g,h;if(a.isGrouped()){if(d&&Ext.Array.contains(d,e.groupingFeature.getGroupField())){return e.onRefresh(e.store)}if(f.isCollapsed){e.fireEvent("update",e,f.placeholder)}else{Ext.suspendLayouts();e.fireEvent("update",e,b,c,d);g=f.children[0];h=f.children[f.children.length-1];if(g!==b){e.fireEvent("update",e,g,"edit")}if(h!==b&&h!==g){e.fireEvent("update",e,h,"edit")}Ext.resumeLayouts(true)}}else{e.fireEvent("update",e,b,c,d)}}});Ext.define("Ext.grid.feature.Grouping",{extend:Ext.grid.feature.Feature,mixins:{summary:Ext.grid.feature.AbstractSummary},alias:"feature.grouping",eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:true,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:false,startCollapsed:false,enableGroupingMenu:true,enableNoGroups:true,collapsible:true,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:false,tableTpl:{before:function(a){if(this.groupingFeature.disabled||a.rows.length===1&&a.rows[0].isSummary){return}this.groupingFeature.setup(a.rows,a.view.rowValues)},after:function(a){if(this.groupingFeature.disabled||a.rows.length===1&&a.rows[0].isSummary){return}this.groupingFeature.cleanup(a.rows,a.view.rowValues)},priority:200},groupTpl:["{%","var me = this.groupingFeature;","if (me.disabled) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.recordIndex, values);","values.needsWrap = !me.disabled && (values.isFirstRow || values.summaryRecord);","}","%}",'<tpl if="needsWrap">','<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}"','class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row<tpl if="!summaryRecord"> '+Ext.baseCSSPrefix+'grid-group-row</tpl>">','<td class="'+Ext.baseCSSPrefix+'group-hd-container" colspan="{columns.length}">','<tpl if="isFirstRow">',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="'+Ext.baseCSSPrefix+'grid-group-hd {collapsibleCls}" tabIndex="0">','<div class="'+Ext.baseCSSPrefix+'grid-group-title" style="{[groupTitleStyle]}">','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</tpl>",'<tpl if="summaryRecord || !isCollapsedGroup">','<table class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,"grid-table",'<tpl if="summaryRecord"> ',Ext.baseCSSPrefix,'grid-table-summary</tpl>"','border="0" cellspacing="0" cellpadding="0" style="width:100%">',"{[values.view.renderColumnSizer(out)]}",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out);%}","</tpl>","</table>","</tpl>","</td>","</tr>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(a,b){a=Ext.fly(a,"syncDest");b=Ext.fly(b,"sycSrc");var c=this.owner,d=a.down(c.eventSelector,true),e,f=a.down(c.summaryRowSelector,true),g,h,i;if(d&&(e=b.down(c.eventSelector,true))){d.style.height=e.style.height="";if((h=d.offsetHeight)>(i=e.offsetHeight)){Ext.fly(e).setHeight(h)}else if(i>h){Ext.fly(d).setHeight(i)}}if(f&&(g=b.down(c.summaryRowSelector,true))){f.style.height=g.style.height="";if((h=f.offsetHeight)>(i=g.offsetHeight)){Ext.fly(g).setHeight(h)}else if(i>h){Ext.fly(f).setHeight(i)}}},syncContent:function(a,b){a=Ext.fly(a,"syncDest");b=Ext.fly(b,"sycSrc");var c=this.owner,d=a.down(c.eventSelector,true),e=b.down(c.eventSelector,true),f=a.down(c.summaryRowSelector,true),g=b.down(c.summaryRowSelector,true);if(d&&e){Ext.fly(d).syncContent(e)}if(f&&g){Ext.fly(f).syncContent(g)}}}],constructor:function(){this.groupCache={};this.callParent(arguments)},init:function(a){var b=this,c=b.view;c.isGrouping=true;if(b.lockingPartner&&b.lockingPartner.groupCache){b.groupCache=b.lockingPartner.groupCache}b.mixins.summary.init.call(b);b.callParent(arguments);c.headerCt.on({columnhide:b.onColumnHideShow,columnshow:b.onColumnHideShow,columnmove:b.onColumnMove,scope:b});c.addTableTpl(b.tableTpl).groupingFeature=b;c.addRowTpl(Ext.XTemplate.getTpl(b,"groupTpl")).groupingFeature=b;c.preserveScrollOnRefresh=true;if(c.store.buffered){b.collapsible=false}else{if(this.lockingPartner&&this.lockingPartner.dataSource){b.dataSource=c.dataSource=this.lockingPartner.dataSource}else{b.dataSource=c.dataSource=new Ext.grid.feature.GroupStore(b,c.store)}}b.grid.on({reconfigure:b.onReconfigure});c.on({afterrender:b.afterViewRender,scope:b,single:true})},clearGroupCache:function(){var a=this,b=a.groupCache={};if(a.lockingPartner){a.lockingPartner.groupCache=b}return b},vetoEvent:function(a,b,c,d){if(d.type!=="mouseover"&&d.type!=="mouseout"&&d.type!=="mouseenter"&&d.type!=="mouseleave"&&d.getTarget(this.eventSelector)){return false}},enable:function(){var a=this,b=a.view,c=b.store,d;a.lastGroupField=a.getGroupField();b.isGrouping=true;if(a.lastGroupIndex){a.block();c.group(a.lastGroupIndex);a.unblock()}a.callParent();d=a.view.headerCt.getMenu().down("#groupToggleMenuItem");if(d){d.setChecked(true,true)}a.refreshIf()},disable:function(){var a=this,b=a.view,c=b.store,d,e;b.isGrouping=false;e=c.groupers.first();if(e){a.lastGroupIndex=e.property;a.block();c.clearGrouping();a.unblock()}a.callParent();d=a.view.headerCt.getMenu().down("#groupToggleMenuItem");if(d){d.setChecked(false,true)}a.refreshIf()},refreshIf:function(){var a=this.grid.ownerCt,b=this.view;if(!b.store.remoteGroup&&!this.blockRefresh){if(a&&a.lockable){a.view.refresh()}else{b.refresh()}}},afterViewRender:function(){var a=this,b=a.view;b.on({scope:a,groupclick:a.onGroupClick});if(a.enableGroupingMenu){a.injectGroupingMenu()}a.pruneGroupedHeader();a.lastGroupField=a.getGroupField();a.block();a.onGroupChange();a.unblock()},injectGroupingMenu:function(){var a=this,b=a.view.headerCt;b.showMenuBy=a.showMenuBy;b.getMenuItems=a.getMenuItems()},onColumnHideShow:function(a,b){var c=this.view,d=c.headerCt,e=d.getMenu(),f=e.down("#groupMenuItem"),g=d.getGridColumns().length,h,i,j;if(f){if(d.getVisibleGridColumns().length>1){f.enable()}else{f.disable()}}if(c.rendered){h=c.el.query("."+this.ctCls);for(j=0,i=h.length;j<i;++j){h[j].colSpan=g}}},onColumnMove:function(){var a=this,b=a.view.store,c,d,e,f,g,h;if(b.isGrouped()){c=b.getGroups();e=c.length;for(d=0;d<e;d++){f=c[d];g=f.children[0];h=f.children[f.children.length-1];b.fireEvent("update",b,g,"edit",null);if(h!==g){b.fireEvent("update",b,h,"edit",null)}}}},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#groupMenuItem"),e=b.groupable===false||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",f=c.down("#groupToggleMenuItem"),g=this.view.store.isGrouped();d[e]();if(f){f.setChecked(g,true);f[g?"enable":"disable"]()}Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var a=this,b=a.groupByText,c=a.disabled||!a.getGroupField(),d=a.showGroupsText,e=a.enableNoGroups,f=a.view.headerCt.getMenuItems;return function(){var g=f.call(this);g.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:b,handler:a.onGroupMenuItemClick,scope:a});if(e){g.push({itemId:"groupToggleMenuItem",text:d,checked:!c,checkHandler:a.onGroupToggleMenuItemClick,scope:a})}return g}},onGroupMenuItemClick:function(a,b){var c=this,d=a.parentMenu,e=d.activeHeader,f=c.view,g=f.store;c.lastGroupIndex=null;c.block();c.enable();g.group(e.dataIndex);c.pruneGroupedHeader();c.unblock();c.refreshIf()},block:function(a){this.blockRefresh=this.view.blockRefresh=true;if(this.lockingPartner&&!a){this.lockingPartner.block(true)}},unblock:function(a){this.blockRefresh=this.view.blockRefresh=false;if(this.lockingPartner&&!a){this.lockingPartner.unblock(true)}},onGroupToggleMenuItemClick:function(a,b){this[b?"enable":"disable"]()},pruneGroupedHeader:function(){var a=this,b=a.getGroupedHeader();if(a.hideGroupedHeader&&b){Ext.suspendLayouts();if(a.prunedHeader&&a.prunedHeader!==b){a.prunedHeader.show()}a.prunedHeader=b;b.hide();Ext.resumeLayouts(true)}},getHeaderNode:function(a){return Ext.get(this.createGroupId(a))},getGroup:function(a){var b=this.groupCache,c=b[a];if(!c){c=b[a]={isCollapsed:false}}return c},isExpanded:function(a){return!this.getGroup(a).isCollapsed},expand:function(a,b){this.doCollapseExpand(false,a,b)},expandAll:function(){var a=this,b=a.view,c=a.groupCache,d,e=a.lockingPartner,f;for(d in c){if(c.hasOwnProperty(d)){c[d].isCollapsed=false}}Ext.suspendLayouts();b.suspendEvent("beforerefresh","refresh");if(e){f=e.view;f.suspendEvent("beforerefresh","refresh")}a.dataSource.onRefresh();b.resumeEvent("beforerefresh","refresh");if(e){f.resumeEvent("beforerefresh","refresh")}Ext.resumeLayouts(true);for(d in c){if(c.hasOwnProperty(d)){a.afterCollapseExpand(false,d);if(e){e.afterCollapseExpand(false,d)}}}},collapse:function(a,b){this.doCollapseExpand(true,a,b)},isAllCollapsed:function(){var a=this,b=a.groupCache,c;for(c in b){if(b.hasOwnProperty(c)){if(!b[c].isCollapsed){return false}}}return true},isAllExpanded:function(){var a=this,b=a.groupCache,c;for(c in b){if(b.hasOwnProperty(c)){if(b[c].isCollapsed){return false}}}return true},collapseAll:function(){var a=this,b=a.view,c=a.groupCache,d,e=a.lockingPartner,f;for(d in c){if(c.hasOwnProperty(d)){c[d].isCollapsed=true}}Ext.suspendLayouts();b.suspendEvent("beforerefresh","refresh");if(e){f=e.view;f.suspendEvent("beforerefresh","refresh")}a.dataSource.onRefresh();b.resumeEvent("beforerefresh","refresh");if(e){f.resumeEvent("beforerefresh","refresh")}if(e&&!e.isAllCollapsed()){e.collapseAll()}Ext.resumeLayouts(true);for(d in c){if(c.hasOwnProperty(d)){a.afterCollapseExpand(true,d);if(e){e.afterCollapseExpand(true,d)}}}},doCollapseExpand:function(a,b,c){var d=this,e=d.lockingPartner,f=d.groupCache[b];if(f.isCollapsed!=a){Ext.suspendLayouts();if(a){d.dataSource.collapseGroup(f)}else{d.dataSource.expandGroup(f)}Ext.resumeLayouts(true);d.afterCollapseExpand(a,b,c);if(e){e.afterCollapseExpand(a,b,false)}}},afterCollapseExpand:function(a,b,c){var d=this,e=d.view,f;f=Ext.get(this.getHeaderNode(b));e.fireEvent(a?"groupcollapse":"groupexpand",e,f,b);if(c){f.up(e.getItemSelector()).scrollIntoView(e.el,null,true)}},onGroupChange:function(){var a=this,b=a.getGroupField(),c,d,e;if(a.hideGroupedHeader){if(a.lastGroupField){c=a.getMenuItem(a.lastGroupField);if(c){c.setChecked(true)}}if(b){d=a.view.headerCt.getVisibleGridColumns();e=d.length===1&&d[0].dataIndex==b;c=a.getMenuItem(b);if(c&&!e){c.setChecked(false)}}}a.refreshIf();a.lastGroupField=b},getMenuItem:function(a){var b=this.view,c=b.headerCt.down("gridcolumn[dataIndex="+a+"]"),d=b.headerCt.getMenu();return c?d.down("menuitem[headerId="+c.id+"]"):null},onGroupKey:function(a,b){var c=this,d=c.getGroupName(b.target);if(d){c.onGroupClick(c.view,b.target,d,b)}},onGroupClick:function(a,b,c,d){var e=this,f=e.groupCache,g=!e.isExpanded(c),h;if(e.collapsible){if(d.ctrlKey){Ext.suspendLayouts();for(h in f){if(h===c){if(g){e.expand(c)}}else{e.doCollapseExpand(true,h,false)}}Ext.resumeLayouts(true);return}if(g){e.expand(c)}else{e.collapse(c)}}},setupRowData:function(a,b,c){var d=this,e=d.refreshData,f=d.groupInfo,g=e.header,h=e.groupField,i=d.view.dataSource,j,k,l,m;c.isCollapsedGroup=false;c.summaryRecord=null;if(e.doGrouping){j=d.view.store.groupers.first();if(a.children){k=j.getGroupString(a.children[0]);c.isFirstRow=c.isLastRow=true;c.itemClasses.push(d.hdCollapsedCls);c.isCollapsedGroup=true;c.groupInfo=f;f.groupField=h;f.name=k;f.groupValue=a.children[0].get(h);f.columnName=g?g.text:h;c.collapsibleCls=d.collapsible?d.collapsibleCls:d.hdNotCollapsibleCls;c.groupId=d.createGroupId(k);f.rows=f.children=a.children;if(d.showSummaryRow){c.summaryRecord=e.summaryData[k]}return}k=j.getGroupString(a);c.isFirstRow=b===0;if(!c.isFirstRow){l=i.getAt(b-1);if(l){c.isFirstRow=!l.isEqual(j.getGroupString(l),k)}}c.isLastRow=b==i.getTotalCount()-1;if(!c.isLastRow){m=i.getAt(b+1);if(m){c.isLastRow=!m.isEqual(j.getGroupString(m),k)}}if(c.isFirstRow){f.groupField=h;f.name=k;f.groupValue=a.get(h);f.columnName=g?g.text:h;c.collapsibleCls=d.collapsible?d.collapsibleCls:d.hdNotCollapsibleCls;c.groupId=d.createGroupId(k);if(!d.isExpanded(k)){c.itemClasses.push(d.hdCollapsedCls);c.isCollapsedGroup=true}if(i.buffered){f.rows=f.children=[]}else{f.rows=f.children=d.getRecordGroup(a).children}c.groupInfo=f}if(c.isLastRow){if(d.showSummaryRow){c.summaryRecord=e.summaryData[k]}}}},setup:function(a,b){var c=this,d=c.refreshData,e=!c.disabled&&c.view.store.isGrouped();c.skippedRows=0;if(b.view.bufferedRenderer){b.view.bufferedRenderer.variableRowHeight=true}d.groupField=c.getGroupField();d.header=c.getGroupedHeader(d.groupField);d.doGrouping=e;b.groupHeaderTpl=Ext.XTemplate.getTpl(c,"groupHeaderTpl");if(e&&c.showSummaryRow){d.summaryData=c.generateSummaryData()}},cleanup:function(a,b){var c=this.refreshData;b.groupInfo=b.groupHeaderTpl=b.isFirstRow=null;c.groupField=c.header=null},getGroupName:function(a){var b=this,c=b.view,d=b.eventSelector,e,f,g;f=Ext.fly(a).findParent(d);if(!f){g=Ext.fly(a).findParent(c.itemSelector);if(g){f=g.down(d,true)}}if(f){e=f.id.split(c.id+"-hd-");if(e.length===2){return Ext.htmlDecode(e[1])}}},getRecordGroup:function(a){var b=this.view.store.groupers.first();if(b){return this.groupCache[b.getGroupString(a)]}},createGroupId:function(a){return this.view.id+"-hd-"+Ext.htmlEncode(a)},createGroupCls:function(a){return this.view.id+"-"+Ext.htmlEncode(a)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(a){var b=this,c=b.view.headerCt,d=b.lockingPartner,e,f;a=a||this.getGroupField();if(a){e="[dataIndex="+a+"]";f=c.down(e);if(!f&&d){f=d.view.headerCt.down(e)}}return f||null},getFireEventArgs:function(a,b,c,d){return[a,b,c,this.getGroupName(c),d]},destroy:function(){var a=this,b=a.dataSource;a.view=a.prunedHeader=a.grid=a.groupCache=a.dataSource=null;a.callParent();if(b){b.bindStore(null)}},onReconfigure:function(a,b,c,d,e){var f=a;if(b&&b!==d){if(b.buffered!==d.buffered){Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores")}if(b.buffered){f.bindStore(b);f.dataSource.processStore(b)}}}});Ext.define("Ext.grid.feature.GroupingSummary",{extend:Ext.grid.feature.Grouping,alias:"feature.groupingsummary",showSummaryRow:true,vetoEvent:function(a,b,c,d){var e=this.callParent(arguments);if(e!==false){if(d.getTarget(this.summaryRowSelector)){e=false}}return e}});Ext.define("Ext.grid.feature.RowBody",{extend:Ext.grid.feature.Feature,alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",tableTpl:{before:function(a,b){var c=a.view,d=c.rowValues;this.rowBody.setup(a.rows,d)},after:function(a,b){var c=a.view,d=c.rowValues;this.rowBody.cleanup(a.rows,d)},priority:100},extraRowTpl:["{%","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","this.nextTpl.applyOut(values, out, parent);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}">','<td class="'+Ext.baseCSSPrefix+"grid-cell-rowbody"+'" colspan="{rowBodyColspan}">','<div class="'+Ext.baseCSSPrefix+"grid-rowbody"+' {rowBodyDivCls}">{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(a,b){var c=this.owner,d=Ext.fly(a).down(c.eventSelector,true),e,f,g;if(d&&(e=Ext.fly(b).down(c.eventSelector,true))){if((f=d.offsetHeight)>(g=e.offsetHeight)){Ext.fly(e).setHeight(f)}else if(g>f){Ext.fly(d).setHeight(g)}}},syncContent:function(a,b){var c=this.owner,d=Ext.fly(a).down(c.eventSelector,true),e;if(d&&(e=Ext.fly(b).down(c.eventSelector,true))){Ext.fly(d).syncContent(e)}}}],init:function(a){var b=this,c=b.view;c.rowBodyFeature=b;if(!c.findFeature("rowwrap")){a.mon(c,{element:"el",mousedown:b.onMouseDown,scope:b});b.mon(a.getStore(),"remove",b.onStoreRemove,b)}c.headerCt.on({columnschanged:b.onColumnsChanged,scope:b});c.addTableTpl(b.tableTpl).rowBody=b;c.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl"));b.callParent(arguments)},onStoreRemove:function(a,b,c){var d=this.view,e;if(d.rendered){e=d.getNode(c);if(e){e=Ext.fly(e).next(this.eventSelector);if(e){e.remove()}}}},onMouseDown:function(a){var b=this,c=a.getTarget(b.eventSelector);if(c&&Ext.fly(c=c.previousSibling).is(b.view.getItemSelector())){a.target=c;b.view.handleEvent(a)}},getSelectedRow:function(a,b){var c=a.getNode(b,false);if(c){return Ext.fly(c).down(this.eventSelector)}return null},onColumnsChanged:function(a){var b=this.view.el.query(this.rowBodyTdSelector),c=a.getVisibleGridColumns().length,d=b.length,e;for(e=0;e<d;++e){b[e].colSpan=c}},setupRowData:function(a,b,c){if(this.getAdditionalData){Ext.apply(c,this.getAdditionalData(a.data,b,a,c))}},setup:function(a,b){b.rowBodyCls=this.rowBodyCls;b.rowBodyColspan=b.view.getGridColumns().length},cleanup:function(a,b){b.rowBodyCls=b.rowBodyColspan=b.rowBody=null}});Ext.define("Ext.grid.feature.RowWrap",{extend:Ext.grid.feature.Feature,alias:"feature.rowwrap",rowWrapTd:"td."+Ext.baseCSSPrefix+"grid-rowwrap",hasFeatureEvent:false,tableTpl:{before:function(a,b){if(a.view.bufferedRenderer){a.view.bufferedRenderer.variableRowHeight=true}},priority:200},wrapTpl:['<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{recordIndex}" class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row">','<td class="'+Ext.baseCSSPrefix+"grid-rowwrap "+Ext.baseCSSPrefix+'grid-td" colSpan="{columns.length}">','<table class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0">',"{[values.view.renderColumnSizer(out)]}","{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent)","%}","</table>","</td>","</tr>",{priority:200}],init:function(a){var b=this;b.view.addTableTpl(b.tableTpl);b.view.addRowTpl(Ext.XTemplate.getTpl(b,"wrapTpl"));b.view.headerCt.on({columnhide:b.onColumnHideShow,columnshow:b.onColumnHideShow,scope:b})},onColumnHideShow:function(){var a=this.view,b=a.el.query(this.rowWrapTd),c=a.headerCt.getVisibleGridColumns().length,d=b.length,e;for(e=0;e<d;++e){b[e].colSpan=c}}});Ext.define("Ext.grid.feature.Summary",{extend:Ext.grid.feature.AbstractSummary,alias:"feature.summary",dock:undefined,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",init:function(a){var b=this,c=b.view;b.callParent(arguments);if(b.dock){a.headerCt.on({afterlayout:b.onStoreUpdate,scope:b});a.on({beforerender:function(){var d=[b.summaryTableCls];if(c.columnLines){d[d.length]=c.ownerCt.colLinesCls}b.summaryBar=a.addDocked({childEls:["innerCt"],renderTpl:['<div id="{id}-innerCt">','<table cellPadding="0" cellSpacing="0" class="'+d.join(" ")+'">','<tr class="'+b.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[b.dockedSummaryCls,b.dockedSummaryCls+"-"+b.dock],xtype:"component",dock:b.dock,weight:1e7})[0]},afterrender:function(){a.body.addCls(b.panelBodyCls+b.dock);c.mon(c.el,{scroll:b.onViewScroll,scope:b});b.onStoreUpdate()},single:true});a.headerCt.afterComponentLayout=Ext.Function.createSequence(a.headerCt.afterComponentLayout,function(){b.summaryBar.innerCt.setWidth(this.getFullWidth()+Ext.getScrollbarSize().width)})}else{b.view.addFooterFn(b.renderTFoot)}a.on({columnmove:b.onStoreUpdate,scope:b});c.mon(c.store,{update:b.onStoreUpdate,datachanged:b.onStoreUpdate,scope:b})},renderTFoot:function(a,b){var c=a.view,d=c.findFeature("summary");if(d.showSummaryRow){b.push("<tfoot>");d.outputSummaryRecord(d.createSummaryRecord(c),a,b);b.push("</tfoot>")}},vetoEvent:function(a,b,c,d){return!d.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.el.dom.scrollLeft=this.view.el.dom.scrollLeft},createSummaryRecord:function(a){var b=a.headerCt.getVisibleGridColumns(),c={records:a.store.getRange()},d=b.length,e,f,g=this.summaryRecord||(this.summaryRecord=new a.store.model(null,a.id+"-summary-record"));g.beginEdit();for(e=0;e<d;e++){f=b[e];if(!f.dataIndex){f.dataIndex=f.id}g.set(f.dataIndex,this.getSummary(a.store,f.summaryType,f.dataIndex,c))}g.endEdit(true);g.commit(true);g.isSummary=true;return g},onStoreUpdate:function(){var a=this,b=a.view,c=a.createSummaryRecord(b),d=b.createRowElement(c,-1),e,f,g;if(!b.rendered){return}if(a.dock){e=a.summaryBar.el.down("."+a.summaryRowCls,true)}else{e=a.view.getNode(c)}if(e){g=e.parentNode;g.insertBefore(d,e);g.removeChild(e);f=a.lockingPartner;if(f&&f.grid.rendered&&!a.calledFromLockingPartner){f.calledFromLockingPartner=true;f.onStoreUpdate();f.calledFromLockingPartner=false}}if(a.dock){a.onColumnHeaderLayout()}},onColumnHeaderLayout:function(){var a=this.view,b=a.headerCt.getVisibleGridColumns(),c,d=b.length,e,f=this.summaryBar.el,g;for(e=0;e<d;e++){c=b[e];g=f.down(a.getCellSelector(c));if(g){if(c.hidden){g.setDisplayed(false)}else{g.setDisplayed(true);g.setWidth(c.width||(c.lastBox?c.lastBox.width:100))}}}}});Ext.define("Ext.grid.locking.HeaderContainer",{extend:Ext.grid.header.Container,constructor:function(a){var b=this,c,d,e=[],f=a.lockedGrid,g=a.normalGrid;b.lockable=a;b.callParent();f.columnManager.rootColumns=g.columnManager.rootColumns=a.columnManager=b.columnManager=new Ext.grid.ColumnManager(f.headerCt,g.headerCt);c=f.headerCt.events;for(d in c){if(c.hasOwnProperty(d)){e.push(d)}}b.relayEvents(f.headerCt,e);b.relayEvents(g.headerCt,e)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var a=this,b=a.lockable.lockedGrid.headerCt.getColumnsState(),c=a.lockable.normalGrid.headerCt.getColumnsState();return b.concat(c)},applyColumnsState:function(a){var b=this,c=b.lockable.lockedGrid,d=c.headerCt,e=b.lockable.normalGrid.headerCt,f=Ext.Array.toValueMap(d.items.items,"headerId"),g=Ext.Array.toValueMap(e.items.items,"headerId"),h=[],i=[],j=1,k=a.length,l,m,n,o;for(l=0;l<k;l++){o=a[l];n=f[o.id];m=n||g[o.id];if(m){if(m.applyColumnState){m.applyColumnState(o)}if(m.locked===undefined){m.locked=!!n}if(m.locked){h.push(m);if(!m.hidden&&typeof m.width=="number"){j+=m.width}}else{i.push(m)}}}if(h.length+i.length==d.items.getCount()+e.items.getCount()){d.removeAll(false);e.removeAll(false);d.add(h);e.add(i);c.setWidth(j)}}});Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",mixins:{observable:Ext.util.Observable},isLockingView:true,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(a){var b=this,c=[],d=b.eventRelayRe,e=a.locked.getView(),f=a.normal.getView(),g,h;Ext.apply(b,{lockedView:e,normalView:f,lockedGrid:a.locked,normalGrid:a.normal,panel:a.panel});b.mixins.observable.constructor.call(b,a);g=e.events;for(h in g){if(g.hasOwnProperty(h)&&d.test(h)){c.push(h)}}b.relayEvents(e,c);b.relayEvents(f,c);f.on({scope:b,itemmouseleave:b.onItemMouseLeave,itemmouseenter:b.onItemMouseEnter});e.on({scope:b,itemmouseleave:b.onItemMouseLeave,itemmouseenter:b.onItemMouseEnter});b.panel.on({render:b.onPanelRender,scope:b})},onPanelRender:function(){var a=this,b=a.loadMask,c={target:a.panel,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:a.panel.store};a.el=a.panel.body;a.fireEvent("render",a);if(b){if(Ext.isObject(b)){c=Ext.apply(c,b)}a.loadMask=new Ext.LoadMask(c)}},getGridColumns:function(){var a=this.lockedGrid.headerCt.getVisibleGridColumns();return a.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(a){var b=this.lockedView,c;b.headerCt.cascade(function(b){if(b===a){c=true;return false}});return c?b:this.normalView},onItemMouseEnter:function(a,b){var c=this,d=c.lockedView,e=c.normalView,f;if(a.trackOver){if(a!==d){e=d}f=e.getNode(b,false);e.highlightItem(f)}},onItemMouseLeave:function(a,b){var c=this,d=c.lockedView,e=c.normalView;if(a.trackOver){if(a!==d){e=d}e.clearHighlight()}},relayFn:function(a,b){b=b||[];var c=this.lockedView;c[a].apply(c,b);c=this.normalView;c[a].apply(c,b)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(a,b){return this.normalView.getNode(a,b)},getCell:function(a,b){var c=this.getViewForColumn(b),d=c.getNode(a,true);return Ext.fly(d).down(b.getCellSelector())},indexOf:function(a){var b=this.lockedView.indexOf(a);if(!b){b=this.normalView.indexOf(a)}return b},focus:function(){var a=this.getSelectionModel().getCurrentPosition(),b=a?a.view:this.normalView;b.focus()},focusRow:function(a){this.normalView.focusRow(a)},focusCell:function(a){a.view.focusCell(a)},isVisible:function(a){return this.panel.isVisible(a)},getRecord:function(a){var b=this.lockedView.getRecord(a);if(!b){b=this.normalView.getRecord(a)}return b},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(a,b,c){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var a=this,b=a.loadMask;a.clearListeners();if(b&&b.bindStore){b.bindStore(null)}}});Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",syncRowHeight:true,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","columnLines","rowLines"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(a){var b=this,c,d,e,f,g;if(b.subGridXType){c=b.subGridXType}else{if(!a){return"gridpanel"}d=this.getXTypes().split("/");
e=d.length;f=d[e-1];g=d[e-2];if(g!=="tablepanel"){c=g}else{c=f}}return c},injectLockable:function(){this.lockable=true;this.hasView=true;var a=this,b=Ext.getScrollbarSize().height,c=a.store=Ext.StoreManager.lookup(a.store),d=a.getSelectionModel(),e,f,g,h,i,j,k,l,m,n,o,p=a.findPlugin("bufferedrenderer");e=a.constructLockableFeatures();if(a.features){a.features=null}f=a.constructLockablePlugins();a.plugins=f.topPlugins;g=Ext.apply({id:a.id+"-locked",isLocked:true,ownerLockable:a,xtype:a.determineXTypeToCreate(true),store:c,scrollerOwner:false,animate:false,scroll:b?false:"vertical",selModel:d,border:false,cls:a.lockedGridCls,isLayoutRoot:function(){return false},features:e.lockedFeatures,plugins:f.lockedPlugins},a.lockedGridConfig);h=Ext.apply({id:a.id+"-normal",isLocked:false,ownerLockable:a,xtype:a.determineXTypeToCreate(),store:c,scrollerOwner:false,selModel:d,border:false,isLayoutRoot:function(){return false},features:e.normalFeatures,plugins:f.normalPlugins},a.normalGridConfig);a.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(h,a,a.bothCfgCopy,true);Ext.copyTo(g,a,a.bothCfgCopy,true);Ext.copyTo(h,a,a.normalCfgCopy,true);Ext.copyTo(g,a,a.lockedCfgCopy,true);for(i=0;i<a.normalCfgCopy.length;i++){delete a[a.normalCfgCopy[i]]}for(i=0;i<a.lockedCfgCopy.length;i++){delete a[a.lockedCfgCopy[i]]}a.addEvents("processcolumns","lockcolumn","unlockcolumn");a.addStateEvents(["lockcolumn","unlockcolumn"]);j=a.processColumns(a.columns);g.width=j.lockedWidth+Ext.num(d.headerWidth,0)+(j.locked.items.length?1:0);g.columns=j.locked;h.columns=j.normal;h.flex=1;g.viewConfig=a.lockedViewConfig||{};g.viewConfig.loadingUseMsg=false;g.viewConfig.loadMask=false;if(b){g.viewConfig.style="border-bottom:"+b+"px solid #f6f6f6;"+(g.viewConfig.style||"")}h.viewConfig=a.normalViewConfig||{};h.viewConfig.loadMask=false;Ext.applyIf(g.viewConfig,a.viewConfig);Ext.applyIf(h.viewConfig,a.viewConfig);a.lockedGrid=Ext.ComponentManager.create(g);if(a.isTree){a.lockedGrid.getView().animate=false;h.store=a.lockedGrid.view.store;h.deferRowRender=false;h.viewConfig.stripeRows=a.lockedGrid.view.stripeRows;h.rowLines=a.lockedGrid.rowLines}m=a.lockedGrid.getView();h.viewConfig.lockingPartner=m;a.normalGrid=Ext.ComponentManager.create(h);m.lockingPartner=n=a.normalGrid.getView();a.view=new Ext.grid.locking.View({loadingText:n.loadingText,loadingCls:n.loadingCls,loadingUseMsg:n.loadingUseMsg,loadMask:a.loadMask!==false,locked:a.lockedGrid,normal:a.normalGrid,panel:a});o=p?{}:{scroll:{fn:a.onLockedViewScroll,element:"el",scope:a}};if(b){a.lockedGrid.on({afterlayout:a.afterLockedViewLayout,scope:a});m.getOverflowStyle();if(m.scrollFlags.y){a.lockedGrid.headerCt.forceFit=true}else{o.mousewheel={fn:a.onLockedViewMouseWheel,element:"el",scope:a}}}m.on(o);o=p?{}:{scroll:{fn:a.onNormalViewScroll,element:"el",scope:a},scope:a};n.on(o);k=a.lockedGrid.headerCt;l=a.normalGrid.headerCt;a.headerCt=a.view.headerCt=new Ext.grid.locking.HeaderContainer(a);k.lockedCt=true;k.lockableInjected=true;l.lockableInjected=true;k.on({add:{buffer:1,scope:a,fn:a.onLockedHeaderAdd},columnshow:a.onLockedHeaderShow,columnhide:a.onLockedHeaderHide,sortchange:a.onLockedHeaderSortChange,columnresize:a.onLockedHeaderResize,scope:a});l.on({sortchange:a.onNormalHeaderSortChange,scope:a});a.modifyHeaderCt();a.items=[a.lockedGrid,a.normalGrid];a.relayHeaderCtEvents(k);a.relayHeaderCtEvents(l);a.storeRelayers=a.relayEvents(c,["filterchange"]);a.layout={type:"hbox",align:"stretch"}},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(a){var b,c,d,e=this.dummyHdrCtr||(this.self.prototype.dummyHdrCtr=new Ext.grid.header.Container),f=[],g=[],h={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:f},i={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:g},j={lockedWidth:0,locked:h,normal:i};if(Ext.isObject(a)){Ext.applyIf(h,a);Ext.applyIf(i,a);Ext.apply(e,a);a=a.items}for(b=0,c=a.length;b<c;++b){d=a[b];if(!d.isComponent){d=e.lookupComponent(e.applyDefaults(d))}d.processed=true;if(d.locked||d.autoLock){if(!d.hidden){j.lockedWidth+=this.getColumnWidth(d)||e.defaultWidth}f.push(d)}else{g.push(d)}if(!d.headerId){d.headerId=(d.initialConfig||d).id||"h"+ ++this.headerCounter}}this.fireEvent("processcolumns",this,f,g);return j},getColumnWidth:function(a){var b=a.width||0,c,d,e;if(!b&&a.isGroupHeader){c=a.items.items;d=c.length;for(e=0;e<d;e++){b+=this.getColumnWidth(c[e])}}return b},afterLockedViewLayout:function(){var a=this,b=a.lockedGrid.getView(),c=b.el.dom,d=a.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0;if(b.scrollFlags.x&&c.scrollWidth>c.clientWidth){d=0}b.el.dom.style.borderBottomWidth=d+"px";if(!Ext.isBorderBox){b.el.setHeight(b.lastBox.height)}},onLockedViewMouseWheel:function(a){var b=this,c=-b.scrollDelta,d=c*a.getWheelDeltas().y,e=b.lockedGrid.getView().el.dom,f,g;if(!b.ignoreMousewheel){if(e){f=e.scrollTop!==e.scrollHeight-e.clientHeight;g=e.scrollTop!==0}if(d<0&&g||d>0&&f){a.stopEvent();e.scrollTop+=d;b.normalGrid.getView().el.dom.scrollTop=e.scrollTop;b.onNormalViewScroll()}}},onLockedViewScroll:function(){var a=this,b=a.lockedGrid.getView(),c=a.normalGrid.getView(),d=c.el.dom,e=b.el.dom,f,g;if(d.scrollTop!==e.scrollTop){d.scrollTop=e.scrollTop;if(a.store.buffered){g=b.el.child("table",true);f=c.el.child("table",true);f.style.position="absolute";f.style.top=g.style.top}}},onNormalViewScroll:function(){var a=this,b=a.lockedGrid.getView(),c=a.normalGrid.getView(),d=c.el.dom,e=b.el.dom,f,g;if(d.scrollTop!==e.scrollTop){e.scrollTop=d.scrollTop;if(a.store.buffered){g=b.el.child("table",true);f=c.el.child("table",true);g.style.position="absolute";g.style.top=f.style.top}}},syncRowHeights:function(){var a=this,b,c=a.lockedGrid.getView(),d=a.normalGrid.getView(),e=c.all.slice(),f=d.all.slice(),g=e.length,h;if(f.length===g){for(b=0;b<g;b++){d.syncRowHeights(e[b],f[b])}h=d.el.dom.scrollTop;d.el.dom.scrollTop=h;c.el.dom.scrollTop=h}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,true);a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,false);a.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.lockedGrid.headerCt.showMenuBy,a.showMenuBy);a.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.normalGrid.headerCt.showMenuBy,a.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#unlockItem"),e=c.down("#lockItem"),f=d.prev();if(b.lockable===false){f.hide();d.hide();e.hide()}else{f.show();d.show();e.show();if(!d.initialConfig.disabled){d.setDisabled(b.lockable===false)}if(!e.initialConfig.disabled){e.setDisabled(!b.isLockable())}}},getMenuItems:function(a,b){var c=this,d=c.unlockText,e=c.lockText,f=Ext.baseCSSPrefix+"hmenu-unlock",g=Ext.baseCSSPrefix+"hmenu-lock",h=Ext.Function.bind(c.onUnlockMenuClick,c),i=Ext.Function.bind(c.onLockMenuClick,c);return function(){var c=a.call(this);c.push("-",{itemId:"unlockItem",cls:f,text:d,handler:h,disabled:!b});c.push({itemId:"lockItem",cls:g,text:e,handler:i,disabled:b});return c}},syncLockedWidth:function(){var a=this,b=a.lockedGrid,c=b.view,d=c.el.dom,e=a.normalGrid,f=b.headerCt.getVisibleGridColumns().length,g=e.headerCt.getVisibleGridColumns().length;Ext.suspendLayouts();if(g){e.show();if(f){if(!b.headerCt.forceFit){delete b.flex;b.setWidth(b.headerCt.getFullWidth())}b.addCls(a.lockedGridCls);b.show()}else{b.getView().refresh();b.hide()}c.el.setStyle(c.getOverflowStyle());a.ignoreMousewheel=c.scrollFlags.y}else{e.hide();d.style.borderBottomWidth="0";b.flex=1;delete b.width;b.removeCls(a.lockedGridCls);b.show();c.el.setStyle(e.view.getOverflowStyle());a.ignoreMousewheel=true}Ext.resumeLayouts(true);return[f,g]},onLockedHeaderAdd:function(){if(!this.ignoreAddLockedColumn){this.syncLockedWidth()}},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(a,b,c){if(c){this.normalGrid.headerCt.clearOtherSortStates(null,true)}},onNormalHeaderSortChange:function(a,b,c){if(c){this.lockedGrid.headerCt.clearOtherSortStates(null,true)}},lock:function(a,b){var c=this,d=c.normalGrid,e=c.lockedGrid,f=d.headerCt,g=e.headerCt,h,i;a=a||f.getMenu().activeHeader;i=a.ownerCt;if(!a.isLockable()){return}if(a.flex){a.width=a.getWidth();a.flex=null}Ext.suspendLayouts();i.remove(a,false);a.locked=true;c.ignoreAddLockedColumn=true;if(Ext.isDefined(b)){g.insert(b,a)}else{g.add(a)}c.ignoreAddLockedColumn=false;h=c.syncLockedWidth();if(h[0]){e.getView().refresh()}if(h[1]){d.getView().refresh()}Ext.resumeLayouts(true);c.fireEvent("lockcolumn",c,a)},unlock:function(a,b){var c=this,d=c.normalGrid,e=c.lockedGrid,f=d.headerCt,g=e.headerCt,h;if(!Ext.isDefined(b)){b=0}a=a||g.getMenu().activeHeader;Ext.suspendLayouts();a.ownerCt.remove(a,false);a.locked=false;f.insert(b,a);h=c.syncLockedWidth();if(h[0]){e.getView().refresh()}if(h[1]){d.getView().refresh()}Ext.resumeLayouts(true);c.fireEvent("unlockcolumn",c,a)},reconfigureLockable:function(a,b){var c=this,d=c.store,e=c.lockedGrid,f=c.normalGrid;Ext.suspendLayouts();if(b){e.headerCt.removeAll();f.headerCt.removeAll();b=c.processColumns(b);c.ignoreAddLockedColumn=true;e.headerCt.add(b.locked.items);c.ignoreAddLockedColumn=false;f.headerCt.add(b.normal.items);c.syncLockedWidth()}if(a&&a!==d){a=Ext.data.StoreManager.lookup(a);c.store=a;e.bindStore(a);f.bindStore(a)}else{e.getView().refresh();f.getView().refresh()}Ext.resumeLayouts(true)},constructLockableFeatures:function(){var a=this.features,b,c,d,e,f=0,g;if(a){d=[];e=[];g=a.length;for(;f<g;f++){b=a[f];if(!b.isFeature){b=Ext.create("feature."+b.ftype,b)}switch(b.lockableScope){case"locked":d.push(b);break;case"normal":e.push(b);break;default:b.lockableScope="both";d.push(b);e.push(c=b.clone());c.lockingPartner=b;b.lockingPartner=c}}}return{normalFeatures:e,lockedFeatures:d}},constructLockablePlugins:function(){var a=this.plugins,b,c,d,e,f,g,h=0,i;if(a){e=[];f=[];g=[];i=a.length;for(;h<i;h++){b=a[h];switch(b.lockableScope){case"both":f.push(d=b.clonePlugin());g.push(c=b.clonePlugin());d.lockingPartner=c;c.lockingPartner=d;Ext.destroy(b);break;case"locked":f.push(b);break;case"normal":g.push(b);break;default:e.push(b)}}}return{topPlugins:e,normalPlugins:g,lockedPlugins:f}},destroyLockable:function(){Ext.destroy(this.view)}},function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])});Ext.define("Ext.tree.View",{extend:Ext.view.Table,alias:"widget.treeview",isTreeView:true,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:true,loadMask:false,rootVisible:true,deferInitialRefresh:false,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,stripeRows:false,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);",'delete values.rowAttr["data-qtip"];','delete values.rowAttr["data-qtitle"];',"%}",{priority:10,processRowValues:function(a){var b=a.record,c=a.view,d=b.get("qtip"),e=b.get("qttle");a.rowAttr={};if(d){a.rowAttr["data-qtip"]=d}if(e){a.rowAttr["data-qtitle"]=e}if(b.isExpanded()){a.rowClasses.push(c.expandedCls)}if(b.isLeaf()){a.rowClasses.push(c.leafCls)}if(b.isLoading()){a.rowClasses.push(c.loadingCls)}}}],initComponent:function(){var a=this,b=a.panel.getStore(),c=a.store;if(a.initialConfig.animate===undefined){a.animate=Ext.enableFx}if(!c||c===b){a.store=c=new Ext.data.NodeStore({treeStore:b,recursive:true,rootVisible:a.rootVisible})}if(a.node){a.setRootNode(a.node)}a.animQueue={};a.animWraps={};a.addEvents("afteritemexpand","afteritemcollapse","nodedragover");a.callParent(arguments);a.addRowTpl(Ext.XTemplate.getTpl(a,"treeRowTpl"))},onBeforeFill:function(a,b){this.store.suspendEvents()},onFillComplete:function(a,b,c){var d=this,e=d.store,f=e.indexOf(c[0]);e.resumeEvents();b.triggerUIUpdate();if(!c.length||f===-1){return}d.onAdd(d.store,c,f);d.refreshPartner()},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(a){if(a.isStore){this.store.resumeEvents();this.refresh();this.refreshPartner()}},refreshPartner:function(){var a=this.lockingPartner;if(a){a.refresh()}},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var a=this;a.callParent(arguments);a.el.on({scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut,click:{delegate:a.checkboxSelector,fn:a.onCheckboxChange,scope:a}})},afterComponentLayout:function(){this.callParent(arguments);var a=this.stretcher;if(a){a.setWidth(this.getWidth()-Ext.getScrollbarSize().width)}},processUIEvent:function(a){if(a.getTarget("."+this.nodeAnimWrapCls,this.el)){return false}return this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(a){var b=this;b.store.setNode(a);b.node=a},onCheckboxChange:function(a,b){var c=this,d=a.getTarget(c.getItemSelector(),c.getTargetEl());if(d){c.onCheckChange(c.getRecord(d))}},onCheckChange:function(a){var b=a.get("checked");if(Ext.isBoolean(b)){b=!b;a.set("checked",b);this.fireEvent("checkchange",a,b)}},getChecked:function(){var a=[];this.node.cascadeBy(function(b){if(b.get("checked")){a.push(b)}});return a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(a,b){var c=this,d=c.getNode(a),e,f,g=[];c.renderColumnSizer(g);f=Ext.get(d);e=f.insertSibling({tag:"tr",html:['<td colspan="'+c.panel.headerCt.getColumnCount()+'">','<div class="'+c.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+c.id+"-table "+Ext.baseCSSPrefix+'grid-table" style="border:0" cellspacing="0" cellpadding="0">',g.join(""),"<tbody></tbody></table>","</div>","</td>"].join("")},"after");return{record:a,node:d,el:e,expanding:false,collapsing:false,animating:false,animateEl:e.down("div"),targetEl:e.down("tbody")}},getAnimWrap:function(a,b){if(!this.animate){return null}var c=this.animWraps,d=c[a.internalId];if(b!==false){while(!d&&a){a=a.parentNode;if(a){d=c[a.internalId]}}}return d},doAdd:function(a,b){var c=this,d=c.bufferRender(a,b,true),e=a[0],f=e.parentNode,g=c.all,h,i=c.getAnimWrap(f),j,k,l;if(!i||!i.expanding){return c.callParent(arguments)}f=i.record;j=i.targetEl;k=j.dom.childNodes;l=k.length;h=b-c.indexInStore(f)-1;if(!l||h>=l){j.appendChild(d)}else{Ext.fly(k[h]).insertSibling(d,"before",true)}g.insert(b,d);if(i.isAnimating){c.onExpand(f)}},onRemove:function(a,b,c){var d=this,e,f;if(d.viewReady){e=d.store.getCount()===0;if(e){d.refresh()}else{for(f=c.length-1;f>=0;--f){d.doRemove(b[f],c[f])}}if(d.hasListeners.itemremove){for(f=c.length-1;f>=0;--f){d.fireEvent("itemremove",b[f],c[f])}}}},doRemove:function(a,b){var c=this,d=c.all,e=c.getAnimWrap(a),f=d.item(b),g=f?f.dom:null;if(!g||!e||!e.collapsing){return c.callParent(arguments)}e.targetEl.dom.insertBefore(g,e.targetEl.dom.firstChild);d.removeElement(b)},onBeforeExpand:function(a,b,c){var d=this,e;if(d.rendered&&d.all.getCount()&&d.animate){if(d.getNode(a)){e=d.getAnimWrap(a,false);if(!e){e=d.animWraps[a.internalId]=d.createAnimWrap(a);e.animateEl.setHeight(0)}else if(e.collapsing){e.targetEl.select(d.itemSelector).remove()}e.expanding=true;e.collapsing=false}}},onExpand:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),f=e?b.indexOf(e):-1,g,h,i,j=Ext.isIEQuirks?1:0;if(b.singleExpand){b.ensureSingleExpand(a)}if(f===-1){return}g=b.getAnimWrap(a,false);if(!g){a.isExpandingOrCollapsing=false;b.fireEvent("afteritemexpand",a,f,e);b.refreshSize();return}h=g.animateEl;i=g.targetEl;h.stopAnimation();c[d]=true;h.dom.style.height=j+"px";h.animate({from:{height:j},to:{height:i.getHeight()},duration:b.expandDuration,listeners:{afteranimate:function(){var a=i.query(b.itemSelector);if(a.length){g.el.insertSibling(a,"before",true)}g.el.remove();b.refreshSize();delete b.animWraps[g.record.internalId];delete c[d]}},callback:function(){a.isExpandingOrCollapsing=false;b.fireEvent("afteritemexpand",a,f,e)}});g.isAnimating=true},onBeforeCollapse:function(a,b,c,d,e){var f=this,g;if(f.rendered&&f.all.getCount()){if(f.animate){if(Ext.Array.contains(a.stores,f.store)){g=f.getAnimWrap(a);if(!g){g=f.animWraps[a.internalId]=f.createAnimWrap(a,c)}else if(g.expanding){g.targetEl.select(this.itemSelector).remove()}g.expanding=false;g.collapsing=true;g.callback=d;g.scope=e}}else{f.onCollapseCallback=d;f.onCollapseScope=e}}},onCollapse:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),f=e?b.indexOf(e):-1,g=b.getAnimWrap(a),h;if(!b.all.getCount()||!Ext.Array.contains(a.stores,b.store)){return}if(!g){a.isExpandingOrCollapsing=false;b.fireEvent("afteritemcollapse",a,f,e);b.refreshSize();Ext.callback(b.onCollapseCallback,b.onCollapseScope);b.onCollapseCallback=b.onCollapseScope=null;return}h=g.animateEl;c[d]=true;h.stopAnimation();h.animate({to:{height:Ext.isIEQuirks?1:0},duration:b.collapseDuration,listeners:{afteranimate:function(){g.el.remove();b.refreshSize();delete b.animWraps[g.record.internalId];delete c[d]}},callback:function(){a.isExpandingOrCollapsing=false;b.fireEvent("afteritemcollapse",a,f,e);Ext.callback(g.callback,g.scope);g.callback=g.scope=null}});g.isAnimating=true},isAnimating:function(a){return!!this.animQueue[a.getId()]},expand:function(a,b,c,d){var e=this,f=!!e.animate,g;if(!f||!a.isExpandingOrCollapsing){if(!a.isLeaf()){a.isExpandingOrCollapsing=f}Ext.suspendLayouts();g=a.expand(b,c,d);Ext.resumeLayouts(true);return g}},collapse:function(a,b,c,d){var e=this,f=!!e.animate;if(!f||!a.isExpandingOrCollapsing){if(!a.isLeaf()){a.isExpandingOrCollapsing=f}return a.collapse(b,c,d)}},toggle:function(a,b,c,d){if(a.isExpanded()){this.collapse(a,b,c,d)}else{this.expand(a,b,c,d)}},onItemDblClick:function(a,b,c){var d=this,e=d.editingPlugin;d.callParent(arguments);if(d.toggleOnDblClick&&a.isExpandable()&&!(e&&e.clicksToEdit===2)){d.toggle(a)}},onBeforeItemMouseDown:function(a,b,c,d){if(d.getTarget(this.expanderSelector,b)){return false}return this.callParent(arguments)},onItemClick:function(a,b,c,d){if(d.getTarget(this.expanderSelector,b)&&a.isExpandable()){this.toggle(a,d.ctrlKey);return false}return this.callParent(arguments)},onExpanderMouseOver:function(a,b){a.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a,b){a.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var a=this,b=a.callParent(arguments);return Ext.apply(b,{beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged})},onBindStore:function(){var a=this,b=a.getTreeStore();a.callParent(arguments);a.mon(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete});if(!b.remoteSort){a.mon(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})}},onUnbindStore:function(){var a=this,b=a.getTreeStore();a.callParent(arguments);a.mun(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete});if(!b.remoteSort){a.mun(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})}},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(a){var b=a.parentNode;if(b){b.eachChild(function(b){if(b!==a&&b.isExpanded()){b.collapse()}})}},shouldUpdateCell:function(a,b,c){if(c){var d=0,e=c.length;for(;d<e;++d){if(Ext.Array.contains(this.uiFields,c[d])){return true}}}return this.callParent(arguments)},onStoreWrite:function(a,b){var c=this.panel.store;c.fireEvent("write",c,b)},onStoreDataChanged:function(a,b){var c=this.panel.store;c.fireEvent("datachanged",c)}});Ext.define("Ext.grid.plugin.BufferedRendererTreeView",{override:"Ext.tree.View",onRemove:function(a,b,c){var d=this;if(d.rendered&&d.bufferedRenderer){d.refreshView()}else{d.callParent([a,b,c])}}});Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:Ext.AbstractPlugin,alias:"plugin.bufferedrenderer",lockableScope:"both",percentageFromEdge:.35,variableRowHeight:false,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:true,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(a){var b=this,c=a.view,d={scroll:{fn:b.onViewScroll,element:"el",scope:b},boxready:b.onViewResize,resize:b.onViewResize,refresh:b.onViewRefresh,scope:b,destroyable:true};if(!b.variableRowHeight&&a.ownerLockable){a.ownerLockable.syncRowHeight=false}if(a.isTree||a.ownerLockable&&a.ownerLockable.isTree){c.blockRefresh=false;c.loadMask=true}if(c.positionBody){d.refresh=b.onViewRefresh}b.grid=a;b.view=c;c.bufferedRenderer=b;c.preserveScrollOnRefresh=true;b.bindStore(c.dataSource);c.getViewRange=function(){return b.getViewRange()};b.position=0;b.gridListeners=a.on("reconfigure",b.onReconfigure,b);b.viewListeners=c.on(d)},bindStore:function(a){var b=this;if(b.store){b.unbindStore()}b.storeListeners=a.on({scope:b,clear:b.onStoreClear,destroyable:true});b.store=a;if(b.view.componentLayout.layoutCount){b.onViewResize(b.view,0,b.view.getHeight())}},onReconfigure:function(a,b){if(b&&b!==this.store){this.bindStore(b)}},unbindStore:function(){this.storeListeners.destroy();this.store=null},onStoreClear:function(){var a=this;if(a.view.rendered&&!a.store.isDestroyed){if(a.scrollTop!==0){a.ignoreNextScrollEvent=true;a.view.el.dom.scrollTop=a.bodyTop=a.scrollTop=0}a.position=a.scrollHeight=0;a.lastScrollDirection=a.scrollOffset=null;delete a.rowHeight}},onViewRefresh:function(){var a=this,b=a.view,c=a.scrollHeight,d;if(b.all.getCount()){delete a.rowHeight}d=a.getScrollHeight();if(!c||d!=c){a.stretchView(b,d)}if(a.scrollTop!==b.el.dom.scrollTop){a.onViewScroll()}else{a.setBodyTop(a.bodyTop);if(b.all.getCount()){a.viewSize=0;a.onViewResize(b,null,b.getHeight())}}},onViewResize:function(a,b,c,d,e){if(!e||c!==e){var f=this,g;g=Math.ceil(c/f.rowHeight)+f.trailingBufferZone+f.leadingBufferZone;f.viewSize=f.setViewSize(g)}},stretchView:function(a,b){var c=this,d=c.store.buffered?c.store.getTotalCount():c.store.getCount();if(c.stretcher){c.stretcher.dom.style.marginTop=b-1+"px"}else{var e=a.el;if(a.refreshCounter){a.fixedNodes++}if(d&&c.view.all.endIndex===d-1){b=c.bodyTop+a.body.dom.offsetHeight}this.stretcher=e.createChild({style:{width:"1px",height:"1px",marginTop:b-1+"px",left:0,position:"absolute"}},e.dom.firstChild)}},setViewSize:function(a){if(a!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var b=this,c=b.store,d=b.view.all.getCount(),e,f,g=b.lockingPartner;b.viewSize=c.viewSize=a;if(d){e=b.view.all.startIndex;f=Math.min(e+a-1,(c.buffered?c.getTotalCount():c.getCount())-1);if(g){g.disable()}b.renderRange(e,f);if(g){g.enable()}}}return a},getViewRange:function(){var a=this,b=a.view.all,c=a.store;if(c.data.getCount()){return c.getRange(b.startIndex,b.startIndex+(a.viewSize||a.store.defaultViewSize)-1)}else{return[]}},scrollTo:function(a,b,c,d){var e=this,f=e.view,g=f.el.dom,h=e.store,i=h.buffered?h.getTotalCount():h.getCount(),j,k,l,m,n;a=Math.min(Math.max(a,0),i-1);j=Math.max(Math.min(a-(e.leadingBufferZone+e.trailingBufferZone)/2,i-e.viewSize+1),0);n=j*e.rowHeight;k=Math.min(j+e.viewSize-1,i-1);h.getRange(j,k,{callback:function(i,j,k){e.renderRange(j,k,true);l=h.data.getRange(a,a)[0];m=f.getNode(l,false);f.body.dom.style.top=n+"px";e.position=e.scrollTop=g.scrollTop=n=Math.min(Math.max(0,n-f.body.getOffsetsTo(m)[1]),g.scrollHeight-g.clientHeight);if(Ext.isIE){g.scrollTop=n}if(b){f.selModel.select(l)}if(c){c.call(d||e,a,l)}}})},onViewScroll:function(a,b){var c=this,d=c.store,e=d.buffered?d.getTotalCount():d.getCount(),f,g,h=c.scrollTop=c.view.el.dom.scrollTop,i=false;if(c.ignoreNextScrollEvent){c.ignoreNextScrollEvent=false;return}if(!(c.disabled||e<c.viewSize)){f=h-c.position;g=f>0?1:-1;if(Math.abs(f)>=20||g!==c.lastScrollDirection){c.lastScrollDirection=g;c.handleViewScroll(c.lastScrollDirection);i=true}}if(!i){if(c.lockingPartner&&c.lockingPartner.scrollTop!==h){c.lockingPartner.view.el.dom.scrollTop=h}}},handleViewScroll:function(a){var b=this,c=b.view.all,d=b.store,e=b.viewSize,f=d.buffered?d.getTotalCount():d.getCount(),g,h;if(a==-1){if(c.startIndex){if(b.getFirstVisibleRowIndex()-c.startIndex<b.numFromEdge){g=Math.max(0,b.getLastVisibleRowIndex()+b.trailingBufferZone-e)}}}else{if(c.endIndex<f-1){if(c.endIndex-b.getLastVisibleRowIndex()<b.numFromEdge){g=Math.max(0,b.getFirstVisibleRowIndex()-b.trailingBufferZone)}}}if(g!=null){h=Math.min(g+e-1,f-1);if(g!==c.startIndex||h!==c.endIndex){b.renderRange(g,h);return}}if(b.lockingPartner&&b.lockingPartner.view.el&&b.lockingPartner.scrollTop!==b.scrollTop){b.lockingPartner.view.el.dom.scrollTop=b.scrollTop}},renderRange:function(a,b,c){var d=this,e=d.store;if(e.rangeCached(a,b)){d.cancelLoad();if(d.synchronousRender||c){d.onRangeFetched(null,a,b)}else{if(!d.renderTask){d.renderTask=new Ext.util.DelayedTask(d.onRangeFetched,d,null,false)}d.renderTask.delay(1,null,null,[null,a,b])}}else{d.attemptLoad(a,b)}},onRangeFetched:function(a,b,c,d){var e=this,f=e.view,g,h=f.all,i,j=0,k=b*e.rowHeight,l,m=e.lockingPartner;if(f.isDestroyed){return}if(!a){a=e.store.getRange(b,c);if(!a){return}}if(b>h.endIndex||c<h.startIndex){h.clear(true);l=k}if(!h.getCount()){f.doAdd(a,b)}else if(c>h.endIndex){i=Math.max(b-h.startIndex,0);if(e.variableRowHeight){j=h.item(h.startIndex+i,true).offsetTop}h.scroll(Ext.Array.slice(a,h.endIndex+1-b),1,i,b,c);if(e.variableRowHeight){l=e.bodyTop+j}else{l=k}}else{i=Math.max(h.endIndex-c,0);g=h.startIndex;h.scroll(Ext.Array.slice(a,0,h.startIndex-b),-1,i,b,c);if(e.variableRowHeight){l=e.bodyTop-h.item(g,true).offsetTop}else{l=k}}e.position=e.scrollTop;if(f.positionBody){e.setBodyTop(l,k)}if(m&&!m.disabled&&!d){m.onRangeFetched(a,b,c,true);if(m.scrollTop!==e.scrollTop){m.view.el.dom.scrollTop=e.scrollTop}}},setBodyTop:function(a,b){var c=this,d=c.view,e=c.store,f=d.body.dom,g;a=Math.floor(a);if(b!==undefined){g=a-b;a=b}f.style.position="absolute";f.style.top=(c.bodyTop=a)+"px";if(g){c.scrollTop=c.position=d.el.dom.scrollTop-=g}if(d.all.endIndex===(e.buffered?e.getTotalCount():e.getCount())-1){c.stretchView(d,c.bodyTop+f.offsetHeight)}},getFirstVisibleRowIndex:function(a,b,c,d){var e=this,f=e.view,g=f.all,h=g.elements,i=f.el.dom.clientHeight,j,k;if(g.getCount()&&e.variableRowHeight){if(!arguments.length){a=g.startIndex;b=g.endIndex;c=e.scrollTop;d=c+i;if(e.bodyTop>d||e.bodyTop+f.body.getHeight()<c){return Math.floor(e.scrollTop/e.rowHeight)}j=a+Math.min(e.numFromEdge+(e.lastScrollDirection==-1?e.leadingBufferZone:e.trailingBufferZone),Math.floor((b-a)/2))}else{j=a+Math.floor((b-a)/2)}k=e.bodyTop+h[j].offsetTop;if(k+h[j].offsetHeight<c){return e.getFirstVisibleRowIndex(j+1,b,c,d)}if(k<=c){return j}else if(j!==a){return e.getFirstVisibleRowIndex(a,j-1,c,d)}}return Math.floor(e.scrollTop/e.rowHeight)},getLastVisibleRowIndex:function(a,b,c,d){var e=this,f=e.view,g=f.all,h=g.elements,i=f.el.dom.clientHeight,j,k,l;if(g.getCount()&&e.variableRowHeight){if(!arguments.length){a=g.startIndex;b=g.endIndex;c=e.scrollTop;d=c+i;if(e.bodyTop>d||e.bodyTop+f.body.getHeight()<c){return Math.floor(e.scrollTop/e.rowHeight)+Math.ceil(i/e.rowHeight)}j=b-Math.min(e.numFromEdge+(e.lastScrollDirection==1?e.leadingBufferZone:e.trailingBufferZone),Math.floor((b-a)/2))}else{j=a+Math.floor((b-a)/2)}k=e.bodyTop+h[j].offsetTop;if(k>d){return e.getLastVisibleRowIndex(a,j-1,c,d)}l=k+h[j].offsetHeight;if(l>=d){return j}else if(j!==b){return e.getLastVisibleRowIndex(j+1,b,c,d)}}return e.getFirstVisibleRowIndex()+Math.ceil(i/e.rowHeight)},getScrollHeight:function(){var a=this,b=a.view,c=a.store,d=!a.hasOwnProperty("rowHeight"),e=a.store.getCount();if(!e){return 0}if(d){if(b.all.getCount()){a.rowHeight=Math.floor(b.body.getHeight()/b.all.getCount())}}return this.scrollHeight=Math.floor((c.buffered?c.getTotalCount():c.getCount())*a.rowHeight)},attemptLoad:function(a,b){var c=this;if(c.scrollToLoadBuffer){if(!c.loadTask){c.loadTask=new Ext.util.DelayedTask(c.doAttemptLoad,c,[])}c.loadTask.delay(c.scrollToLoadBuffer,c.doAttemptLoad,c,[a,b])}else{c.store.getRange(a,b,{callback:c.onRangeFetched,scope:c,fireEvent:false})}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(a,b){this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:false})},destroy:function(){var a=this,b=a.view;if(b&&b.el){b.el.un("scroll",a.onViewScroll,a)}Ext.destroy(a.viewListeners,a.storeListeners,a.gridListeners)}});Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",extend:Ext.AbstractPlugin,mixins:{observable:Ext.util.Observable},clicksToEdit:2,triggerEvent:undefined,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(a){var b=this;b.addEvents("beforeedit","edit","validateedit","canceledit");b.callParent(arguments);b.mixins.observable.constructor.call(b);b.on("edit",function(a,c){b.fireEvent("afteredit",a,c)})},init:function(a){var b=this;b.grid=a;b.view=a.view;b.initEvents();b.mon(a,{reconfigure:b.onReconfigure,scope:b,beforerender:{fn:b.onReconfigure,single:true,scope:b}});a.relayEvents(b,b.relayedEvents);if(b.grid.ownerLockable){b.grid.ownerLockable.relayEvents(b,b.relayedEvents)}a.isEditable=true;a.editingPlugin=a.view.editingPlugin=b},onReconfigure:function(){var a=this.grid;a=a.ownerLockable?a.ownerLockable:a;this.initFieldAccessors(a.getView().getGridColumns())},destroy:function(){var a=this,b=a.grid;Ext.destroy(a.keyNav);a.clearListeners();if(b){a.removeFieldAccessors(b.columnManager.getColumns());b.editingPlugin=b.view.editingPlugin=a.grid=a.view=a.editor=a.keyNav=null}},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(a){if(a.isGroupHeader){a=a.getGridColumns()}else if(!Ext.isArray(a)){a=[a]}var b=this,c,d=a.length,e;for(c=0;c<d;c++){e=a[c];if(!e.getEditor){e.getEditor=function(a,c){return b.getColumnField(this,c)}}if(!e.hasEditor){e.hasEditor=function(){return b.hasColumnField(this)}}if(!e.setEditor){e.setEditor=function(a){b.setColumnField(this,a)}}}},removeFieldAccessors:function(a){if(a.isGroupHeader){a=a.getGridColumns()}else if(!Ext.isArray(a)){a=[a]}var b,c=a.length,d;for(b=0;b<c;b++){d=a[b];d.getEditor=d.hasEditor=d.setEditor=null}},getColumnField:function(a,b){var c=a.field;if(!(c&&c.isFormField)){c=a.field=this.createColumnField(a,b)}return c},hasColumnField:function(a){return!!a.field},setColumnField:function(a,b){a.field=b;a.field=this.createColumnField(a)},createColumnField:function(a,b){var c=a.field;if(!c&&a.editor){c=a.editor;a.editor=null}if(!c&&b){c=b}if(c){if(c.isFormField){c.column=a}else{if(Ext.isString(c)){c={name:a.dataIndex,xtype:c,column:a}}else{c=Ext.apply({name:a.dataIndex,column:a},c)}c=Ext.ComponentManager.create(c,this.defaultFieldXType)}a.field=c}return c},initEvents:function(){var a=this;a.initEditTriggers();a.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var a=this,b=a.view;if(a.triggerEvent=="cellfocus"){a.mon(b,"cellfocus",a.onCellFocus,a)}else if(a.triggerEvent=="rowfocus"){a.mon(b,"rowfocus",a.onRowFocus,a)}else{if(b.getSelectionModel().isCellModel){b.onCellFocus=Ext.Function.bind(a.beforeViewCellFocus,a)}a.mon(b,a.triggerEvent||"cell"+(a.clicksToEdit===1?"click":"dblclick"),a.onCellClick,a)}a.initAddRemoveHeaderEvents();b.on("render",a.initKeyNavHeaderEvents,a,{single:true})},beforeViewCellFocus:function(a){if(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(a.row,a.columnHeader)){this.view.focusCell.apply(this.view,arguments)}},onRowFocus:function(a,b,c){this.startEdit(b,0)},onCellFocus:function(a,b,c){this.startEdit(c.row,c.column)
},onCellClick:function(a,b,c,d,e,f,g){if(!a.expanderSelector||!g.getTarget(a.expanderSelector)){this.startEdit(d,a.ownerCt.columnManager.getHeaderAtIndex(c))}},initAddRemoveHeaderEvents:function(){var a=this;a.mon(a.grid.headerCt,{scope:a,add:a.onColumnAdd,remove:a.onColumnRemove,columnmove:a.onColumnMove})},initKeyNavHeaderEvents:function(){var a=this;a.keyNav=Ext.create("Ext.util.KeyNav",a.view.el,{enter:a.onEnterKey,esc:a.onEscKey,scope:a})},onColumnAdd:function(a,b){this.initFieldAccessors(b)},onColumnRemove:function(a,b){this.removeFieldAccessors(b)},onColumnMove:function(a,b,c,d){this.initFieldAccessors(b)},onEnterKey:function(a){var b=this,c=b.grid,d=c.getSelectionModel(),e,f,g;if(d.getCurrentPosition&&(f=d.getCurrentPosition())){e=f.record;g=f.columnHeader}else{e=d.getLastSelected();g=c.columnManager.getHeaderAtIndex(0)}if(e&&g){b.startEdit(e,g)}},onEscKey:function(a){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(a,b){var c=this,d,e=c.grid.lockable?c.grid:c.view;if(!e.componentLayoutCounter){e.on({boxready:Ext.Function.bind(c.startEdit,c,[a,b]),single:true});return false}if(c.grid.collapsed||!c.grid.view.isVisible(true)){return false}d=c.getEditingContext(a,b);if(d==null){return false}if(!c.preventBeforeCheck){if(c.beforeEdit(d)===false||c.fireEvent("beforeedit",c,d)===false||d.cancel){return false}}c.editing=true;return d},getEditingContext:function(a,b){var c=this,d=c.grid,e=c.view,f=e.getNode(a,true),g,h;if(!f){return}b=d.columnManager.getVisibleHeaderClosestToIndex(Ext.isNumber(b)?b:b.getVisibleIndex());if(!b){return}h=b.getVisibleIndex();if(Ext.isNumber(a)){g=a;a=e.getRecord(f)}else{g=e.indexOf(f)}if(!a){return}return{grid:d,view:e,store:e.dataSource,record:a,field:b.dataIndex,value:a.get(b.dataIndex),row:f,column:b,rowIdx:g,colIdx:h}},cancelEdit:function(){var a=this;a.editing=false;a.fireEvent("canceledit",a,a.context)},completeEdit:function(){var a=this;if(a.editing&&a.validateEdit()){a.fireEvent("edit",a,a.context)}a.context=null;a.editing=false},validateEdit:function(){var a=this,b=a.context;return a.fireEvent("validateedit",a,b)!==false&&!b.cancel}});Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:Ext.grid.plugin.Editing,lockableScope:"both",init:function(a){var b=this,c=b.lockingPartner;b.callParent(arguments);if(c){if(c.editors){b.editors=c.editors}else{b.editors=c.editors=new Ext.util.MixedCollection(false,function(a){return a.editorId})}}else{b.editors=new Ext.util.MixedCollection(false,function(a){return a.editorId})}},onReconfigure:function(a,b,c){if(c){this.editors.clear()}this.callParent()},destroy:function(){var a=this;if(a.editors){a.editors.each(Ext.destroy,Ext);a.editors.clear()}a.callParent(arguments)},onBodyScroll:function(){var a=this,b=a.getActiveEditor(),c=a.view.el.getScroll();if(b&&b.editing&&b.editingPlugin===a){if(c.top!==a.scroll.top){if(b.field){if(b.field.triggerBlur){b.field.triggerBlur()}else{b.field.blur()}}}else{b.realign()}}a.scroll=c},initCancelTriggers:function(){var a=this,b=a.grid,c=b.view;a.mon(c,"bodyscroll",a.onBodyScroll,a);a.mon(b,{columnresize:a.cancelEdit,columnmove:a.cancelEdit,scope:a})},isCellEditable:function(a,b){var c=this,d=c.getEditingContext(a,b);if(c.grid.view.isVisible(true)&&d){b=d.column;a=d.record;if(b&&c.getEditor(a,b)){return true}}},startEdit:function(a,b,c){var d=this,e;if(!c){d.preventBeforeCheck=true;c=d.callParent(arguments);delete d.preventBeforeCheck;if(c===false){return false}}if(c&&d.grid.view.isVisible(true)){a=c.record;b=c.column;d.completeEdit();if(b&&!b.getEditor(a)){return false}d.context=c;c.originalValue=c.value=a.get(b.dataIndex);if(d.beforeEdit(c)===false||d.fireEvent("beforeedit",d,c)===false||c.cancel){return false}e=d.getEditor(a,b);d.grid.view.cancelFocus();d.view.scrollCellIntoView(d.getCell(a,b));if(e){d.showEditor(e,c,c.value);return true}return false}},showEditor:function(a,b,c){var d=this,e=b.record,f=b.column,g=d.grid.getSelectionModel(),h=g.getCurrentPosition(),i=h&&h.view;if(i&&i!==d.view){return d.lockingPartner.showEditor(a,d.lockingPartner.getEditingContext(h.record,h.columnHeader),c)}d.setEditingContext(b);d.setActiveEditor(a);d.setActiveRecord(e);d.setActiveColumn(f);if(g.selectByPosition&&(!h||h.column!==b.colIdx||h.row!==b.rowIdx)){g.selectByPosition({row:b.rowIdx,column:b.colIdx,view:d.view})}a.startEdit(d.getCell(e,f),c,b);d.editing=true;d.scroll=d.view.el.getScroll()},completeEdit:function(){var a=this.getActiveEditor();if(a){a.completeEdit();this.editing=false}},setEditingContext:function(a){this.context=a;if(this.lockingPartner){this.lockingPartner.context=a}},setActiveEditor:function(a){this.activeEditor=a;if(this.lockingPartner){this.lockingPartner.activeEditor=a}},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a;if(this.lockingPartner){this.lockingPartner.activeColumn=a}},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a;if(this.lockingPartner){this.lockingPartner.activeRecord=a}},getActiveRecord:function(){return this.activeRecord},getEditor:function(a,b){var c=this,d=c.editors,e=b.getItemId(),f=d.getByKey(e),g=c.grid.ownerLockable||c.grid;if(!f){f=b.getEditor(a);if(!f){return false}if(f instanceof Ext.grid.CellEditor){f.floating=true}else{f=new Ext.grid.CellEditor({floating:true,editorId:e,field:f})}g.add(f);f.on({scope:c,specialkey:c.onSpecialKey,complete:c.onEditComplete,canceledit:c.cancelEdit});b.on("removed",c.cancelActiveEdit,c);d.add(f)}if(b.isTreeColumn){f.isForTree=b.isTreeColumn;f.addCls(Ext.baseCSSPrefix+"tree-cell-editor")}f.grid=c.grid;f.editingPlugin=c;return f},cancelActiveEdit:function(a){var b=this.context;if(b&&b.column===a){this.cancelEdit()}},setColumnField:function(a,b){var c=this.editors.getByKey(a.getItemId());Ext.destroy(c,a.field);this.editors.removeAtKey(a.getItemId());this.callParent(arguments)},getCell:function(a,b){return this.grid.getView().getCell(a,b)},onSpecialKey:function(a,b,c){var d;if(c.getKey()===c.TAB){c.stopEvent();if(a){a.onEditorTab(c)}d=a.up("tablepanel").getSelectionModel();if(d.onEditorTab){return d.onEditorTab(a.editingPlugin,c)}}},onEditComplete:function(a,b,c){var d=this,e=d.getActiveColumn(),f=d.context,g;if(e){g=f.record;d.setActiveEditor(null);d.setActiveColumn(null);d.setActiveRecord(null);f.value=b;if(!d.validateEdit()){return}if(!g.isEqual(b,c)){g.set(e.dataIndex,b)}f.view.focus(false,true);d.fireEvent("edit",d,f);d.editing=false}},cancelEdit:function(){var a=this,b=a.getActiveEditor();a.setActiveEditor(null);a.setActiveColumn(null);a.setActiveRecord(null);if(b){b.cancelEdit();a.context.view.focus();a.callParent(arguments);return}return true},startEditByPosition:function(a){if(!a.isCellContext){a=new Ext.grid.CellContext(this.view).setPosition(a)}a.setColumn(this.view.getHeaderCt().getVisibleHeaderClosestToIndex(a.column).getIndex());return this.startEdit(a.record,a.columnHeader)}});Ext.define("Ext.grid.plugin.DivRenderer",{alias:"plugin.divrenderer",extend:Ext.AbstractPlugin,tableTpl:['<div id="{view.id}-table" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<dl {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','style="position:relative" ',"{rowAttr:attributes}>",'<tpl for="columns">'+"{%","parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</dl>",{priority:0}],cellTpl:['<dt class="{tdCls}" {tdAttr} data-cellIndex="{cellIndex}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</dt>",{priority:0}],selectors:{bodySelector:"div",nodeContainerSelector:"div",itemSelector:"dl."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"dl."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"dt."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainerSelector:function(){return this.getBodySelector()},getNodeContainer:function(){return this.el.getById(this.id+"-table",true)}},init:function(a){var b=a.getView();b.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl");b.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");b.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");Ext.apply(b,this.selectors)}});Ext.define("Ext.grid.plugin.DragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.gridviewdragdrop",dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,containerScroll:false,init:function(a){a.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var a=this;if(a.dragZone){a.dragZone.unlock()}if(a.dropZone){a.dropZone.unlock()}a.callParent()},disable:function(){var a=this;if(a.dragZone){a.dragZone.lock()}if(a.dropZone){a.dropZone.lock()}a.callParent()},onViewRender:function(a){var b=this,c;if(b.enableDrag){if(b.containerScroll){c=a.getEl()}b.dragZone=new Ext.view.DragZone({view:a,ddGroup:b.dragGroup||b.ddGroup,dragText:b.dragText,containerScroll:b.containerScroll,scrollEl:c})}if(b.enableDrop){b.dropZone=new Ext.grid.ViewDropZone({view:a,ddGroup:b.dropGroup||b.ddGroup})}}});Ext.define("Ext.grid.plugin.RowEditing",{extend:Ext.grid.plugin.Editing,alias:"plugin.rowediting",lockableScope:"top",editStyle:"row",autoCancel:true,errorSummary:true,constructor:function(){var a=this;a.callParent(arguments);if(!a.clicksToMoveEditor){a.clicksToMoveEditor=a.clicksToEdit}a.autoCancel=!!a.autoCancel},destroy:function(){Ext.destroy(this.editor);this.callParent(arguments)},startEdit:function(a,b){var c=this,d=c.getEditor(),e;if(d.beforeEdit()!==false){e=c.callParent(arguments);if(e){c.context=e;if(c.lockingPartner){c.lockingPartner.cancelEdit()}d.startEdit(e.record,e.column,e);return true}}return false},cancelEdit:function(){var a=this;if(a.editing){a.getEditor().cancelEdit();a.callParent(arguments);return}return true},completeEdit:function(){var a=this;if(a.editing&&a.validateEdit()){a.editing=false;a.fireEvent("edit",a,a.context)}},validateEdit:function(){var a=this,b=a.editor,c=a.context,d=c.record,e={},f={},g=b.query(">[isFormField]"),h,i=g.length,j,k;for(h=0;h<i;h++){k=g[h];j=k.name;e[j]=k.getValue();f[j]=d.get(j)}Ext.apply(c,{newValues:e,originalValues:f});return a.callParent(arguments)&&a.getEditor().completeEdit()},getEditor:function(){var a=this;if(!a.editor){a.editor=a.initEditor()}return a.editor},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var a=this,b=a.grid,c=a.view,d=b.headerCt,e=["saveBtnText","cancelBtnText","errorsText","dirtyText"],f,g=e.length,h={autoCancel:a.autoCancel,errorSummary:a.errorSummary,fields:d.getGridColumns(),hidden:true,view:c,editingPlugin:a},i;for(f=0;f<g;f++){i=e[f];if(Ext.isDefined(a[i])){h[i]=a[i]}}return h},initEditTriggers:function(){var a=this,b=a.view,c=a.clicksToMoveEditor===1?"click":"dblclick";a.callParent(arguments);if(a.clicksToMoveEditor!==a.clicksToEdit){a.mon(b,"cell"+c,a.moveEditorByClick,a)}b.on({render:function(){a.mon(a.grid.headerCt,{scope:a,columnresize:a.onColumnResize,columnhide:a.onColumnHide,columnshow:a.onColumnShow})},single:true})},startEditByClick:function(){var a=this;if(!a.editing||a.clicksToMoveEditor===a.clicksToEdit){a.callParent(arguments)}},moveEditorByClick:function(){var a=this;if(a.editing){a.superclass.onCellClick.apply(a,arguments)}},onColumnAdd:function(a,b){if(b.isHeader){var c=this,d;c.initFieldAccessors(b);d=c.editor;if(d&&d.onColumnAdd){d.onColumnAdd(b)}}},onColumnRemove:function(a,b){if(b.isHeader){var c=this,d=c.getEditor();if(d&&d.onColumnRemove){d.onColumnRemove(a,b)}c.removeFieldAccessors(b)}},onColumnResize:function(a,b,c){if(b.isHeader){var d=this,e=d.getEditor();if(e&&e.onColumnResize){e.onColumnResize(b,c)}}},onColumnHide:function(a,b){var c=this,d=c.getEditor();if(d&&d.onColumnHide){d.onColumnHide(b)}},onColumnShow:function(a,b){var c=this,d=c.getEditor();if(d&&d.onColumnShow){d.onColumnShow(b)}},onColumnMove:function(a,b,c,d){var e=this,f=e.getEditor();e.initFieldAccessors(b);if(f&&f.onColumnMove){f.onColumnMove(b,c,d)}},setColumnField:function(a,b){var c=this,d=c.getEditor();d.removeField(a);c.callParent(arguments);c.getEditor().setField(a)}});Ext.define("Ext.grid.plugin.RowExpander",{extend:Ext.AbstractPlugin,lockableScope:"normal",alias:"plugin.rowexpander",rowBodyTpl:null,expandOnEnter:true,expandOnDblClick:true,selectRowOnExpand:false,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{before:function(a,b){var c=this.rowExpander;if(!c.recordsExpanded[a.record.internalId]){a.itemClasses.push(c.rowCollapsedCls)}},priority:500},setCmp:function(a){var b=this,c,d;b.callParent(arguments);b.recordsExpanded={};b.rowBodyTpl=Ext.XTemplate.getTpl(b,"rowBodyTpl");c=this.rowBodyTpl;d=[{ftype:"rowbody",lockableScope:"normal",recordsExpanded:b.recordsExpanded,rowBodyHiddenCls:b.rowBodyHiddenCls,rowCollapsedCls:b.rowCollapsedCls,setupRowData:b.getRowBodyFeatureData,setup:b.setup,getRowBodyContents:function(a){return c.applyTemplate(a.getData())}},{ftype:"rowwrap",lockableScope:"normal"}];if(a.features){a.features=Ext.Array.push(d,a.features)}else{a.features=d}},init:function(a){var b=this,c=a,d,e;b.callParent(arguments);b.grid=a;d=b.view=a.getView();b.addExpander();b.bindView(d);d.addRowTpl(b.addCollapsedCls).rowExpander=b;if(a.ownerLockable){c=a.ownerLockable;c.syncRowHeight=false;e=c.lockedGrid.getView();b.bindView(e);e.addRowTpl(b.addCollapsedCls).rowExpander=b;c.mon(c,"columnschanged",b.refreshRowHeights,b);c.mon(c.store,"datachanged",b.refreshRowHeights,b)}c.on("beforereconfigure",b.beforeReconfigure,b);if(a.ownerLockable&&!a.rowLines){d.on("rowfocus",b.refreshRowHeights,b)}},beforeReconfigure:function(a,b,c,d,e){var f=this.getHeaderConfig();f.locked=true;c.unshift(f)},addExpander:function(){var a=this,b=a.grid,c=a.getHeaderConfig();if(b.ownerLockable){b=b.ownerLockable.lockedGrid;b.width+=c.width}b.headerCt.insert(0,c)},getRowBodyFeatureData:function(a,b,c){var d=this;d.self.prototype.setupRowData.apply(d,arguments);c.rowBody=d.getRowBodyContents(a);c.rowBodyCls=d.recordsExpanded[a.internalId]?"":d.rowBodyHiddenCls},setup:function(a,b){var c=this;c.self.prototype.setup.apply(c,arguments);if(!c.grid.ownerLockable){b.rowBodyColspan-=1}},bindView:function(a){if(this.expandOnEnter){a.on("itemkeydown",this.onKeyDown,this)}if(this.expandOnDblClick){a.on("itemdblclick",this.onDblClick,this)}},onKeyDown:function(a,b,c,d,e){if(e.getKey()==e.ENTER){var f=a.store,g=a.getSelectionModel().getSelection(),h=g.length,i=0;for(;i<h;i++){d=f.indexOf(g[i]);this.toggleRow(d,g[i])}}},onDblClick:function(a,b,c,d,e){this.toggleRow(d,b)},toggleRow:function(a,b){var c=this,d=c.view,e=d.getNode(a),f=Ext.fly(e,"_rowExpander"),g=f.down(c.rowBodyTrSelector,true),h=f.hasCls(c.rowCollapsedCls),i=h?"removeCls":"addCls",j,k,l;Ext.suspendLayouts();f[i](c.rowCollapsedCls);Ext.fly(g)[i](c.rowBodyHiddenCls);c.recordsExpanded[b.internalId]=h;d.refreshSize();if(c.grid.ownerLockable){j=c.grid.ownerLockable;l=j.getView();d=j.lockedGrid.view;k=f.getHeight();f=Ext.fly(d.getNode(a),"_rowExpander");f.setHeight(k);f[i](c.rowCollapsedCls);d.refreshSize()}else{l=d}l.fireEvent(h?"expandbody":"collapsebody",f.dom,b,g);Ext.resumeLayouts(true)},refreshRowHeights:function(){Ext.globalEvents.on({idle:this.doRefreshRowHeights,scope:this,single:true})},doRefreshRowHeights:function(){var a=this,b=a.recordsExpanded,c,d,e=a.grid.ownerLockable.lockedGrid.view,f=a.grid.ownerLockable.normalGrid.view,g,h,i,j;for(c in b){if(b.hasOwnProperty(c)){d=this.view.store.data.get(c);h=e.getNode(d,false);g=f.getNode(d,false);h.style.height=g.style.height="";i=h.offsetHeight;j=g.offsetHeight;if(j>i){h.style.height=j+"px"}else if(i>j){g.style.height=i+"px"}}}},getHeaderConfig:function(){var a=this;return{width:24,lockable:false,sortable:false,resizable:false,draggable:false,hideable:false,menuDisabled:true,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(b,c){if(!a.grid.ownerLockable){c.tdAttr+=' rowspan="2"'}return'<div class="'+Ext.baseCSSPrefix+'grid-row-expander"></div>'},processEvent:function(b,c,d,e,f,g,h){if(b=="mousedown"&&g.getTarget(".x-grid-row-expander")){a.toggleRow(e,h);return a.selectRowOnExpand}}}}});Ext.define("Ext.grid.property.Grid",{extend:Ext.grid.Panel,alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:true,enableColumnMove:false,columnLines:true,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var a=this;a.source=a.source||{};a.addCls(a.gridCls);a.plugins=a.plugins||[];a.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:a.clicksToEdit,startEdit:function(b,c){return this.self.prototype.startEdit.call(this,b,a.headerCt.child("#"+a.valueField))}}));a.selModel={selType:"cellmodel",onCellSelect:function(a){if(a.column!=1){a.column=1}return this.self.prototype.onCellSelect.call(this,a)}};a.sourceConfig=Ext.apply({},a.sourceConfig);if(!a.store){a.propStore=a.store=new Ext.grid.property.Store(a,a.source)}a.configure(a.sourceConfig);if(a.sortableColumns){a.store.sort("name","ASC")}a.columns=new Ext.grid.property.HeaderContainer(a,a.store);a.addEvents("beforepropertychange","propertychange");a.callParent();a.getView().walkCells=this.walkCells;a.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:true})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:true})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:true})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:false,store:[[true,a.headerCt.trueText],[false,a.headerCt.falseText]]})})};a.store.on("update",a.onUpdate,a)},configure:function(a){var b=this,c=b.store,d=0,e=b.store.getCount(),f=b.nameField,g=b.valueField,h,i,j,k;b.configureLegacy(a);if(b.inferTypes){for(;d<e;++d){j=c.getAt(d);h=j.get(f);if(!b.getConfig(h,"type")){i=j.get(g);if(Ext.isDate(i)){k="date"}else if(Ext.isNumber(i)){k="number"}else if(Ext.isBoolean(i)){k="boolean"}else{k="string"}b.setConfig(h,"type",k)}}}},getConfig:function(a,b,c){var d=this.sourceConfig[a],e;if(d){e=d[b]}return e||c},setConfig:function(a,b,c){var d=this.sourceConfig,e=d[a];if(!e){e=d[a]={__copied:true}}else if(!e.__copied){e=Ext.apply({__copied:true},e);d[a]=e}e[b]=c;return c},configureLegacy:function(a){var b=this,c,d,e;b.copyLegacyObject(a,b.customRenderers,"renderer");b.copyLegacyObject(a,b.customEditors,"editor");b.copyLegacyObject(a,b.propertyNames,"displayName")},copyLegacyObject:function(a,b,c){var d,e;for(d in b){if(b.hasOwnProperty(d)){if(!a[d]){a[d]={}}a[d][c]=b[d]}}},onUpdate:function(a,b,c){var d=this,e,f;if(d.rendered&&c==Ext.data.Model.EDIT){e=b.get(d.valueField);f=b.modified.value;if(d.fireEvent("beforepropertychange",d.source,b.getId(),e,f)!==false){if(d.source){d.source[b.getId()]=e}b.commit();d.fireEvent("propertychange",d.source,b.getId(),e,f)}else{b.reject()}}},walkCells:function(a,b,c,d,e,f){if(b=="left"){b="up"}else if(b=="right"){b="down"}a=Ext.view.Table.prototype.walkCells.call(this,a,b,c,d,e,f);if(a&&!a.column){a.column=1}return a},getCellEditor:function(a,b){var c=this,d=a.get(c.nameField),e=a.get(c.valueField),f=c.getConfig(d,"editor"),g=c.getConfig(d,"type"),h=c.editors;if(f){if(!(f instanceof Ext.grid.CellEditor)){if(!(f instanceof Ext.form.field.Base)){f=Ext.ComponentManager.create(f,"textfield")}f=c.setConfig(d,"editor",new Ext.grid.CellEditor({field:f}))}}else if(g){switch(g){case"date":f=h.date;break;case"number":f=h.number;break;case"boolean":f=c.editors["boolean"];break;default:f=h.string}}else if(Ext.isDate(e)){f=h.date}else if(Ext.isNumber(e)){f=h.number}else if(Ext.isBoolean(e)){f=h["boolean"]}else{f=h.string}f.editorId=d;return f},beforeDestroy:function(){var a=this;a.callParent();a.destroyEditors(a.editors);a.destroyEditors(a.customEditors);delete a.source},destroyEditors:function(a){for(var b in a){if(a.hasOwnProperty(b)){Ext.destroy(a[b])}}},setSource:function(a,b){var c=this;c.source=a;if(b!==undefined){c.sourceConfig=Ext.apply({},b);c.configure(c.sourceConfig)}c.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()},setProperty:function(a,b,c){this.propStore.setValue(a,b,c)},removeProperty:function(a){this.propStore.remove(a)}});Ext.define("Ext.grid.property.HeaderContainer",{extend:Ext.grid.header.Container,alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(a,b){var c=this;c.grid=a;c.store=b;c.callParent([{isRootHeader:true,enableColumnResize:Ext.isDefined(a.enableColumnResize)?a.enableColumnResize:c.enableColumnResize,enableColumnMove:Ext.isDefined(a.enableColumnMove)?a.enableColumnMove:c.enableColumnMove,items:[{header:c.nameText,width:a.nameColumnWidth||c.nameWidth,sortable:a.sortableColumns,dataIndex:a.nameField,renderer:Ext.Function.bind(c.renderProp,c),itemId:a.nameField,menuDisabled:true,tdCls:c.nameColumnCls,innerCls:c.nameColumnInnerCls},{header:c.valueText,renderer:Ext.Function.bind(c.renderCell,c),getEditor:Ext.Function.bind(c.getCellEditor,c),sortable:a.sortableColumns,flex:1,fixed:true,dataIndex:a.valueField,itemId:a.valueField,menuDisabled:true}]}])},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a,b,c){var d=this,e=d.grid,f=e.getConfig(c.get(e.nameField),"renderer"),g=a;if(f){return f.apply(d,arguments)}if(Ext.isDate(a)){g=d.renderDate(a)}else if(Ext.isBoolean(a)){g=d.renderBool(a)}return Ext.util.Format.htmlEncode(g)},renderDate:Ext.util.Format.date,renderBool:function(a){return this[a?"trueText":"falseText"]},getPropertyName:function(a){return this.grid.getConfig(a,"displayName",a)}});Ext.define("Ext.grid.property.Property",{extend:Ext.data.Model,alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"});Ext.define("Ext.grid.property.Store",{extend:Ext.data.Store,alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:false,constructor:function(a,b){var c=this;c.grid=a;c.source=b;c.callParent([{data:b,model:Ext.grid.property.Property,proxy:c.getProxy()}])},getProxy:function(){if(!this.proxy){Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})}return this.proxy},getReader:function(){if(!this.reader){Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(a){return this.readRecords(a)},readRecords:function(a){var b,c,d={records:[],success:true};for(c in a){if(a.hasOwnProperty(c)){b=a[c];if(this.isEditableValue(b)){d.records.push(new Ext.grid.property.Property({name:c,value:b},c))}}}d.total=d.count=d.records.length;return new Ext.data.ResultSet(d)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)||a===null}})}return this.reader},setSource:function(a){var b=this;b.source=a;b.suspendEvents();b.removeAll();b.proxy.data=a;b.load();b.resumeEvents();b.fireEvent("datachanged",b);b.fireEvent("refresh",b)},getProperty:function(a){return Ext.isNumber(a)?this.getAt(a):this.getById(a)},setValue:function(a,b,c){var d=this,e=d.getRec(a);if(e){e.set("value",b);d.source[a]=b}else if(c){d.source[a]=b;e=new Ext.grid.property.Property({name:a,value:b},a);d.add(e)}},remove:function(a){var b=this.getRec(a);if(b){this.callParent([b]);delete this.source[a]}},getRec:function(a){return this.getById(a)},getSource:function(){return this.source}});Ext.define("Ext.layout.ClassList",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:false,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(a){var b=this;if(!b.map[a]){b.map[a]=true;b.classes.push(a);if(!b.dirty){b.dirty=true;b.owner.markDirty()}}},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},remove:function(a){var b=this;if(b.map[a]){delete b.map[a];b.classes=Ext.Array.filter(b.classes,function(b){return b!=a});if(!b.dirty){b.dirty=true;b.owner.markDirty()}}},removeMany:function(c){var d=this,e=b(a(c));d.classes=Ext.Array.filter(d.classes,function(a){if(!e[a]){return true}delete d.map[a];if(!d.dirty){d.dirty=true;d.owner.markDirty()}return false})}}}());Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(a){var b=this,c=b.getKey(a);if(!b.map[c]){++b.length;b.items.push(a);b.map[c]=a}return a},clear:function(){var a=this,b=a.items;a.items=[];a.map={};a.length=0;return b},contains:function(a){var b=this.getKey(a);return this.map.hasOwnProperty(b)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(a){var b=this,c=b.getKey(a),d=b.items,e;if(b.map[c]){e=Ext.Array.indexOf(d,a);Ext.Array.erase(d,e,1);delete b.map[c];--b.length}return a}});Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(a){var b=this,c=Ext.layout.SizeModel.sizeModels,d=c.configured,e=c.shrinkWrap,f,g,h,i,j,k,l,m,n,o,p,q,r,s;Ext.apply(b,a);f=b.el;b.id=f.id;b.flushedProps={};b.props=j={};b.styles={};l=b.target;if(!l.isComponent){g=f.lastBox}else{b.wrapsComponent=true;b.framing=l.frameSize||null;b.isComponentChild=l.ownerLayout&&l.ownerLayout.isComponentLayout;g=l.lastBox;h=l.ownerCt;if(h&&(i=h.el&&b.context.items[h.el.id])){b.ownerCtContext=i}b.sizeModel=k=l.getSizeModel(i&&i.widthModel.pairsByHeightOrdinal[i.heightModel.ordinal]);b.widthModel=q=k.width;b.heightModel=r=k.height;if(g&&g.invalid===false){o=l.width===(m=g.width);p=l.height===(n=g.height);if(q===e&&r===e){s=true}else if(q===d&&o){s=r===e||r===d&&p}if(s){b.optOut=true;j.width=m;j.height=n}}}b.lastBox=g},init:function(a,b){var c=this,d=c.props,e=c.dirty,f=c.ownerCtContext,g=c.target.ownerLayout,h=!c.state,i=a||h,j,k,l,m,n,o,p=c.heightModel,q=c.widthModel,r,s,t=0;c.dirty=c.invalid=false;c.props={};c.remainingChildDimensions=0;if(c.boxChildren){c.boxChildren.length=0}if(!h){c.clearAllBlocks("blocks");c.clearAllBlocks("domBlocks")}if(!c.wrapsComponent){return i}o=c.target;c.state={};if(h){if(o.beforeLayout&&o.beforeLayout!==Ext.emptyFn){o.beforeLayout()}if(!f&&(m=o.ownerCt)){f=c.context.items[m.el.id]}if(f){c.ownerCtContext=f;c.isBoxParent=o.ownerLayout.isItemBoxParent(c)}else{c.isTopLevel=true}c.frameBodyContext=c.getEl("frameBody")}else{f=c.ownerCtContext;c.isTopLevel=!f;j=c.children;for(k=0,l=j.length;k<l;++k){j[k].init(true)}}c.hasRawContent=!(o.isContainer&&o.items.items.length>0);if(a){c.widthModel=c.heightModel=null;n=o.getSizeModel(f&&f.widthModel.pairsByHeightOrdinal[f.heightModel.ordinal]);if(h){c.sizeModel=n}c.widthModel=n.width;c.heightModel=n.height;if(f&&!c.isComponentChild){f.remainingChildDimensions+=2}}else if(d){c.recoverProp("x",d,e);c.recoverProp("y",d,e);if(c.widthModel.calculated){c.recoverProp("width",d,e)}else if("width"in d){++t}if(c.heightModel.calculated){c.recoverProp("height",d,e)}else if("height"in d){++t}if(f&&!c.isComponentChild){f.remainingChildDimensions+=t}}if(d&&g&&g.manageMargins){c.recoverProp("margin-top",d,e);c.recoverProp("margin-right",d,e);c.recoverProp("margin-bottom",d,e);c.recoverProp("margin-left",d,e)}if(b){r=b.heightModel;s=b.widthModel;if(s&&r&&q&&p){if(q.shrinkWrap&&p.shrinkWrap){if(s.constrainedMax&&r.constrainedMin){r=null}}}if(s){c.widthModel=s}if(r){c.heightModel=r}if(b.state){Ext.apply(c.state,b.state)}}return i},initContinue:function(a){var b=this,c=b.ownerCtContext,d=b.target,e=b.widthModel,f=d.getHierarchyState(),g;if(e.fixed){f.inShrinkWrapTable=false}else{delete f.inShrinkWrapTable}if(a){if(c&&e.shrinkWrap){g=c.isBoxParent?c:c.boxParent;if(g){g.addBoxChild(b)}}else if(e.natural){b.boxParent=c}}return a},initDone:function(a){var b=this,c=b.props,d=b.state;if(b.remainingChildDimensions===0){c.containerChildrenSizeDone=true}if(a){c.containerLayoutDone=true}if(b.boxChildren&&b.boxChildren.length&&b.widthModel.shrinkWrap){b.el.setWidth(1e4);d.blocks=(d.blocks||0)+1}},initAnimation:function(){var a=this,b=a.target,c=a.ownerCtContext;if(c&&c.isTopLevel){a.animatePolicy=b.ownerLayout.getAnimatePolicy(a)}else if(!c&&b.isCollapsingOrExpanding&&b.animCollapse){a.animatePolicy=b.componentLayout.getAnimatePolicy(a)}if(a.animatePolicy){a.context.queueAnimation(a)}},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(a,b,c){var d=this,e=d[a]||(d[a]={}),f=e[c]||(e[c]={});if(!f[b.id]){f[b.id]=b;++b.blockCount;++d.context.blockCount}},addBoxChild:function(a){var b=this,c,d=a.widthModel;a.boxParent=this;a.measuresBox=d.shrinkWrap?a.hasRawContent:d.natural;if(a.measuresBox){c=b.boxChildren;if(c){c.push(a)}else{b.boxChildren=[a]}}},addPositionStyles:function(a,b){var c=b.x,d=b.y,e=0;if(c!==undefined){a.left=c+"px";++e}if(d!==undefined){a.top=d+"px";++e}return e},addTrigger:function(a,b){var c=this,d=b?"domTriggers":"triggers",e=c[d]||(c[d]={}),f=c.context,g=f.currentLayout,h=e[a]||(e[a]={});if(!h[g.id]){h[g.id]=g;++g.triggerCount;h=f.triggers[b?"dom":"data"];(h[g.id]||(h[g.id]=[])).push({item:this,prop:a});if(c.props[a]!==undefined){if(!b||!(c.dirty&&a in c.dirty)){++g.firedTriggers}}}},boxChildMeasured:function(){var a=this,b=a.state,c=b.boxesMeasured=(b.boxesMeasured||0)+1;if(c==a.boxChildren.length){b.clearBoxWidth=1;++a.context.progressCount;a.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){var b=a.getStyles(a.borderNames,a.trblNames);b.width=b.left+b.right;b.height=b.top+b.bottom;return b},marginInfo:function(a){var b=a.getStyles(a.marginNames,a.trblNames);b.width=b.left+b.right;b.height=b.top+b.bottom;return b},paddingInfo:function(a){var b=a.frameBodyContext||a,c=b.getStyles(a.paddingNames,a.trblNames);c.width=c.left+c.right;c.height=c.top+c.bottom;return c}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var b=this[a],c;if(b){for(c in b){this.clearBlocks(a,c)}}},clearBlocks:function(a,b){var c=this[a],d=c&&c[b],e,f,g;if(d){delete c[b];e=this.context;for(g in d){f=d[g];--e.blockCount;if(!--f.blockCount&&!f.pending&&!f.done){e.queueLayout(f)}}}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(a,b){var c=this[a],d=c&&c[b],e=this.context,f,g;if(d){for(g in d){f=d[g];++f.firedTriggers;if(!f.done&&!f.blockCount&&!f.pending){e.queueLayout(f)}}}},flush:function(){var a=this,b=a.dirty,c=a.state,d=a.el;
a.dirtyCount=0;if(a.classList&&a.classList.dirty){a.classList.flush()}if("attributes"in a){d.set(a.attributes);delete a.attributes}if("innerHTML"in a){d.innerHTML=a.innerHTML;delete a.innerHTML}if(c&&c.clearBoxWidth){c.clearBoxWidth=0;a.el.setStyle("width",null);if(!--c.blocks){a.context.queueItemLayouts(a)}}if(b){delete a.dirty;a.writeProps(b,true)}},flushAnimations:function(){var a=this,b=a.previousSize,c,d,e,f,g,h,i,j,k,l,m;if(b){c=a.target;d=c.layout&&c.layout.animate;if(d){e=Ext.isNumber(d)?d:d.duration}f=Ext.Object.getKeys(a.animatePolicy);g=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},d);for(h=0,i=0,j=f.length;i<j;i++){k=f[i];l=b[k];m=a.peek(k);if(l!=m){k=a.translateProps[k]||k;g.from[k]=l;g.to[k]=m;++h}}if(h){if(a.isCollapsingOrExpanding===1){c.componentLayout.undoLayout(a)}else{a.writeProps(g.from)}a.el.animate(g);Ext.fx.Manager.getFxQueue(a.el.id)[0].on({afteranimate:function(){if(a.isCollapsingOrExpanding===1){c.componentLayout.redoLayout(a);c.afterCollapse(true)}else if(a.isCollapsingOrExpanding===2){c.afterExpand(true)}}})}}},getBorderInfo:function(){var a=this,b=a.borderInfo;if(!b){a.borderInfo=b=a.checkCache("borderInfo")}return b},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(a,b){var c=this,d,e,f;if(a){if(a.dom){e=a}else{d=c.target;if(b){d=b}e=d[a];if(typeof e=="function"){e=e.call(d);if(e===c.el){return this}}}if(e){f=c.context.getEl(c,e)}}return f||null},getFrameInfo:function(){var a=this,b=a.frameInfo,c,d;if(!b){c=a.framing;d=a.getBorderInfo();a.frameInfo=b=c?{top:c.top+d.top,right:c.right+d.right,bottom:c.bottom+d.bottom,left:c.left+d.left,width:c.width+d.width,height:c.height+d.height}:d}return b},getMarginInfo:function(){var a=this,b=a.marginInfo,c,d,e,f,g;if(!b){if(!a.wrapsComponent){b=a.checkCache("marginInfo")}else{c=a.target;f=c.ownerLayout;g=f?f.id:null;d=f&&f.manageMargins;b=c.margin$;if(b&&b.ownerId!==g){b=null}if(!b){b=a.parseMargins(c,c.margin)||a.checkCache("marginInfo");if(d){e=a.parseMargins(c,c.margins,f.defaultMargins);if(e){b={top:b.top+e.top,right:b.right+e.right,bottom:b.bottom+e.bottom,left:b.left+e.left}}a.setProp("margin-top",0);a.setProp("margin-right",0);a.setProp("margin-bottom",0);a.setProp("margin-left",0)}b.ownerId=g;c.margin$=b}b.width=b.left+b.right;b.height=b.top+b.bottom}a.marginInfo=b}return b},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=this,b=a.paddingInfo;if(!b){a.paddingInfo=b=a.checkCache("paddingInfo")}return b},getProp:function(a){var b=this,c=b.props[a];b.addTrigger(a);return c},getDomProp:function(a){var b=this,c=b.dirty&&a in b.dirty?undefined:b.props[a];b.addTrigger(a,true);return c},getStyle:function(a){var b=this,c=b.styles,d,e;if(a in c){e=c[a]}else{d=b.styleInfo[a];e=b.el.getStyle(a);if(d&&d.parseInt){e=parseInt(e,10)||0}c[a]=e}return e},getStyles:function(a,b){var c=this,d=c.styles,e={},f=0,g=a.length,h,i,j,k,l,m,n,o;b=b||a;for(h=0;h<g;++h){k=a[h];if(k in d){e[b[h]]=d[k];++f;if(h&&f==1){i=a.slice(0,h);j=b.slice(0,h)}}else if(f){(i||(i=[])).push(k);(j||(j=[])).push(b[h])}}if(f<g){i=i||a;j=j||b;m=c.styleInfo;n=c.el.getStyle(i);for(h=i.length;h--;){k=i[h];l=m[k];o=n[k];if(l&&l.parseInt){o=parseInt(o,10)||0}e[j[h]]=o;d[k]=o}}return e},hasProp:function(a){return this.getProp(a)!=null},hasDomProp:function(a){return this.getDomProp(a)!=null},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(a,b,c){if(b===true){b=5}var d=typeof b,e;if(d=="string"||d=="number"){e=a.parseBox(b)}else if(b||c){e={top:0,right:0,bottom:0,left:0};if(c){Ext.apply(e,this.parseMargins(a,c))}if(b){b=Ext.apply(e,a.parseBox(b))}}return e},peek:function(a){return this.props[a]},recoverProp:function(a,b,c){var d=this,e=d.props,f;if(a in b){e[a]=b[a];if(c&&a in c){f=d.dirty||(d.dirty={});f[a]=c[a]}}},redo:function(a){var b=this,c,d,e;b.revertProps(b.props);if(a&&b.wrapsComponent){if(b.childItems){for(e=0,c=b.childItems,d=c.length;e<d;e++){c[e].redo(a)}}for(e=0,c=b.children,d=c.length;e<d;e++){c[e].redo()}}},removeEl:function(a,b){var c=this,d,e;if(a){if(a.dom){e=a}else{d=c.target;if(b){d=b}e=d[a];if(typeof e=="function"){e=e.call(d);if(e===c.el){return this}}}if(e){c.context.removeEl(c,e)}}},revertProps:function(a){var b,c=this.flushedProps,d={};for(b in a){if(c.hasOwnProperty(b)){d[b]=a[b]}}this.writeProps(d)},setAttribute:function(a,b){var c=this;if(!c.attributes){c.attributes={}}c.attributes[a]=b;c.markDirty()},setBox:function(a){var b=this;if("left"in a){b.setProp("x",a.left)}if("top"in a){b.setProp("y",a.top)}b.setSize(a.width,a.height)},setContentHeight:function(a,b){if(!b&&this.hasRawContent){return 1}return this.setProp("contentHeight",a)},setContentWidth:function(a,b){if(!b&&this.hasRawContent){return 1}return this.setProp("contentWidth",a)},setContentSize:function(a,b,c){return this.setContentWidth(a,c)+this.setContentHeight(b,c)==2},setProp:function(a,b,c){var d=this,e=typeof b,f,g;if(e=="undefined"||e==="number"&&isNaN(b)){return 0}if(d.props[a]===b){return 1}d.props[a]=b;++d.context.progressCount;if(c===false){d.fireTriggers("domTriggers",a);d.clearBlocks("domBlocks",a)}else{g=d.styleInfo[a];if(g){if(!d.dirty){d.dirty={}}if(a=="width"||a=="height"){f=d.isBorderBoxValue;if(f===null){d.isBorderBoxValue=f=!!d.el.isBorderBox()}if(!f){d.borderInfo||d.getBorderInfo();d.paddingInfo||d.getPaddingInfo()}}d.dirty[a]=b;d.markDirty()}}d.fireTriggers("triggers",a);d.clearBlocks("blocks",a);return 1},setHeight:function(a,b){var c=this,d=c.target,e=c.ownerCtContext,f,g,h,i,j;if(a<0){a=0}if(!c.wrapsComponent){if(!c.setProp("height",a,b)){return NaN}}else{h=c.collapsedVert?0:d.minHeight||0;a=Ext.Number.constrain(a,h,d.maxHeight);i=c.props.height;if(!c.setProp("height",a,b)){return NaN}if(e&&!c.isComponentChild&&isNaN(i)){j=--e.remainingChildDimensions;if(!j){e.setProp("containerChildrenSizeDone",true)}}f=c.frameBodyContext;if(f){g=c.getFrameInfo();f.setHeight(a-g.height,b)}}return a},setWidth:function(a,b){var c=this,d=c.target,e=c.ownerCtContext,f,g,h,i,j;if(a<0){a=0}if(!c.wrapsComponent){if(!c.setProp("width",a,b)){return NaN}}else{h=c.collapsedHorz?0:d.minWidth||0;a=Ext.Number.constrain(a,h,d.maxWidth);i=c.props.width;if(!c.setProp("width",a,b)){return NaN}if(e&&!c.isComponentChild&&isNaN(i)){j=--e.remainingChildDimensions;if(!j){e.setProp("containerChildrenSizeDone",true)}}f=c.frameBodyContext;if(f){g=c.getFrameInfo();f.setWidth(a-g.width,b)}}return a},setSize:function(a,b,c){this.setWidth(a,c);this.setHeight(b,c)},translateProps:{x:"left",y:"top"},undo:function(a){var b=this,c,d,e;b.revertProps(b.lastBox);if(a&&b.wrapsComponent){if(b.childItems){for(e=0,c=b.childItems,d=c.length;e<d;e++){c[e].undo(a)}}for(e=0,c=b.children,d=c.length;e<d;e++){c[e].undo()}}},unsetProp:function(a){var b=this.dirty;delete this.props[a];if(b){delete b[a]}},writeProps:function(a,b){if(!(a&&typeof a=="object")){return}var c=this,d=c.el,e={},f=0,g=c.styleInfo,h,i,j,k=a.width,l=a.height,m=c.isBorderBoxValue,n=c.target,o=Math.max,p=0,q=0,r,s,t,u,v,w;if("displayed"in a){d.setDisplayed(a.displayed)}for(i in a){if(b){c.fireTriggers("domTriggers",i);c.clearBlocks("domBlocks",i);c.flushedProps[i]=1}h=g[i];if(h&&h.dom){if(h.suffix&&(j=parseInt(a[i],10))){e[i]=j+h.suffix}else{e[i]=a[i]}++f}}if("x"in a||"y"in a){if(n.isComponent){n.setPosition(a.x,a.y)}else{f+=c.addPositionStyles(e,a)}}if(!m&&(k>0||l>0)){if(!c.frameBodyContext){p=c.paddingInfo.width;q=c.paddingInfo.height}if(k){k=o(parseInt(k,10)-(c.borderInfo.width+p),0);e.width=k+"px";++f}if(l){l=o(parseInt(l,10)-(c.borderInfo.height+q),0);e.height=l+"px";++f}}if(c.wrapsComponent&&Ext.isIE9&&Ext.isStrict){if((r=k!==undefined&&c.hasOverflowY)||(s=l!==undefined&&c.hasOverflowX)){t=c.isAbsolute;if(t===undefined){t=false;w=c.target.getTargetEl();v=w.getStyle("position");if(v=="absolute"){v=w.getStyle("box-sizing");t=v=="border-box"}c.isAbsolute=t}if(t){u=Ext.getScrollbarSize();if(r){k=parseInt(k,10)+u.width;e.width=k+"px";++f}if(s){l=parseInt(l,10)+u.height;e.height=l+"px";++f}}}}if(f){d.setStyle(e)}}},function(){var a={dom:true,parseInt:true,suffix:"px"},b={dom:true},c={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:c,containerLayoutDone:c,displayed:c,done:c,x:c,y:c,columnWidthsDone:c,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":b,display:b}});Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(a){var b=this;Ext.apply(b,a);b.items={};b.layouts={};b.blockCount=0;b.cycleCount=0;b.flushCount=0;b.calcCount=0;b.animateQueue=b.newQueue();b.completionQueue=b.newQueue();b.finalizeQueue=b.newQueue();b.finishQueue=b.newQueue();b.flushQueue=b.newQueue();b.invalidateData={};b.layoutQueue=b.newQueue();b.invalidQueue=[];b.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,b,c){var d=this,e=a,f=!a.isComponent,g=f?e.length:1,h,i,j,k,l,m,n,o,p,q;for(h=0;h<g;++h){if(f){a=e[h]}if(c&&a.ownerCt){q=this.items[a.ownerCt.el.id];if(q){Ext.Array.remove(q.childItems,d.getCmp(a))}}if(!b){n=d.invalidQueue;j=n.length;if(j){d.invalidQueue=m=[];for(i=0;i<j;++i){o=n[i];p=o.item.target;if(p!=a&&!p.isDescendant(a)){m.push(o)}}}}l=a.componentLayout;d.cancelLayout(l);if(l.getLayoutItems){k=l.getLayoutItems();if(k.length){d.cancelComponent(k,true)}}if(a.isContainer&&!a.collapsed){l=a.layout;d.cancelLayout(l);k=l.getVisibleItems();if(k.length){d.cancelComponent(k,true)}}}},cancelLayout:function(a){var b=this;b.completionQueue.remove(a);b.finalizeQueue.remove(a);b.finishQueue.remove(a);b.layoutQueue.remove(a);if(a.running){b.layoutDone(a)}a.ownerContext=null},clearTriggers:function(a,b){var c=a.id,d=this.triggers[b?"dom":"data"],e=d&&d[c],f=e&&e.length||0,g,h,i;for(g=0;g<f;++g){i=e[g];h=i.item;d=b?h.domTriggers:h.triggers;delete d[i.prop][c]}},flush:function(){var a=this,b=a.flushQueue.clear(),c=b.length,d;if(c){++a.flushCount;for(d=0;d<c;++d){b[d].flush()}}},flushAnimations:function(){var a=this,b=a.animateQueue.clear(),c=b.length,d;if(c){for(d=0;d<c;d++){if(b[d].target.animate!==false){b[d].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var a=this,b=a.invalidQueue,c=b&&b.length,d,e,f,g;a.invalidQueue=[];if(c){e=[];for(g=0;g<c;++g){d=(f=b[g]).item.target;if(!d.container.isDetachedBody){e.push(d);if(f.options){a.invalidateData[d.id]=f.options}}}a.invalidate(e,null)}},flushLayouts:function(a,b,c){var d=this,e=c?d[a].items:d[a].clear(),f=e.length,g,h;if(f){for(g=0;g<f;++g){h=e[g];if(!h.running){d.callLayout(h,b)}}d.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(a,b){var c=this.getItem(b,b);if(!c.parent){c.parent=a;if(a.children.length){a.children.push(c)}else{a.children=[c]}}return c},getItem:function(a,b){var c=b.id,d=this.items,e=d[c]||(d[c]=new Ext.layout.ContextItem({context:this,target:a,el:b}));return e},handleFailure:function(){var a=this.layouts,b,c;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(c in a){b=a[c];if(a.hasOwnProperty(c)){b.running=false;b.ownerContext=null}}},invalidate:function(a,b){var c=this,d=!a.isComponent,e,f,g,h,i,j,k,l,m,n,o;for(g=0,k=d?a.length:1;g<k;++g){h=d?a[g]:a;if(h.rendered&&!h.hidden){i=c.getCmp(h);l=h.componentLayout;f=!l.ownerContext;m=h.isContainer&&!h.collapsed?h.layout:null;n=c.invalidateData[i.id];delete c.invalidateData[i.id];o=i.init(b,n);if(n){c.processInvalidate(n,i,"before")}if(l.beforeLayoutCycle){l.beforeLayoutCycle(i)}if(m&&m.beforeLayoutCycle){m.beforeLayoutCycle(i)}o=i.initContinue(o);e=true;if(l.getLayoutItems){l.renderChildren();j=l.getLayoutItems();if(j.length){c.invalidate(j,true)}}if(m){e=false;m.renderChildren();j=m.getVisibleItems();if(j.length){c.invalidate(j,true)}}i.initDone(e);c.resetLayout(l,i,f);if(m){c.resetLayout(m,i,f)}i.initAnimation();if(n){c.processInvalidate(n,i,"after")}}}c.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;a.running=false;if(a.isComponentLayout){if(b.measuresBox){b.onBoxMeasured()}b.setProp("done",true)}else{b.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(a,b,c){if(a[c]){var d=this,e=d.currentLayout;d.currentLayout=a.layout||null;a[c](b,a);d.currentLayout=e}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,b,c){var d=this,e=a.layout,f=b.layout,g=a[c],h=b[c];return function(c){var i=d.currentLayout;if(g){d.currentLayout=e;g.call(a.scope||a,c,a)}d.currentLayout=f;h.call(b.scope||b,c,b);d.currentLayout=i}},queueInvalidate:function(a,b){var c=this,d=[],e=c.invalidQueue,f=e.length,g,h,i,j,k;if(a.isComponent){a=c.getCmp(g=a)}else{g=a.target}a.invalid=true;while(f--){h=e[f];i=h.item.target;if(g.isDescendant(i)){return}if(i==g){if(!(j=h.options)){h.options=b}else if(b){if(b.widthModel){j.widthModel=b.widthModel}if(b.heightModel){j.heightModel=b.heightModel}if(!(k=j.state)){j.state=b.state}else if(b.state){Ext.apply(k,b.state)}if(b.before){j.before=c.chainFns(j,b,"before")}if(b.after){j.after=c.chainFns(j,b,"after")}}return}if(!i.isDescendant(g)){d.push(h)}}d.push({item:a,options:b});c.invalidQueue=d},queueItemLayouts:function(a){var b=a.isComponent?a:a.target,c=b.componentLayout;if(!c.pending&&!c.invalid&&!c.done){this.queueLayout(c)}c=b.layout;if(c&&!c.pending&&!c.invalid&&!c.done){this.queueLayout(c)}},queueLayout:function(a){this.layoutQueue.add(a);a.pending=true},removeEl:function(a,b){var c=b.id,d=a.children,e=this.items;if(d){Ext.Array.remove(d,e[c])}delete e[c]},resetLayout:function(a,b,c){var d=this;d.currentLayout=a;a.done=false;a.pending=true;a.firedTriggers=0;d.layoutQueue.add(a);if(c){d.layouts[a.id]=a;a.running=true;if(a.finishedLayout){d.finishQueue.add(a)}++d.remainingLayouts;++a.layoutCount;a.ownerContext=b;a.beginCount=0;a.blockCount=0;a.calcCount=0;a.triggerCount=0;if(!a.initialized){a.initLayout()}a.beginLayout(b)}else{++a.beginCount;if(!a.running){++d.remainingLayouts;a.running=true;if(a.isComponentLayout){b.unsetProp("done")}d.completionQueue.remove(a);d.finalizeQueue.remove(a)}}a.beginLayoutCycle(b,c)},run:function(){var a=this,b=false,c=100;a.flushInvalidates();a.state=1;a.totalCount=a.layoutQueue.getCount();a.flush();while((a.remainingLayouts||a.invalidQueue.length)&&c--){if(a.invalidQueue.length){a.flushInvalidates()}if(a.runCycle()){b=false}else if(!b){a.flush();b=true;a.flushLayouts("completionQueue","completeLayout")}else if(!a.invalidQueue.length){a.state=2;break}if(!(a.remainingLayouts||a.invalidQueue.length)){a.flush();a.flushLayouts("completionQueue","completeLayout");a.flushLayouts("finalizeQueue","finalizeLayout")}}return a.runComplete()},runComplete:function(){var a=this;a.state=2;if(a.remainingLayouts){a.handleFailure();return false}a.flush();a.flushLayouts("finishQueue","finishedLayout",true);a.flushLayouts("finishQueue","notifyOwner");a.flush();a.flushAnimations();return true},runCycle:function(){var a=this,b=a.layoutQueue.clear(),c=b.length,d;++a.cycleCount;a.progressCount=0;for(d=0;d<c;++d){a.runLayout(a.currentLayout=b[d])}a.currentLayout=null;return a.progressCount>0},runLayout:function(a){var b=this,c=b.getCmp(a.owner);a.pending=false;if(c.state.blocks){return}a.done=true;++a.calcCount;++b.calcCount;a.calculate(c);if(a.done){b.layoutDone(a);if(a.completeLayout){b.queueCompletion(a)}if(a.finalizeLayout){b.queueFinalize(a)}}else if(!a.pending&&!a.invalid&&!(a.blockCount+a.triggerCount-a.firedTriggers)){b.queueLayout(a)}},setItemSize:function(a,b,c){var d=a,e=1,f,g;if(a.isComposite){d=a.elements;e=d.length;a=d[0]}else if(!a.dom&&!a.el){e=d.length;a=d[0]}for(g=0;g<e;){f=this.get(a);f.setSize(b,c);a=d[++g]}}});Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:Ext.layout.component.Auto,type:"body",beginLayout:function(a){this.callParent(arguments);a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a,b){var c=this,d=c.lastWidthModel,e=c.lastHeightModel,f=c.owner.body;c.callParent(arguments);if(d&&d.fixed&&a.widthModel.shrinkWrap){f.setWidth(null)}if(e&&e.fixed&&a.heightModel.shrinkWrap){f.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);if(a.targetContext!=a){c+=a.getPaddingInfo().height}return c},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.callParent(arguments);if(a.targetContext!=a){c+=a.getPaddingInfo().width}return c},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(a,b){var c=b-a.getFrameInfo().height,d=a.targetContext;if(d!=a){c-=a.getPaddingInfo().height}return a.bodyContext.setHeight(c,!a.heightModel.natural)},publishInnerWidth:function(a,b){var c=b-a.getFrameInfo().width,d=a.targetContext;if(d!=a){c-=a.getPaddingInfo().width}a.bodyContext.setWidth(c,!a.widthModel.natural)}});Ext.define("Ext.layout.component.FieldSet",{extend:Ext.layout.component.Body,alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(a){if(a.target.collapsed){a.heightModel=this.sizeModels.shrinkWrap}},beginLayoutCycle:function(a){var b=a.target,c;this.callParent(arguments);if(b.collapsed){a.setContentHeight(0);a.restoreMinHeight=b.minHeight;delete b.minHeight;if(a.widthModel.shrinkWrap){c=b.lastComponentSize;a.setContentWidth(c&&c.contentWidth||this.defaultCollapsedWidth)}}},finishedLayout:function(a){var b=this.owner,c=a.restoreMinHeight;this.callParent(arguments);if(c){b.minHeight=c}},calculateOwnerHeightFromContentHeight:function(a,b){var c=a.getBorderInfo(),d=a.target.legend;return a.getProp("contentHeight")+a.getPaddingInfo().height+(Ext.isIEQuirks||Ext.isIE8m?a.bodyContext.getPaddingInfo().top:0)+(d?d.getHeight():c.top)+c.bottom},publishInnerHeight:function(a,b){var c=a.target.legend;if(c){b-=c.getHeight()}this.callParent([a,b])},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}});Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:Ext.layout.component.field.Field,type:"sliderfield",beginLayout:function(a){this.callParent(arguments);a.endElContext=a.getEl("endEl");a.innerElContext=a.getEl("innerEl");a.bodyElContext=a.getEl("bodyEl")},publishInnerHeight:function(a,b){var c=b-this.measureLabelErrorHeight(a),d,e;if(this.owner.vertical){d=a.endElContext.getPaddingInfo();e=a.inputContext.getPaddingInfo();a.innerElContext.setHeight(c-e.height-d.height)}else{a.bodyElContext.setHeight(c)}},publishInnerWidth:function(a,b){if(!this.owner.vertical){var c=a.endElContext.getPaddingInfo(),d=a.inputContext.getPaddingInfo();a.innerElContext.setWidth(b-d.left-c.right-a.labelContext.getProp("width"))}},beginLayoutFixed:function(a,b,c){var d=this,e=d.ieInputWidthAdjustment;if(e){d.owner.bodyEl.setStyle("padding-right",e+"px")}d.callParent(arguments)}});Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:Ext.layout.container.Anchor,alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:true,type:"absolute",adjustWidthAnchor:function(a,b){var c=this.targetPadding,d=b.getStyle("left");return a-d+c.left},adjustHeightAnchor:function(a,b){var c=this.targetPadding,d=b.getStyle("top");return a-d+c.top},isItemLayoutRoot:function(a){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(a){return true},beginLayout:function(a){var b=this,c=b.getTarget();b.callParent(arguments);if(c.dom!==document.body){c.position()}b.targetPadding=a.targetContext.getPaddingInfo()},isItemBoxParent:function(a){return true},onContentChange:function(){if(this.ignoreOnContentChange){return false}return this.callParent(arguments)},calculateContentSize:function(a,b){var c=this,d=(b||0)|((a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0)),e=d&1||undefined,f=d&2||undefined,g=a.childItems,h=g.length,i=0,j=0,k=0,l=a.props,m,n,o,p,q,r,s;if(e){if(isNaN(l.contentWidth)){++k}else{e=undefined}}if(f){if(isNaN(l.contentHeight)){++k}else{f=undefined}}if(k){for(q=0;q<h;++q){o=g[q];n=o.target;p=f&&o.getProp("height");s=e&&o.getProp("width");r=o.getMarginInfo();p+=r.bottom;s+=r.right;i=Math.max(i,(n.y||0)+p);j=Math.max(j,(n.x||0)+s);if(isNaN(i)&&isNaN(j)){c.done=false;return}}if(e||f){m=a.targetContext.getPaddingInfo()}if(e&&!a.setContentWidth(j+m.width)){c.done=false}if(f&&!a.setContentHeight(i+m.height)){c.done=false}}}});Ext.define("Ext.layout.container.Accordion",{extend:Ext.layout.container.VBox,alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:undefined,animate:true,activeOnTop:false,multi:false,defaultAnimatePolicy:{y:true,height:true},constructor:function(){var a=this;a.callParent(arguments);if(!a.multi&&a.animate){a.animatePolicy=Ext.apply({},a.defaultAnimatePolicy)}else{a.animatePolicy=null}},beforeRenderItems:function(a){var b=this,c=a.length,d=0,e=b.owner,f=b.collapseFirst,g=Ext.isDefined(f),h=b.getExpanded(true)[0],i=b.multi,j;for(;d<c;d++){j=a[d];if(!j.rendered){if(!i||j.collapsible!==false){j.collapsible=true}if(j.collapsible){if(g){j.collapseFirst=f}if(b.hideCollapseTool){j.hideCollapseTool=b.hideCollapseTool;j.titleCollapse=true}else if(b.titleCollapse&&j.titleCollapse===undefined){j.titleCollapse=b.titleCollapse}}delete j.hideHeader;delete j.width;j.title=j.title||"&#160;";j.addBodyCls(Ext.baseCSSPrefix+"accordion-body");if(!i){if(h){j.collapsed=h!==j}else if(j.hasOwnProperty("collapsed")&&j.collapsed===false){h=j}else{j.collapsed=true}e.mon(j,{show:b.onComponentShow,beforeexpand:b.onComponentExpand,beforecollapse:b.onComponentCollapse,scope:b})}e.mon(j,"beforecollapse",b.onComponentCollapse,b);j.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over"}}if(!i){if(!h){if(c){a[0].collapsed=false}}else if(b.activeOnTop){h.collapsed=false;b.configureItem(h);if(e.items.indexOf(h)>0){e.insert(0,h)}}}},getItemsRenderTree:function(a){this.beforeRenderItems(a);return this.callParent(arguments)},renderItems:function(a,b){this.beforeRenderItems(a);this.callParent(arguments)},configureItem:function(a){this.callParent(arguments);a.animCollapse=a.border=false;if(this.fill){a.flex=1}},beginLayout:function(a){this.callParent(arguments);this.updatePanelClasses(a)},updatePanelClasses:function(a){var b=a.visibleItems,c=b.length,d=true,e,f,g;for(e=0;e<c;e++){f=b[e];g=f.header;g.addCls(Ext.baseCSSPrefix+"accordion-hd");if(d){g.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded")}else{g.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded")}if(e+1==c&&f.collapsed){g.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed")}else{g.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed")}d=f.collapsed}},onComponentExpand:function(a){var b=this,c=b.owner,d=b.multi,e=b.animate,f=!d&&!b.animate&&b.activeOnTop,g,h,i,j;if(!b.processing){b.processing=true;j=c.deferLayouts;c.deferLayouts=true;g=d?[]:b.getExpanded();h=g.length;for(i=0;i<h;i++){g[i].collapse()}if(f){Ext.suspendLayouts();c.insert(0,a);Ext.resumeLayouts()}c.deferLayouts=j;b.processing=false}},onComponentCollapse:function(a){var b=this,c=b.owner,d,e,f;if(b.owner.items.getCount()===1){return false}if(!b.processing){b.processing=true;f=c.deferLayouts;c.deferLayouts=true;d=a.next()||a.prev();if(b.multi){e=b.getExpanded();if(e.length===1){d.expand()}}else if(d){d.expand()}c.deferLayouts=f;b.processing=false}},onComponentShow:function(a){this.onComponentExpand(a)},getExpanded:function(a){var b=this.owner.items.items,c=b.length,d=0,e=[],f,g;for(;d<c;++d){g=b[d];if(a){f=g.hasOwnProperty("collapsed")&&g.collapsed===false}else{f=!g.collapsed}if(f){e.push(g)}}return e}});Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:true,collapsible:false,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:false,vertical:false,size:5,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this,b=a.getCollapseTarget();a.callParent();if(b.collapsed){a.addCls(a.collapsedClsInternal)}if(!a.canResize){a.addCls(a.baseCls+"-noresize")}Ext.applyIf(a.renderData,{collapseDir:a.getCollapseDirection(),collapsible:a.collapsible||b.collapsible});a.protoEl.unselectable()},onRender:function(){var a=this,b;a.callParent(arguments);if(a.performCollapse!==false){if(a.renderData.collapsible){a.mon(a.collapseEl,"click",a.toggleTargetCmp,a)}if(a.collapseOnDblClick){a.mon(a.el,"dblclick",a.toggleTargetCmp,a)}}a.mon(a.getCollapseTarget(),{collapse:a.onTargetCollapse,expand:a.onTargetExpand,beforeexpand:a.onBeforeTargetExpand,beforecollapse:a.onBeforeTargetCollapse,scope:a});if(a.canResize){a.tracker=Ext.create(a.getTrackerConfig());a.relayEvents(a.tracker,["beforedragstart","dragstart","dragend"])}b=a.collapseEl;if(b){b.lastCollapseDirCls=a.collapseDirProps[a.collapseDirection].cls}},getCollapseDirection:function(){var a=this,b=a.collapseDirection,c,d,e,f;if(!b){c=a.collapseTarget;if(c.isComponent){b=c.collapseDirection}if(!b){f=a.ownerCt.layout.type;if(c.isComponent){e=a.ownerCt.items;d=Number(e.indexOf(c)===e.indexOf(a)-1)<<1|Number(f==="hbox")}else{d=Number(a.collapseTarget==="prev")<<1|Number(f==="hbox")}b=["bottom","right","top","left"][d]}a.collapseDirection=b}a.setOrientation(b==="top"||b==="bottom"?"horizontal":"vertical");return b},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:a.collapseTarget==="prev"?a.previousSibling():a.nextSibling()},setCollapseEl:function(a){var b=this.collapseEl;if(b){b.setDisplayed(a)}},onBeforeTargetExpand:function(a){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(a){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},onTargetExpand:function(a){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var a=this,b=a.collapseEl,c=a.collapseDirProps[a.collapseDirection],d;if(b){d=b.lastCollapseDirCls;if(d){b.removeCls(d)}b.addCls(b.lastCollapseDirCls=c.cls)}},applyOrientation:function(){var a=this,b=a.orientation,c=a.orientationProps[b],d=a.size,e=c.fixedAxis,f=c.stretchedAxis,g=a.baseCls+"-";a[b]=true;a[c.opposite]=false;if(!a.hasOwnProperty(e)||a[e]==="100%"){a[e]=d}if(!a.hasOwnProperty(f)||a[f]===d){a[f]="100%"}a.removeCls(g+c.opposite);a.addCls(g+b)},setOrientation:function(a){var b=this;if(b.orientation!==a){b.orientation=a;b.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(a,b){var c=this.getCollapseTarget(),d=c.placeholder,e;if(Ext.isFunction(c.expand)&&Ext.isFunction(c.collapse)){if(d&&!d.hidden){e=true}else{e=!c.hidden}if(e){if(c.collapsed){c.expand()}else if(c.collapseDirection){c.collapse()}else{c.collapse(this.renderData.collapseDir)}}}},setSize:function(){var a=this;a.callParent(arguments);if(Ext.isIE&&a.el){a.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});Ext.define("Ext.resizer.BorderSplitter",{extend:Ext.resizer.Splitter,alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a}});Ext.define("Ext.layout.container.Border",{extend:Ext.layout.container.Container,alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzMarginProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(a,b,c){var d=this,e=d.axisProps[c],f=!e.horizontal,g=e.sizeProp,h=0,i=a.childItems,j=i.length,k,l,m,n,o,p,q,r,s,t,u;for(l=0;l<j;++l){m=i[l];o=m.target;m.layoutPos={};if(o.region){m.region=p=o.region;m.isCenter=o.isCenter;m.isHorz=o.isHorz;m.isVert=o.isVert;m.weight=o.weight||d.regionWeights[p]||0;b[o.id]=m;if(o.isCenter){k=m;n=o.flex;a.centerRegion=k;continue}if(f!==m.isVert){continue}m.reverseWeighting=p==e.borderEnd;r=o[g];s=typeof r;if(!o.collapsed){if(s=="string"&&(q=d.percentageRe.exec(r))){m.percentage=parseInt(q[1],10)}else if(o.flex){h+=m.flex=o.flex}}}}if(k){t=k.target;if(u=t.placeholderFor){if(!n&&f===u.collapsedVertical()){n=0;k.collapseAxis=c}}else if(t.collapsed&&f===t.collapsedVertical()){n=0;k.collapseAxis=c}}if(n==null){n=1}h+=n;return Ext.apply({before:f?"top":"left",totalFlex:h},e)},beginLayout:function(a){var b=this,c=b.getLayoutItems(),d=b.padding,e=typeof d,f=false,g,h,i,j,k,l,m,n,o;if(d){if(e=="string"||e=="number"){d=Ext.util.Format.parseBox(d)}}else{d=a.getEl("getTargetEl").getPaddingInfo();f=true}a.outerPad=d;a.padOnContainer=f;for(j=0,i=c.length;j<i;++j){h=c[j];l=b.getSplitterTarget(h);if(l){m=undefined;n=!!h.hidden;if(!l.split){if(l.isCollapsingOrExpanding){m=!!l.collapsed}}else if(n!==l.hidden){m=!l.hidden}if(m){h.show()}else if(m===false){h.hide()}}}b.callParent(arguments);c=a.childItems;i=c.length;k={};a.borderAxisHorz=b.beginAxis(a,k,"horz");a.borderAxisVert=b.beginAxis(a,k,"vert");for(j=0;j<i;++j){g=c[j];l=b.getSplitterTarget(g.target);if(l){o=k[l.id];if(!o){o=a.getEl(l.el,b);o.region=l.region}g.collapseTarget=l=o;g.weight=l.weight;g.reverseWeighting=l.reverseWeighting;l.splitter=g;g.isHorz=l.isHorz;g.isVert=l.isVert}}b.sortWeightedItems(c,"reverseWeighting");b.setupSplitterNeighbors(c)},calculate:function(a){var b=this,c=b.getContainerSize(a),d=a.childItems,e=d.length,f=a.borderAxisHorz,g=a.borderAxisVert,h=a.outerPad,i=a.padOnContainer,j,k,l,m,n,o;f.begin=h[b.padOnContainerProp];g.begin=h.top;n=f.end=f.flexSpace=c.width+(i?h[b.padOnContainerProp]:-h[b.padNotOnContainerProp]);o=g.end=g.flexSpace=c.height+(i?h.top:-h.bottom);for(j=0;j<e;++j){k=d[j];l=k.getMarginInfo();if(k.isHorz||k.isCenter){f.addUnflexed(l.width);n-=l.width}if(k.isVert||k.isCenter){g.addUnflexed(l.height);
o-=l.height}if(!k.flex&&!k.percentage){if(k.isHorz||k.isCenter&&k.collapseAxis==="horz"){m=k.getProp("width");f.addUnflexed(m);if(k.collapseTarget){n-=m}}else if(k.isVert||k.isCenter&&k.collapseAxis==="vert"){m=k.getProp("height");g.addUnflexed(m);if(k.collapseTarget){o-=m}}}}for(j=0;j<e;++j){k=d[j];l=k.getMarginInfo();if(k.percentage){if(k.isHorz){m=Math.ceil(n*k.percentage/100);m=k.setWidth(m);f.addUnflexed(m)}else if(k.isVert){m=Math.ceil(o*k.percentage/100);m=k.setHeight(m);g.addUnflexed(m)}}}for(j=0;j<e;++j){k=d[j];if(!k.isCenter){b.calculateChildAxis(k,f);b.calculateChildAxis(k,g)}}if(b.finishAxis(a,g)+b.finishAxis(a,f)<2){b.done=false}else{b.finishPositions(d)}},calculateChildAxis:function(a,b){var c=a.collapseTarget,d="set"+b.sizePropCap,e=b.sizeProp,f=a.getMarginInfo()[e],g,h,i,j,k;if(c){g=c.region}else{g=a.region;i=a.flex}h=g==b.borderBegin;if(!h&&g!=b.borderEnd){a[d](b.end-b.begin-f);j=b.begin}else{if(i){k=Math.ceil(b.flexSpace*(i/b.totalFlex));k=a[d](k)}else if(a.percentage){k=a.peek(e)}else{k=a.getProp(e)}k+=f;if(h){j=b.begin;b.begin+=k}else{b.end=j=b.end-k}}a.layoutPos[b.posProp]=j},finishAxis:function(a,b){var c=b.end-b.begin,d=a.centerRegion;if(d){d["set"+b.sizePropCap](c-d.getMarginInfo()[b.sizeProp]);d.layoutPos[b.posProp]=b.begin}return Ext.isNumber(c)?1:0},finishPositions:function(a){var b=a.length,c,d,e=this.horzMarginProp;for(c=0;c<b;++c){d=a[c];d.setProp("x",d.layoutPos.x+d.marginInfo[e]);d.setProp("y",d.layoutPos.y+d.marginInfo.top)}},getLayoutItems:function(){var a=this.owner,b=a&&a.items&&a.items.items||[],c=b.length,d=[],e=0,f,g;for(;e<c;e++){f=b[e];g=f.placeholderFor;if(f.hidden||(!f.floated||f.isCollapsingOrExpanding===2)&&!(g&&g.isCollapsingOrExpanding===2)){d.push(f)}}return d},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(a){var b=a.collapseTarget;if(b&&b.collapsed){return b.placeholder||b}return b},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},insertSplitter:function(a,b,c,d){var e=a.region,f=Ext.apply({xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:c,canResize:a.splitterResize!==false,splitterFor:a},d),g=b+(e==="south"||e==="east"?0:1);if(a.collapseMode==="mini"){f.collapsedCls=a.collapsedCls}a.splitter=this.owner.add(g,f)},onAdd:function(a,b){var c=this,d=a.placeholderFor,e=a.region,f,g,h;c.callParent(arguments);if(e){Ext.apply(a,c.regionFlags[e]);if(a.initBorderRegion){a.initBorderRegion()}if(e==="center"){c.centerRegion=a}else{f=a.split;g=!!a.hidden;if(typeof f==="object"){h=f;f=true}if((a.isHorz||a.isVert)&&(f||a.collapseMode=="mini")){c.insertSplitter(a,b,g||!f,h)}}if(!a.hasOwnProperty("collapseMode")){a.collapseMode=c.panelCollapseMode}if(!a.hasOwnProperty("animCollapse")){if(a.collapseMode!=="placeholder"){a.animCollapse=false}else{a.animCollapse=c.panelCollapseAnimate}}}else if(d){Ext.apply(a,c.regionFlags[d.region]);a.region=d.region;a.weight=d.weight}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(a){var b=this,c=a.region,d=a.splitter;if(c){if(a.isCenter){b.centerRegion=null}delete a.isCenter;delete a.isHorz;delete a.isVert;if(d){b.owner.doRemove(d,true);delete a.splitter}}b.callParent(arguments)},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(a){var b={},c=a.length,d=this.touchedRegions,e,f,g,h,i,j,k,l,m;for(e=0;e<c;++e){j=a[e].target;k=j.region;if(j.isCenter){g=j}else if(k){m=d[k];for(f=0,h=m.length;f<h;++f){i=b[m[f]];if(i){i.neighbors.push(j)}}if(j.placeholderFor){l=j.placeholderFor.splitter}else{l=j.splitter}if(l){l.neighbors=[]}b[k]=l}}if(g){m=d.center;for(f=0,h=m.length;f<h;++f){i=b[m[f]];if(i){i.neighbors.push(g)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a){var b=this,c=this.sizePolicies,d,e,f,g;if(a.isCenter){g=a.placeholderFor;if(g){if(g.collapsedVertical()){return c.vert}return c.horz}if(a.collapsed){if(a.collapsedVertical()){return c.vert}return c.horz}return c.flexAll}d=a.collapseTarget;if(d){return d.isVert?c.vert:c.horz}if(a.region){if(a.isVert){e=a.height;f=c.vert}else{e=a.width;f=c.horz}if(a.flex||typeof e=="string"&&b.percentageRe.test(e)){return c.flexAll}return f}return b.autoSizePolicy}},function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)});Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var a=this,b=a.getActiveItem();if(b){if(b.hasListeners.beforeactivate&&b.fireEvent("beforeactivate",b)===false){b=a.activeItem=a.owner.activeItem=null}else if(b.hasListeners.activate){b.on({boxready:function(){b.fireEvent("activate",b)},single:true})}if(a.deferredRender){if(b){return a.getItemsRenderTree([b])}}else{return a.callParent(arguments)}}},renderChildren:function(){var a=this,b=a.getActiveItem();if(!a.deferredRender){a.callParent()}else if(b){a.renderItems([b],a.getRenderTarget())}},isValidParent:function(a,b,c){var d=a.el?a.el.dom:Ext.getDom(a);return d&&d.parentNode===(b.dom||b)||false},getActiveItem:function(){var a=this,b=a.parseActiveItem(a.activeItem||a.owner&&a.owner.activeItem);if(b&&a.owner.items.indexOf(b)!=-1){a.activeItem=b}else{a.activeItem=null}return a.activeItem},parseActiveItem:function(a){if(a&&a.isComponent){return a}else if(typeof a=="number"||a===undefined){return this.getLayoutItems()[a||0]}else{return this.owner.getComponent(a)}},configureItem:function(a){if(a===this.getActiveItem()){a.hidden=false}else{a.hidden=true}this.callParent(arguments)},onRemove:function(a){var b=this;if(a===b.activeItem){b.activeItem=null}},getAnimation:function(a,b){var c=(a||{}).cardSwitchAnimation;if(c===false){return false}return c||b.cardSwitchAnimation},getNext:function(){var a=arguments[0],b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c+1]||(a?b[0]:false)},next:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getNext(b),a)},getPrev:function(){var a=arguments[0],b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c-1]||(a?b[b.length-1]:false)},prev:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(a){var b=this,c=b.owner,d=b.activeItem,e=c.rendered,f;a=b.parseActiveItem(a);f=c.items.indexOf(a);if(f==-1){f=c.items.items.length;Ext.suspendLayouts();a=c.add(a);Ext.resumeLayouts()}if(a&&d!=a){if(a.fireEvent("beforeactivate",a,d)===false){return false}if(d&&d.fireEvent("beforedeactivate",d,a)===false){return false}if(e){Ext.suspendLayouts();if(!a.rendered){b.renderItem(a,b.getRenderTarget(),c.items.length)}if(d){if(b.hideInactive){d.hide();d.hiddenByLayout=true}d.fireEvent("deactivate",d,a)}if(a.hidden){a.show()}if(!a.hidden){b.activeItem=a}Ext.resumeLayouts(true)}else{b.activeItem=a}a.fireEvent("activate",a,d);return b.activeItem}return false}});Ext.define("Ext.layout.container.Column",{extend:Ext.layout.container.Auto,alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:true,manageOverflow:true,isItemShrinkWrap:function(a){return true},getItemSizePolicy:function(a,b){if(a.columnWidth){if(!b){b=this.owner.getSizeModel()}if(!b.width.shrinkWrap){return this.columnWidthSizePolicy}}return this.autoSizePolicy},calculateItems:function(a,b){var c=this,d=a.targetContext,e=a.childItems,f=e.length,g=0,h=b.gotWidth,i,j,k,l,m,n;if(h===false){d.domBlock(c,"width");i=true}else if(h){j=b.width}else{return true}for(k=0;k<f;++k){l=e[k];m=l.getMarginInfo().width;if(!l.widthModel.calculated){n=l.getProp("width");if(typeof n!="number"){l.block(c,"width");i=true}g+=n+m}}if(!i){j=j<g?0:j-g;for(k=0;k<f;++k){l=e[k];if(l.widthModel.calculated){m=l.marginInfo.width;n=l.target.columnWidth;n=Math.floor(n*j)-m;n=l.setWidth(n);g+=n+m}}a.setContentWidth(g+a.paddingContext.getPaddingInfo().width)}return!i},setCtSizeIfNeeded:function(a,b){var c=this,d=a.paddingContext.getPaddingInfo();c.callParent(arguments);if((Ext.isIEQuirks||Ext.isIE7m)&&c.isShrinkWrapTpl&&d.right){a.outerCtContext.setProp("width",b.width+d.left)}}});Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",createsInnerCt:true,manageOverflow:true,lastOverflowAdjust:{width:0,height:0},childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var a=this.callParent();a.tableCls=this.tableCls;return a},calculate:function(a){var b=this,c=b.getContainerSize(a,true),d,e,f=0,g,h=a.sizeModel.height.shrinkWrap;if(h){if(a.hasDomProp("containerChildrenSizeDone")){a.setProp("contentHeight",b.formTable.dom.offsetHeight+a.targetContext.getPaddingInfo().height)}else{b.done=false}}if(c.gotWidth){d=b.formTable.dom.offsetWidth;e=a.childItems;for(g=e.length;f<g;++f){e[f].setWidth(d,false)}}else{b.done=false}},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var a=this,b=a.callParent(arguments),c,d;for(c=0,d=b.length;c<d;c++){b[c]=a.transformItemRenderTree(b[c])}return b},transformItemRenderTree:function(a){if(a.tag&&a.tag=="table"){a.tag="tbody";delete a.cellspacing;delete a.cellpadding;if(Ext.isIE6){a.cn=this.padRow}return a}return{tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:a}}}},isValidParent:function(a,b,c){return true},isItemShrinkWrap:function(a){return(a.shrinkWrap===true?3:a.shrinkWrap||0)&2},getItemSizePolicy:function(a){return{setsWidth:1,setsHeight:0}},beginLayoutCycle:function(a,b){var c=this.overflowPadderEl;if(c){c.setStyle("display","none")}if(!a.state.overflowAdjust){a.state.overflowAdjust=this.lastOverflowAdjust}},calculateOverflow:function(a,b,c){var d=this,e=a.targetContext,f=d.manageOverflow,g=a.state,h=g.overflowAdjust,i,j,k,l,m,n,o,p,q,r,s,t,u;if(f&&!g.secondPass&&!d.reserveScrollbar){t=d.getOverflowXStyle(a)==="auto";u=d.getOverflowYStyle(a)==="auto";if(!b.gotWidth){t=false}if(!b.gotHeight){u=false}if(t||u){n=Ext.getScrollbarSize();o=a.peek("contentWidth");p=a.peek("contentHeight");l=e.getPaddingInfo();o-=l.width;p-=l.height;q=b.width;r=b.height;s=d.getScrollbarsNeeded(q,r,o,p);g.overflowState=s;if(typeof c=="number"){s&=~c}h={width:t&&s&2?n.width:0,height:u&&s&1?n.height:0};if(h.width!==d.lastOverflowAdjust.width||h.height!==d.lastOverflowAdjust.height){d.done=false;a.invalidate({state:{overflowAdjust:h,overflowState:g.overflowState,secondPass:true}})}}}if(!d.done){return}k=a.padElContext||(a.padElContext=a.getEl("overflowPadderEl",d));if(k){s=g.overflowState;i=a.peek("contentWidth");j=1;if(s){l=e.getPaddingInfo();m=d.scrollRangeFlags;if(s&2&&m&1){j+=l.bottom}if(s&1&&m&4){i+=l.right}k.setProp("display","");k.setSize(i,j)}else{k.setProp("display","none")}}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadder:function(a,b){var c=b.$layout,d=c.owner,e=c.getScrollRangeFlags();if(c.manageOverflow){if(e&5){a.push('<div id="',d.id,'-overflowPadderEl" ','style="font-size: 1px; height: 1px; margin-top: -1px; position: relative; z-index: -99999');a.push('"></div>');c.scrollRangeFlags=e}}},getContainerSize:function(a,b,c){var d=a.targetContext,e=d.getFrameInfo(),f=d.getPaddingInfo(),g=0,h=0,i=c?null:a.state.overflowAdjust,j,k,l,m;if(!a.widthModel.shrinkWrap){++h;l=b?d.getDomProp("width"):d.getProp("width");j=typeof l=="number";if(j){++g;l-=e.width+f.width;if(i){l-=i.width}}}if(!a.heightModel.shrinkWrap){++h;m=b?d.getDomProp("height"):d.getProp("height");k=typeof m=="number";if(k){++g;m-=e.height+f.height;if(i){m-=i.height}}}return{width:l,height:m,needed:h,got:g,gotAll:g==h,gotWidth:j,gotHeight:k}},getOverflowXStyle:function(a){var b=this;return b.overflowXStyle||(b.overflowXStyle=b.owner.scrollFlags.overflowX||a.targetContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){var b=this;return b.overflowYStyle||(b.overflowYStyle=b.owner.scrollFlags.overflowY||a.targetContext.getStyle("overflow-y"))},getScrollRangeFlags:function(){var a=-1;return function(){if(a<0){var b=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),c=b.dom.scrollHeight,d=b.dom.scrollWidth,e={175:0,165:1,170:2,160:3},f={175:0,165:4,170:8,160:12};a=(e[c]||0)|(f[d]||0);b.remove()}return a}}(),initLayout:function(){var a=this,b=Ext.getScrollbarSize().width;a.callParent();if(b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")){if(a.owner.scrollFlags.y||a.reserveScrollbar){a.lastOverflowAdjust={width:b,height:0}}}},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadder=this.doRenderPadder}});Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",mixins:{queryable:Ext.Queryable},activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:0,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,isMenuItem:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:false,activate:function(){var a=this;if(!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()){a.el.addCls(a.activeCls);a.focus();a.activated=true;a.fireEvent("activate",a)}},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this;if(a.activated){a.el.removeCls(a.activeCls);a.blur();a.hideMenu();a.activated=false;a.fireEvent("deactivate",a)}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){a=this.up(":not([hidden])");if(a){a.focus()}}},expandMenu:function(a){var b=this;if(b.menu){b.cancelDeferHide();if(a===0){b.doExpandMenu()}else{clearTimeout(b.expandMenuTimer);b.expandMenuTimer=Ext.defer(b.doExpandMenu,Ext.isNumber(a)?a:b.menuExpandDelay,b)}}},doExpandMenu:function(){var a=this,b=a.menu;if(a.activated&&(!b.rendered||!b.isVisible())){a.parentMenu.activeChild=b;b.parentItem=a;b.parentMenu=a.parentMenu;b.showBy(a,a.menuAlign)}},getRefItems:function(a){var b=this.menu,c;if(b){c=b.getRefItems(a);c.unshift(b)}return c||[]},hideMenu:function(a){var b=this;if(b.menu){clearTimeout(b.expandMenuTimer);b.hideMenuTimer=Ext.defer(b.deferHideMenu,Ext.isNumber(a)?a:b.menuHideDelay,b)}},initComponent:function(){var a=this,b=Ext.baseCSSPrefix,c=[b+"menu-item"],d;a.addEvents("activate","click","deactivate","textchange","iconchange");if(a.plain){c.push(b+"menu-item-plain")}if(a.cls){c.push(a.cls)}a.cls=c.join(" ");if(a.menu){d=a.menu;delete a.menu;a.setMenu(d)}a.callParent(arguments)},onClick:function(a){var b=this,c=b.clickHideDelay;if(!b.href){a.stopEvent()}if(b.disabled){return}if(b.hideOnClick){if(!c){b.deferHideParentMenus()}else{b.deferHideParentMenusTimer=Ext.defer(b.deferHideParentMenus,c,b)}}Ext.callback(b.handler,b.scope||b,[b,a]);b.fireEvent("click",b,a);if(!b.hideOnClick){b.focus()}},onRemoved:function(){var a=this;if(a.activated&&a.parentMenu.activeItem===a){a.parentMenu.deactivateActiveItem()}a.callParent(arguments);a.parentMenu=a.ownerButton=null},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}a.callParent()},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer);a.cancelDeferHide();clearTimeout(a.deferHideParentMenusTimer);a.setMenu(null);a.callParent(arguments)},beforeRender:function(){var a=this,b=Ext.BLANK_IMAGE_URL,c=a.glyph,d=Ext._glyphFontFamily,e,f,g;a.callParent();if(a.iconAlign==="right"){f=a.checkChangeDisabled?a.disabledCls:"";g=Ext.baseCSSPrefix+"menu-item-icon-right "+a.iconCls}else{f=(a.iconCls||"")+(a.checkChangeDisabled?" "+a.disabledCls:"");g=a.menu?a.arrowCls:""}if(typeof c==="string"){e=c.split("@");c=e[0];d=e[1]}Ext.applyIf(a.renderData,{href:a.href||"#",hrefTarget:a.hrefTarget,icon:a.icon,iconCls:f,glyph:c,glyphCls:c?Ext.baseCSSPrefix+"menu-item-glyph":undefined,glyphFontFamily:d,hasIcon:!!(a.icon||a.iconCls||c),iconAlign:a.iconAlign,plain:a.plain,text:a.text,arrowCls:g,blank:b,tabIndex:a.tabIndex})},onRender:function(){var a=this;a.callParent(arguments);if(a.tooltip){a.setTooltip(a.tooltip,true)}},setMenu:function(a,b){var c=this,d=c.menu,e=c.arrowEl;if(d){delete d.parentItem;delete d.parentMenu;delete d.ownerItem;if(b===true||b!==false&&c.destroyMenu){Ext.destroy(d)}}if(a){c.menu=Ext.menu.Manager.get(a);c.menu.ownerItem=c}else{c.menu=null}if(c.rendered&&!c.destroying&&e){e[c.menu?"addCls":"removeCls"](c.arrowCls)}},setHandler:function(a,b){this.handler=a||null;this.scope=b},setIcon:function(a){var b=this.iconEl,c=this.icon;if(b){b.src=a||Ext.BLANK_IMAGE_URL}this.icon=a;this.fireEvent("iconchange",this,c,a)},setIconCls:function(a){var b=this,c=b.iconEl,d=b.iconCls;if(c){if(b.iconCls){c.removeCls(b.iconCls)}if(a){c.addCls(a)}}b.iconCls=a;b.fireEvent("iconchange",b,d,a)},setText:function(a){var b=this,c=b.textEl||b.el,d=b.text;b.text=a;if(b.rendered){c.update(a||"");b.ownerCt.updateLayout()}b.fireEvent("textchange",b,d,a)},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(a,b){var c=this;if(c.rendered){if(!b){c.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(a)){Ext.tip.QuickTipManager.register(Ext.apply({target:c.itemEl.id},a));c.tooltip=a}else{c.itemEl.dom.setAttribute(c.getTipAttr(),a)}}else{c.tooltip=a}return c}});Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,checkChangeDisabled:false,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:true,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){var a=this;a.checked=!!a.checked;a.addEvents("beforecheckchange","checkchange");a.callParent(arguments);Ext.menu.Manager.registerCheckable(a);if(a.group){a.showCheckbox=false;if(!(a.iconCls||a.icon||a.glyph)){a.iconCls=a.groupCls}if(a.initialConfig.hideOnClick!==false){a.hideOnClick=true}}},beforeRender:function(){this.callParent();this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){var a=this;a.callParent();a.checked=!a.checked;a.setChecked(!a.checked,true);if(a.checkChangeDisabled){a.disableCheckChange()}},disableCheckChange:function(){var a=this,b=a.checkEl;if(b){b.addCls(a.disabledCls)}if(!(Ext.isIE10p||Ext.isIE9&&Ext.isStrict)&&a.rendered){a.el.repaint()}a.checkChangeDisabled=true},enableCheckChange:function(){var a=this,b=a.checkEl;if(b){b.removeCls(a.disabledCls)}a.checkChangeDisabled=false},onClick:function(a){var b=this;if(!b.disabled&&!b.checkChangeDisabled&&!(b.checked&&b.group)){b.setChecked(!b.checked)}this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(a,b){var c=this;if(c.checked!==a&&(b||c.fireEvent("beforecheckchange",c,a)!==false)){if(c.el){c.el[a?"addCls":"removeCls"](c.checkedCls)[!a?"addCls":"removeCls"](c.uncheckedCls)}c.checked=a;Ext.menu.Manager.onCheckChange(c,a);if(!b){Ext.callback(c.checkHandler,c.scope,[c,a]);c.fireEvent("checkchange",c,a)}}}});Ext.define("Ext.menu.KeyNav",{extend:Ext.util.KeyNav,constructor:function(a){var b=this;b.menu=a.target;b.callParent([Ext.apply({down:b.down,enter:b.enter,esc:b.escape,left:b.left,right:b.right,space:b.enter,tab:b.tab,up:b.up},a)])},down:function(a){var b=this,c=b.menu.focusedItem;if(c&&a.getKey()==Ext.EventObject.DOWN&&b.isWhitelisted(c)){return true}b.focusNextItem(1)},enter:function(a){var b=this.menu,c=b.focusedItem;if(b.activeItem){b.onClick(a)}else if(c&&c.isFormField){return true}},escape:function(a){Ext.menu.Manager.hideAll()},focusNextItem:function(a){var b=this.menu,c=b.items,d=b.focusedItem,e=d?c.indexOf(d):-1,f=e+a,g=c.length,h=0,i;while(h<g&&f!==e){if(f<0){f=g-1}else if(f>=g){f=0}i=c.getAt(f);if(b.canActivateItem(i)){b.setActiveItem(i);break}f+=a;++h}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(a){var b=this.menu,c=b.focusedItem;if(c&&this.isWhitelisted(c)){return true}b.hide();if(b.parentMenu){b.parentMenu.focus()}},right:function(a){var b=this.menu,c=b.focusedItem,d=b.activeItem,e;if(c&&this.isWhitelisted(c)){return true}if(d){e=b.activeItem.menu;if(e){d.expandMenu(0);e.setActiveItem(e.child(":focusable"))}}},tab:function(a){var b=this;if(a.shiftKey){b.up(a)}else{b.down(a)}},up:function(a){var b=this,c=b.menu.focusedItem;if(c&&a.getKey()==Ext.EventObject.UP&&b.isWhitelisted(c)){return true}b.focusNextItem(-1)}});Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",canActivate:false,focusable:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(a,b){var c=this;c.callParent();c.addCls(c.separatorCls)}});Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,initComponent:function(){var a=this,b=Ext.baseCSSPrefix,c=[b+"menu"],d=a.bodyCls?[a.bodyCls]:[],e=a.floating!==false;a.addEvents("click","mouseenter","mouseleave","mouseover");Ext.menu.Manager.register(a);if(a.plain){c.push(b+"menu-plain")}a.cls=c.join(" ");d.push(b+"menu-body",Ext.dom.Element.unselectableCls);a.bodyCls=d.join(" ");if(!a.layout){a.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}}if(e){if(a.minWidth===undefined){a.minWidth=a.defaultMinWidth}}else{a.hidden=!!a.initialConfig.hidden;a.constrain=false}a.callParent(arguments)},registerWithOwnerCt:function(){if(this.floating){this.ownerCt=null;Ext.WindowManager.register(this)}},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var a=this.callParent();a.hidden=this.hidden;return a},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align="stretch"}},onBoxReady:function(){var a=this;a.callParent(arguments);if(a.showSeparator){a.iconSepEl=a.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})}a.mon(a.el,{click:a.onClick,mouseover:a.onMouseOver,scope:a});a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a);if(a.enableKeyNav){a.keyNav=new Ext.menu.KeyNav({target:a,keyMap:a.getKeyMap()})}},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(a){var b=this,c=b.activeItem,d=b.focusedItem;if(c){c.deactivate();if(!c.activated){delete b.activeItem}}if(d&&a){d.blur();delete b.focusedItem}},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){var b=this;if(typeof a=="string"){a=b.lookupItemFromString(a)}else if(Ext.isObject(a)){a=b.lookupItemFromObject(a)}a.minWidth=a.minWidth||b.minWidth;return a},lookupItemFromObject:function(a){var b=this,c=Ext.baseCSSPrefix,d;if(!a.isComponent){if(!a.xtype){a=Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a)}else{a=Ext.ComponentManager.create(a,a.xtype)}}if(a.isMenuItem){a.parentMenu=b}if(!a.isMenuItem&&!a.dock){d=[c+"menu-item-cmp"];if(!b.plain&&(a.indent!==false||a.iconCls==="no-icon")){d.push(c+"menu-item-indent")}if(a.rendered){a.el.addCls(d)}else{a.cls=(a.cls||"")+" "+d.join(" ")}}return a},lookupItemFromString:function(a){return a=="separator"||a=="-"?new Ext.menu.Separator:new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:a})},onClick:function(a){var b=this,c;if(b.disabled){a.stopEvent();return}c=a.type==="click"?b.getItemFromEvent(a):b.activeItem;if(c&&c.isMenuItem){if(!c.menu||!b.ignoreParentClicks){c.onClick(a)}else{a.stopEvent()}}if(!c||c.disabled){c=undefined}b.fireEvent("click",b,c,a)},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a);a.parentMenu=a.ownerButton=null;if(a.rendered){a.el.un(a.mouseMonitor);Ext.destroy(a.keyNav);a.keyNav=null}a.callParent(arguments)},onMouseLeave:function(a){var b=this;b.deactivateActiveItem();if(b.disabled){return}b.fireEvent("mouseleave",b,a)},onMouseOver:function(a){var b=this,c=a.getRelatedTarget(),d=!b.el.contains(c),e=b.getItemFromEvent(a),f=b.parentMenu,g=b.parentItem;if(d&&f){f.setActiveItem(g);g.cancelDeferHide();f.mouseMonitor.mouseenter()}if(b.disabled){return}if(e&&!e.activated){b.setActiveItem(e);if(e.activated&&e.expandMenu){e.expandMenu()}}if(d){b.fireEvent("mouseenter",b,a)}b.fireEvent("mouseover",b,e,a)},setActiveItem:function(a){var b=this;if(a&&a!=b.activeItem){b.deactivateActiveItem();if(b.canActivateItem(a)){if(a.activate){a.activate();if(a.activated){b.activeItem=a;b.focusedItem=a;b.focus()}}else{a.focus();b.focusedItem=a}}a.el.scrollIntoView(b.layout.getRenderTarget())}},showBy:function(a,b,c){var d=this;d.callParent(arguments);if(!d.hidden){d.setVerticalPosition()}return d},beforeShow:function(){var a=this,b;if(a.floating){a.savedMaxHeight=a.maxHeight;b=a.container.getViewSize().height;a.maxHeight=Math.min(a.maxHeight||b,b)}a.callParent(arguments)},afterShow:function(){var a=this;a.callParent(arguments);if(a.floating){a.maxHeight=a.savedMaxHeight}},setVerticalPosition:function(){var a=this,b,c=a.getY(),d=c,e=a.getHeight(),f=Ext.Element.getViewportHeight().height,g=a.el.parent(),h=g.getViewSize().height,i=c-g.getScroll().top;g=null;if(a.floating){b=a.maxHeight?a.maxHeight:h-i;if(e>h){d=c-i}else if(b<e){d=c-(e-b)}else if(c+e>f){d=f-e}}a.setY(d)}});Ext.define("Ext.menu.ColorPicker",{extend:Ext.menu.Menu,alias:"widget.colormenu",hideOnClick:true,pickerId:null,initComponent:function(){var a=this,b=Ext.apply({},a.initialConfig);delete b.listeners;Ext.apply(a,{plain:true,showSeparator:false,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:a.pickerId,xtype:"colorpicker"},b)});a.callParent(arguments);a.picker=a.down("colorpicker");a.relayEvents(a.picker,["select"]);if(a.hideOnClick){a.on("select",a.hidePickerOnSelect,a)}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.menu.DatePicker",{extend:Ext.menu.Menu,alias:"widget.datemenu",hideOnClick:true,pickerId:null,initComponent:function(){var a=this,b=Ext.apply({},a.initialConfig);delete b.listeners;Ext.apply(a,{showSeparator:false,plain:true,border:false,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:a.pickerId,xtype:"datepicker"},b)});a.callParent(arguments);a.picker=a.down("datepicker");a.relayEvents(a.picker,["select"]);if(a.hideOnClick){a.on("select",a.hidePickerOnSelect,a)}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.panel.Tool",{extend:Ext.Component,alias:"widget.tool",isTool:true,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img role="presentation" id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}'+'{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,height:15,width:15,initComponent:function(){var a=this;a.addEvents("click");a.type=a.type||a.id;Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type});a.tooltip=a.tooltip||a.qtip;a.callParent()},afterRender:function(){var a=this,b;a.callParent(arguments);a.el.on({click:a.onClick,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,scope:a});if(a.tooltip){if(Ext.quickTipsActive&&Ext.isObject(a.tooltip)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.id},a.tooltip))}else{b=a.tooltipType=="qtip"?"data-qtip":"title";a.el.dom.setAttribute(b,a.tooltip)}}},getFocusEl:function(){return this.el},setType:function(a){var b=this,c=b.type;b.type=a;if(b.rendered){if(c){b.toolEl.removeCls(b.baseCls+"-"+c)}b.toolEl.addCls(b.baseCls+"-"+a)
}else{b.renderData.type=a}return b},onClick:function(a,b){var c=this;if(c.disabled){return false}c.el.removeCls(c.toolPressedCls);c.el.removeCls(c.toolOverCls);if(c.stopEvent!==false){a.stopEvent()}if(c.handler){Ext.callback(c.handler,c.scope||c,[a,b,c.ownerCt,c])}else if(c.callback){Ext.callback(c.callback,c.scope||c,[c.toolOwner||c.ownerCt,c,a])}c.fireEvent("click",c,a);return true},onDestroy:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.id)}this.callParent()},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}});Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling(":not([hidden])")},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling(":not([hidden])")},onBeforeStart:function(a){var b=this,c=b.getPrevCmp(),d=b.getNextCmp(),e=b.getSplitter().collapseEl,f=a.getTarget(),g;if(!c||!d){return false}if(e&&f===b.getSplitter().collapseEl.dom){return false}if(d.collapsed||c.collapsed){return false}b.prevBox=c.getEl().getBox();b.nextBox=d.getEl().getBox();b.constrainTo=g=b.calculateConstrainRegion();if(!g){return false}return g},onStart:function(a){var b=this.getSplitter();this.createDragOverlay();b.addCls(b.baseCls+"-active")},calculateConstrainRegion:function(){var a=this,b=a.getSplitter(),c=b.getWidth(),d=b.defaultSplitMin,e=b.orientation,f=a.prevBox,g=a.getPrevCmp(),h=a.nextBox,i=a.getNextCmp(),j,k,l;if(e==="vertical"){l={prevCmp:g,nextCmp:i,prevBox:f,nextBox:h,defaultMin:d,splitWidth:c};j=new Ext.util.Region(f.y,a.getVertPrevConstrainRight(l),f.bottom,a.getVertPrevConstrainLeft(l));k=new Ext.util.Region(h.y,a.getVertNextConstrainRight(l),h.bottom,a.getVertNextConstrainLeft(l))}else{j=new Ext.util.Region(f.y+(g.minHeight||d),f.right,(g.maxHeight?f.y+g.maxHeight:h.bottom-(i.minHeight||d))+c,f.x);k=new Ext.util.Region((i.maxHeight?h.bottom-i.maxHeight:f.y+(g.minHeight||d))-c,h.right,h.bottom-(i.minHeight||d),h.x)}return j.intersect(k)},performResize:function(a,b){var c=this,d=c.getSplitter(),e=d.orientation,f=c.getPrevCmp(),g=c.getNextCmp(),h=d.ownerCt,i=h.query(">[flex]"),j=i.length,k=e==="vertical",l=0,m=k?"width":"height",n=0,o,p;for(;l<j;l++){o=i[l];p=k?o.getWidth():o.getHeight();n+=p;o.flex=p}b=k?b[0]:b[1];if(f){p=c.prevBox[m]+b;if(f.flex){f.flex=p}else{f[m]=p}}if(g){p=c.nextBox[m]-b;if(g.flex){g.flex=p}else{g[m]=p}}h.updateLayout()},endDrag:function(){var a=this;if(a.overlay){a.overlay.remove();delete a.overlay}a.callParent(arguments)},onEnd:function(a){var b=this,c=b.getSplitter();c.removeCls(c.baseCls+"-active");b.performResize(a,b.getResizeOffset())},onDrag:function(a){var b=this,c=b.getOffset("dragTarget"),d=b.getSplitter(),e=d.getEl(),f=d.orientation;if(f==="vertical"){e.setX(b.startRegion.left+c[0])}else{e.setY(b.startRegion.top+c[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}});Ext.define("Ext.resizer.BorderSplitterTracker",{extend:Ext.resizer.SplitterTracker,getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var a=this,b=a.splitter,c=b.collapseTarget,d=b.defaultSplitMin,e=b.vertical?"Width":"Height",f="min"+e,g="max"+e,h="get"+e,i=b.neighbors,j=i.length,k=c.el.getBox(),l=k.x,m=k.y,n=k.right,o=k.bottom,p=b.vertical?n-l:o-m,q,r,s,t,u,v,w;s=(c[f]||Math.min(p,d))-p;t=c[g];if(!t){t=1e9}else{t-=p}w=p;for(q=0;q<j;++q){r=i[q];p=r[h]();u=p-r[g];v=p-(r[f]||Math.min(p,d));if(!isNaN(u)){if(s<u){s=u}}if(t>v){t=v}}if(t-s<2){return null}k=new Ext.util.Region(m,n,o,l);a.constraintAdjusters[a.getCollapseDirection()](k,s,t,b);a.dragInfo={minRange:s,maxRange:t,targetSize:w};return k},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b;a.right+=c+d.getWidth()},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b;a.bottom+=c+d.getHeight()},bottom:function(a,b,c,d){a.bottom=a.top-b;a.top-=c+d.getHeight()},right:function(a,b,c,d){a.right=a.left-b;a[0]=a.x=a.left=a.x-c+d.getWidth()}},onBeforeStart:function(a){var b=this,c=b.splitter,d=c.collapseTarget,e=c.neighbors,f=b.getSplitter().collapseEl,g=a.getTarget(),h=e.length,i,j;if(f&&g===c.collapseEl.dom){return false}if(d.collapsed){return false}for(i=0;i<h;++i){j=e[i];if(j.collapsed&&j.isHorz===d.isHorz){return false}}if(!(b.constrainTo=b.calculateConstrainRegion())){return false}return true},performResize:function(a,b){var c=this,d=c.splitter,e=d.getCollapseDirection(),f=d.collapseTarget,g=c.splitAdjusters[d.vertical?"horz":"vert"],h=b[g.index],i=c.dragInfo,j;if(e=="right"||e=="bottom"){h=-h}h=Math.min(Math.max(i.minRange,h),i.maxRange);if(h){(j=d.ownerCt).suspendLayouts();g.adjustTarget(f,i.targetSize,h);j.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null;a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null;a.setSize(undefined,b+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}});Ext.define("Ext.resizer.Handle",{extend:Ext.Component,handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){var a=this;a.callParent();a.protoEl.unselectable();a.addCls(a.baseHandleCls,a.baseHandleCls+"-"+a.region,a.handleCls)}});Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var b=this,c,d,e;if(!a.el){if(a.target.isComponent){b.el=a.target.getEl()}else{b.el=a.target}}this.callParent(arguments);if(b.preserveRatio&&b.minWidth&&b.minHeight){c=b.minWidth/b.el.getWidth();d=b.minHeight/b.el.getHeight();if(d>c){b.minWidth=b.el.getWidth()*d}else{b.minHeight=b.el.getHeight()*c}}if(b.throttle){e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments)},b.throttle);b.resize=function(a,c,d){if(d){Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments)}else{e.apply(null,arguments)}}}},onBeforeStart:function(a){this.startBox=this.target.getBox()},getDynamicTarget:function(){var a=this,b=a.target;if(a.dynamic){return b}else if(!a.proxy){a.proxy=a.createProxy(b)}a.proxy.show();return a.proxy},createProxy:function(a){var b,c=this.proxyCls;if(a.isComponent){b=a.getProxy().addCls(c)}else{b=a.createProxy({tag:"div",cls:c,id:a.id+"-rzproxy"},Ext.getBody())}b.removeCls(Ext.baseCSSPrefix+"proxy-el");return b},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox,{horizontal:"none",vertical:"none"})}},onDrag:function(a){if(this.dynamic||this.proxy){this.updateDimensions(a)}},updateDimensions:function(a,b){var c=this,d=c.activeResizeHandle.region,e=c.getOffset(c.constrainTo?"dragTarget":null),f=c.startBox,g,h=0,i=0,j,k,l=0,m=0,n,o=e[0]<0?"right":"left",p=e[1]<0?"down":"up",q,r,s,t,u;d=c.convertRegionName(d);switch(d){case"south":i=e[1];r=2;break;case"north":i=-e[1];m=-i;r=2;break;case"east":h=e[0];r=1;break;case"west":h=-e[0];l=-h;r=1;break;case"northeast":i=-e[1];m=-i;h=e[0];q=[f.x,f.y+f.height];r=3;break;case"southeast":i=e[1];h=e[0];q=[f.x,f.y];r=3;break;case"southwest":h=-e[0];l=-h;i=e[1];q=[f.x+f.width,f.y];r=3;break;case"northwest":i=-e[1];m=-i;h=-e[0];l=-h;q=[f.x+f.width,f.y+f.height];r=3;break}s={width:f.width+h,height:f.height+i,x:f.x+l,y:f.y+m};j=Ext.Number.snap(s.width,c.widthIncrement);k=Ext.Number.snap(s.height,c.heightIncrement);if(j!=s.width||k!=s.height){switch(d){case"northeast":s.y-=k-s.height;break;case"north":s.y-=k-s.height;break;case"southwest":s.x-=j-s.width;break;case"west":s.x-=j-s.width;break;case"northwest":s.x-=j-s.width;s.y-=k-s.height}s.width=j;s.height=k}if(s.width<c.minWidth||s.width>c.maxWidth){s.width=Ext.Number.constrain(s.width,c.minWidth,c.maxWidth);if(l){s.x=f.x+(f.width-s.width)}}else{c.lastX=s.x}if(s.height<c.minHeight||s.height>c.maxHeight){s.height=Ext.Number.constrain(s.height,c.minHeight,c.maxHeight);if(m){s.y=f.y+(f.height-s.height)}}else{c.lastY=s.y}if(c.preserveRatio||a.shiftKey){g=c.startBox.width/c.startBox.height;t=Math.min(Math.max(c.minHeight,s.width/g),c.maxHeight);u=Math.min(Math.max(c.minWidth,s.height*g),c.maxWidth);if(r==1){s.height=t}else if(r==2){s.width=u}else{n=Math.abs(q[0]-this.lastXY[0])/Math.abs(q[1]-this.lastXY[1]);if(n>g){s.height=t}else{s.width=u}if(d=="northeast"){s.y=f.y-(s.height-f.height)}else if(d=="northwest"){s.y=f.y-(s.height-f.height);s.x=f.x-(s.width-f.width)}else if(d=="southwest"){s.x=f.x-(s.width-f.width)}}}if(i===0){p="none"}if(h===0){o="none"}c.resize(s,{horizontal:o,vertical:p},b)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(a,b,c){var d=this,e=d.getResizeTarget(c);e.setBox(a);if(d.originalTarget&&(d.dynamic||c)){d.originalTarget.setBox(a)}},onEnd:function(a){this.updateDimensions(a,true);if(this.proxy){this.proxy.hide()}},convertRegionName:function(a){return a}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(a){var b=this,c,d,e,f=b.handles,g,h,i,j=0,k,l=[],m,n,o,p,q=Ext.dom.Element.unselectableCls;b.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(a)||Ext.isElement(a)||a.dom){c=a;a=arguments[1]||{};a.target=c}b.mixins.observable.constructor.call(b,a);c=b.target;if(c){if(c.isComponent){c.addClsWithUI("resizable");b.el=c.getEl();if(c.minWidth){b.minWidth=c.minWidth}if(c.minHeight){b.minHeight=c.minHeight}if(c.maxWidth){b.maxWidth=c.maxWidth}if(c.maxHeight){b.maxHeight=c.maxHeight}if(c.floating){if(!b.hasOwnProperty("handles")){b.handles="n ne e se s sw w nw"}}}else{b.el=b.target=Ext.get(c)}}else{b.target=b.el=Ext.get(b.el)}e=b.el.dom.tagName.toUpperCase();if(e=="TEXTAREA"||e=="IMG"||e=="TABLE"){b.originalTarget=b.target;d=b.el;o=d.getBox();b.target=b.el=b.el.wrap({cls:b.wrapCls,id:b.el.id+"-rzwrap",style:d.getStyles("margin-top","margin-bottom")});b.el.setPositioning(d.getPositioning());d.clearPositioning();b.el.setBox(o);d.setStyle("position","absolute")}b.el.position();if(b.pinned){b.el.addCls(b.pinnedCls)}b.resizeTracker=new Ext.resizer.ResizeTracker({disabled:b.disabled,target:b.target,constrainTo:b.constrainTo,overCls:b.overCls,throttle:b.throttle,originalTarget:b.originalTarget,delegate:"."+b.handleCls,dynamic:b.dynamic,preserveRatio:b.preserveRatio,heightIncrement:b.heightIncrement,widthIncrement:b.widthIncrement,minHeight:b.minHeight,maxHeight:b.maxHeight,minWidth:b.minWidth,maxWidth:b.maxWidth});b.resizeTracker.on({mousedown:b.onBeforeResize,drag:b.onResize,dragend:b.onResizeEnd,scope:b});if(b.handles=="all"){b.handles="n s e w ne nw se sw"}f=b.handles=b.handles.split(b.delimiterRe);h=b.possiblePositions;i=f.length;g=b.handleCls+" "+b.handleCls+"-{0}";if(b.target.isComponent){p=b.target.baseCls;g+=" "+p+"-handle "+p+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){g+=" "+p+"-handle-{0}-br"}}m=Ext.isIE6?' style="height:'+b.el.getHeight()+'px"':"";for(;j<i;j++){if(f[j]&&h[f[j]]){k=h[f[j]];if(k==="east"||k==="west"){n=m}else{n=""}l.push('<div id="',b.el.id,"-",k,'-handle"',' class="',Ext.String.format(g,k)," ",q,'"',' unselectable="on"',n,"></div>")}}Ext.DomHelper.append(b.el,l.join(""));for(j=0;j<i;j++){if(f[j]&&h[f[j]]){k=h[f[j]];b[k]=b.el.getById(b.el.id+"-"+k+"-handle");b[k].region=k;if(b.transparent){b[k].setOpacity(0)}}}if(Ext.isNumber(b.width)){b.width=Ext.Number.constrain(b.width,b.minWidth,b.maxWidth)}if(Ext.isNumber(b.height)){b.height=Ext.Number.constrain(b.height,b.minHeight,b.maxHeight)}if(b.width!==null||b.height!==null){if(b.originalTarget){b.originalTarget.setWidth(b.width);b.originalTarget.setHeight(b.height)}b.resizeTo(b.width,b.height)}b.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,b){var c=this.el.getBox();return this.fireEvent("beforeresize",this,c.width,c.height,b)},onResize:function(a,b){var c=this,d=c.el.getBox();c.forceHandlesHeight();return c.fireEvent("resizedrag",c,d.width,d.height,b)},onResizeEnd:function(a,b){var c=this,d=c.el.getBox();c.forceHandlesHeight();return c.fireEvent("resize",c,d.width,d.height,b)},resizeTo:function(a,b){var c=this;c.target.setSize(a,b);c.fireEvent("resize",c,a,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var a=this,b,c=a.handles,d=c.length,e=a.possiblePositions,f;a.resizeTracker.destroy();for(b=0;b<d;b++){if(f=a[e[c[b]]]){f.remove()}}},forceHandlesHeight:function(){var a=this,b;if(Ext.isIE6){b=a.east;if(b){b.setHeight(a.el.getHeight())}b=a.west;if(b){b.setHeight(a.el.getHeight())}a.el.repaint()}}});Ext.define("Ext.selection.CellModel",{extend:Ext.selection.Model,alias:"selection.cellmodel",isCellModel:true,enableKeyNav:true,preventWrap:false,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(a){var b=this,c=a.ownerCt;b.primaryView=a;b.views=b.views||[];b.views.push(a);b.bindStore(a.getStore(),true);a.on({cellmousedown:b.onMouseDown,refresh:b.onViewRefresh,scope:b});if(c.optimizedColumnMove!==false){c.on("columnmove",b.onColumnMove,b)}if(b.enableKeyNav){b.initKeyNav(a)}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,tab:b.onKeyTab,scope:b})},getHeaderCt:function(){var a=this.getCurrentPosition(),b=a?a.view:this.primaryView;return b.headerCt},onKeyUp:function(a){this.doMove("up",a)},onKeyDown:function(a){this.doMove("down",a)},onKeyLeft:function(a){this.doMove("left",a)},onKeyRight:function(a){this.doMove("right",a)},doMove:function(a,b){this.keyNavigation=true;this.move(a,b);this.keyNavigation=false},onVetoUIEvent:Ext.emptyFn,select:function(a,b,c){var d=this,e,f=d.getCurrentPosition(),g=d.view.store;if(a||a===0){if(a.isModel){e=g.indexOf(a);if(e!==-1){a={row:e,column:f?f.column:0}}else{a=null}}else if(typeof a==="number"){a={row:a,column:0}}}if(a){d.selectByPosition(a,c)}else{d.deselect()}},deselect:function(a,b){this.selectByPosition(null,b)},move:function(a,b){var c=this,d=c.getCurrentPosition(),e;if(d){e=d.view.walkCells(d,a,b,c.preventWrap);if(e){e.view=d.view;return c.setCurrentPosition(e)}}},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(a,b){var c=this,d=c.selection;c.lastSelection=d;if(d){if(a&&(a.record===d.record&&a.columnHeader===d.columnHeader&&a.view===d.view)){a=null}else{c.onCellDeselect(c.selection,b)}}if(a){c.nextSelection=new Ext.grid.CellContext(c.primaryView).setPosition(a);c.selecting=true;c.onCellSelect(c.nextSelection,b);c.selecting=false;return c.selection=c.nextSelection}},isCellSelected:function(a,b,c){var d=this,e,f=d.getCurrentPosition();if(f&&f.view===a){e=new Ext.grid.CellContext(a).setPosition({row:b,column:c});return e.record===f.record&&e.columnHeader===f.columnHeader}},onStoreRemove:function(a,b,c){var d=this,e=d.getCurrentPosition(),f,g=b.length,h,i=0;d.callParent(arguments);if(e){if(c[0]>e.row){return}for(f=0;f<g;f++){h=c[f];if(h<e.row){i++}else{break}}if(i){e.setRow(e.row-i)}}},onMouseDown:function(a,b,c,d,e,f,g){if(f!==-1){this.setCurrentPosition({view:a,row:e,column:c})}},onCellSelect:function(a,b){if(a&&a.row!==undefined&&a.row>-1){this.doSelect(a.record,false,b)}},onCellDeselect:function(a,b){if(a&&a.row!==undefined){this.doDeselect(a.record,b)}},onSelectChange:function(a,b,c,d){var e=this,f,g,h;if(b){f=e.nextSelection;g="select"}else{f=e.lastSelection||e.noSelection;g="deselect"}h=f.view||e.primaryView;if((c||e.fireEvent("before"+g,e,a,f.row,f.column))!==false&&d()!==false){if(b){h.focusRow(a,true);h.onCellSelect(f)}else{h.onCellDeselect(f);delete e.selection}if(!c){e.fireEvent(g,e,a,f.row,f.column)}}},onKeyTab:function(a,b){var c=this,d=c.getCurrentPosition(),e;if(d){e=d.view.editingPlugin;if(e&&c.wasEditing){c.onEditorTab(e,a)}else{c.move(a.shiftKey?"left":"right",a)}}},onEditorTab:function(a,b){var c=this,d=b.shiftKey?"left":"right",e=c.move(d,b);if(e){if(a.startEdit(e.record,e.columnHeader)){c.wasEditing=false}else{c.wasEditing=true}}},refresh:function(){var a=this.getCurrentPosition(),b;if(a&&(b=this.store.indexOf(this.selected.last()))!==-1){a.row=b}},onColumnMove:function(a,b,c,d){var e=a.up("tablepanel");if(e){this.onViewRefresh(e.view)}},onUpdate:function(a){var b=this,c;if(b.isSelected(a)){c=b.selecting?b.nextSelection:b.selection;b.view.onCellSelect(c)}},onViewRefresh:function(a){var b=this,c=b.getCurrentPosition(),d=a.headerCt,e,f;if(c&&c.view===a){e=c.record;f=c.columnHeader;if(!f.isDescendantOf(d)){f=d.queryById(f.id)||d.down('[text="'+f.text+'"]')||d.down('[dataIndex="'+f.dataIndex+'"]')}if(f&&a.store.indexOfId(e.getId())!==-1){b.setCurrentPosition({row:e,column:f,view:a})}}},selectByPosition:function(a,b){this.setCurrentPosition(a,b)}});Ext.define("Ext.selection.RowModel",{extend:Ext.selection.Model,alias:"selection.rowmodel",deltaScroll:5,enableKeyNav:true,ignoreRightMouseSelection:false,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.views=[];this.callParent(arguments)},bindComponent:function(a){var b=this;a.on({itemmousedown:b.onRowMouseDown,itemclick:b.onRowClick,scope:b});if(b.enableKeyNav){b.initKeyNav(a)}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:true,eventName:"itemkeydown",processEvent:function(a,b,c,d,e){e.record=b;e.recordIndex=d;return e},up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,pageDown:b.onKeyPageDown,pageUp:b.onKeyPageUp,home:b.onKeyHome,end:b.onKeyEnd,space:b.onKeySpace,enter:b.onKeyEnter,scope:b})},onUpdate:function(a){var b=this,c=b.view,d;if(c&&b.isSelected(a)){d=c.indexOf(a);c.onRowSelect(d);if(a===b.lastFocused){c.onRowFocus(d,true)}}},getRowsVisible:function(){var a=false,b=this.views[0],c=b.all.first(),d,e;if(c){d=c.getHeight();e=b.el.getHeight();a=Math.floor(e/d)}return a},onKeyEnd:function(a){var b=this,c=b.views[0];if(c.bufferedRenderer){c.bufferedRenderer.scrollTo(b.store.getCount()-1,false,function(c,d){b.afterKeyNavigate(a,d)})}else{b.afterKeyNavigate(a,c.getRecord(c.all.getCount()-1))}},onKeyHome:function(a){var b=this,c=b.views[0];if(c.bufferedRenderer){c.bufferedRenderer.scrollTo(0,false,function(c,d){b.afterKeyNavigate(a,d)})}else{b.afterKeyNavigate(a,c.getRecord(0))}},onKeyPageUp:function(a){var b=this,c=b.views[0],d=b.getRowsVisible(),e,f;if(d){if(c.bufferedRenderer){e=Math.max(a.recordIndex-d,0);(b.lastKeyEvent||(b.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(a.browserEvent);c.bufferedRenderer.scrollTo(e,false,b.afterBufferedScrollTo,b)}else{f=c.walkRecs(a.record,-d);b.afterKeyNavigate(a,f)}}},onKeyPageDown:function(a){var b=this,c=b.views[0],d=b.getRowsVisible(),e,f;if(d){if(c.bufferedRenderer){e=Math.min(a.recordIndex+d,b.store.getCount()-1);(b.lastKeyEvent||(b.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(a.browserEvent);c.bufferedRenderer.scrollTo(e,false,b.afterBufferedScrollTo,b)}else{f=c.walkRecs(a.record,d);b.afterKeyNavigate(a,f)}}},onKeySpace:function(a){var b=this.lastFocused;if(b){this.afterKeyNavigate(a,b)}},onKeyEnter:Ext.emptyFn,onKeyUp:function(a){var b=this.views[0].walkRecs(a.record,-1);if(b){this.afterKeyNavigate(a,b)}},onKeyDown:function(a){var b=this.views[0].walkRecs(a.record,1);if(b){this.afterKeyNavigate(a,b)}},afterBufferedScrollTo:function(a,b){this.afterKeyNavigate(this.lastKeyEvent,b)},scrollByDeltaX:function(a){var b=this.views[0],c=b.up(),d=c.horizontalScroller;if(d){d.scrollByDeltaX(a)}},onKeyLeft:function(a){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(a){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(a,b,c,d,e){var f=this;if(d!==-1){if(!f.allowRightMouseSelection(e)){return}if(!f.isSelected(b)){f.mousedownAction=true;f.processSelection(a,b,c,d,e)}else{f.mousedownAction=false}}},onVetoUIEvent:function(a,b,c,d,e,f,g){if(a=="mousedown"){this.mousedownAction=!this.isSelected(g)}},onRowClick:function(a,b,c,d,e){if(this.mousedownAction){this.mousedownAction=false}else{this.processSelection(a,b,c,d,e)}},processSelection:function(a,b,c,d,e){this.selectWithEvent(b,e)},allowRightMouseSelection:function(a){var b=this.ignoreRightMouseSelection&&a.button!==0;if(b){b=this.hasSelection()}return!b},onSelectChange:function(a,b,c,d){var e=this,f=e.views,g=f.length,h=f[0].indexOf(a),i=b?"select":"deselect",j=0;if((c||e.fireEvent("before"+i,e,a,h))!==false&&d()!==false){for(;j<g;j++){if(b){f[j].onRowSelect(h,c)}else{f[j].onRowDeselect(h,c)}}if(!c){e.fireEvent(i,e,a,h)}}},onLastFocusChanged:function(a,b,c){var d=this.views,e=d.length,f,g=0;if(a){f=d[0].indexOf(a);if(f!=-1){for(;g<e;g++){d[g].onRowFocus(f,false,true)}}}if(b){f=d[0].indexOf(b);if(f!=-1){for(g=0;g<e;g++){d[g].onRowFocus(f,true,c)}}}this.callParent(arguments)},onEditorTab:function(a,b){var c=this,d=c.views[0],e=a.getActiveRecord(),f=a.getActiveColumn(),g=d.getPosition(e,f),h=b.shiftKey?"left":"right";do{g=d.walkCells(g,h,b,c.preventWrap)}while(g&&(!g.columnHeader.getEditor(e)||!a.startEditByPosition(g)))},getCurrentPosition:function(){var a=this.selected.items[0];if(a){return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(a),0)}},selectByPosition:function(a){this.select(this.store.getAt(a.row))},selectNext:function(a,b){var c=this,d=c.store,e=c.getSelection(),f=e[e.length-1],g=c.views[0].indexOf(f)+1,h;if(g===d.getCount()||g===0){h=false}else{c.doSelect(g,a,b);h=true}return h},selectPrevious:function(a,b){var c=this,d=c.getSelection(),e=d[0],f=c.views[0].indexOf(e)-1,g;if(f<0){g=false}else{c.doSelect(f,a,b);g=true}return g},isRowSelected:function(a,b){return this.isSelected(a)}});Ext.define("Ext.selection.TreeModel",{extend:Ext.selection.RowModel,alias:"selection.treemodel",constructor:function(a){this.callParent(arguments);if(this.pruneRemoved){this.pruneRemoved=false;this.pruneRemovedNodes=true}},bindStore:function(a,b){var c=this;c.callParent(arguments);if(c.pruneRemovedNodes){c.view.mon(c.treeStore,{remove:c.onNodeRemove,scope:c})}},onNodeRemove:function(a,b,c){if(!c){this.deselectDeletedRecords([b])}},onKeyRight:function(a,b){this.navExpand(a,b)},navExpand:function(a,b){var c=this.getLastFocused(),d=this.view;if(c){if(c.isExpanded()){this.onKeyDown(a,b)}else if(c.isExpandable()){if(!d.isTreeView){d=d.lockingPartner}d.expand(c)}}},onKeyLeft:function(a,b){this.navCollapse(a,b)},navCollapse:function(a,b){var c=this,d=this.getLastFocused(),e=this.view,f;if(d){f=d.parentNode;if(d.isExpanded()){if(!e.isTreeView){e=e.lockingPartner}e.collapse(d)}else if(f&&!f.isRoot()){if(a.shiftKey){c.selectRange(f,d,a.ctrlKey,"up");c.setLastFocused(f)}else if(a.ctrlKey){c.setLastFocused(f)}else{c.select(f)}}}},onKeySpace:function(a,b){if(a.record.data.checked!=null){this.toggleCheck(a)}else{this.callParent(arguments)}},onKeyEnter:function(a,b){if(a.record.data.checked!=null){this.toggleCheck(a)}else{this.callParent(arguments)}},toggleCheck:function(a){var b=this.view,c=this.getLastSelected();a.stopEvent();if(c){if(!b.isTreeView){b=b.lockingPartner}b.onCheckChange(c)}}});Ext.define("Ext.slider.Thumb",{topZIndex:1e4,constructor:function(a){var b=this;Ext.apply(b,a||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:false});b.callParent([a])},render:function(){var a=this;a.el=a.slider.innerEl.insertFirst(a.getElConfig());a.onRender()},onRender:function(){if(this.disabled){this.disable()}this.initEvents()},getElConfig:function(){var a=this,b=a.slider,c={};c[b.vertical?"bottom":b.horizontalProp]=b.calculateThumbPosition(b.normalizeValue(a.value))+"%";return{style:c,id:this.id,cls:this.cls}},move:function(a,b){var c=this,d=c.el,e=c.slider,f=e.vertical?"bottom":e.horizontalProp,g,h;a+="%";if(!b){d.dom.style[f]=a}else{g={};g[f]=a;if(!Ext.supports.GetPositionPercentage){h={};h[f]=d.dom.style[f]}new Ext.fx.Anim({target:d,duration:350,from:h,to:g})}},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var a=this;a.disabled=false;if(a.el){a.el.removeCls(a.slider.disabledCls)}},disable:function(){var a=this;a.disabled=true;if(a.el){a.el.addCls(a.slider.disabledCls)}},initEvents:function(){var a=this,b=a.el;a.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(a.onBeforeDragStart,a),onStart:Ext.Function.bind(a.onDragStart,a),onDrag:Ext.Function.bind(a.onDrag,a),onEnd:Ext.Function.bind(a.onDragEnd,a),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"});a.tracker.initEl(b)},onBeforeDragStart:function(a){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(a){var b=this,c=b.slider;c.onDragStart(b,a);b.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag");b.dragging=b.slider.dragging=true;b.dragStartValue=b.value;c.fireEvent("dragstart",c,a,b)},onDrag:function(a){var b=this,c=b.slider,d=b.index,e=b.getValueFromTracker(),f,g;if(e!==undefined){if(b.constrain){f=c.thumbs[d+1];g=c.thumbs[d-1];if(g!==undefined&&e<=g.value){e=g.value}if(f!==undefined&&e>=f.value){e=f.value}}c.setValue(d,e,false);c.fireEvent("drag",c,a,b)}},getValueFromTracker:function(){var a=this.slider,b=a.getTrackpoint(this.tracker.getXY());if(b!==undefined){return a.reversePixelValue(b)}},onDragEnd:function(a){var b=this,c=b.slider,d=b.value;c.onDragEnd(b,a);b.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag");b.dragging=c.dragging=false;c.fireEvent("dragend",c,a);if(b.dragStartValue!=d){c.fireEvent("changecomplete",c,d,b)}},destroy:function(){Ext.destroy(this.tracker)}});Ext.define("Ext.slider.Tip",{extend:Ext.tip.Tip,minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:true,init:function(a){var b=this,c,d;if(!b.position){b.position=a.vertical?b.defaultVerticalPosition:b.defaultHorizontalPosition}switch(b.position){case"top":d=[0,-10];c="b-t?";break;case"bottom":d=[0,10];c="t-b?";break;case"left":d=[-10,0];c="r-l?";break;case"right":d=[10,0];c="l-r?"}if(!b.align){b.align=c}if(!b.offsets){b.offsets=d}a.on({scope:b,dragstart:b.onSlide,drag:b.onSlide,dragend:b.hide,destroy:b.destroy})},onSlide:function(a,b,c){var d=this;d.show();d.update(d.getText(c));d.el.alignTo(c.el,d.align,d.offsets)},getText:function(a){return String(a.value)}});Ext.define("Ext.slider.Multi",{extend:Ext.form.field.Base,alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}","{childElCls}",'" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(a,b){var c=b.$comp,d=0,e=c.thumbs,f=e.length,g,h;for(;d<f;d++){g=e[d];h=g.getElConfig();h.id=c.id+"-thumb-"+d;Ext.DomHelper.generateMarkup(h,a)}},disableFormats:true}],horizontalProp:"left",vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,componentLayout:"sliderfield",useTips:true,tipText:null,ariaRole:"slider",initValue:function(){var a=this,b=Ext.value,c=b(a.values,[b(a.value,b(a.minValue,0))]),d=0,e=c.length;a.originalValue=c;for(;d<e;d++){a.addThumb(c[d])}},initComponent:function(){var a=this,b,c,d,e,f;a.thumbs=[];a.keyIncrement=Math.max(a.increment,a.keyIncrement);a.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");a.callParent();if(a.useTips){if(Ext.isObject(a.useTips)){b=Ext.apply({},a.useTips)}else{b=a.tipText?{getText:a.tipText}:{}}f=a.plugins=a.plugins||[];e=f.length;for(d=0;d<e;d++){if(f[d].isSliderTip){c=true;break}}if(!c){a.plugins.push(new Ext.slider.Tip(b))}}},addThumb:function(a){var b=this,c=new Ext.slider.Thumb({ownerCt:b,ownerLayout:b.getComponentLayout(),value:a,slider:b,index:b.thumbs.length,constrain:b.constrainThumbs,disabled:!!b.readOnly});b.thumbs.push(c);if(b.rendered){c.render()}return c},promoteThumb:function(a){var b=this.thumbs,c=b.length,d,e,f;for(f=0;f<c;f++){e=b[f];if(e==a){e.bringToFront()}else{e.sendToBack()}}},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{$comp:a,vertical:a.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:a.minValue,maxValue:a.maxValue,value:a.value,childElCls:""})},onRender:function(){var a=this,b=a.thumbs,c=b.length,d=0,e;a.callParent(arguments);for(d=0;d<c;d++){e=b[d];e.el=a.el.getById(a.id+"-thumb-"+d);e.onRender()}},initEvents:function(){var a=this;a.mon(a.el,{scope:a,mousedown:a.onMouseDown,keydown:a.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(a){var b=this,c=b.vertical,d=b.innerEl,e,f,g;if(c){g="top";e=d.getHeight()}else{g=b.horizontalProp;e=d.getWidth()}a=b.transformTrackPoints(d.translatePoints(a));f=Ext.Number.constrain(a[g],0,e);return c?e-f:f},transformTrackPoints:Ext.identityFn,onMouseDown:function(a){var b=this,c=false,d=0,e=b.thumbs,f=e.length,g;if(b.disabled){return}for(;d<f;d++){c=c||a.target==e[d].el.dom}if(b.clickToChange&&!c){g=b.getTrackpoint(a.getXY());if(g!==undefined){b.onClickChange(g)}}b.focus()},onClickChange:function(a){var b=this,c,d;c=b.getNearest(a);if(!c.disabled){d=c.index;b.setValue(d,Ext.util.Format.round(b.reversePixelValue(a),b.decimalPrecision),undefined,true)}},getNearest:function(a){var b=this,c=b.reversePixelValue(a),d=b.getRange()+5,e=null,f=b.thumbs,g=0,h=f.length,i,j,k;for(;g<h;g++){i=b.thumbs[g];j=i.value;k=Math.abs(j-c);if(Math.abs(k<=d)){e=i;d=k}}return e},onKeyDown:function(a){var b=this,c,d;if(b.disabled||b.thumbs.length!==1){a.preventDefault();return}c=a.getKey();switch(c){case a.UP:case a.RIGHT:a.stopEvent();d=a.ctrlKey?b.maxValue:b.getValue(0)+b.keyIncrement;b.setValue(0,d,undefined,true);break;case a.DOWN:case a.LEFT:a.stopEvent();d=a.ctrlKey?b.minValue:b.getValue(0)-b.keyIncrement;b.setValue(0,d,undefined,true);break;default:a.preventDefault()}},normalizeValue:function(a){var b=this,c=b.zeroBasedSnapping?"snap":"snapInRange";a=Ext.Number[c](a,b.increment,b.minValue,b.maxValue);
a=Ext.util.Format.round(a,b.decimalPrecision);a=Ext.Number.constrain(a,b.minValue,b.maxValue);return a},setMinValue:function(a){var b=this,c=b.thumbs,d=c.length,e,f;b.minValue=a;if(b.rendered){b.inputEl.dom.setAttribute("aria-valuemin",a)}for(f=0;f<d;++f){e=c[f];if(e.value<a){b.setValue(f,a,false)}}b.syncThumbs()},setMaxValue:function(a){var b=this,c=b.thumbs,d=c.length,e,f;b.maxValue=a;if(b.rendered){b.inputEl.dom.setAttribute("aria-valuemax",a)}for(f=0;f<d;++f){e=c[f];if(e.value>a){b.setValue(f,a,false)}}b.syncThumbs()},setValue:function(a,b,c,d){var e=this,f=e.thumbs,g,h,i,j;if(Ext.isArray(a)){j=a;c=b;for(i=0,h=j.length;i<h;++i){g=f[i];if(g){e.setValue(i,j[i],c)}}return e}g=e.thumbs[a];b=e.normalizeValue(b);if(b!==g.value&&e.fireEvent("beforechange",e,b,g.value,g)!==false){g.value=b;if(e.rendered){e.inputEl.set({"aria-valuenow":b,"aria-valuetext":b});g.move(e.calculateThumbPosition(b),Ext.isDefined(c)?c!==false:e.animate);e.fireEvent("change",e,b,g);e.checkDirty();if(d){e.fireEvent("changecomplete",e,b,g)}}}return e},calculateThumbPosition:function(a){var b=this,c=b.minValue,d=(a-c)/b.getRange()*100;if(isNaN(d)){d=c}return d},getRatio:function(){var a=this,b=a.innerEl,c=a.vertical?b.getHeight():b.getWidth(),d=a.getRange();return d===0?c:c/d},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(a){return this.minValue+a/this.getRatio()},reversePercentageValue:function(a){return this.minValue+this.getRange()*(a/100)},onDisable:function(){var a=this,b=0,c=a.thumbs,d=c.length,e,f,g;a.callParent();for(;b<d;b++){e=c[b];f=e.el;e.disable();if(Ext.isIE){g=f.getXY();f.hide();a.innerEl.addCls(a.disabledCls).dom.disabled=true;if(!a.thumbHolder){a.thumbHolder=a.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+a.disabledCls})}a.thumbHolder.show().setXY(g)}}},onEnable:function(){var a=this,b=0,c=a.thumbs,d=c.length,e,f;this.callParent();for(;b<d;b++){e=c[b];f=e.el;e.enable();if(Ext.isIE){a.innerEl.removeCls(a.disabledCls).dom.disabled=false;if(a.thumbHolder){a.thumbHolder.hide()}f.show();a.syncThumbs()}}},syncThumbs:function(){if(this.rendered){var a=this.thumbs,b=a.length,c=0;for(;c<b;c++){a[c].move(this.calculateThumbPosition(a[c].value))}}},getValue:function(a){return Ext.isNumber(a)?this.thumbs[a].value:this.getValues()},getValues:function(){var a=[],b=0,c=this.thumbs,d=c.length;for(;b<d;b++){a.push(c[b].value)}return a},getSubmitValue:function(){var a=this;return a.disabled||!a.submitValue?null:a.getValue()},reset:function(){var a=this,b=[].concat(a.originalValue),c=0,d=b.length,e;for(;c<d;c++){e=b[c];a.setValue(c,e)}a.clearInvalid();delete a.wasValid},setReadOnly:function(a){var b=this,c=b.thumbs,d=c.length,e=0;b.callParent(arguments);a=b.readOnly;for(;e<d;++e){if(a){c[e].disable()}else{c[e].enable()}}},beforeDestroy:function(){var a=this,b=a.thumbs,c=0,d=b.length,e;Ext.destroy(a.innerEl,a.endEl,a.focusEl);for(;c<d;c++){e=b[c];Ext.destroy(e)}a.callParent()}});Ext.define("Ext.tab.Tab",{extend:Ext.button.Button,alias:"widget.tab",isTab:true,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:true,closeText:"Close Tab",active:false,childEls:["closeEl"],scale:false,position:"top",initComponent:function(){var a=this;a.addEvents("activate","deactivate","beforeclose","close");a.callParent(arguments);if(a.card){a.setCard(a.card)}a.overCls=["over",a.position+"-over"]},getTemplateArgs:function(){var a=this,b=a.callParent();b.closable=a.closable;b.closeText=a.closeText;return b},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var a=this,b=a.up("tabbar"),c=a.up("tabpanel");a.callParent();a.addClsWithUI(a.position);if(a.active){a.addClsWithUI([a.activeCls,a.position+"-"+a.activeCls])}a.syncClosableUI();if(!a.minWidth){a.minWidth=b?b.minTabWidth:a.minWidth;if(!a.minWidth&&c){a.minWidth=c.minTabWidth}if(a.minWidth&&a.iconCls){a.minWidth+=25}}if(!a.maxWidth){a.maxWidth=b?b.maxTabWidth:a.maxWidth;if(!a.maxWidth&&c){a.maxWidth=c.maxTabWidth}}},onRender:function(){var a=this;a.setElOrientation();a.callParent(arguments);if(a.closable){a.closeEl.addClsOnOver(a.closeElOverCls)}a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,del:a.onDeleteKey,scope:a})},setElOrientation:function(){var a=this.position;if(a==="left"||a==="right"){this.el.setVertical(a==="right"?90:270)}},enable:function(a){var b=this;b.callParent(arguments);b.removeClsWithUI(b.position+"-disabled");return b},disable:function(a){var b=this;b.callParent(arguments);b.addClsWithUI(b.position+"-disabled");return b},onDestroy:function(){var a=this;Ext.destroy(a.keyNav);delete a.keyNav;a.callParent(arguments)},setClosable:function(a){var b=this;a=!arguments.length||!!a;if(b.closable!=a){b.closable=a;if(b.card){b.card.closable=a}b.syncClosableUI();if(b.rendered){b.syncClosableElements();b.updateLayout()}}},syncClosableElements:function(){var a=this,b=a.closeEl;if(a.closable){if(!b){b=a.closeEl=a.btnWrap.insertSibling({tag:"a",cls:a.baseCls+"-close-btn",href:"#",title:a.closeText},"after")}b.addClsOnOver(a.closeElOverCls)}else if(b){b.remove();delete a.closeEl}},syncClosableUI:function(){var a=this,b=[a.closableCls,a.closableCls+"-"+a.position];if(a.closable){a.addClsWithUI(b)}else{a.removeClsWithUI(b)}},setCard:function(a){var b=this;b.card=a;b.setText(b.title||a.title);b.setIconCls(b.iconCls||a.iconCls);b.setIcon(b.icon||a.icon);b.setGlyph(b.glyph||a.glyph)},onCloseClick:function(){var a=this;if(a.fireEvent("beforeclose",a)!==false){if(a.tabBar){if(a.tabBar.closeTab(a)===false){return}}else{a.fireClose()}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(a){var b=this;if(b.tabBar){b.tabBar.onClick(a,b.el)}},onDeleteKey:function(a){if(this.closable){this.onCloseClick()}},activate:function(a){var b=this;b.active=true;b.addClsWithUI([b.activeCls,b.position+"-"+b.activeCls]);if(a!==true){b.fireEvent("activate",b)}},deactivate:function(a){var b=this;b.active=false;b.removeClsWithUI([b.activeCls,b.position+"-"+b.activeCls]);if(a!==true){b.fireEvent("deactivate",b)}}});Ext.define("Ext.util.Point",{extend:Ext.util.Region,statics:{fromEvent:function(a){a=a.browserEvent||a;a=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(a,b){if(!Ext.isObject(b)){b={x:b,y:b}}return this.x<=a.x+b.x&&this.x>=a.x-b.x&&this.y<=a.y+b.y&&this.y>=a.y-b.y},isContainedBy:function(a){if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a).getRegion()}return a.contains(this)},roundedEquals:function(a){return Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});Ext.define("Ext.tab.Bar",{extend:Ext.panel.Header,alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",isTabBar:true,defaultType:"tab",plain:false,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">',"</div>"],_reverseDockNames:{left:"right",right:"left"},initComponent:function(){var a=this;if(a.plain){a.addCls(a.baseCls+"-plain")}a.addClsWithUI(a.orientation);a.addEvents("change");a.callParent(arguments);Ext.merge(a.layout,a.initialConfig.layout);a.layout.align=a.orientation=="vertical"?"left":"top";a.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(a.layout);a.remove(a.titleCmp);delete a.titleCmp;Ext.apply(a.renderData,{bodyCls:a.bodyCls,dock:a.dock})},onRender:function(){var a=this;a.callParent();if(a.orientation==="vertical"&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){a.el.on({mousemove:a.onMouseMove,scope:a})}},afterRender:function(){var a=this.layout;this.callParent();if(Ext.isIE9&&Ext.isStrict&&this.orientation==="vertical"){a.innerCt.on("scroll",function(){a.innerCt.dom.scrollLeft=0})}},afterLayout:function(){this.adjustTabPositions();this.callParent(arguments)},adjustTabPositions:function(){var a=this.items.items,b=a.length,c;if(!Ext.isIE9m){if(this.dock==="right"){while(b--){c=a[b];if(c.isVisible()){c.el.setStyle("left",c.lastBox.width+"px")}}}else if(this.dock==="left"){while(b--){c=a[b];if(c.isVisible()){c.el.setStyle("left",-c.lastBox.height+"px")}}}}},getLayout:function(){var a=this;a.layout.type=a.orientation==="horizontal"?"hbox":"vbox";return a.callParent(arguments)},onAdd:function(a){a.position=this.dock;this.callParent(arguments)},onRemove:function(a){var b=this;if(a===b.previousTab){b.previousTab=null}b.callParent(arguments)},afterComponentLayout:function(a){var b=this,c=b.needsScroll;b.callParent(arguments);if(c){b.layout.overflowHandler.scrollToItem(b.activeTab)}delete b.needsScroll},onClick:function(a,b){var c=this,d=c.tabPanel,e,f,g,h;if(a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}if(c.orientation==="vertical"&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){h=c.getTabInfoFromPoint(a.getXY());f=h.tab;g=h.close}else{e=a.getTarget("."+Ext.tab.Tab.prototype.baseCls);f=e&&Ext.getCmp(e.id);g=f&&f.closeEl&&b===f.closeEl.dom}if(g){a.preventDefault()}if(f&&f.isDisabled&&!f.isDisabled()){if(f.closable&&g){f.onCloseClick()}else{if(d){d.setActiveTab(f.card)}else{c.setActiveTab(f)}f.focus()}}},onMouseMove:function(a){var b=this,c=b._overTab,d,e;if(a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}d=b.getTabInfoFromPoint(a.getXY());e=d.tab;if(e!==c){if(c&&c.rendered){c.onMouseLeave(a);b._overTab=null}if(e){e.onMouseEnter(a);b._overTab=e;if(!e.disabled){b.el.setStyle("cursor","pointer")}}else{b.el.setStyle("cursor","default")}}},onMouseLeave:function(a){var b=this._overTab;if(b&&b.rendered){b.onMouseLeave(a)}},getTabInfoFromPoint:function(a){var b=this,c=b.items.items,d=c.length,e=b.layout.innerCt,f=e.getXY(),g=new Ext.util.Point(a[0],a[1]),h=0,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;for(;h<d;h++){i=c[h].lastBox;r=f[0]+i.x;s=f[1]-e.dom.scrollTop+i.y;t=i.width;u=i.height;j=new Ext.util.Region(s,r+t,s+u,r);if(j.contains(g)){y=c[h];k=y.closeEl;if(k){m=k.getXY();p=k.getWidth();q=k.getHeight();if(b._isTabReversed===undefined){b._isTabReversed=w=y.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1}x=w?this._reverseDockNames[b.dock]:b.dock;if(x==="right"){n=r+t-(m[1]-s+k.getHeight());o=s+(m[0]-r)}else{n=r+(m[1]-s);o=s+r+u-m[0]-k.getWidth()}v=new Ext.util.Region(o,n+p,o+q,n);l=v.contains(g)}break}}return{tab:y,close:l}},closeTab:function(a){var b=this,c=a.card,d=b.tabPanel,e;if(c&&c.fireEvent("beforeclose",c)===false){return false}e=b.findNextActivatable(a);Ext.suspendLayouts();if(d&&c){delete a.ownerCt;c.fireEvent("close",c);d.remove(c);if(!d.getComponent(c)){a.fireClose();b.remove(a)}else{a.ownerCt=b;Ext.resumeLayouts(true);return false}}if(e){if(d){d.setActiveTab(e.card)}else{b.setActiveTab(e)}e.focus()}Ext.resumeLayouts(true)},findNextActivatable:function(a){var b=this;if(a.active&&b.items.getCount()>1){return b.previousTab&&b.previousTab!==a&&!b.previousTab.disabled?b.previousTab:a.next("tab[disabled=false]")||a.prev("tab[disabled=false]")}},setActiveTab:function(a,b){var c=this;if(!a.disabled&&a!==c.activeTab){if(c.activeTab){if(c.activeTab.isDestroyed){c.previousTab=null}else{c.previousTab=c.activeTab;c.activeTab.deactivate()}}a.activate();c.activeTab=a;c.needsScroll=true;if(!b){c.fireEvent("change",c,a,a.card);c.updateLayout()}}}});Ext.define("Ext.tree.Column",{extend:Ext.grid.column.Column,alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:true,lockable:false,draggable:false,hideable:false,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:true,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>"/>','<tpl if="checked !== null">','<input type="button" role="checkbox" <tpl if="checked">aria-checked="true" </tpl>','class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],initComponent:function(){var a=this;a.origRenderer=a.renderer;a.origScope=a.scope||window;a.renderer=a.treeRenderer;a.scope=a;a.callParent()},treeRenderer:function(a,b,c,d,e,f,g){var h=this,i=c.get("cls"),j=h.origRenderer,k=c.data,l=c.parentNode,m=g.rootVisible,n=[],o;if(i){b.tdCls+=" "+i}while(l&&(m||l.data.depth>0)){o=l.data;n[m?o.depth:o.depth-1]=o.isLast?0:1;l=l.parentNode}return h.getTpl("cellTpl").apply({record:c,baseIconCls:h.iconCls,iconCls:k.iconCls,icon:k.icon,checkboxCls:h.checkboxCls,checked:k.checked,elbowCls:h.elbowCls,expanderCls:h.expanderCls,textCls:h.textCls,leaf:k.leaf,expandable:c.isExpandable(),isLast:k.isLast,blankUrl:Ext.BLANK_IMAGE_URL,href:k.href,hrefTarget:k.hrefTarget,lines:n,metaData:b,childCls:h.getChildCls?h.getChildCls()+" ":"",value:j?j.apply(h.origScope,arguments):a})}});Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:Ext.selection.RowModel,mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:undefined,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){var a=this;a.callParent(arguments);if(a.mode==="SINGLE"&&a.showHeaderCheckbox!==true){a.showHeaderCheckbox=false}},beforeViewRender:function(a){var b=this,c;b.callParent(arguments);if(!b.hasLockedHeader()||a.headerCt.lockedCt){if(b.showHeaderCheckbox!==false){a.headerCt.on("headerclick",b.onHeaderClick,b)}b.addCheckbox(a,true);c=a.ownerCt;if(a.headerCt.lockedCt){c=c.ownerCt}b.mon(c,"reconfigure",b.onReconfigure,b)}},bindComponent:function(a){var b=this;b.sortable=false;b.callParent(arguments)},hasLockedHeader:function(){var a=this.views,b=a.length,c;for(c=0;c<b;c++){if(a[c].headerCt.lockedCt){return true}}return false},addCheckbox:function(a,b){var c=this,d=c.injectCheckbox,e=a.headerCt;if(d!==false){if(d=="first"){d=0}else if(d=="last"){d=e.getColumnCount()}Ext.suspendLayouts();if(a.getStore().buffered){c.showHeaderCheckbox=false}e.add(d,c.getHeaderConfig());Ext.resumeLayouts()}if(b!==true){a.refresh()}},onReconfigure:function(a,b,c){if(c){this.addCheckbox(this.views[0])}},toggleUiHeader:function(a){var b=this.views[0],c=b.headerCt,d=c.child("gridcolumn[isCheckerHd]"),e=this.checkerOnCls;if(d){if(a){d.addCls(e)}else{d.removeCls(e)}}},onHeaderClick:function(a,b,c){if(b.isCheckerHd){c.stopEvent();var d=this,e=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");d.preventFocus=true;if(e){d.deselectAll()}else{d.selectAll()}delete d.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==false;return{isCheckerHd:b,text:"&#160;",clickTargetName:"el",width:a.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:b?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(a.renderer,a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments);this.updateHeaderState()},renderer:function(a,b,c,d,e,f,g){var h=Ext.baseCSSPrefix;b.tdCls=h+"grid-cell-special "+h+"grid-cell-row-checker";return'<div class="'+h+'grid-row-checker">&#160;</div>'},processSelection:function(a,b,c,d,e){var f=this,g=e.getTarget(f.checkSelector),h;if(f.checkOnly&&!g){return}if(g){h=f.getSelectionMode();if(h!=="SINGLE"){f.setSelectionMode("SIMPLE")}f.selectWithEvent(b,e);f.setSelectionMode(h)}else{f.selectWithEvent(b,e)}},onSelectChange:function(){this.callParent(arguments);if(!this.suspendChange){this.updateHeaderState()}},onStoreLoad:function(){this.callParent(arguments);this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments);this.updateHeaderState()},maybeFireSelectionChange:function(a){if(a&&!this.suspendChange){this.updateHeaderState()}this.callParent(arguments)},resumeChanges:function(){this.callParent();if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var a=this,b=a.store,c=b.getCount(),d=a.views,e=false,f=0,g,h,i;if(!b.buffered&&c>0){g=a.selected;e=true;for(i=0,h=g.getCount();i<h;++i){if(!a.storeHasSelected(g.getAt(i))){break}++f}e=c===f}if(d&&d.length){a.toggleUiHeader(e)}}});Ext.define("Ext.slider.Single",{extend:Ext.slider.Multi,alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(a,b){var c=arguments,d=c.length;if(d==1||d<=3&&typeof c[1]!="number"){c=Ext.toArray(c);c.unshift(0)}return this.callParent(c)},getNearest:function(){return this.thumbs[0]}});Ext.define("Ext.state.CookieProvider",{extend:Ext.state.Provider,constructor:function(a){var b=this;b.path="/";b.expires=new Date(Ext.Date.now()+1e3*60*60*24*7);b.domain=null;b.secure=false;b.callParent(arguments);b.state=b.readCookies()},set:function(a,b){var c=this;if(typeof b=="undefined"||b===null){c.clear(a);return}c.setCookie(a,b);c.callParent(arguments)},clear:function(a){this.clearCookie(a);this.callParent(arguments)},readCookies:function(){var a={},b=document.cookie+";",c=/\s?(.*?)=(.*?);/g,d=this.prefix,e=d.length,f,g,h;while((f=c.exec(b))!=null){g=f[1];h=f[2];if(g&&g.substring(0,e)==d){a[g.substr(e)]=this.decodeValue(h)}}return a},setCookie:function(a,b){var c=this;document.cookie=c.prefix+a+"="+c.encodeValue(b)+(c.expires==null?"":"; expires="+c.expires.toGMTString())+(c.path==null?"":"; path="+c.path)+(c.domain==null?"":"; domain="+c.domain)+(c.secure==true?"; secure":"")},clearCookie:function(a){var b=this;document.cookie=b.prefix+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(b.path==null?"":"; path="+b.path)+(b.domain==null?"":"; domain="+b.domain)+(b.secure==true?"; secure":"")}});Ext.define("Ext.state.LocalStorageProvider",{extend:Ext.state.Provider,alias:"state.localstorage",constructor:function(){var a=this;a.callParent(arguments);a.store=a.getStorageObject();if(a.store){a.state=a.readLocalStorage()}else{a.state={}}},readLocalStorage:function(){var a=this.store,b=0,c=a.length,d=this.prefix,e=d.length,f={},g;for(;b<c;++b){g=a.key(b);if(g.substring(0,e)==d){f[g.substr(e)]=this.decodeValue(a.getItem(g))}}return f},set:function(a,b){var c=this;c.clear(a);if(typeof b=="undefined"||b===null){return}c.store.setItem(c.prefix+a,c.encodeValue(b));c.callParent(arguments)},clear:function(a){this.store.removeItem(this.prefix+a);this.callParent(arguments)},getStorageObject:function(){if(Ext.supports.LocalStorage){return window.localStorage}return false}});Ext.define("Ext.tab.Panel",{extend:Ext.panel.Panel,alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],tabPosition:"top",removePanelHeader:true,plain:false,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,initComponent:function(){var a=this,b=[].concat(a.dockedItems||[]),c=a.activeTab||(a.activeTab=0),d=a.tabPosition;a.layout=new Ext.layout.container.Card(Ext.apply({owner:a,deferredRender:a.deferredRender,itemCls:a.itemCls,activeItem:c},a.layout));a.tabBar=new Ext.tab.Bar(Ext.apply({ui:a.ui,dock:a.tabPosition,orientation:d=="top"||d=="bottom"?"horizontal":"vertical",plain:a.plain,cardLayout:a.layout,tabPanel:a},a.tabBar));b.push(a.tabBar);a.dockedItems=b;a.addEvents("beforetabchange","tabchange");a.callParent(arguments);c=a.activeTab=a.getComponent(c);if(c){a.tabBar.setActiveTab(c.tab,true)}},setActiveTab:function(a){var b=this,c;a=b.getComponent(a);if(a){c=b.getActiveTab();if(c!==a&&b.fireEvent("beforetabchange",b,a,c)===false){return false}if(!a.isComponent){Ext.suspendLayouts();a=b.add(a);Ext.resumeLayouts()}b.activeTab=a;Ext.suspendLayouts();b.layout.setActiveItem(a);a=b.activeTab=b.layout.getActiveItem();if(a&&a!==c){b.tabBar.setActiveTab(a.tab);Ext.resumeLayouts(true);if(c!==a){b.fireEvent("tabchange",b,a,c)}}else{Ext.resumeLayouts(true)}return a}},getActiveTab:function(){var a=this,b=a.getComponent(a.activeTab);if(b&&a.items.indexOf(b)!=-1){a.activeTab=b}else{a.activeTab=null}return a.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(a,b){var c=this,d=a.tabConfig||{},e={xtype:"tab",ui:c.tabBar.ui,card:a,disabled:a.disabled,closable:a.closable,hidden:a.hidden&&!a.hiddenByLayout,tooltip:a.tooltip,tabBar:c.tabBar,position:c.tabPosition,closeText:a.closeText};d=Ext.applyIf(d,e);a.tab=c.tabBar.insert(b,d);a.on({scope:c,enable:c.onItemEnable,disable:c.onItemDisable,beforeshow:c.onItemBeforeShow,iconchange:c.onItemIconChange,iconclschange:c.onItemIconClsChange,titlechange:c.onItemTitleChange});if(a.isPanel){if(c.removePanelHeader){if(a.rendered){if(a.header){a.header.hide()}}else{a.header=false}}if(a.isPanel&&c.border){a.setBorder(false)}}},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab){this.setActiveTab(a);return false}},onItemIconChange:function(a,b){a.tab.setIcon(b)},onItemIconClsChange:function(a,b){a.tab.setIconCls(b)},onItemTitleChange:function(a,b){a.tab.setText(b)},doRemove:function(a,b){var c=this,d;if(c.destroying||c.items.getCount()==1){c.activeTab=null}else if((d=c.tabBar.items.indexOf(c.tabBar.findNextActivatable(a.tab)))!==-1){c.setActiveTab(d)}this.callParent(arguments);delete a.tab.card;delete a.tab},onRemove:function(a,b){var c=this;a.un({scope:c,enable:c.onItemEnable,disable:c.onItemDisable,beforeshow:c.onItemBeforeShow});if(!c.destroying&&a.tab.ownerCt===c.tabBar){c.tabBar.remove(a.tab)}}});Ext.define("Ext.toolbar.Spacer",{extend:Ext.Component,alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:false});Ext.define("Ext.tree.Panel",{extend:Ext.panel.Table,alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:false,rowLines:false,lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:true,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(a){a=a||{};if(a.animate===undefined){a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=a.animate;delete a.animate;this.callParent([a])},initComponent:function(){var a=this,b=[a.treeCls],c=a.store,d;if(a.useArrows){b.push(a.arrowCls);a.lines=false}if(a.lines){b.push(a.linesCls)}else if(!a.useArrows){b.push(a.noLinesCls)}if(Ext.isString(c)){c=a.store=Ext.StoreMgr.lookup(c)}else if(!c||Ext.isObject(c)&&!c.isStore){c=a.store=new Ext.data.TreeStore(Ext.apply({root:a.root,fields:a.fields,model:a.model,folderSort:a.folderSort},c))}else if(a.root){c=a.store=Ext.data.StoreManager.lookup(c);c.setRootNode(a.root);if(a.folderSort!==undefined){c.folderSort=a.folderSort;c.sort()}}a.viewConfig=Ext.apply({rootVisible:a.rootVisible,animate:a.enableAnimations,singleExpand:a.singleExpand,node:c.getRootNode(),hideHeaders:a.hideHeaders},a.viewConfig);if(!a.columns){if(a.initialConfig.hideHeaders===undefined){a.hideHeaders=true}a.addCls(a.autoWidthCls);a.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?"100%":1e4,dataIndex:a.displayField}]}if(a.cls){b.push(a.cls)}a.cls=b.join(" ");a.callParent();a.selModel.treeStore=a.store;d=a.getView();a.relayEvents(d,["checkchange","afteritemexpand","afteritemcollapse"]);if(!d.isLockingView){if(!d.rootVisible&&!a.getRootNode()){a.setRootNode({expanded:true})}}},bindStore:function(a,b){var c=this;c.store=a;c.storeListeners=c.mon(a,{destroyable:true,load:c.onStoreLoad,rootchange:c.onRootChange,clear:c.onClear,scope:c});c.storeRelayers=c.relayEvents(a,["beforeload","load"]);c.storeRelayers1=c.mon(a,{destroyable:true,append:c.createRelayer("itemappend"),remove:c.createRelayer("itemremove"),move:c.createRelayer("itemmove",[0,4]),insert:c.createRelayer("iteminsert"),beforeappend:c.createRelayer("beforeitemappend"),beforeremove:c.createRelayer("beforeitemremove"),beforemove:c.createRelayer("beforeitemmove"),beforeinsert:c.createRelayer("beforeiteminsert"),expand:c.createRelayer("itemexpand",[0,1]),collapse:c.createRelayer("itemcollapse",[0,1]),beforeexpand:c.createRelayer("beforeitemexpand",[0,1]),beforecollapse:c.createRelayer("beforeitemcollapse",[0,1])});a.ownerTree=c;if(!b){c.view.setRootNode(c.getRootNode())}},unbindStore:function(){var a=this,b=a.store;if(b){Ext.destroy(a.storeListeners,a.storeRelayers,a.storeRelayers1);delete b.ownerTree}},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(a,b,c,d){return this.getView().expand(a,b,c,d||this)},collapseNode:function(a,b,c,d){return this.getView().collapse(a,b,c,d||this)},expandAll:function(a,b){var c=this,d=c.getRootNode(),e=c.enableAnimations;if(d){if(!e){Ext.suspendLayouts()}d.expand(true,a,b||c);if(!e){Ext.resumeLayouts(true)}}},collapseAll:function(a,b){var c=this,d=c.getRootNode(),e=c.enableAnimations,f=c.getView();if(d){if(!e){Ext.suspendLayouts()}b=b||c;if(f.rootVisible){d.collapse(true,a,b)}else{d.collapseChildren(true,a,b)}if(!e){Ext.resumeLayouts(true)}}},expandPath:function(a,b,c,d,e){var f=this,g=f.getRootNode(),h=1,i=f.getView(),j,k;b=b||f.getRootNode().idProperty;c=c||"/";if(Ext.isEmpty(a)){Ext.callback(d,e||f,[false,null]);return}j=a.split(c);if(g.get(b)!=j[1]){Ext.callback(d,e||f,[false,g]);return}k=function(){if(++h===j.length){Ext.callback(d,e||f,[true,g]);return}var a=g.findChild(b,j[h]);if(!a){Ext.callback(d,e||f,[false,g]);return}g=a;g.expand(false,k)};g.expand(false,k)},selectPath:function(a,b,c,d,e){var f=this,g,h,i;b=b||f.getRootNode().idProperty;c=c||"/";h=a.split(c);i=h.pop();if(h.length>1){f.expandPath(h.join(c),b,c,function(a,c){var g=c;if(a&&c){c=c.findChild(b,i);if(c){f.getSelectionModel().select(c);Ext.callback(d,e||f,[true,c]);return}}Ext.callback(d,e||f,[false,g])},f)}else{g=f.getRootNode();if(g.getId()===i){f.getSelectionModel().select(g);Ext.callback(d,e||f,[true,g])}else{Ext.callback(d,e||f,[false,null])}}}});Ext.define("Ext.view.DragZone",{extend:Ext.dd.DragZone,containerScroll:false,constructor:function(a){var b=this,c,d,e;Ext.apply(b,a);if(!b.ddGroup){b.ddGroup="view-dd-zone-"+b.view.id}c=b.view;d=c.ownerCt;if(d){e=d.getTargetEl().dom}else{e=c.el.dom.parentNode}b.callParent([e]);b.ddel=Ext.get(document.createElement("div"));b.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(a,b,c){this.initTarget(a,b,c);this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(a,b,c){this.callParent();a.el.focus()},onItemMouseDown:function(a,b,c,d,e){if(!this.isPreventDrag(e,b,c,d)){if(a.focusRow){a.focusRow(b)}this.handleMouseDown(e)}},isPreventDrag:function(a){return false},getDragData:function(a){var b=this.view,c=a.getTarget(b.getItemSelector());if(c){return{copy:b.copy||b.allowCopy&&a.ctrlKey,event:new Ext.EventObjectImpl(a),view:b,ddel:this.ddel,item:c,records:b.getSelectionModel().getSelection(),fromPosition:Ext.fly(c).getXY()}}},onInitDrag:function(a,b){var c=this,d=c.dragData,e=d.view,f=e.getSelectionModel(),g=e.getRecord(d.item);if(!f.isSelected(g)){f.select(g,true)}d.records=f.getSelection();c.ddel.update(c.getDragText());c.proxy.update(c.ddel.dom);c.onStartDrag(a,b);return true},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,a==1?"":"s")},getRepairXY:function(a,b){return b?b.fromPosition:false}});Ext.define("Ext.tree.ViewDragZone",{extend:Ext.view.DragZone,isPreventDrag:function(a,b){return b.get("allowDrag")===false||!!a.getTarget(this.view.expanderSelector)},getDragText:function(){var a=this.dragData.records,b=a.length,c=a[0].get(this.displayField),d="s";if(b===1&&c){return c}else if(!c){d=""}return Ext.String.format(this.dragText,b,d)},afterRepair:function(){var a=this,b=a.view,c=b.selectedItemCls,d=a.dragData.records,e,f=d.length,g=Ext.fly,h;if(Ext.enableFx&&a.repairHighlight){for(e=0;e<f;e++){h=b.getNode(d[e]);g(h.firstChild).highlight(a.repairHighlightColor,{listeners:{beforeanimate:function(){if(b.isSelected(h)){g(h).removeCls(c)}},afteranimate:function(){if(b.isSelected(h)){g(h).addCls(c)}}}})}}a.dragging=false}});Ext.define("Ext.tree.ViewDropZone",{extend:Ext.view.DropZone,allowParentInserts:false,allowContainerDrops:false,appendOnly:false,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(a){var b=this.view;this.expandProcId=false;if(!a.isLeaf()&&!a.isExpanded()){b.expand(a);this.expandProcId=false}},queueExpand:function(a){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[a])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},getPosition:function(a,b){var c=this.view,d=c.getRecord(b),e=a.getPageY(),f=d.isLeaf(),g=false,h=Ext.fly(b).getRegion(),i;if(d.isRoot()){return"append"}if(this.appendOnly){return f?false:"append"}if(!this.allowParentInserts){g=d.hasChildNodes()&&d.isExpanded()}i=(h.bottom-h.top)/(f?2:3);if(e>=h.top&&e<h.top+i){return"before"}else if(!g&&(f||e>=h.bottom-i&&e<=h.bottom)){return"after"}else{return"append"}},isValidDropPoint:function(a,b,c,d,e){if(!a||!e.item){return false}var f=this.view,g=f.getRecord(a),h=e.records,i=h.length,j=h.length,k,l;if(!(g&&b&&i)){return false}for(k=0;k<j;k++){l=h[k];if(l.isNode&&l.contains(g)){return false}}if(b==="append"&&g.get("allowDrop")===false){return false}else if(b!="append"&&g.parentNode.get("allowDrop")===false){return false}if(Ext.Array.contains(h,g)){return false}return f.fireEvent("nodedragover",g,b,e,d)!==false},onNodeOver:function(a,b,c,d){var e=this.getPosition(c,a),f=this.dropNotAllowed,g=this.view,h=g.getRecord(a),i=this.getIndicator(),j=0;this.cancelExpand();if(e=="append"&&!this.expandProcId&&!Ext.Array.contains(d.records,h)&&!h.isLeaf()&&!h.isExpanded()){this.queueExpand(h)}if(this.isValidDropPoint(a,e,b,c,d)){this.valid=true;this.currentPosition=e;this.overRecord=h;i.setWidth(Ext.fly(a).getWidth());j=Ext.fly(a).getY()-Ext.fly(g.el).getY()-1;if(e=="before"){f=h.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between";i.showAt(0,j);
b.proxy.show()}else if(e=="after"){f=h.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between";j+=Ext.fly(a).getHeight();i.showAt(0,j);b.proxy.show()}else{f=Ext.baseCSSPrefix+"tree-drop-ok-append";i.hide()}}else{this.valid=false}this.currentCls=f;return f},onNodeOut:function(a,b,c,d){this.valid=false;this.getIndicator().hide()},onContainerOver:function(a,b,c){return b.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments);this.cancelExpand()},handleNodeDrop:function(a,b,c){var d=this,e=d.view,f=b?b.parentNode:e.panel.getRootNode(),g=e.getStore().treeStore.model,h,i,j,k,l,m,n,o;if(a.copy){h=a.records;a.records=[];for(i=0,j=h.length;i<j;i++){k=h[i];if(k.isNode){a.records.push(k.copy(undefined,true))}else{a.records.push(new g(k.data,k.getId()))}}}d.cancelExpand();if(c=="before"){l=f.insertBefore;m=[null,b];b=f}else if(c=="after"){if(b.nextSibling){l=f.insertBefore;m=[null,b.nextSibling]}else{l=f.appendChild;m=[null]}b=f}else{if(!(b.isExpanded()||b.isLoading())){n=true}l=b.appendChild;m=[null]}o=function(){var c,f;Ext.suspendLayouts();e.getSelectionModel().clearSelections();for(i=0,j=a.records.length;i<j;i++){k=a.records[i];if(!k.isNode){if(k.isModel){k=new g(k.data,k.getId())}else{k=new g(k)}a.records[i]=k}m[0]=k;l.apply(b,m)}if(d.sortOnDrop){b.sort(b.getOwnerTree().store.generateComparator())}Ext.resumeLayouts(true);if(Ext.enableFx&&d.dropHighlight){c=d.dropHighlightColor;for(i=0;i<j;i++){f=e.getNode(a.records[i]);if(f){Ext.fly(f).highlight(c)}}}};if(n){b.expand(false,o)}else if(b.isLoading()){b.on({expand:o,delay:1,single:true})}else{o()}}});Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.treeviewdragdrop",dragText:"{0} selected node{1}",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,ddGroup:"TreeDD",containerScroll:false,expandDelay:1e3,enableDrop:true,enableDrag:true,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,displayField:"text",init:function(a){a.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(a){var b=this,c;if(b.enableDrag){if(b.containerScroll){c=a.getEl()}b.dragZone=new Ext.tree.ViewDragZone({view:a,ddGroup:b.dragGroup||b.ddGroup,dragText:b.dragText,displayField:b.displayField,repairHighlightColor:b.nodeHighlightColor,repairHighlight:b.nodeHighlightOnRepair,scrollEl:c})}if(b.enableDrop){b.dropZone=new Ext.tree.ViewDropZone({view:a,ddGroup:b.dropGroup||b.ddGroup,allowContainerDrops:b.allowContainerDrops,appendOnly:b.appendOnly,allowParentInserts:b.allowParentInserts,expandDelay:b.expandDelay,dropHighlightColor:b.nodeHighlightColor,dropHighlight:b.nodeHighlightOnDrop,sortOnDrop:b.sortOnDrop,containerScroll:b.containerScroll})}}},function(){var a=this.prototype;a.nodeHighlightOnDrop=a.nodeHighlightOnRepair=Ext.enableFx});Ext.define("Ext.util.Cookies",{singleton:true,set:function(a,b){var c=arguments,d=arguments.length,e=d>2?c[2]:null,f=d>3?c[3]:"/",g=d>4?c[4]:null,h=d>5?c[5]:false;document.cookie=a+"="+escape(b)+(e===null?"":"; expires="+e.toGMTString())+(f===null?"":"; path="+f)+(g===null?"":"; domain="+g)+(h===true?"; secure":"")},get:function(a){var b=a+"=",c=b.length,d=document.cookie.length,e=0,f=0;while(e<d){f=e+c;if(document.cookie.substring(e,f)==b){return this.getCookieVal(f)}e=document.cookie.indexOf(" ",e)+1;if(e===0){break}}return null},clear:function(a,b){if(this.get(a)){b=b||"/";document.cookie=a+"="+"; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+b}},getCookieVal:function(a){var b=document.cookie.indexOf(";",a);if(b==-1){b=document.cookie.length}return unescape(document.cookie.substring(a,b))}});Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:true,getGroupString:function(a){return a.get(this.property)}});Ext.define("Ext.util.History",{singleton:true,alternateClassName:"Ext.History",mixins:{observable:Ext.util.Observable},useTopWindow:true,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){var a=this;a.oldIEMode=Ext.isIE7m||!Ext.isStrict&&Ext.isIE8;a.iframe=null;a.hiddenField=null;a.ready=false;a.currentToken=null;a.mixins.observable.constructor.call(a)},getHash:function(){var a=window.location.href,b=a.indexOf("#");return b>=0?a.substr(b+1):null},setHash:function(a){var b=this,c=b.useTopWindow?window.top:window;try{c.location.hash=a}catch(d){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(a){this.currentToken=a;this.fireEvent("change",a)},updateIFrame:function(a){var b='<html><body><div id="state">'+Ext.util.Format.htmlEncode(a)+"</div></body></html>",c;try{c=this.iframe.contentWindow.document;c.open();c.write(b);c.close();return true}catch(d){return false}},checkIFrame:function(){var a=this,b=a.iframe.contentWindow,c,d,e,f;if(!b||!b.document){Ext.Function.defer(this.checkIFrame,10,this);return}c=b.document;d=c.getElementById("state");e=d?d.innerText:null;f=a.getHash();Ext.TaskManager.start({run:function(){var c=b.document,d=c.getElementById("state"),g=d?d.innerText:null,h=a.getHash();if(g!==e){e=g;a.handleStateChange(g);a.setHash(g);f=g;a.doSave()}else if(h!==f){f=h;a.updateIFrame(h)}},interval:50,scope:a});a.ready=true;a.fireEvent("ready",a)},startUp:function(){var a=this,b;a.currentToken=a.hiddenField.value||this.getHash();if(a.oldIEMode){a.checkIFrame()}else{b=a.getHash();Ext.TaskManager.start({run:function(){var c=a.getHash();if(c!==b){b=c;a.handleStateChange(b);a.doSave()}},interval:50,scope:a});a.ready=true;a.fireEvent("ready",a)}},init:function(a,b){var c=this,d=Ext.DomHelper;if(c.ready){Ext.callback(a,b,[c]);return}if(!Ext.isReady){Ext.onReady(function(){c.init(a,b)});return}c.hiddenField=Ext.getDom(c.fieldId);if(!c.hiddenField){c.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:c.fieldId}]},false,true).firstChild}if(c.oldIEMode){c.iframe=Ext.getDom(c.iframeId);if(!c.iframe){c.iframe=d.append(c.hiddenField.parentNode,{tag:"iframe",id:c.iframeId,src:Ext.SSL_SECURE_URL})}}c.addEvents("ready","change");if(a){c.on("ready",a,b,{single:true})}c.startUp()},add:function(a,b){var c=this;if(b!==false){if(c.getToken()===a){return true}}if(c.oldIEMode){return c.updateIFrame(a)}else{c.setHash(a);return true}},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});!function(a,b,c){var d=a.L,e={};e.version="0.7.1","object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e),e.noConflict=function(){return a.L=d,this},a.L=e,e.Util={extend:function(a){var b,c,d,e,f=Array.prototype.slice.call(arguments,1);for(c=0,d=f.length;d>c;c++){e=f[c]||{};for(b in e)e.hasOwnProperty(b)&&(a[b]=e[b])}return a},bind:function(a,b){var c=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,c||arguments)}},stamp:function(){var a=0,b="_leaflet_id";return function(c){return c[b]=c[b]||++a,c[b]}}(),invokeEach:function(a,b,c){var d,e;if("object"==typeof a){e=Array.prototype.slice.call(arguments,3);for(d in a)b.apply(c,[d,a[d]].concat(e));return!0}return!1},limitExecByInterval:function(a,b,c){var d,e;return function f(){var g=arguments;return d?(e=!0,void 0):(d=!0,setTimeout(function(){d=!1,e&&(f.apply(c,g),e=!1)},b),a.apply(c,g),void 0)}},falseFn:function(){return!1},formatNum:function(a,b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return e.Util.trim(a).split(/\s+/)},setOptions:function(a,b){return a.options=e.extend({},a.options,b),a.options},getParamString:function(a,b,c){var d=[];for(var e in a)d.push(encodeURIComponent(c?e.toUpperCase():e)+"="+encodeURIComponent(a[e]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")},template:function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,d){var e=b[d];if(e===c)throw new Error("No value provided for variable "+a);return"function"==typeof e&&(e=e(b)),e})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function b(b){var c,d,e=["webkit","moz","o","ms"];for(c=0;c<e.length&&!d;c++)d=a[e[c]+b];return d}function c(b){var c=+new Date,e=Math.max(0,16-(c-d));return d=c+e,a.setTimeout(b,e)}var d=0,f=a.requestAnimationFrame||b("RequestAnimationFrame")||c,g=a.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(b){a.clearTimeout(b)};e.Util.requestAnimFrame=function(b,d,g,h){return b=e.bind(b,d),g&&f===c?(b(),void 0):f.call(a,b,h)},e.Util.cancelAnimFrame=function(b){b&&g.call(a,b)}}(),e.extend=e.Util.extend,e.bind=e.Util.bind,e.stamp=e.Util.stamp,e.setOptions=e.Util.setOptions,e.Class=function(){},e.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},c=function(){};c.prototype=this.prototype;var d=new c;d.constructor=b,b.prototype=d;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&(b[f]=this[f]);a.statics&&(e.extend(b,a.statics),delete a.statics),a.includes&&(e.Util.extend.apply(null,[d].concat(a.includes)),delete a.includes),a.options&&d.options&&(a.options=e.extend({},d.options,a.options)),e.extend(d,a),d._initHooks=[];var g=this;return b.__super__=g.prototype,d.callInitHooks=function(){if(!this._initHooksCalled){g.prototype.callInitHooks&&g.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;b>a;a++)d._initHooks[a].call(this)}},b},e.Class.include=function(a){e.extend(this.prototype,a)},e.Class.mergeOptions=function(a){e.extend(this.prototype.options,a)},e.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1),c="function"==typeof a?a:function(){this[a].apply(this,b)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c)};var f="_leaflet_events";e.Mixin={},e.Mixin.Events={addEventListener:function(a,b,c){if(e.Util.invokeEach(a,this.addEventListener,this,b,c))return this;var d,g,h,i,j,k,l,m=this[f]=this[f]||{},n=c&&c!==this&&e.stamp(c);for(a=e.Util.splitWords(a),d=0,g=a.length;g>d;d++)h={action:b,context:c||this},i=a[d],n?(j=i+"_idx",k=j+"_len",l=m[j]=m[j]||{},l[n]||(l[n]=[],m[k]=(m[k]||0)+1),l[n].push(h)):(m[i]=m[i]||[],m[i].push(h));return this},hasEventListeners:function(a){var b=this[f];return!!b&&(a in b&&b[a].length>0||a+"_idx"in b&&b[a+"_idx_len"]>0)},removeEventListener:function(a,b,c){if(!this[f])return this;if(!a)return this.clearAllEventListeners();if(e.Util.invokeEach(a,this.removeEventListener,this,b,c))return this;var d,g,h,i,j,k,l,m,n,o=this[f],p=c&&c!==this&&e.stamp(c);for(a=e.Util.splitWords(a),d=0,g=a.length;g>d;d++)if(h=a[d],k=h+"_idx",l=k+"_len",m=o[k],b){if(i=p&&m?m[p]:o[h]){for(j=i.length-1;j>=0;j--)i[j].action!==b||c&&i[j].context!==c||(n=i.splice(j,1),n[0].action=e.Util.falseFn);c&&m&&0===i.length&&(delete m[p],o[l]--)}}else delete o[h],delete o[k],delete o[l];return this},clearAllEventListeners:function(){return delete this[f],this},fireEvent:function(a,b){if(!this.hasEventListeners(a))return this;var c,d,g,h,i,j=e.Util.extend({},b,{type:a,target:this}),k=this[f];if(k[a])for(c=k[a].slice(),d=0,g=c.length;g>d;d++)c[d].action.call(c[d].context,j);h=k[a+"_idx"];for(i in h)if(c=h[i].slice())for(d=0,g=c.length;g>d;d++)c[d].action.call(c[d].context,j);return this},addOneTimeEventListener:function(a,b,c){if(e.Util.invokeEach(a,this.addOneTimeEventListener,this,b,c))return this;var d=e.bind(function(){this.removeEventListener(a,b,c).removeEventListener(a,d,c)},this);return this.addEventListener(a,b,c).addEventListener(a,d,c)}},e.Mixin.Events.on=e.Mixin.Events.addEventListener,e.Mixin.Events.off=e.Mixin.Events.removeEventListener,e.Mixin.Events.once=e.Mixin.Events.addOneTimeEventListener,e.Mixin.Events.fire=e.Mixin.Events.fireEvent,function(){var d="ActiveXObject"in a,f=d&&!b.addEventListener,g=navigator.userAgent.toLowerCase(),h=-1!==g.indexOf("webkit"),i=-1!==g.indexOf("chrome"),j=-1!==g.indexOf("phantom"),k=-1!==g.indexOf("android"),l=-1!==g.search("android [23]"),m=-1!==g.indexOf("gecko"),n=typeof orientation!=c+"",o=a.navigator&&a.navigator.msPointerEnabled&&a.navigator.msMaxTouchPoints&&!a.PointerEvent,p=a.PointerEvent&&a.navigator.pointerEnabled&&a.navigator.maxTouchPoints||o,q="devicePixelRatio"in a&&a.devicePixelRatio>1||"matchMedia"in a&&a.matchMedia("(min-resolution:144dpi)")&&a.matchMedia("(min-resolution:144dpi)").matches,r=b.documentElement,s=d&&"transition"in r.style,t="WebKitCSSMatrix"in a&&"m11"in new a.WebKitCSSMatrix&&!l,u="MozPerspective"in r.style,v="OTransition"in r.style,w=!a.L_DISABLE_3D&&(s||t||u||v)&&!j,x=!a.L_NO_TOUCH&&!j&&function(){var a="ontouchstart";if(p||a in r)return!0;var c=b.createElement("div"),d=!1;return c.setAttribute?(c.setAttribute(a,"return;"),"function"==typeof c[a]&&(d=!0),c.removeAttribute(a),c=null,d):!1}();e.Browser={ie:d,ielt9:f,webkit:h,gecko:m&&!h&&!a.opera&&!d,android:k,android23:l,chrome:i,ie3d:s,webkit3d:t,gecko3d:u,opera3d:v,any3d:w,mobile:n,mobileWebkit:n&&h,mobileWebkit3d:n&&t,mobileOpera:n&&a.opera,touch:x,msPointer:o,pointer:p,retina:q}}(),e.Point=function(a,b,c){this.x=c?Math.round(a):a,this.y=c?Math.round(b):b},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},add:function(a){return this.clone()._add(e.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(e.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(a){a=e.point(a);var b=a.x-this.x,c=a.y-this.y;return Math.sqrt(b*b+c*c)},equals:function(a){return a=e.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=e.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+e.Util.formatNum(this.x)+", "+e.Util.formatNum(this.y)+")"}},e.point=function(a,b,d){return a instanceof e.Point?a:e.Util.isArray(a)?new e.Point(a[0],a[1]):a===c||null===a?a:new e.Point(a,b,d)},e.Bounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])},e.Bounds.prototype={extend:function(a){return a=e.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new e.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new e.Point(this.min.x,this.max.y)},getTopRight:function(){return new e.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;return a="number"==typeof a[0]||a instanceof e.Point?e.point(a):e.bounds(a),a instanceof e.Bounds?(b=a.min,c=a.max):b=c=a,b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=e.bounds(a);var b=this.min,c=this.max,d=a.min,f=a.max,g=f.x>=b.x&&d.x<=c.x,h=f.y>=b.y&&d.y<=c.y;return g&&h},isValid:function(){return!(!this.min||!this.max)}},e.bounds=function(a,b){return!a||a instanceof e.Bounds?a:new e.Bounds(a,b)},e.Transformation=function(a,b,c,d){this._a=a,this._b=b,this._c=c,this._d=d},e.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=b||1,new e.Point((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}},e.DomUtil={get:function(a){return"string"==typeof a?b.getElementById(a):a},getStyle:function(a,c){var d=a.style[c];if(!d&&a.currentStyle&&(d=a.currentStyle[c]),(!d||"auto"===d)&&b.defaultView){var e=b.defaultView.getComputedStyle(a,null);d=e?e[c]:null}return"auto"===d?null:d},getViewportOffset:function(a){var c,d=0,f=0,g=a,h=b.body,i=b.documentElement;do{if(d+=g.offsetTop||0,f+=g.offsetLeft||0,d+=parseInt(e.DomUtil.getStyle(g,"borderTopWidth"),10)||0,f+=parseInt(e.DomUtil.getStyle(g,"borderLeftWidth"),10)||0,c=e.DomUtil.getStyle(g,"position"),g.offsetParent===h&&"absolute"===c)break;if("fixed"===c){d+=h.scrollTop||i.scrollTop||0,f+=h.scrollLeft||i.scrollLeft||0;break}if("relative"===c&&!g.offsetLeft){var j=e.DomUtil.getStyle(g,"width"),k=e.DomUtil.getStyle(g,"max-width"),l=g.getBoundingClientRect();("none"!==j||"none"!==k)&&(f+=l.left+g.clientLeft),d+=l.top+(h.scrollTop||i.scrollTop||0);break}g=g.offsetParent}while(g);g=a;do{if(g===h)break;d-=g.scrollTop||0,f-=g.scrollLeft||0,g=g.parentNode}while(g);return new e.Point(f,d)},documentIsLtr:function(){return e.DomUtil._docIsLtrCached||(e.DomUtil._docIsLtrCached=!0,e.DomUtil._docIsLtr="ltr"===e.DomUtil.getStyle(b.body,"direction")),e.DomUtil._docIsLtr},create:function(a,c,d){var e=b.createElement(a);return e.className=c,d&&d.appendChild(e),e},hasClass:function(a,b){if(a.classList!==c)return a.classList.contains(b);var d=e.DomUtil._getClass(a);return d.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(d)},addClass:function(a,b){if(a.classList!==c)for(var d=e.Util.splitWords(b),f=0,g=d.length;g>f;f++)a.classList.add(d[f]);else if(!e.DomUtil.hasClass(a,b)){var h=e.DomUtil._getClass(a);e.DomUtil._setClass(a,(h?h+" ":"")+b)}},removeClass:function(a,b){a.classList!==c?a.classList.remove(b):e.DomUtil._setClass(a,e.Util.trim((" "+e.DomUtil._getClass(a)+" ").replace(" "+b+" "," ")))},_setClass:function(a,b){a.className.baseVal===c?a.className=b:a.className.baseVal=b},_getClass:function(a){return a.className.baseVal===c?a.className:a.className.baseVal},setOpacity:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=a.filters.item(d)}catch(e){if(1===b)return}b=Math.round(100*b),c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:"+d+"(opacity="+b+")"}},testProp:function(a){for(var c=b.documentElement.style,d=0;d<a.length;d++)if(a[d]in c)return a[d];return!1},getTranslateString:function(a){var b=e.Browser.webkit3d,c="translate"+(b?"3d":"")+"(",d=(b?",0":"")+")";return c+a.x+"px,"+a.y+"px"+d},getScaleString:function(a,b){var c=e.DomUtil.getTranslateString(b.add(b.multiplyBy(-1*a))),d=" scale("+a+") ";return c+d},setPosition:function(a,b,c){a._leaflet_pos=b,!c&&e.Browser.any3d?a.style[e.DomUtil.TRANSFORM]=e.DomUtil.getTranslateString(b):(a.style.left=b.x+"px",a.style.top=b.y+"px")},getPosition:function(a){return a._leaflet_pos}},e.DomUtil.TRANSFORM=e.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),e.DomUtil.TRANSITION=e.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),e.DomUtil.TRANSITION_END="webkitTransition"===e.DomUtil.TRANSITION||"OTransition"===e.DomUtil.TRANSITION?e.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in b)e.extend(e.DomUtil,{disableTextSelection:function(){e.DomEvent.on(a,"selectstart",e.DomEvent.preventDefault)},enableTextSelection:function(){e.DomEvent.off(a,"selectstart",e.DomEvent.preventDefault)}});else{var c=e.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.extend(e.DomUtil,{disableTextSelection:function(){if(c){var a=b.documentElement.style;this._userSelect=a[c],a[c]="none"}},enableTextSelection:function(){c&&(b.documentElement.style[c]=this._userSelect,delete this._userSelect)}})}e.extend(e.DomUtil,{disableImageDrag:function(){e.DomEvent.on(a,"dragstart",e.DomEvent.preventDefault)},enableImageDrag:function(){e.DomEvent.off(a,"dragstart",e.DomEvent.preventDefault)}})}(),e.LatLng=function(a,b,d){if(a=parseFloat(a),b=parseFloat(b),isNaN(a)||isNaN(b))throw new Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=a,this.lng=b,d!==c&&(this.alt=parseFloat(d))},e.extend(e.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),e.LatLng.prototype={equals:function(a){if(!a)return!1;a=e.latLng(a);var b=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return b<=e.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+e.Util.formatNum(this.lat,a)+", "+e.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=e.latLng(a);var b=6378137,c=e.LatLng.DEG_TO_RAD,d=(a.lat-this.lat)*c,f=(a.lng-this.lng)*c,g=this.lat*c,h=a.lat*c,i=Math.sin(d/2),j=Math.sin(f/2),k=i*i+j*j*Math.cos(g)*Math.cos(h);return 2*b*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))},wrap:function(a,b){var c=this.lng;return a=a||-180,b=b||180,c=(c+b)%(b-a)+(a>c||c===b?b:a),new e.LatLng(this.lat,c)}},e.latLng=function(a,b){return a instanceof e.LatLng?a:e.Util.isArray(a)?"number"==typeof a[0]||"string"==typeof a[0]?new e.LatLng(a[0],a[1],a[2]):null:a===c||null===a?a:"object"==typeof a&&"lat"in a?new e.LatLng(a.lat,"lng"in a?a.lng:a.lon):b===c?null:new e.LatLng(a,b)},e.LatLngBounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])},e.LatLngBounds.prototype={extend:function(a){if(!a)return this;var b=e.latLng(a);return a=null!==b?b:e.latLngBounds(a),a instanceof e.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new e.LatLng(a.lat,a.lng),this._northEast=new e.LatLng(a.lat,a.lng)):a instanceof e.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-c.lat)*a,f=Math.abs(b.lng-c.lng)*a;return new e.LatLngBounds(new e.LatLng(b.lat-d,b.lng-f),new e.LatLng(c.lat+d,c.lng+f))},getCenter:function(){return new e.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new e.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new e.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof e.LatLng?e.latLng(a):e.latLngBounds(a);var b,c,d=this._southWest,f=this._northEast;return a instanceof e.LatLngBounds?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=f.lat&&b.lng>=d.lng&&c.lng<=f.lng},intersects:function(a){a=e.latLngBounds(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),f=a.getNorthEast(),g=f.lat>=b.lat&&d.lat<=c.lat,h=f.lng>=b.lng&&d.lng<=c.lng;return g&&h},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){return a?(a=e.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},e.latLngBounds=function(a,b){return!a||a instanceof e.LatLngBounds?a:new e.LatLngBounds(a,b)},e.Projection={},e.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var b=e.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,a.lat),-c),f=a.lng*b,g=d*b;return g=Math.log(Math.tan(Math.PI/4+g/2)),new e.Point(f,g)},unproject:function(a){var b=e.LatLng.RAD_TO_DEG,c=a.x*b,d=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*b;return new e.LatLng(d,c)}},e.Projection.LonLat={project:function(a){return new e.Point(a.lng,a.lat)},unproject:function(a){return new e.LatLng(a.y,a.x)}},e.CRS={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),d=this.transformation.untransform(a,c);return this.projection.unproject(d)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){var b=this.scale(a);return e.point(b,b)}},e.CRS.Simple=e.extend({},e.CRS,{projection:e.Projection.LonLat,transformation:new e.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}}),e.CRS.EPSG3857=e.extend({},e.CRS,{code:"EPSG:3857",projection:e.Projection.SphericalMercator,transformation:new e.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(a){var b=this.projection.project(a),c=6378137;return b.multiplyBy(c)}}),e.CRS.EPSG900913=e.extend({},e.CRS.EPSG3857,{code:"EPSG:900913"}),e.CRS.EPSG4326=e.extend({},e.CRS,{code:"EPSG:4326",projection:e.Projection.LonLat,transformation:new e.Transformation(1/360,.5,-1/360,.5)}),e.Map=e.Class.extend({includes:e.Mixin.Events,options:{crs:e.CRS.EPSG3857,fadeAnimation:e.DomUtil.TRANSITION&&!e.Browser.android23,trackResize:!0,markerZoomAnimation:e.DomUtil.TRANSITION&&e.Browser.any3d},initialize:function(a,b){b=e.setOptions(this,b),this._initContainer(a),this._initLayout(),this._onResize=e.bind(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.center&&b.zoom!==c&&this.setView(e.latLng(b.center),b.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(b.layers)},setView:function(a,b){return b=b===c?this.getZoom():b,this._resetView(e.latLng(a),this._limitZoom(b)),this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),f=this.getSize().divideBy(2),g=a instanceof e.Point?a:this.latLngToContainerPoint(a),h=g.subtract(f).multiplyBy(1-1/d),i=this.containerPointToLatLng(f.add(h));return this.setView(i,b,{zoom:c})},fitBounds:function(a,b){b=b||{},a=a.getBounds?a.getBounds():e.latLngBounds(a);var c=e.point(b.paddingTopLeft||b.padding||[0,0]),d=e.point(b.paddingBottomRight||b.padding||[0,0]),f=this.getBoundsZoom(a,!1,c.add(d)),g=d.subtract(c).divideBy(2),h=this.project(a.getSouthWest(),f),i=this.project(a.getNorthEast(),f),j=this.unproject(h.add(i).divideBy(2).add(g),f);return f=b&&b.maxZoom?Math.min(b.maxZoom,f):f,this.setView(j,f,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(e.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=e.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,b){var c=this.getCenter(),d=this._limitCenter(c,this._zoom,a);return c.equals(d)?this:this.panTo(d,b)},addLayer:function(a){var b=e.stamp(a);return this._layers[b]?this:(this._layers[b]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[b]=a,this._updateZoomLevels()),this.options.zoomAnimation&&e.TileLayer&&a instanceof e.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var b=e.stamp(a);return this._layers[b]?(this._loaded&&a.onRemove(this),delete this._layers[b],this._loaded&&this.fire("layerremove",{layer:a}),this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels()),this.options.zoomAnimation&&e.TileLayer&&a instanceof e.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(a){return a?e.stamp(a)in this._layers:!1},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},invalidateSize:function(a){if(!this._loaded)return this;a=e.extend({animate:!1,pan:!0},a===!0?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var c=this.getSize(),d=b.divideBy(2).round(),f=c.divideBy(2).round(),g=d.subtract(f);return g.x||g.y?(a.animate&&a.pan?this.panBy(g):(a.pan&&this._rawPanBy(g),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:c})):this},addHandler:function(a,b){if(!b)return this;var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=c}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),c=this.unproject(a.getTopRight());return new e.LatLngBounds(b,c)},getMinZoom:function(){return this.options.minZoom===c?this._layersMinZoom===c?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===c?this._layersMaxZoom===c?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,c){a=e.latLngBounds(a);var d,f=this.getMinZoom()-(b?1:0),g=this.getMaxZoom(),h=this.getSize(),i=a.getNorthWest(),j=a.getSouthEast(),k=!0;c=e.point(c||[0,0]);do f++,d=this.project(j,f).subtract(this.project(i,f)).add(c),k=b?d.x<h.x||d.y<h.y:h.contains(d);while(k&&g>=f);return k&&b?null:b?f:f-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new e.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new e.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,b){return b=b===c?this._zoom:b,this.options.crs.latLngToPoint(e.latLng(a),b)},unproject:function(a,b){return b=b===c?this._zoom:b,this.options.crs.pointToLatLng(e.point(a),b)},layerPointToLatLng:function(a){var b=e.point(a).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(a){var b=this.project(e.latLng(a))._round();return b._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return e.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return e.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var b=this.containerPointToLayerPoint(e.point(a));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(e.latLng(a)))},mouseEventToContainerPoint:function(a){return e.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))
},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var b=this._container=e.DomUtil.get(a);if(!b)throw new Error("Map container not found.");if(b._leaflet)throw new Error("Map container is already initialized.");b._leaflet=!0},_initLayout:function(){var a=this._container;e.DomUtil.addClass(a,"leaflet-container"+(e.Browser.touch?" leaflet-touch":"")+(e.Browser.retina?" leaflet-retina":"")+(e.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var b=e.DomUtil.getStyle(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),a.shadowPane=this._createPane("leaflet-shadow-pane"),a.overlayPane=this._createPane("leaflet-overlay-pane"),a.markerPane=this._createPane("leaflet-marker-pane"),a.popupPane=this._createPane("leaflet-popup-pane");var b=" leaflet-zoom-hide";this.options.markerZoomAnimation||(e.DomUtil.addClass(a.markerPane,b),e.DomUtil.addClass(a.shadowPane,b),e.DomUtil.addClass(a.popupPane,b))},_createPane:function(a,b){return e.DomUtil.create("div",a,b||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?e.Util.isArray(a)?a:[a]:[];for(var b=0,c=a.length;c>b;b++)this.addLayer(a[b])},_resetView:function(a,b,c,d){var f=this._zoom!==b;d||(this.fire("movestart"),f&&this.fire("zoomstart")),this._zoom=b,this._initialCenter=a,this._initialTopLeftPoint=this._getNewTopLeftPoint(a),c?this._initialTopLeftPoint._add(this._getMapPanePos()):e.DomUtil.setPosition(this._mapPane,new e.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var g=!this._loaded;this._loaded=!0,g&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!c}),this.fire("move"),(f||d)&&this.fire("zoomend"),this.fire("moveend",{hard:!c})},_rawPanBy:function(a){e.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,b=1/0,d=-1/0,e=this._getZoomSpan();for(a in this._zoomBoundLayers){var f=this._zoomBoundLayers[a];isNaN(f.options.minZoom)||(b=Math.min(b,f.options.minZoom)),isNaN(f.options.maxZoom)||(d=Math.max(d,f.options.maxZoom))}a===c?this._layersMaxZoom=this._layersMinZoom=c:(this._layersMaxZoom=d,this._layersMinZoom=b),e!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(b){if(e.DomEvent){b=b||"on",e.DomEvent[b](this._container,"click",this._onMouseClick,this);var c,d,f=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(c=0,d=f.length;d>c;c++)e.DomEvent[b](this._container,f[c],this._fireMouseEvent,this);this.options.trackResize&&e.DomEvent[b](a,"resize",this._onResize,this)}},_onResize:function(){e.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=e.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||e.DomEvent._skipped(a)||(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&!e.DomEvent._skipped(a)){var b=a.type;if(b="mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,this.hasEventListeners(b)){"contextmenu"===b&&e.DomEvent.preventDefault(a);var c=this.mouseEventToContainerPoint(a),d=this.containerPointToLayerPoint(c),f=this.layerPointToLatLng(d);this.fire(b,{latlng:f,layerPoint:d,containerPoint:c,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,b=this._handlers.length;b>a;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,this):this.on("load",a,b),this},_layerAdd:function(a){a.onAdd(this),this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return e.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._round()},_latLngToNewLayerPoint:function(a,b,c){var d=this._getNewTopLeftPoint(c,b).add(this._getMapPanePos());return this.project(a,b)._subtract(d)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,c){if(!c)return a;var d=this.project(a,b),f=this.getSize().divideBy(2),g=new e.Bounds(d.subtract(f),d.add(f)),h=this._getBoundsOffset(g,c,b);return this.unproject(d.add(h),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds(),d=new e.Bounds(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(d,b))},_getBoundsOffset:function(a,b,c){var d=this.project(b.getNorthWest(),c).subtract(a.min),f=this.project(b.getSouthEast(),c).subtract(a.max),g=this._rebound(d.x,-f.x),h=this._rebound(d.y,-f.y);return new e.Point(g,h)},_rebound:function(a,b){return a+b>0?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom();return Math.max(b,Math.min(c,a))}}),e.map=function(a,b){return new e.Map(a,b)},e.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var b=e.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,a.lat),-c),f=this.R_MAJOR,g=this.R_MINOR,h=a.lng*b*f,i=d*b,j=g/f,k=Math.sqrt(1-j*j),l=k*Math.sin(i);l=Math.pow((1-l)/(1+l),.5*k);var m=Math.tan(.5*(.5*Math.PI-i))/l;return i=-f*Math.log(m),new e.Point(h,i)},unproject:function(a){for(var b,c=e.LatLng.RAD_TO_DEG,d=this.R_MAJOR,f=this.R_MINOR,g=a.x*c/d,h=f/d,i=Math.sqrt(1-h*h),j=Math.exp(-a.y/d),k=Math.PI/2-2*Math.atan(j),l=15,m=1e-7,n=l,o=.1;Math.abs(o)>m&&--n>0;)b=i*Math.sin(k),o=Math.PI/2-2*Math.atan(j*Math.pow((1-b)/(1+b),.5*i))-k,k+=o;return new e.LatLng(k*c,g)}},e.CRS.EPSG3395=e.extend({},e.CRS,{code:"EPSG:3395",projection:e.Projection.Mercator,transformation:function(){var a=e.Projection.Mercator,b=a.R_MAJOR,c=.5/(Math.PI*b);return new e.Transformation(c,.5,-c,.5)}()}),e.TileLayer=e.Class.extend({includes:e.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:e.Browser.mobile,updateWhenIdle:e.Browser.mobile},initialize:function(a,b){b=e.setOptions(this,b),b.detectRetina&&e.Browser.retina&&b.maxZoom>0&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomOffset++,b.minZoom>0&&b.minZoom--,this.options.maxZoom--),b.bounds&&(b.bounds=e.latLngBounds(b.bounds)),this._url=a;var c=this.options.subdomains;"string"==typeof c&&(this.options.subdomains=c.split(""))},onAdd:function(a){this._map=a,this._animated=a._zoomAnimated,this._initContainer(),a.on({viewreset:this._reset,moveend:this._update},this),this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=e.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container),a.off({viewreset:this._reset,moveend:this._update},this),this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==c&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,b){var c,d,e,f=a.children,g=-b(1/0,-1/0);for(d=0,e=f.length;e>d;d++)f[d]!==this._container&&(c=parseInt(f[d].style.zIndex,10),isNaN(c)||(g=b(g,c)));this.options.zIndex=this._container.style.zIndex=(isFinite(g)?g:0)+b(1,-1)},_updateOpacity:function(){var a,b=this._tiles;if(e.Browser.ielt9)for(a in b)e.DomUtil.setOpacity(b[a],this.options.opacity);else e.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var a=this._map._panes.tilePane;if(!this._container){if(this._container=e.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var b="leaflet-tile-container";this._bgBuffer=e.DomUtil.create("div",b,this._container),this._tileContainer=e.DomUtil.create("div",b,this._container)}else this._tileContainer=this._container;a.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",{tile:this._tiles[b]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&a&&a.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var a=this._map,b=a.getZoom()+this.options.zoomOffset,c=this.options.maxNativeZoom,d=this.options.tileSize;return c&&b>c&&(d=Math.round(a.getZoomScale(b)/a.getZoomScale(c)*d)),d},_update:function(){if(this._map){var a=this._map,b=a.getPixelBounds(),c=a.getZoom(),d=this._getTileSize();if(!(c>this.options.maxZoom||c<this.options.minZoom)){var f=e.bounds(b.min.divideBy(d)._floor(),b.max.divideBy(d)._floor());this._addTilesFromCenterOut(f),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(f)}}},_addTilesFromCenterOut:function(a){var c,d,f,g=[],h=a.getCenter();for(c=a.min.y;c<=a.max.y;c++)for(d=a.min.x;d<=a.max.x;d++)f=new e.Point(d,c),this._tileShouldBeLoaded(f)&&g.push(f);var i=g.length;if(0!==i){g.sort(function(a,b){return a.distanceTo(h)-b.distanceTo(h)});var j=b.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=i,d=0;i>d;d++)this._addTile(g[d],j);this._tileContainer.appendChild(j)}},_tileShouldBeLoaded:function(a){if(a.x+":"+a.y in this._tiles)return!1;var b=this.options;if(!b.continuousWorld){var c=this._getWrapTileNum();if(b.noWrap&&(a.x<0||a.x>=c.x)||a.y<0||a.y>=c.y)return!1}if(b.bounds){var d=b.tileSize,e=a.multiplyBy(d),f=e.add([d,d]),g=this._map.unproject(e),h=this._map.unproject(f);if(b.continuousWorld||b.noWrap||(g=g.wrap(),h=h.wrap()),!b.bounds.intersects([g,h]))return!1}return!0},_removeOtherTiles:function(a){var b,c,d,e;for(e in this._tiles)b=e.split(":"),c=parseInt(b[0],10),d=parseInt(b[1],10),(c<a.min.x||c>a.max.x||d<a.min.y||d>a.max.y)&&this._removeTile(e)},_removeTile:function(a){var b=this._tiles[a];this.fire("tileunload",{tile:b,url:b.src}),this.options.reuseTiles?(e.DomUtil.removeClass(b,"leaflet-tile-loaded"),this._unusedTiles.push(b)):b.parentNode===this._tileContainer&&this._tileContainer.removeChild(b),e.Browser.android||(b.onload=null,b.src=e.Util.emptyImageUrl),delete this._tiles[a]},_addTile:function(a,b){var c=this._getTilePos(a),d=this._getTile();e.DomUtil.setPosition(d,c,e.Browser.chrome),this._tiles[a.x+":"+a.y]=d,this._loadTile(d,a),d.parentNode!==this._tileContainer&&b.appendChild(d)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();return a.zoomReverse&&(b=a.maxZoom-b),b+=a.zoomOffset,a.maxNativeZoom?Math.min(b,a.maxNativeZoom):b},_getTilePos:function(a){var b=this._map.getPixelOrigin(),c=this._getTileSize();return a.multiplyBy(c).subtract(b)},getTileUrl:function(a){return e.Util.template(this._url,e.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){var a=this._map.options.crs,b=a.getSize(this._map.getZoom());return b.divideBy(this.options.tileSize)},_adjustTilePoint:function(a){var b=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%b.x+b.x)%b.x),this.options.tms&&(a.y=b.y-a.y-1),a.z=this._getZoomForUrl()},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=e.DomUtil.create("img","leaflet-tile");return a.style.width=a.style.height=this._getTileSize()+"px",a.galleryimg="no",a.onselectstart=a.onmousemove=e.Util.falseFn,e.Browser.ielt9&&this.options.opacity!==c&&e.DomUtil.setOpacity(a,this.options.opacity),e.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden"),a},_loadTile:function(a,b){a._layer=this,a.onload=this._tileOnLoad,a.onerror=this._tileOnError,this._adjustTilePoint(b),a.src=this.getTileUrl(b),this.fire("tileloadstart",{tile:a,url:a.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&e.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(e.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==e.Util.emptyImageUrl&&(e.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src})),a._tileLoaded()},_tileOnError:function(){var a=this._layer;a.fire("tileerror",{tile:this,url:this.src});var b=a.options.errorTileUrl;b&&(this.src=b),a._tileLoaded()}}),e.tileLayer=function(a,b){return new e.TileLayer(a,b)},e.TileLayer.WMS=e.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,b){this._url=a;var c=e.extend({},this.defaultWmsParams),d=b.tileSize||this.options.tileSize;c.width=c.height=b.detectRetina&&e.Browser.retina?2*d:d;for(var f in b)this.options.hasOwnProperty(f)||"crs"===f||(c[f]=b[f]);this.wmsParams=c,e.setOptions(this,b)},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,e.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._map,c=this.options.tileSize,d=a.multiplyBy(c),f=d.add([c,c]),g=this._crs.project(b.unproject(d,a.z)),h=this._crs.project(b.unproject(f,a.z)),i=this._wmsVersion>=1.3&&this._crs===e.CRS.EPSG4326?[h.y,g.x,g.y,h.x].join(","):[g.x,h.y,h.x,g.y].join(","),j=e.Util.template(this._url,{s:this._getSubdomain(a)});return j+e.Util.getParamString(this.wmsParams,j,!0)+"&BBOX="+i},setParams:function(a,b){return e.extend(this.wmsParams,a),b||this.redraw(),this}}),e.tileLayer.wms=function(a,b){return new e.TileLayer.WMS(a,b)},e.TileLayer.Canvas=e.TileLayer.extend({options:{async:!1},initialize:function(a){e.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=e.DomUtil.create("canvas","leaflet-tile");return a.width=a.height=this.options.tileSize,a.onselectstart=a.onmousemove=e.Util.falseFn,a},_loadTile:function(a,b){a._layer=this,a._tilePoint=b,this._redrawTile(a),this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}}),e.tileLayer.canvas=function(a){return new e.TileLayer.Canvas(a)},e.ImageOverlay=e.Class.extend({includes:e.Mixin.Events,options:{opacity:1},initialize:function(a,b,c){this._url=a,this._bounds=e.latLngBounds(b),e.setOptions(this,c)},onAdd:function(a){this._map=a,this._image||this._initImage(),a._panes.overlayPane.appendChild(this._image),a.on("viewreset",this._reset,this),a.options.zoomAnimation&&e.Browser.any3d&&a.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image),a.off("viewreset",this._reset,this),a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},setUrl:function(a){this._url=a,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=e.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&e.Browser.any3d?e.DomUtil.addClass(this._image,"leaflet-zoom-animated"):e.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),e.extend(this._image,{galleryimg:"no",onselectstart:e.Util.falseFn,onmousemove:e.Util.falseFn,onload:e.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var b=this._map,c=this._image,d=b.getZoomScale(a.zoom),f=this._bounds.getNorthWest(),g=this._bounds.getSouthEast(),h=b._latLngToNewLayerPoint(f,a.zoom,a.center),i=b._latLngToNewLayerPoint(g,a.zoom,a.center)._subtract(h),j=h._add(i._multiplyBy(.5*(1-1/d)));c.style[e.DomUtil.TRANSFORM]=e.DomUtil.getTranslateString(j)+" scale("+d+") "},_reset:function(){var a=this._image,b=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),c=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(b);e.DomUtil.setPosition(a,b),a.style.width=c.x+"px",a.style.height=c.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){e.DomUtil.setOpacity(this._image,this.options.opacity)}}),e.imageOverlay=function(a,b,c){return new e.ImageOverlay(a,b,c)},e.Icon=e.Class.extend({options:{className:""},initialize:function(a){e.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d;return d=b&&"IMG"===b.tagName?this._createImg(c,b):this._createImg(c),this._setIconStyles(d,a),d},_setIconStyles:function(a,b){var c,d=this.options,f=e.point(d[b+"Size"]);c="shadow"===b?e.point(d.shadowAnchor||d.iconAnchor):e.point(d.iconAnchor),!c&&f&&(c=f.divideBy(2,!0)),a.className="leaflet-marker-"+b+" "+d.className,c&&(a.style.marginLeft=-c.x+"px",a.style.marginTop=-c.y+"px"),f&&(a.style.width=f.x+"px",a.style.height=f.y+"px")},_createImg:function(a,c){return c=c||b.createElement("img"),c.src=a,c},_getIconUrl:function(a){return e.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}}),e.icon=function(a){return new e.Icon(a)},e.Icon.Default=e.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var b=a+"Url";if(this.options[b])return this.options[b];e.Browser.retina&&"icon"===a&&(a+="-2x");var c=e.Icon.Default.imagePath;if(!c)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return c+"/marker-"+a+".png"}}),e.Icon.Default.imagePath=function(){var a,c,d,e,f,g=b.getElementsByTagName("script"),h=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(a=0,c=g.length;c>a;a++)if(d=g[a].src,e=d.match(h))return f=d.split(h)[0],(f?f+"/":"")+"images"}(),e.Marker=e.Class.extend({includes:e.Mixin.Events,options:{icon:new e.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,b){e.setOptions(this,b),this._latlng=e.latLng(a)},onAdd:function(a){this._map=a,a.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),a.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=e.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b=this._map,c=b.options.zoomAnimation&&b.options.markerZoomAnimation,d=c?"leaflet-zoom-animated":"leaflet-zoom-hide",f=a.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,a.title&&(f.title=a.title),a.alt&&(f.alt=a.alt)),e.DomUtil.addClass(f,d),a.keyboard&&(f.tabIndex="0"),this._icon=f,this._initInteraction(),a.riseOnHover&&e.DomEvent.on(f,"mouseover",this._bringToFront,this).on(f,"mouseout",this._resetZIndex,this);var h=a.icon.createShadow(this._shadow),i=!1;h!==this._shadow&&(this._removeShadow(),i=!0),h&&e.DomUtil.addClass(h,d),this._shadow=h,a.opacity<1&&this._updateOpacity();var j=this._map._panes;g&&j.markerPane.appendChild(this._icon),h&&i&&j.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&e.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(a){e.DomUtil.setPosition(this._icon,a),this._shadow&&e.DomUtil.setPosition(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,b=["dblclick","mousedown","mouseover","mouseout","contextmenu"];e.DomUtil.addClass(a,"leaflet-clickable"),e.DomEvent.on(a,"click",this._onMouseClick,this),e.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<b.length;c++)e.DomEvent.on(a,b[c],this._fireMouseEvent,this);e.Handler.MarkerDrag&&(this.dragging=new e.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var b=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||b)&&e.DomEvent.stopPropagation(a),b||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng}),"contextmenu"===a.type&&this.hasEventListeners(a.type)&&e.DomEvent.preventDefault(a),"mousedown"!==a.type?e.DomEvent.stopPropagation(a):e.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){e.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&e.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),e.marker=function(a,b){return new e.Marker(a,b)},e.DivIcon=e.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){var c=a&&"DIV"===a.tagName?a:b.createElement("div"),d=this.options;return c.innerHTML=d.html!==!1?d.html:"",d.bgPos&&(c.style.backgroundPosition=-d.bgPos.x+"px "+-d.bgPos.y+"px"),this._setIconStyles(c,"icon"),c},createShadow:function(){return null}}),e.divIcon=function(a){return new e.DivIcon(a)},e.Map.mergeOptions({closePopupOnClick:!0}),e.Popup=e.Class.extend({includes:e.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,b){e.setOptions(this,a),this._source=b,this._animated=e.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(a){this._map=a,this._container||this._initLayout();var b=a.options.fadeAnimation;b&&e.DomUtil.setOpacity(this._container,0),a._panes.popupPane.appendChild(this._container),a.on(this._getEvents(),this),this.update(),b&&e.DomUtil.setOpacity(this._container,1),this.fire("open"),a.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),this},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._panes.popupPane.removeChild(this._container),e.Util.falseFn(this._container.offsetWidth),a.off(this._getEvents(),this),a.options.fadeAnimation&&e.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),a.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=e.latLng(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a,b="leaflet-popup",c=b+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),d=this._container=e.DomUtil.create("div",c);this.options.closeButton&&(a=this._closeButton=e.DomUtil.create("a",b+"-close-button",d),a.href="#close",a.innerHTML="&#215;",e.DomEvent.disableClickPropagation(a),e.DomEvent.on(a,"click",this._onCloseButtonClick,this));var f=this._wrapper=e.DomUtil.create("div",b+"-content-wrapper",d);e.DomEvent.disableClickPropagation(f),this._contentNode=e.DomUtil.create("div",b+"-content",f),e.DomEvent.disableScrollPropagation(this._contentNode),e.DomEvent.on(f,"contextmenu",e.DomEvent.stopPropagation),this._tipContainer=e.DomUtil.create("div",b+"-tip-container",d),this._tip=e.DomUtil.create("div",b+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="",b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),b.width=c+1+"px",b.whiteSpace="",b.height="";var d=a.offsetHeight,f=this.options.maxHeight,g="leaflet-popup-scrolled";f&&d>f?(b.height=f+"px",e.DomUtil.addClass(a,g)):e.DomUtil.removeClass(a,g),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=this._animated,c=e.point(this.options.offset);b&&e.DomUtil.setPosition(this._container,a),this._containerBottom=-c.y-(b?0:a.y),this._containerLeft=-Math.round(this._containerWidth/2)+c.x+(b?0:a.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);e.DomUtil.setPosition(this._container,b)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,b=this._container.offsetHeight,c=this._containerWidth,d=new e.Point(this._containerLeft,-b-this._containerBottom);this._animated&&d._add(e.DomUtil.getPosition(this._container));var f=a.layerPointToContainerPoint(d),g=e.point(this.options.autoPanPadding),h=e.point(this.options.autoPanPaddingTopLeft||g),i=e.point(this.options.autoPanPaddingBottomRight||g),j=a.getSize(),k=0,l=0;f.x+c+i.x>j.x&&(k=f.x+c-j.x+i.x),f.x-k-h.x<0&&(k=f.x-h.x),f.y+b+i.y>j.y&&(l=f.y+b-j.y+i.y),f.y-l-h.y<0&&(l=f.y-h.y),(k||l)&&a.fire("autopanstart").panBy([k,l])}},_onCloseButtonClick:function(a){this._close(),e.DomEvent.stop(a)}}),e.popup=function(a,b){return new e.Popup(a,b)},e.Map.include({openPopup:function(a,b,c){if(this.closePopup(),!(a instanceof e.Popup)){var d=a;a=new e.Popup(c).setLatLng(b).setContent(d)}return a._isOpen=!0,this._popup=a,this.addLayer(a)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&(this.removeLayer(a),a._isOpen=!1),this}}),e.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(a,b){var c=e.point(this.options.icon.options.popupAnchor||[0,0]);return c=c.add(e.Popup.prototype.options.offset),b&&b.offset&&(c=c.add(b.offset)),b=e.extend({offset:c},b),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),a instanceof e.Popup?(e.setOptions(a,b),this._popup=a):this._popup=new e.Popup(b,this).setContent(a),this},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}}),e.LayerGroup=e.Class.extend({initialize:function(a){this._layers={};var b,c;if(a)for(b=0,c=a.length;c>b;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var b=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this
},invoke:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)c=this._layers[b],c[a]&&c[a].apply(c,d);return this},onAdd:function(a){this._map=a,this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a),this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var b in this._layers)a.push(this._layers[b]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return e.stamp(a)}}),e.layerGroup=function(a){return new e.LayerGroup(a)},e.FeatureGroup=e.LayerGroup.extend({includes:e.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?this:("on"in a&&a.on(e.FeatureGroup.EVENTS,this._propagateEvent,this),e.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.off(e.FeatureGroup.EVENTS,this._propagateEvent,this),e.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,b){return this._popupContent=a,this._popupOptions=b,this.invoke("bindPopup",a,b)},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new e.LatLngBounds;return this.eachLayer(function(b){a.extend(b instanceof e.Marker?b.getLatLng():b.getBounds())}),a},_propagateEvent:function(a){a=e.extend({layer:a.target,target:this},a),this.fire(a.type,a)}}),e.featureGroup=function(a){return new e.FeatureGroup(a)},e.Path=e.Class.extend({includes:[e.Mixin.Events],statics:{CLIP_PADDING:function(){var b=e.Browser.mobile?1280:2e3,c=(b/Math.max(a.outerWidth,a.outerHeight)-1)/2;return Math.max(0,Math.min(.5,c))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(a){e.setOptions(this,a)},onAdd:function(a){this._map=a,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){a._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,e.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){return e.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),e.Map.include({_updatePathViewport:function(){var a=e.Path.CLIP_PADDING,b=this.getSize(),c=e.DomUtil.getPosition(this._mapPane),d=c.multiplyBy(-1)._subtract(b.multiplyBy(a)._round()),f=d.add(b.multiplyBy(1+2*a)._round());this._pathViewport=new e.Bounds(d,f)}}),e.Path.SVG_NS="http://www.w3.org/2000/svg",e.Browser.svg=!(!b.createElementNS||!b.createElementNS(e.Path.SVG_NS,"svg").createSVGRect),e.Path=e.Path.extend({statics:{SVG:e.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,b=this._container;return b&&a.lastChild!==b&&a.appendChild(b),this},bringToBack:function(){var a=this._map._pathRoot,b=this._container,c=a.firstChild;return b&&c!==b&&a.insertBefore(b,c),this},getPathString:function(){},_createElement:function(a){return b.createElementNS(e.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&e.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0"),this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){(e.Browser.svg||!e.Browser.vml)&&e.DomUtil.addClass(this._path,"leaflet-clickable"),e.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],b=0;b<a.length;b++)e.DomEvent.on(this._container,a[b],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this.hasEventListeners(a.type)){var b=this._map,c=b.mouseEventToContainerPoint(a),d=b.containerPointToLayerPoint(c),f=b.layerPointToLatLng(d);this.fire(a.type,{latlng:f,layerPoint:d,containerPoint:c,originalEvent:a}),"contextmenu"===a.type&&e.DomEvent.preventDefault(a),"mousemove"!==a.type&&e.DomEvent.stopPropagation(a)}}}),e.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=e.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&e.Browser.any3d?(e.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):e.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(a){var b=this.getZoomScale(a.zoom),c=this._getCenterOffset(a.center)._multiplyBy(-b)._add(this._pathViewport.min);this._pathRoot.style[e.DomUtil.TRANSFORM]=e.DomUtil.getTranslateString(c)+" scale("+b+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,c=a.max,d=c.x-b.x,f=c.y-b.y,g=this._pathRoot,h=this._panes.overlayPane;e.Browser.mobileWebkit&&h.removeChild(g),e.DomUtil.setPosition(g,b),g.setAttribute("width",d),g.setAttribute("height",f),g.setAttribute("viewBox",[b.x,b.y,d,f].join(" ")),e.Browser.mobileWebkit&&h.appendChild(g)}}}),e.Path.include({bindPopup:function(a,b){return a instanceof e.Popup?this._popup=a:((!this._popup||b)&&(this._popup=new e.Popup(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng),this._map.openPopup(this._popup)}}),e.Browser.vml=!e.Browser.svg&&function(){try{var a=b.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&"object"==typeof c.adj}catch(d){return!1}}(),e.Path=e.Browser.svg||!e.Browser.vml?e.Path:e.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return b.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return b.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");e.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&e.DomUtil.addClass(a,"leaflet-clickable"),a.coordsize="1 1",this._path=this._createElement("path"),a.appendChild(this._path),this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,b=this._fill,c=this.options,d=this._container;d.stroked=c.stroke,d.filled=c.fill,c.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",d.appendChild(a)),a.weight=c.weight+"px",a.color=c.color,a.opacity=c.opacity,a.dashStyle=c.dashArray?e.Util.isArray(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):"",c.lineCap&&(a.endcap=c.lineCap.replace("butt","flat")),c.lineJoin&&(a.joinstyle=c.lineJoin)):a&&(d.removeChild(a),this._stroke=null),c.fill?(b||(b=this._fill=this._createElement("fill"),d.appendChild(b)),b.color=c.fillColor||c.color,b.opacity=c.fillOpacity):b&&(d.removeChild(b),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none",this._path.v=this.getPathString()+" ",a.display=""}}),e.Map.include(e.Browser.svg||!e.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=b.createElement("div");a.className="leaflet-vml-container",this._panes.overlayPane.appendChild(a),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),e.Browser.canvas=function(){return!!b.createElement("canvas").getContext}(),e.Path=e.Path.SVG&&!a.L_PREFER_CANVAS||!e.Browser.canvas?e.Path:e.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return e.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!e.Path._updateRequest&&(e.Path._updateRequest=e.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){e.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color),a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var a,b,c,d,f,g;for(this._ctx.beginPath(),a=0,c=this._parts.length;c>a;a++){for(b=0,d=this._parts[a].length;d>b;b++)f=this._parts[a][b],g=(0===b?"move":"line")+"To",this._ctx[g](f.x,f.y);this instanceof e.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=this._ctx,b=this.options;this._drawPath(),a.save(),this._updateStyle(),b.fill&&(a.globalAlpha=b.fillOpacity,a.fill()),b.stroke&&(a.globalAlpha=b.opacity,a.stroke()),a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}}),e.Map.include(e.Path.SVG&&!a.L_PREFER_CANVAS||!e.Browser.canvas?{}:{_initPathRoot:function(){var a,c=this._pathRoot;c||(c=this._pathRoot=b.createElement("canvas"),c.style.position="absolute",a=this._canvasCtx=c.getContext("2d"),a.lineCap="round",a.lineJoin="round",this._panes.overlayPane.appendChild(c),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,c=a.max.subtract(b),d=this._pathRoot;e.DomUtil.setPosition(d,b),d.width=c.x,d.height=c.y,d.getContext("2d").translate(-b.x,-b.y)}}}),e.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var c=b*b;return a=this._reducePoints(a,c),a=this._simplifyDP(a,c)},pointToSegmentDistance:function(a,b,c){return Math.sqrt(this._sqClosestPointOnSegment(a,b,c,!0))},closestPointOnSegment:function(a,b,c){return this._sqClosestPointOnSegment(a,b,c)},_simplifyDP:function(a,b){var d=a.length,e=typeof Uint8Array!=c+""?Uint8Array:Array,f=new e(d);f[0]=f[d-1]=1,this._simplifyDPStep(a,f,b,0,d-1);var g,h=[];for(g=0;d>g;g++)f[g]&&h.push(a[g]);return h},_simplifyDPStep:function(a,b,c,d,e){var f,g,h,i=0;for(g=d+1;e-1>=g;g++)h=this._sqClosestPointOnSegment(a[g],a[d],a[e],!0),h>i&&(f=g,i=h);i>c&&(b[f]=1,this._simplifyDPStep(a,b,c,d,f),this._simplifyDPStep(a,b,c,f,e))},_reducePoints:function(a,b){for(var c=[a[0]],d=1,e=0,f=a.length;f>d;d++)this._sqDist(a[d],a[e])>b&&(c.push(a[d]),e=d);return f-1>e&&c.push(a[f-1]),c},clipSegment:function(a,b,c,d){var e,f,g,h=d?this._lastCode:this._getBitCode(a,c),i=this._getBitCode(b,c);for(this._lastCode=i;;){if(!(h|i))return[a,b];if(h&i)return!1;e=h||i,f=this._getEdgeIntersection(a,b,e,c),g=this._getBitCode(f,c),e===h?(a=f,h=g):(b=f,i=g)}},_getEdgeIntersection:function(a,b,c,d){var f=b.x-a.x,g=b.y-a.y,h=d.min,i=d.max;return 8&c?new e.Point(a.x+f*(i.y-a.y)/g,i.y):4&c?new e.Point(a.x+f*(h.y-a.y)/g,h.y):2&c?new e.Point(i.x,a.y+g*(i.x-a.x)/f):1&c?new e.Point(h.x,a.y+g*(h.x-a.x)/f):void 0},_getBitCode:function(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c},_sqDist:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},_sqClosestPointOnSegment:function(a,b,c,d){var f,g=b.x,h=b.y,i=c.x-g,j=c.y-h,k=i*i+j*j;return k>0&&(f=((a.x-g)*i+(a.y-h)*j)/k,f>1?(g=c.x,h=c.y):f>0&&(g+=i*f,h+=j*f)),i=a.x-g,j=a.y-h,d?i*i+j*j:new e.Point(g,h)}},e.Polyline=e.Path.extend({initialize:function(a,b){e.Path.prototype.initialize.call(this,b),this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;b>a;a++)this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,c="";b>a;a++)c+=this._getPathPartStr(this._parts[a]);return c},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(e.latLng(a)),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),a},closestLayerPoint:function(a){for(var b,c,d=1/0,f=this._parts,g=null,h=0,i=f.length;i>h;h++)for(var j=f[h],k=1,l=j.length;l>k;k++){b=j[k-1],c=j[k];var m=e.LineUtil._sqClosestPointOnSegment(a,b,c,!0);d>m&&(d=m,g=e.LineUtil._sqClosestPointOnSegment(a,b,c))}return g&&(g.distance=Math.sqrt(d)),g},getBounds:function(){return new e.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,b){var c,d,f=b?a:[];for(c=0,d=a.length;d>c;c++){if(e.Util.isArray(a[c])&&"number"!=typeof a[c][0])return;f[c]=e.latLng(a[c])}return f},_initEvents:function(){e.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){for(var b,c=e.Path.VML,d=0,f=a.length,g="";f>d;d++)b=a[d],c&&b._round(),g+=(d?"L":"M")+b.x+" "+b.y;return g},_clipPoints:function(){var a,b,c,d=this._originalPoints,f=d.length;if(this.options.noClip)return this._parts=[d],void 0;this._parts=[];var g=this._parts,h=this._map._pathViewport,i=e.LineUtil;for(a=0,b=0;f-1>a;a++)c=i.clipSegment(d[a],d[a+1],h,a),c&&(g[b]=g[b]||[],g[b].push(c[0]),(c[1]!==d[a+1]||a===f-2)&&(g[b].push(c[1]),b++))},_simplifyPoints:function(){for(var a=this._parts,b=e.LineUtil,c=0,d=a.length;d>c;c++)a[c]=b.simplify(a[c],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),e.Path.prototype._updatePath.call(this))}}),e.polyline=function(a,b){return new e.Polyline(a,b)},e.PolyUtil={},e.PolyUtil.clipPolygon=function(a,b){var c,d,f,g,h,i,j,k,l,m=[1,4,2,8],n=e.LineUtil;for(d=0,j=a.length;j>d;d++)a[d]._code=n._getBitCode(a[d],b);for(g=0;4>g;g++){for(k=m[g],c=[],d=0,j=a.length,f=j-1;j>d;f=d++)h=a[d],i=a[f],h._code&k?i._code&k||(l=n._getEdgeIntersection(i,h,k,b),l._code=n._getBitCode(l,b),c.push(l)):(i._code&k&&(l=n._getEdgeIntersection(i,h,k,b),l._code=n._getBitCode(l,b),c.push(l)),c.push(h));a=c}return a},e.Polygon=e.Polyline.extend({options:{fill:!0},initialize:function(a,b){e.Polyline.prototype.initialize.call(this,a,b),this._initWithHoles(a)},_initWithHoles:function(a){var b,c,d;if(a&&e.Util.isArray(a[0])&&"number"!=typeof a[0][0])for(this._latlngs=this._convertLatLngs(a[0]),this._holes=a.slice(1),b=0,c=this._holes.length;c>b;b++)d=this._holes[b]=this._convertLatLngs(this._holes[b]),d[0].equals(d[d.length-1])&&d.pop();a=this._latlngs,a.length>=2&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){if(e.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var a,b,c,d;for(a=0,c=this._holes.length;c>a;a++)for(this._holePoints[a]=[],b=0,d=this._holes[a].length;d>b;b++)this._holePoints[a][b]=this._map.latLngToLayerPoint(this._holes[a][b])}},setLatLngs:function(a){return a&&e.Util.isArray(a[0])&&"number"!=typeof a[0][0]?(this._initWithHoles(a),this.redraw()):e.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var a=this._originalPoints,b=[];if(this._parts=[a].concat(this._holePoints),!this.options.noClip){for(var c=0,d=this._parts.length;d>c;c++){var f=e.PolyUtil.clipPolygon(this._parts[c],this._map._pathViewport);f.length&&b.push(f)}this._parts=b}},_getPathPartStr:function(a){var b=e.Polyline.prototype._getPathPartStr.call(this,a);return b+(e.Browser.svg?"z":"x")}}),e.polygon=function(a,b){return new e.Polygon(a,b)},function(){function a(a){return e.FeatureGroup.extend({initialize:function(a,b){this._layers={},this._options=b,this.setLatLngs(a)},setLatLngs:function(b){var c=0,d=b.length;for(this.eachLayer(function(a){d>c?a.setLatLngs(b[c++]):this.removeLayer(a)},this);d>c;)this.addLayer(new a(b[c++],this._options));return this},getLatLngs:function(){var a=[];return this.eachLayer(function(b){a.push(b.getLatLngs())}),a}})}e.MultiPolyline=a(e.Polyline),e.MultiPolygon=a(e.Polygon),e.multiPolyline=function(a,b){return new e.MultiPolyline(a,b)},e.multiPolygon=function(a,b){return new e.MultiPolygon(a,b)}}(),e.Rectangle=e.Polygon.extend({initialize:function(a,b){e.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=e.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}}),e.rectangle=function(a,b){return new e.Rectangle(a,b)},e.Circle=e.Path.extend({initialize:function(a,b,c){e.Path.prototype.initialize.call(this,c),this._latlng=e.latLng(a),this._mRadius=b},options:{fill:!0},setLatLng:function(a){return this._latlng=e.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,c=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b),this._radius=Math.max(this._point.x-c.x,1)},getBounds:function(){var a=this._getLngRadius(),b=this._mRadius/40075017*360,c=this._latlng;return new e.LatLngBounds([c.lat-b,c.lng-a],[c.lat+b,c.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;return this._checkIfEmpty()?"":e.Browser.svg?"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-.1)+","+(a.y-b)+" z":(a._round(),b=Math.round(b),"AL "+a.x+","+a.y+" "+b+","+b+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(e.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,c=this._point;return c.x-b>a.max.x||c.y-b>a.max.y||c.x+b<a.min.x||c.y+b<a.min.y}}),e.circle=function(a,b,c){return new e.Circle(a,b,c)},e.CircleMarker=e.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){e.Circle.prototype.initialize.call(this,a,null,b),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){e.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(a){return e.Circle.prototype.setLatLng.call(this,a),this._popup&&this._popup._isOpen&&this._popup.setLatLng(a),this},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius}}),e.circleMarker=function(a,b){return new e.CircleMarker(a,b)},e.Polyline.include(e.Path.CANVAS?{_containsPoint:function(a,b){var c,d,f,g,h,i,j,k=this.options.weight/2;for(e.Browser.touch&&(k+=10),c=0,g=this._parts.length;g>c;c++)for(j=this._parts[c],d=0,h=j.length,f=h-1;h>d;f=d++)if((b||0!==d)&&(i=e.LineUtil.pointToSegmentDistance(a,j[f],j[d]),k>=i))return!0;return!1}}:{}),e.Polygon.include(e.Path.CANVAS?{_containsPoint:function(a){var b,c,d,f,g,h,i,j,k=!1;if(e.Polyline.prototype._containsPoint.call(this,a,!0))return!0;for(f=0,i=this._parts.length;i>f;f++)for(b=this._parts[f],g=0,j=b.length,h=j-1;j>g;h=g++)c=b[g],d=b[h],c.y>a.y!=d.y>a.y&&a.x<(d.x-c.x)*(a.y-c.y)/(d.y-c.y)+c.x&&(k=!k);return k}}:{}),e.Circle.include(e.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath(),this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this._point,c=this.options.stroke?this.options.weight/2:0;return a.distanceTo(b)<=this._radius+c}}:{}),e.CircleMarker.include(e.Path.CANVAS?{_updateStyle:function(){e.Path.prototype._updateStyle.call(this)}}:{}),e.GeoJSON=e.FeatureGroup.extend({initialize:function(a,b){e.setOptions(this,b),this._layers={},a&&this.addData(a)},addData:function(a){var b,c,d,f=e.Util.isArray(a)?a:a.features;if(f){for(b=0,c=f.length;c>b;b++)d=f[b],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(f[b]);return this}var g=this.options;if(!g.filter||g.filter(a)){var h=e.GeoJSON.geometryToLayer(a,g.pointToLayer,g.coordsToLatLng,g);return h.feature=e.GeoJSON.asFeature(a),h.defaultOptions=h.options,this.resetStyle(h),g.onEachFeature&&g.onEachFeature(a,h),this.addLayer(h)}},resetStyle:function(a){var b=this.options.style;b&&(e.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,b))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature)),a.setStyle&&a.setStyle(b)}}),e.extend(e.GeoJSON,{geometryToLayer:function(a,b,c,d){var f,g,h,i,j="Feature"===a.type?a.geometry:a,k=j.coordinates,l=[];switch(c=c||this.coordsToLatLng,j.type){case"Point":return f=c(k),b?b(a,f):new e.Marker(f);case"MultiPoint":for(h=0,i=k.length;i>h;h++)f=c(k[h]),l.push(b?b(a,f):new e.Marker(f));return new e.FeatureGroup(l);case"LineString":return g=this.coordsToLatLngs(k,0,c),new e.Polyline(g,d);case"Polygon":if(2===k.length&&!k[1].length)throw new Error("Invalid GeoJSON object.");return g=this.coordsToLatLngs(k,1,c),new e.Polygon(g,d);case"MultiLineString":return g=this.coordsToLatLngs(k,1,c),new e.MultiPolyline(g,d);case"MultiPolygon":return g=this.coordsToLatLngs(k,2,c),new e.MultiPolygon(g,d);case"GeometryCollection":for(h=0,i=j.geometries.length;i>h;h++)l.push(this.geometryToLayer({geometry:j.geometries[h],type:"Feature",properties:a.properties},b,c,d));return new e.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new e.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,c){var d,e,f,g=[];for(e=0,f=a.length;f>e;e++)d=b?this.coordsToLatLngs(a[e],b-1,c):(c||this.coordsToLatLng)(a[e]),g.push(d);return g},latLngToCoords:function(a){var b=[a.lng,a.lat];return a.alt!==c&&b.push(a.alt),b},latLngsToCoords:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(e.GeoJSON.latLngToCoords(a[c]));return b},getFeature:function(a,b){return a.feature?e.extend({},a.feature,{geometry:b}):e.GeoJSON.asFeature(b)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var g={toGeoJSON:function(){return e.GeoJSON.getFeature(this,{type:"Point",coordinates:e.GeoJSON.latLngToCoords(this.getLatLng())})}};e.Marker.include(g),e.Circle.include(g),e.CircleMarker.include(g),e.Polyline.include({toGeoJSON:function(){return e.GeoJSON.getFeature(this,{type:"LineString",coordinates:e.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),e.Polygon.include({toGeoJSON:function(){var a,b,c,d=[e.GeoJSON.latLngsToCoords(this.getLatLngs())];if(d[0].push(d[0][0]),this._holes)for(a=0,b=this._holes.length;b>a;a++)c=e.GeoJSON.latLngsToCoords(this._holes[a]),c.push(c[0]),d.push(c);return e.GeoJSON.getFeature(this,{type:"Polygon",coordinates:d})}}),function(){function a(a){return function(){var b=[];return this.eachLayer(function(a){b.push(a.toGeoJSON().geometry.coordinates)}),e.GeoJSON.getFeature(this,{type:a,coordinates:b})}}e.MultiPolyline.include({toGeoJSON:a("MultiLineString")}),e.MultiPolygon.include({toGeoJSON:a("MultiPolygon")}),e.LayerGroup.include({toGeoJSON:function(){var b,c=this.feature&&this.feature.geometry,d=[];if(c&&"MultiPoint"===c.type)return a("MultiPoint").call(this);var f=c&&"GeometryCollection"===c.type;return this.eachLayer(function(a){a.toGeoJSON&&(b=a.toGeoJSON(),d.push(f?b.geometry:e.GeoJSON.asFeature(b)))}),f?e.GeoJSON.getFeature(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}})}(),e.geoJson=function(a,b){return new e.GeoJSON(a,b)},e.DomEvent={addListener:function(a,b,c,d){var f,g,h,i=e.stamp(c),j="_leaflet_"+b+i;return a[j]?this:(f=function(b){return c.call(d||a,b||e.DomEvent._getEvent())},e.Browser.pointer&&0===b.indexOf("touch")?this.addPointerListener(a,b,f,i):(e.Browser.touch&&"dblclick"===b&&this.addDoubleTapListener&&this.addDoubleTapListener(a,f,i),"addEventListener"in a?"mousewheel"===b?(a.addEventListener("DOMMouseScroll",f,!1),a.addEventListener(b,f,!1)):"mouseenter"===b||"mouseleave"===b?(g=f,h="mouseenter"===b?"mouseover":"mouseout",f=function(b){return e.DomEvent._checkMouse(a,b)?g(b):void 0},a.addEventListener(h,f,!1)):"click"===b&&e.Browser.android?(g=f,f=function(a){return e.DomEvent._filterClick(a,g)},a.addEventListener(b,f,!1)):a.addEventListener(b,f,!1):"attachEvent"in a&&a.attachEvent("on"+b,f),a[j]=f,this))},removeListener:function(a,b,c){var d=e.stamp(c),f="_leaflet_"+b+d,g=a[f];return g?(e.Browser.pointer&&0===b.indexOf("touch")?this.removePointerListener(a,b,d):e.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,d):"removeEventListener"in a?"mousewheel"===b?(a.removeEventListener("DOMMouseScroll",g,!1),a.removeEventListener(b,g,!1)):"mouseenter"===b||"mouseleave"===b?a.removeEventListener("mouseenter"===b?"mouseover":"mouseout",g,!1):a.removeEventListener(b,g,!1):"detachEvent"in a&&a.detachEvent("on"+b,g),a[f]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,e.DomEvent._skipped(a),this},disableScrollPropagation:function(a){var b=e.DomEvent.stopPropagation;return e.DomEvent.on(a,"mousewheel",b).on(a,"MozMousePixelScroll",b)},disableClickPropagation:function(a){for(var b=e.DomEvent.stopPropagation,c=e.Draggable.START.length-1;c>=0;c--)e.DomEvent.on(a,e.Draggable.START[c],b);return e.DomEvent.on(a,"click",e.DomEvent._fakeStop).on(a,"dblclick",b)},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return e.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,c){var d=b.body,f=b.documentElement,g=e.DomUtil.documentIsLtr()?a.pageX?a.pageX-d.scrollLeft-f.scrollLeft:a.clientX:e.Browser.gecko?a.pageX-d.scrollLeft-f.scrollLeft:a.pageX?a.pageX-d.scrollLeft+f.scrollLeft:a.clientX,h=a.pageY?a.pageY-d.scrollTop-f.scrollTop:a.clientY,i=new e.Point(g,h);if(!c)return i;var j=c.getBoundingClientRect(),k=j.left-c.clientLeft,l=j.top-c.clientTop;return i._subtract(new e.Point(k,l))},getWheelDelta:function(a){var b=0;return a.wheelDelta&&(b=a.wheelDelta/120),a.detail&&(b=-a.detail/3),b},_skipEvents:{},_fakeStop:function(a){e.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,b},_checkMouse:function(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(d){return!1}return c!==a},_getEvent:function(){var b=a.event;if(!b)for(var c=arguments.callee.caller;c&&(b=c.arguments[0],!b||a.Event!==b.constructor);)c=c.caller;return b},_filterClick:function(a,b){var c=a.timeStamp||a.originalEvent.timeStamp,d=e.DomEvent._lastClick&&c-e.DomEvent._lastClick;return d&&d>100&&1e3>d||a.target._simulatedClick&&!a._simulated?(e.DomEvent.stop(a),void 0):(e.DomEvent._lastClick=c,b(a))}},e.DomEvent.on=e.DomEvent.addListener,e.DomEvent.off=e.DomEvent.removeListener,e.Draggable=e.Class.extend({includes:e.Mixin.Events,statics:{START:e.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a,this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=e.Draggable.START.length-1;a>=0;a--)e.DomEvent.on(this._dragStartTarget,e.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=e.Draggable.START.length-1;a>=0;a--)e.DomEvent.off(this._dragStartTarget,e.Draggable.START[a],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(a){if(this._moved=!1,!(a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(e.DomEvent.stopPropagation(a),e.Draggable._disabled||(e.DomUtil.disableImageDrag(),e.DomUtil.disableTextSelection(),this._moving)))){var c=a.touches?a.touches[0]:a;this._startPoint=new e.Point(c.clientX,c.clientY),this._startPos=this._newPos=e.DomUtil.getPosition(this._element),e.DomEvent.on(b,e.Draggable.MOVE[a.type],this._onMove,this).on(b,e.Draggable.END[a.type],this._onUp,this)}},_onMove:function(a){if(a.touches&&a.touches.length>1)return this._moved=!0,void 0;var c=a.touches&&1===a.touches.length?a.touches[0]:a,d=new e.Point(c.clientX,c.clientY),f=d.subtract(this._startPoint);(f.x||f.y)&&(e.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=e.DomUtil.getPosition(this._element).subtract(f),e.DomUtil.addClass(b.body,"leaflet-dragging"),e.DomUtil.addClass(a.target||a.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,e.Util.cancelAnimFrame(this._animRequest),this._animRequest=e.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))
},_updatePosition:function(){this.fire("predrag"),e.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(a){e.DomUtil.removeClass(b.body,"leaflet-dragging"),e.DomUtil.removeClass(a.target||a.srcElement,"leaflet-drag-target");for(var c in e.Draggable.MOVE)e.DomEvent.off(b,e.Draggable.MOVE[c],this._onMove).off(b,e.Draggable.END[c],this._onUp);e.DomUtil.enableImageDrag(),e.DomUtil.enableTextSelection(),this._moved&&this._moving&&(e.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),e.Handler=e.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),e.Map.mergeOptions({dragging:!0,inertia:!e.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:e.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),e.Map.Drag=e.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new e.Draggable(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop(),a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b),this._times.push(a),a-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+c)%a+b-c,f=(d+b+c)%a-b-c,g=Math.abs(e+c)<Math.abs(f+c)?e:f;this._draggable._newPos.x=g},_onDragEnd:function(a){var b=this._map,c=b.options,d=+new Date-this._lastTime,f=!c.inertia||d>c.inertiaThreshold||!this._positions[0];if(b.fire("dragend",a),f)b.fire("moveend");else{var g=this._lastPos.subtract(this._positions[0]),h=(this._lastTime+d-this._times[0])/1e3,i=c.easeLinearity,j=g.multiplyBy(i/h),k=j.distanceTo([0,0]),l=Math.min(c.inertiaMaxSpeed,k),m=j.multiplyBy(l/k),n=l/(c.inertiaDeceleration*i),o=m.multiplyBy(-n/2).round();o.x&&o.y?(o=b._limitOffset(o,b.options.maxBounds),e.Util.requestAnimFrame(function(){b.panBy(o,{duration:n,easeLinearity:i,noMoveStart:!0})})):b.fire("moveend")}}}),e.Map.addInitHook("addHandler","dragging",e.Map.Drag),e.Map.mergeOptions({doubleClickZoom:!0}),e.Map.DoubleClickZoom=e.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom()+(a.originalEvent.shiftKey?-1:1);"center"===b.options.doubleClickZoom?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}}),e.Map.addInitHook("addHandler","doubleClickZoom",e.Map.DoubleClickZoom),e.Map.mergeOptions({scrollWheelZoom:!0}),e.Map.ScrollWheelZoom=e.Handler.extend({addHooks:function(){e.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),e.DomEvent.on(this._map._container,"MozMousePixelScroll",e.DomEvent.preventDefault),this._delta=0},removeHooks:function(){e.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),e.DomEvent.off(this._map._container,"MozMousePixelScroll",e.DomEvent.preventDefault)},_onWheelScroll:function(a){var b=e.DomEvent.getWheelDelta(a);this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var c=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(e.bind(this._performZoom,this),c),e.DomEvent.preventDefault(a),e.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,c=a.getZoom();b=b>0?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(c+b)-c,this._delta=0,this._startTime=null,b&&("center"===a.options.scrollWheelZoom?a.setZoom(c+b):a.setZoomAround(this._lastMousePos,c+b))}}),e.Map.addInitHook("addHandler","scrollWheelZoom",e.Map.ScrollWheelZoom),e.extend(e.DomEvent,{_touchstart:e.Browser.msPointer?"MSPointerDown":e.Browser.pointer?"pointerdown":"touchstart",_touchend:e.Browser.msPointer?"MSPointerUp":e.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,c,d){function f(a){var b;if(e.Browser.pointer?(o.push(a.pointerId),b=o.length):b=a.touches.length,!(b>1)){var c=Date.now(),d=c-(h||c);i=a.touches?a.touches[0]:a,j=d>0&&k>=d,h=c}}function g(a){if(e.Browser.pointer){var b=o.indexOf(a.pointerId);if(-1===b)return;o.splice(b,1)}if(j){if(e.Browser.pointer){var d,f={};for(var g in i)d=i[g],f[g]="function"==typeof d?d.bind(i):d;i=f}i.type="dblclick",c(i),h=null}}var h,i,j=!1,k=250,l="_leaflet_",m=this._touchstart,n=this._touchend,o=[];a[l+m+d]=f,a[l+n+d]=g;var p=e.Browser.pointer?b.documentElement:a;return a.addEventListener(m,f,!1),p.addEventListener(n,g,!1),e.Browser.pointer&&p.addEventListener(e.DomEvent.POINTER_CANCEL,g,!1),this},removeDoubleTapListener:function(a,c){var d="_leaflet_";return a.removeEventListener(this._touchstart,a[d+this._touchstart+c],!1),(e.Browser.pointer?b.documentElement:a).removeEventListener(this._touchend,a[d+this._touchend+c],!1),e.Browser.pointer&&b.documentElement.removeEventListener(e.DomEvent.POINTER_CANCEL,a[d+this._touchend+c],!1),this}}),e.extend(e.DomEvent,{POINTER_DOWN:e.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:e.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:e.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:e.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(a,b,c,d){switch(b){case"touchstart":return this.addPointerListenerStart(a,b,c,d);case"touchend":return this.addPointerListenerEnd(a,b,c,d);case"touchmove":return this.addPointerListenerMove(a,b,c,d);default:throw"Unknown touch event type"}},addPointerListenerStart:function(a,c,d,f){var g="_leaflet_",h=this._pointers,i=function(a){e.DomEvent.preventDefault(a);for(var b=!1,c=0;c<h.length;c++)if(h[c].pointerId===a.pointerId){b=!0;break}b||h.push(a),a.touches=h.slice(),a.changedTouches=[a],d(a)};if(a[g+"touchstart"+f]=i,a.addEventListener(this.POINTER_DOWN,i,!1),!this._pointerDocumentListener){var j=function(a){for(var b=0;b<h.length;b++)if(h[b].pointerId===a.pointerId){h.splice(b,1);break}};b.documentElement.addEventListener(this.POINTER_UP,j,!1),b.documentElement.addEventListener(this.POINTER_CANCEL,j,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(a,b,c,d){function e(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var b=0;b<g.length;b++)if(g[b].pointerId===a.pointerId){g[b]=a;break}a.touches=g.slice(),a.changedTouches=[a],c(a)}}var f="_leaflet_",g=this._pointers;return a[f+"touchmove"+d]=e,a.addEventListener(this.POINTER_MOVE,e,!1),this},addPointerListenerEnd:function(a,b,c,d){var e="_leaflet_",f=this._pointers,g=function(a){for(var b=0;b<f.length;b++)if(f[b].pointerId===a.pointerId){f.splice(b,1);break}a.touches=f.slice(),a.changedTouches=[a],c(a)};return a[e+"touchend"+d]=g,a.addEventListener(this.POINTER_UP,g,!1),a.addEventListener(this.POINTER_CANCEL,g,!1),this},removePointerListener:function(a,b,c){var d="_leaflet_",e=a[d+b+c];switch(b){case"touchstart":a.removeEventListener(this.POINTER_DOWN,e,!1);break;case"touchmove":a.removeEventListener(this.POINTER_MOVE,e,!1);break;case"touchend":a.removeEventListener(this.POINTER_UP,e,!1),a.removeEventListener(this.POINTER_CANCEL,e,!1)}return this}}),e.Map.mergeOptions({touchZoom:e.Browser.touch&&!e.Browser.android23,bounceAtZoomLimits:!0}),e.Map.TouchZoom=e.Handler.extend({addHooks:function(){e.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){e.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(a.touches&&2===a.touches.length&&!c._animatingZoom&&!this._zooming){var d=c.mouseEventToLayerPoint(a.touches[0]),f=c.mouseEventToLayerPoint(a.touches[1]),g=c._getCenterLayerPoint();this._startCenter=d.add(f)._divideBy(2),this._startDist=d.distanceTo(f),this._moved=!1,this._zooming=!0,this._centerOffset=g.subtract(this._startCenter),c._panAnim&&c._panAnim.stop(),e.DomEvent.on(b,"touchmove",this._onTouchMove,this).on(b,"touchend",this._onTouchEnd,this),e.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var c=b.mouseEventToLayerPoint(a.touches[0]),d=b.mouseEventToLayerPoint(a.touches[1]);this._scale=c.distanceTo(d)/this._startDist,this._delta=c._add(d)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(b.options.bounceAtZoomLimits||!(b.getZoom()===b.getMinZoom()&&this._scale<1||b.getZoom()===b.getMaxZoom()&&this._scale>1))&&(this._moved||(e.DomUtil.addClass(b._mapPane,"leaflet-touching"),b.fire("movestart").fire("zoomstart"),this._moved=!0),e.Util.cancelAnimFrame(this._animRequest),this._animRequest=e.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),e.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),c=a.layerPointToLatLng(b),d=a.getScaleZoom(this._scale);a._animateZoom(c,d,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return this._zooming=!1,void 0;var a=this._map;this._zooming=!1,e.DomUtil.removeClass(a._mapPane,"leaflet-touching"),e.Util.cancelAnimFrame(this._animRequest),e.DomEvent.off(b,"touchmove",this._onTouchMove).off(b,"touchend",this._onTouchEnd);var c=this._getScaleOrigin(),d=a.layerPointToLatLng(c),f=a.getZoom(),g=a.getScaleZoom(this._scale)-f,h=g>0?Math.ceil(g):Math.floor(g),i=a._limitZoom(f+h),j=a.getZoomScale(i)/this._scale;a._animateZoom(d,i,c,j)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}}),e.Map.addInitHook("addHandler","touchZoom",e.Map.TouchZoom),e.Map.mergeOptions({tap:!0,tapTolerance:15}),e.Map.Tap=e.Handler.extend({addHooks:function(){e.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){e.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(e.DomEvent.preventDefault(a),this._fireClick=!0,a.touches.length>1)return this._fireClick=!1,clearTimeout(this._holdTimeout),void 0;var c=a.touches[0],d=c.target;this._startPos=this._newPos=new e.Point(c.clientX,c.clientY),d.tagName&&"a"===d.tagName.toLowerCase()&&e.DomUtil.addClass(d,"leaflet-active"),this._holdTimeout=setTimeout(e.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",c))},this),1e3),e.DomEvent.on(b,"touchmove",this._onMove,this).on(b,"touchend",this._onUp,this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),e.DomEvent.off(b,"touchmove",this._onMove,this).off(b,"touchend",this._onUp,this),this._fireClick&&a&&a.changedTouches){var c=a.changedTouches[0],d=c.target;d&&d.tagName&&"a"===d.tagName.toLowerCase()&&e.DomUtil.removeClass(d,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",c)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){var b=a.touches[0];this._newPos=new e.Point(b.clientX,b.clientY)},_simulateEvent:function(c,d){var e=b.createEvent("MouseEvents");e._simulated=!0,d.target._simulatedClick=!0,e.initMouseEvent(c,!0,!0,a,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(e)}}),e.Browser.touch&&!e.Browser.pointer&&e.Map.addInitHook("addHandler","tap",e.Map.Tap),e.Map.mergeOptions({boxZoom:!0}),e.Map.BoxZoom=e.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._moved=!1},addHooks:function(){e.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){e.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){return this._moved=!1,!a.shiftKey||1!==a.which&&1!==a.button?!1:(e.DomUtil.disableTextSelection(),e.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),e.DomEvent.on(b,"mousemove",this._onMouseMove,this).on(b,"mouseup",this._onMouseUp,this).on(b,"keydown",this._onKeyDown,this),void 0)},_onMouseMove:function(a){this._moved||(this._box=e.DomUtil.create("div","leaflet-zoom-box",this._pane),e.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var b=this._startLayerPoint,c=this._box,d=this._map.mouseEventToLayerPoint(a),f=d.subtract(b),g=new e.Point(Math.min(d.x,b.x),Math.min(d.y,b.y));e.DomUtil.setPosition(c,g),this._moved=!0,c.style.width=Math.max(0,Math.abs(f.x)-4)+"px",c.style.height=Math.max(0,Math.abs(f.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),e.DomUtil.enableTextSelection(),e.DomUtil.enableImageDrag(),e.DomEvent.off(b,"mousemove",this._onMouseMove).off(b,"mouseup",this._onMouseUp).off(b,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var b=this._map,c=b.mouseEventToLayerPoint(a);if(!this._startLayerPoint.equals(c)){var d=new e.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint),b.layerPointToLatLng(c));b.fitBounds(d),b.fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),e.Map.addInitHook("addHandler","boxZoom",e.Map.BoxZoom),e.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),e.Map.Keyboard=e.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a,this._setPanOffset(a.options.keyboardPanOffset),this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0"),e.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;e.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var c=b.body,d=b.documentElement,e=c.scrollTop||d.scrollTop,f=c.scrollLeft||d.scrollLeft;this._map._container.focus(),a.scrollTo(f,e)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(a){var b,c,d=this._panKeys={},e=this.keyCodes;for(b=0,c=e.left.length;c>b;b++)d[e.left[b]]=[-1*a,0];for(b=0,c=e.right.length;c>b;b++)d[e.right[b]]=[a,0];for(b=0,c=e.down.length;c>b;b++)d[e.down[b]]=[0,a];for(b=0,c=e.up.length;c>b;b++)d[e.up[b]]=[0,-1*a]},_setZoomOffset:function(a){var b,c,d=this._zoomKeys={},e=this.keyCodes;for(b=0,c=e.zoomIn.length;c>b;b++)d[e.zoomIn[b]]=a;for(b=0,c=e.zoomOut.length;c>b;b++)d[e.zoomOut[b]]=-a},_addHooks:function(){e.DomEvent.on(b,"keydown",this._onKeyDown,this)},_removeHooks:function(){e.DomEvent.off(b,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var b=a.keyCode,c=this._map;if(b in this._panKeys){if(c._panAnim&&c._panAnim._inProgress)return;c.panBy(this._panKeys[b]),c.options.maxBounds&&c.panInsideBounds(c.options.maxBounds)}else{if(!(b in this._zoomKeys))return;c.setZoom(c.getZoom()+this._zoomKeys[b])}e.DomEvent.stop(a)}}),e.Map.addInitHook("addHandler","keyboard",e.Map.Keyboard),e.Handler.MarkerDrag=e.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new e.Draggable(a,a)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),e.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),e.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var a=this._marker,b=a._shadow,c=e.DomUtil.getPosition(a._icon),d=a._map.layerPointToLatLng(c);b&&e.DomUtil.setPosition(b,c),a._latlng=d,a.fire("move",{latlng:d}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}}),e.Control=e.Class.extend({options:{position:"topright"},initialize:function(a){e.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition(),d=a._controlCorners[c];return e.DomUtil.addClass(b,"leaflet-control"),-1!==c.indexOf("bottom")?d.insertBefore(b,d.firstChild):d.appendChild(b),this},removeFrom:function(a){var b=this.getPosition(),c=a._controlCorners[b];return c.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(a),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),e.control=function(a){return new e.Control(a)},e.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function a(a,f){var g=c+a+" "+c+f;b[a+f]=e.DomUtil.create("div",g,d)}var b=this._controlCorners={},c="leaflet-",d=this._controlContainer=e.DomUtil.create("div",c+"control-container",this._container);a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),e.Control.Zoom=e.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var b="leaflet-control-zoom",c=e.DomUtil.create("div",b+" leaflet-bar");return this._map=a,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,b+"-in",c,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,b+"-out",c,this._zoomOut,this),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,b,c,d,f,g){var h=e.DomUtil.create("a",c,d);h.innerHTML=a,h.href="#",h.title=b;var i=e.DomEvent.stopPropagation;return e.DomEvent.on(h,"click",i).on(h,"mousedown",i).on(h,"dblclick",i).on(h,"click",e.DomEvent.preventDefault).on(h,"click",f,g).on(h,"click",this._refocusOnMap,g),h},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";e.DomUtil.removeClass(this._zoomInButton,b),e.DomUtil.removeClass(this._zoomOutButton,b),a._zoom===a.getMinZoom()&&e.DomUtil.addClass(this._zoomOutButton,b),a._zoom===a.getMaxZoom()&&e.DomUtil.addClass(this._zoomInButton,b)}}),e.Map.mergeOptions({zoomControl:!0}),e.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new e.Control.Zoom,this.addControl(this.zoomControl))}),e.control.zoom=function(a){return new e.Control.Zoom(a)},e.Control.Attribution=e.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){e.setOptions(this,a),this._attributions={}},onAdd:function(a){this._container=e.DomUtil.create("div","leaflet-control-attribution"),e.DomEvent.disableClickPropagation(this._container);for(var b in a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());return a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var a=[];for(var b in this._attributions)this._attributions[b]&&a.push(b);var c=[];this.options.prefix&&c.push(this.options.prefix),a.length&&c.push(a.join(", ")),this._container.innerHTML=c.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}}),e.Map.mergeOptions({attributionControl:!0}),e.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new e.Control.Attribution).addTo(this))}),e.control.attribution=function(a){return new e.Control.Attribution(a)},e.Control.Scale=e.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var b="leaflet-control-scale",c=e.DomUtil.create("div",b),d=this.options;return this._addScales(d,b,c),a.on(d.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=e.DomUtil.create("div",b+"-line",c)),a.imperial&&(this._iScale=e.DomUtil.create("div",b+"-line",c))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,c=6378137*Math.PI*Math.cos(b*Math.PI/180),d=c*(a.getNorthEast().lng-a.getSouthWest().lng)/180,e=this._map.getSize(),f=this.options,g=0;e.x>0&&(g=d*(f.maxWidth/e.x)),this._updateScales(f,g)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b),a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px",this._mScale.innerHTML=1e3>b?b+" m":b/1e3+" km"},_updateImperial:function(a){var b,c,d,e=3.2808399*a,f=this._iScale;e>5280?(b=e/5280,c=this._getRoundNum(b),f.style.width=this._getScaleWidth(c/b)+"px",f.innerHTML=c+" mi"):(d=this._getRoundNum(e),f.style.width=this._getScaleWidth(d/e)+"px",f.innerHTML=d+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1),c=a/b;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,b*c}}),e.control.scale=function(a){return new e.Control.Scale(a)},e.Control.Layers=e.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(a,b,c){e.setOptions(this,c),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update(),this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._update(),this},removeLayer:function(a){var b=e.stamp(a);return delete this._layers[b],this._update(),this},_initLayout:function(){var a="leaflet-control-layers",b=this._container=e.DomUtil.create("div",a);b.setAttribute("aria-haspopup",!0),e.Browser.touch?e.DomEvent.on(b,"click",e.DomEvent.stopPropagation):e.DomEvent.disableClickPropagation(b).disableScrollPropagation(b);var c=this._form=e.DomUtil.create("form",a+"-list");if(this.options.collapsed){e.Browser.android||e.DomEvent.on(b,"mouseover",this._expand,this).on(b,"mouseout",this._collapse,this);var d=this._layersLink=e.DomUtil.create("a",a+"-toggle",b);d.href="#",d.title="Layers",e.Browser.touch?e.DomEvent.on(d,"click",e.DomEvent.stop).on(d,"click",this._expand,this):e.DomEvent.on(d,"focus",this._expand,this),e.DomEvent.on(c,"click",function(){setTimeout(e.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=e.DomUtil.create("div",a+"-base",c),this._separator=e.DomUtil.create("div",a+"-separator",c),this._overlaysList=e.DomUtil.create("div",a+"-overlays",c),b.appendChild(c)},_addLayer:function(a,b,c){var d=e.stamp(a);this._layers[d]={layer:a,name:b,overlay:c},this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var a,b,c=!1,d=!1;for(a in this._layers)b=this._layers[a],this._addItem(b),d=d||b.overlay,c=c||!b.overlay;this._separator.style.display=d&&c?"":"none"}},_onLayerChange:function(a){var b=this._layers[e.stamp(a.layer)];if(b){this._handlingClick||this._update();var c=b.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null;c&&this._map.fire(c,b)}},_createRadioElement:function(a,c){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"';c&&(d+=' checked="checked"'),d+="/>";var e=b.createElement("div");return e.innerHTML=d,e.firstChild},_addItem:function(a){var c,d=b.createElement("label"),f=this._map.hasLayer(a.layer);a.overlay?(c=b.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=f):c=this._createRadioElement("leaflet-base-layers",f),c.layerId=e.stamp(a.layer),e.DomEvent.on(c,"click",this._onInputClick,this);var g=b.createElement("span");g.innerHTML=" "+a.name,d.appendChild(c),d.appendChild(g);var h=a.overlay?this._overlaysList:this._baseLayersList;return h.appendChild(d),d},_onInputClick:function(){var a,b,c,d=this._form.getElementsByTagName("input"),e=d.length;for(this._handlingClick=!0,a=0;e>a;a++)b=d[a],c=this._layers[b.layerId],b.checked&&!this._map.hasLayer(c.layer)?this._map.addLayer(c.layer):!b.checked&&this._map.hasLayer(c.layer)&&this._map.removeLayer(c.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){e.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),e.control.layers=function(a,b,c){return new e.Control.Layers(a,b,c)},e.PosAnimation=e.Class.extend({includes:e.Mixin.Events,run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._newPos=b,this.fire("start"),a.style[e.DomUtil.TRANSITION]="all "+(c||.25)+"s cubic-bezier(0,0,"+(d||.5)+",1)",e.DomEvent.on(a,e.DomUtil.TRANSITION_END,this._onTransitionEnd,this),e.DomUtil.setPosition(a,b),e.Util.falseFn(a.offsetWidth),this._stepTimer=setInterval(e.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(e.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),e.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,this.fire("step"),void 0):(this._onTransitionEnd(),void 0)},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var b,c,d,f=this._el,g=a.getComputedStyle(f);if(e.Browser.any3d){if(d=g[e.DomUtil.TRANSFORM].match(this._transformRe),!d)return;b=parseFloat(d[1]),c=parseFloat(d[2])}else b=parseFloat(g.left),c=parseFloat(g.top);return new e.Point(b,c,!0)},_onTransitionEnd:function(){e.DomEvent.off(this._el,e.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[e.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),e.Map.include({setView:function(a,b,d){if(b=b===c?this._zoom:this._limitZoom(b),a=this._limitCenter(e.latLng(a),b,this.options.maxBounds),d=d||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==c&&(d.zoom=e.extend({animate:d.animate},d.zoom),d.pan=e.extend({animate:d.animate},d.pan));var f=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,d.zoom):this._tryAnimatedPan(a,d.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(a,b),this},panBy:function(a,b){if(a=e.point(a).round(),b=b||{},!a.x&&!a.y)return this;if(this._panAnim||(this._panAnim=new e.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){e.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){e.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._floor();return(b&&b.animate)===!0||this.getSize().contains(c)?(this.panBy(c,b),!0):!1}}),e.PosAnimation=e.DomUtil.TRANSITION?e.PosAnimation:e.PosAnimation.extend({run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=e.DomUtil.getPosition(a),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=e.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var a=+new Date-this._startTime,b=1e3*this._duration;b>a?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){var b=this._startPos.add(this._offset.multiplyBy(a));e.DomUtil.setPosition(this._el,b),this.fire("step")},_complete:function(){e.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),e.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),e.DomUtil.TRANSITION&&e.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&e.DomUtil.TRANSITION&&e.Browser.any3d&&!e.Browser.android23&&!e.Browser.mobileOpera,this._zoomAnimated&&e.DomEvent.on(this._mapPane,e.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),e.Map.include(e.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(a)._divideBy(1-1/d),f=this._getCenterLayerPoint()._add(e);
return c.animate===!0||this.getSize().contains(e)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(a,b,f,d,null,!0),!0):!1},_animateZoom:function(a,b,c,d,f,g){this._animatingZoom=!0,e.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=a,this._animateToZoom=b,e.Draggable&&(e.Draggable._disabled=!0),this.fire("zoomanim",{center:a,zoom:b,origin:c,scale:d,delta:f,backwards:g})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,e.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),e.Draggable&&(e.Draggable._disabled=!1)}}:{}),e.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var b=this._bgBuffer,c=e.DomUtil.TRANSFORM,d=a.delta?e.DomUtil.getTranslateString(a.delta):b.style[c],f=e.DomUtil.getScaleString(a.scale,a.origin);b.style[c]=a.backwards?f+" "+d:d+" "+f},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="",a.parentNode.appendChild(a),e.Util.falseFn(b.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[e.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,b=this._bgBuffer,c=this._getLoadedTilesPercentage(b),d=this._getLoadedTilesPercentage(a);return b&&c>.5&&.5>d?(a.style.visibility="hidden",this._stopLoadingImages(a),void 0):(b.style.visibility="hidden",b.style[e.DomUtil.TRANSFORM]="",this._tileContainer=b,b=this._bgBuffer=a,this._stopLoadingImages(b),clearTimeout(this._clearBgBufferTimer),void 0)},_getLoadedTilesPercentage:function(a){var b,c,d=a.getElementsByTagName("img"),e=0;for(b=0,c=d.length;c>b;b++)d[b].complete&&e++;return e/c},_stopLoadingImages:function(a){var b,c,d,f=Array.prototype.slice.call(a.getElementsByTagName("img"));for(b=0,c=f.length;c>b;b++)d=f[b],d.complete||(d.onload=e.Util.falseFn,d.onerror=e.Util.falseFn,d.src=e.Util.emptyImageUrl,d.parentNode.removeChild(d))}}),e.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){if(a=this._locateOptions=e.extend(this._defaultLocateOptions,a),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=e.bind(this._handleGeolocationResponse,this),c=e.bind(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=a.code,c=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(a){var b=a.coords.latitude,c=a.coords.longitude,d=new e.LatLng(b,c),f=180*a.coords.accuracy/40075017,g=f/Math.cos(e.LatLng.DEG_TO_RAD*b),h=e.latLngBounds([b-f,c-g],[b+f,c+g]),i=this._locateOptions;if(i.setView){var j=Math.min(this.getBoundsZoom(h),i.maxZoom);this.setView(d,j)}var k={latlng:d,bounds:h,timestamp:a.timestamp};for(var l in a.coords)"number"==typeof a.coords[l]&&(k[l]=a.coords[l]);this.fire("locationfound",k)}})}(window,document);Ext.define("Ext.ux.LeafletMap",{extend:"Ext.Component",xtype:"leafletmap",departureText:"Departure poin",destinationText:"Destination poin",contextmenuWidth:140,config:{baseCls:Ext.baseCSSPrefix+"llmap",useCurrentLocation:false,map:null,mapOptions:{},tileLayerUrl:"http://{s}.tiles.mapbox.com/v3/mbraginini.map-hvjt7s3e/{z}/{x}/{y}.png",tileLayerOptions:{zoomsliderControl:true,zoomControl:false},tileLayer:null,geo:null,autoMapCenter:false,initialCenter:true,enableOwnPositionMarker:false,ownPositionMarker:null,ownPositionMarkerIcon:{iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5MzU1NTA1QkVCOEJFMTExOURCNTg1MjVEMTZGRkZFNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4QjhBOThCNjhCRUMxMUUxQjI0RUVFOTMxQkJCQjcxQyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4QjhBOThCNThCRUMxMUUxQjI0RUVFOTMxQkJCQjcxQyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjkzNTU1MDVCRUI4QkUxMTE5REI1ODUyNUQxNkZGRkU1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjkzNTU1MDVCRUI4QkUxMTE5REI1ODUyNUQxNkZGRkU1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+80RF/gAACU1JREFUeNqUWFuPG0kVPlV9tT2eq2fGnusm2STLJogkWiSUFVrYZ7RaRbBasQ/8AcT/QYgnJCSeeIGFB4S45WGRAg9cls1lsplMMrd4fLfbfaniVLvKc6bGnkCkLz12t7u//s453zlV7MNfPoLX/GMTwC3Qc+af1BAEcsJRXvRw9zXkuEXKuQDcImhIZVNgE5f/D0FbKUNCXe9NgKvPm98ZhVKNxIL5npI1v3ktQUbUMKQMMR8RIEJ9NKAkTXgzQmioEZG/Y32OEZJgq+lOIcctxQyRAqJIUNAwJI2KRr1Ykxkg+uTYt8gaRcEieoagTY4qpkiUEDMaZY0ZQjTQ9zMEE01CkeohuoiORqA/m9wdWkKJaQSZRS4kxGYRc4h5gllNtERUNARjQq6t0SQwaWEX1xmiLqlWGlZKblaTWUAsISr6qLDgdPpVcbi/HB+/LCetgc8FY8Lzstm1ytCpLDfkcuUw5s4rvPYEUdf3DK2UYCT3KJhrVSzNOUPOEFtBrI4RxzWx82SL7Z3MzyaZt1VbhMX1LXBcAe1uFw72m3Cw87ISbq5sOlubR4PFpV383dEUgmDZzRiuFVqX5NyMVk6RqyLWNNblw8fX+L92qu9+dZvf/eRd2N5ehVKpCJw7eFeJNxOQRH04OIrYgwePCn/442fbyfxCtfiN21+2vbBo5askfilsn2TYSYzH0bCqXFtELCNqiA3EJmTZG9lf/nbzqhPMfPTJO3Blaw2/wmpIByBEOs4WJj3gjAH3E/A8F9qYfZ/+6j785k9/l9vf+dbBfnnxn3ihUnQP8QJxgFBp0NBFZKo8cS31fKLenFZPhXSNIbneb+/fev9aNfzuR+8Bd4Zw0uji63OQTOgqG+W7ZOlIlwhvzTJwuYQP730T1jbW2U9++vPapXsfOPvzi1Jby9BCTPwzc976+EcOybsiKQqq3nb857/eur2wVPzex+9BHHVh0PMhziQkmYA05QiGgByJPqZ4PsPzcSKhP0hga30J5pYq8Luf/bp0/evXvRa4PYvYGXIKruV7oSZZJvm3Kh7vXHN2+zPv//DbGK42ZEogmYHkAtXi6sNIQUY9S+bfM+256tjvN+HG29vwtRt34OkvPt2Y//69eiuTxoI62ht72p4UaW4TDM4RjJNa8/6/q3fvfAUcP4NGC0nJEDNY6PLKRiBWpsgxRZppouMiTaAYuXDrnWvw2Y8/55devLzSqtYOtQU1SIX7pnVOIlggxrwgv9zdkl3Oa9UFqDewOjNnlHMMo4HFkBNgYkJHP7U2JkcqSnS1oYigWHZhab0Gj3//oLz8gw+qjUQcalGKFkE+jWCuIut0V6PHL+f9In5E1U6aKaQqchjasUq5neLfJL7SNCYGhODouggJMp9Beb4Ej/6xy94edGoNt7RD1KN9ndtVTEmWsv3jlf5B1/O8GWj2U3DTIRpTlisxeq9YK8jgXBLK0fe0hzEpwJMM45ai6AEGPYDh81dzcKlU0s88E15KcNL0EibHJ2XACkwcD+qonldyRnbPFS0xejgjRBgZlAg5OZIZXCTooHEyHkMPS8DzC9DYe+nBpe1AE6NjG7dbHbMGU1f0Eh+4h2F14LARQ1niWyOhvHq5InAaRpp7zBRFfpppgiodFEF8NRFDO8K/wwDa9Ra3iNHpnLnWJHN2DaJSy8GDx6HeGUAWYhRc/C3PQCiC7DSsRjxmSTl6CZaHXKC18SSDqN+HWKr4cfTMRLFjUziMxy05cZHjYedHtXjAIcZKbSYxuA6+oAoxV8+VZyclI+iZWOsH4LUc1WNphuFNsFCwJSLLsFxERz23NpF0HpRWwzajeuwtelGyz8vSwZtjlqRKTeQsPbyU81EciIrSGs7laRLmqZqfV+nhuni/LqSdDCq1JeUxMVmrGA7jaUaSL+mYHnkrlaaze1IRykQCvGmB54DQxURnubUw7CSmX5wWyAjEXdDLMcAYTvW9k7oghw4ySmF2oxYdnnaOIW1zZmAVVDU9RahposuWVw5mNo42T/aSUFk6DyQ4RXxCiHAx1A4nycOIgsR6MPdQNCwMtBd8gpAp8EhlI5pMgF+srdbxiT39TDosTCQ4JGN6ByfjV2xz7cjd+3yL4++ZE6CHBbkJyRDJcT5WiyslpZV3uXr4P6rHU/Ug1NpN8NoU590OXL5eyZ7FDMetvB9TkibcUwmqpt1SPVIurz4rVPer0aDrg5hBLliJmJPY5fCo4sVyU2DWxoIc5x5em6JiWGQ8gtxiRBqhqgNYunP3uCnksV6j0DkwNgS5tYY14e3oH6k1xFFw4+pTJx1INoggS4boi6qDYDdAm+A+Dqc+5icq6uQ56gDDo4M9gWMqCA9GliRUBffyJ8TtOly/vTF8xgoPyaDaJpNMfJGClGC+ostwnp+7eXW29Z+nNakKJMQhwVV5iO/mhnl4837skOoQylYw0zK8bTwEiS8nukOIm02oVXwRX7n+RZrIfbzy2CJoFBzPg5JUsCEYaIKh6Y/xas0tpQNnsLu/ovxdCBwgBPqZGg59P1dTFU3uDegvEvMOIjw3jEH2+iCbXYjrLVgqDUXx1u2HjUQ+wUttguNRX/ORLjHmlFRxd8LeCxPrl2WxUHxr8OT5RpaWuYxngc+kILEaVailrmqJLU2qkXqAU6NSro3CNJFchQ2dN2990QDviV6PHBCCHatIxlUsJ4TZsXqjaQ1ptliNgtLcCew9uRyfPC+LdhE9MoQ0b4MOOKqliQyyGHM0GqDftSFwRVZ4843jaLn2EBNhXyunyB3qPG9pUc7kHzVqQ5CZUdvaejNpkKeADAptuHLzwI/6Vdlo1qDdnM3abV+kgqtJGw1chj62nNJM5G5crqezSy8G3DnWBXFMUJ8S3owSBIukyUVmLappjrZzCwqLh1Ar7kBtDQcxCByy9SH11kdyuvXR1GQoWhOKI6XrYnfCbmhqea2YUEQd/QCzL1MggybdPDLXdzXaBGaRRHe6Umu/8Mzm0YSFxTni1MhLZA0RXrD9FpFttx7BQIMql9JBYdL+oL3LKS0bMg/sEWKBNabbG5gx2bw0hCKr79pTjJi2gSknbCJKawwzKvpTxnSY4AwJWZjH1lbwhdvA7gVhhQmzYqJ/MyRbw+fGdGvwzUj4UvL5f9pIv2iXX1gPY+TmnJCyLclOF2GRnTQ9i2kk/ivAAE2L5whDTRM8AAAAAElFTkSuQmCC",iconSize:[20,20],iconAnchor:[20/2,20/2]},ownPositionMarkerOptions:{clickable:false}},initComponent:function(){this.callParent();this.addEvents(["selectdeparture","selectdestination"]);this.routeLayers={}},afterRender:function(a,b){this.callParent(arguments);var c=this;var d=window.L;if(d==null){this.update("No leaflet library loaded")}else{var e=L.map(this.getId(),Ext.apply(this.mapOptions,{contextmenu:true,contextmenuWidth:c.contextmenuWidth,contextmenuItems:[{text:c.departureText,callback:function(a){c.fireEvent("selectdeparture",a.latlng)}},{text:c.destinationText,callback:function(a){c.fireEvent("selectdestination",a.latlng)}}]}));if(!e.restoreView()&&this.mapOptions.initialCenter){e.setView(this.mapOptions.initialCenter,15)}var f=L.tileLayer(c.tileLayerUrl,c.tileLayerOptions);var g=new L.Google("ROADMAP",{mapOptions:{}});e.addLayer(f);e.addControl(new L.Control.Layers({Google:g,OSM:f},{}));var h=L.control.locate({follow:true}).addTo(e);this.setMap(e)}},onResize:function(a,b,c,d){this.callParent(arguments);var e=this.getMap();if(e){e.invalidateSize()}},addRoute:function(a,b){if(this.routeLayers[a]){for(var c=0;c<this.routeLayers[a].length;c++){this.map.removeLayer(this.routeLayers[a][c])}}if(b&&b.length){this.routeLayers[a]=b;for(c=0;c<b.length;c++){this.map.addLayer(b[c])}}}});L.Map.mergeOptions({contextmenuItems:[]});L.Map.ContextMenu=L.Handler.extend({statics:{BASE_CLS:"leaflet-contextmenu"},initialize:function(a){L.Handler.prototype.initialize.call(this,a);this._items=[];this._visible=false;var b=this._container=L.DomUtil.create("div",L.Map.ContextMenu.BASE_CLS,a._container);b.style.zIndex=1e4;b.style.position="absolute";if(a.options.contextmenuWidth){b.style.width=a.options.contextmenuWidth+"px"}this._createItems();L.DomEvent.on(b,"click",L.DomEvent.stop).on(b,"mousedown",L.DomEvent.stop).on(b,"dblclick",L.DomEvent.stop).on(b,"contextmenu",L.DomEvent.stop)},addHooks:function(){L.DomEvent.on(document,"keydown",this._onKeyDown,this);this._map.on({contextmenu:this._show,mouseout:this._hide,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},removeHooks:function(){L.DomEvent.off(document,"keydown",this._onKeyDown,this);this._map.off({contextmenu:this._show,mouseout:this._hide,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},showAt:function(a,b){if(a instanceof L.LatLng){a=this._map.latLngToContainerPoint(a)}this._showAtPoint(a,b)},hide:function(){this._hide()},addItem:function(a){return this.insertItem(a)},insertItem:function(a,b){b=b!==undefined?b:this._items.length;var c=this._createItem(this._container,a,b);this._items.push(c);this._sizeChanged=true;this._map.fire("contextmenu.additem",{contextmenu:this,el:c.el,index:b});return c.el},removeItem:function(a){var b=this._container;if(!isNaN(a)){a=b.children[a]}if(a){this._removeItem(L.Util.stamp(a));this._sizeChanged=true;this._map.fire("contextmenu.removeitem",{contextmenu:this,el:a})}},removeAllItems:function(){var a;while(this._container.children.length){a=this._container.children[0];this._removeItem(L.Util.stamp(a))}},setDisabled:function(a,b){var c=this._container,d=L.Map.ContextMenu.BASE_CLS+"-item";if(!isNaN(a)){a=c.children[a]}if(a&&L.DomUtil.hasClass(a,d)){if(b){L.DomUtil.addClass(a,d+"-disabled");this._map.fire("contextmenu.disableitem",{contextmenu:this,el:a})}else{L.DomUtil.removeClass(a,d+"-disabled");this._map.fire("contextmenu.enableitem",{contextmenu:this,el:a})}}},isVisible:function(){return this._visible},_createItems:function(){var a=this._map.options.contextmenuItems,b,c,d;for(c=0,d=a.length;c<d;c++){this._items.push(this._createItem(this._container,a[c]))}},_createItem:function(a,b,c){if(b.separator||b==="-"){return this._createSeparator(a,c)}var d=L.Map.ContextMenu.BASE_CLS+"-item",e=b.disabled?d+" "+d+"-disabled":d,f=this._insertElementAt("a",e,a,c),g=this._createEventHandler(f,b.callback,b.context),h="";if(b.icon){h='<img class="'+L.Map.ContextMenu.BASE_CLS+'-icon" src="'+b.icon+'"/>'}else if(b.iconCls){h='<span class="'+L.Map.ContextMenu.BASE_CLS+"-icon "+b.iconCls+'"></span>'}f.innerHTML=h+b.text;f.href="#";L.DomEvent.on(f,"click",L.DomEvent.stopPropagation).on(f,"mousedown",L.DomEvent.stopPropagation).on(f,"dblclick",L.DomEvent.stopPropagation).on(f,"click",L.DomEvent.preventDefault).on(f,"click",g);return{id:L.Util.stamp(f),el:f,callback:g}},_removeItem:function(a){var b,c,d,e;for(d=0,e=this._items.length;d<e;d++){b=this._items[d];if(b.id===a){c=b.el;callback=b.callback;if(callback){L.DomEvent.off(c,"click",L.DomEvent.stopPropagation).off(c,"mousedown",L.DomEvent.stopPropagation).off(c,"dblclick",L.DomEvent.stopPropagation).off(c,"click",L.DomEvent.preventDefault).off(c,"click",b.callback)}this._container.removeChild(c);this._items.splice(d,1);return b}}return null},_createSeparator:function(a,b){var c=this._insertElementAt("div",L.Map.ContextMenu.BASE_CLS+"-separator",a,b);return{id:L.Util.stamp(c),el:c}},_createEventHandler:function(a,b,c){var d=this,e=this._map,f=L.Map.ContextMenu.BASE_CLS+"-item-disabled";return function(g){if(L.DomUtil.hasClass(a,f)){return}d._hide();b.call(c||e,d._showLocation);d._map.fire("contextmenu:select",{contextmenu:d,el:a})}},_insertElementAt:function(a,b,c,d){var e,f=document.createElement(a);f.className=b;if(d!==undefined){e=c.children[d]}if(e){c.insertBefore(f,e)}else{c.appendChild(f)}return f},_show:function(a){this._showAtPoint(a.containerPoint)},_showAtPoint:function(a,b){if(!this._visible&&this._items.length){var c=this._map,d=c.containerPointToLayerPoint(a),e=c.layerPointToLatLng(d),f={contextmenu:this};if(b){f=L.extend(b,f)}this._showLocation={latlng:e,layerPoint:d,containerPoint:a};this._setPosition(a);this._container.style.display="block";this._visible=true;this._map.fire("contextmenu.show",f)}},_hide:function(){if(this._visible){this._container.style.display="none";this._visible=false;this._map.fire("contextmenu.hide",{contextmenu:this})}},_setPosition:function(a){var b=this._map.getSize(),c=this._container,d=this._getElementSize(c);c._leaflet_pos=a;if(a.x+d.x>b.x){c.style.left="auto";c.style.right=b.x-a.x+"px"}else{c.style.left=a.x+"px";c.style.right="auto"}if(a.y+d.y>b.y){c.style.top="auto";c.style.bottom=b.y-a.y+"px"}else{c.style.top=a.y+"px";c.style.bottom="auto"}},_getElementSize:function(a){var b=this._size;if(!b||this._sizeChanged){b={};a.style.left="-999999px";a.style.right="auto";a.style.display="block";b.x=a.offsetWidth;b.y=a.offsetHeight;a.style.left="auto";a.style.display="none";this._sizeChanged=false}return b},_onKeyDown:function(a){var b=a.keyCode;if(b===27&&this._visible){this._hide()}}});L.Map.addInitHook("addHandler","contextmenu",L.Map.ContextMenu);L.Mixin.ContextMenu={_initContextMenu:function(){this._items=[];this.on("contextmenu",this._showContextMenu,this)},_showContextMenu:function(a){var b,c,d,e;if(this._map.contextmenu){c=this._map.mouseEventToContainerPoint(a.originalEvent);for(d=0,e=this.options.contextmenuItems.length;d<e;d++){b=this.options.contextmenuItems[d];this._items.push(this._map.contextmenu.insertItem(b,b.index))}this._map.once("contextmenu.hide",this._hideContextMenu,this);this._map.contextmenu.showAt(c,{relatedTarget:this})}},_hideContextMenu:function(){var a,b;for(a=0,b=this._items.length;a<b;a++){this._map.contextmenu.removeItem(this._items[a])}this._items.length=0}};L.Marker.mergeOptions({contextmenu:false,contextmenuItems:[]});L.Marker.addInitHook(function(){if(this.options.contextmenu){this._initContextMenu()}});L.Marker.include(L.Mixin.ContextMenu);(function(){"use strict";var a=function(a){if(typeof a==="number"){a={precision:a}}else{a=a||{}}a.precision=a.precision||5;a.factor=a.factor||Math.pow(10,a.precision);a.dimension=a.dimension||2;return a};var b={encode:function(b,c){c=a(c);var d=[];for(var e=0,f=b.length;e<f;++e){var g=b[e];if(c.dimension===2){d.push(g.lat||g[0]);d.push(g.lng||g[1])}else{for(var h=0;h<c.dimension;++h){d.push(g[h])}}}return this.encodeDeltas(d,c)},decode:function(b,c){c=a(c);var d=this.decodeDeltas(b,c);var e=[];for(var f=0,g=d.length;f+(c.dimension-1)<g;){var h=[];for(var i=0;i<c.dimension;++i){h.push(d[f++])}e.push(h)}return e},encodeDeltas:function(b,c){c=a(c);var d=[];for(var e=0,f=b.length;e<f;){for(var g=0;g<c.dimension;++g,++e){var h=b[e];var i=h-(d[g]||0);d[g]=h;b[e]=i}}return this.encodeFloats(b,c)},decodeDeltas:function(b,c){c=a(c);var d=[];var e=this.decodeFloats(b,c);for(var f=0,g=e.length;f<g;){for(var h=0;h<c.dimension;++h,++f){e[f]=d[h]=e[f]+(d[h]||0)}}return e},encodeFloats:function(b,c){c=a(c);for(var d=0,e=b.length;d<e;++d){b[d]=Math.round(b[d]*c.factor)}return this.encodeSignedIntegers(b)},decodeFloats:function(b,c){c=a(c);var d=this.decodeSignedIntegers(b);for(var e=0,f=d.length;e<f;++e){d[e]/=c.factor}return d},encodeSignedIntegers:function(a){for(var b=0,c=a.length;b<c;++b){var d=a[b];a[b]=d<0?~(d<<1):d<<1}return this.encodeUnsignedIntegers(a)},decodeSignedIntegers:function(a){var b=this.decodeUnsignedIntegers(a);for(var c=0,d=b.length;c<d;++c){var e=b[c];b[c]=e&1?~(e>>1):e>>1}return b},encodeUnsignedIntegers:function(a){var b="";for(var c=0,d=a.length;c<d;++c){b+=this.encodeUnsignedInteger(a[c])}return b},decodeUnsignedIntegers:function(a){var b=[];var c=0;var d=0;for(var e=0,f=a.length;e<f;++e){var g=a.charCodeAt(e)-63;c|=(g&31)<<d;if(g<32){b.push(c);c=0;d=0}else{d+=5}}return b},encodeSignedInteger:function(a){a=a<0?~(a<<1):a<<1;return this.encodeUnsignedInteger(a)},encodeUnsignedInteger:function(a){var b,c="";while(a>=32){b=(32|a&31)+63;c+=String.fromCharCode(b);a>>=5}b=a+63;c+=String.fromCharCode(b);return c}};if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b}if(typeof L==="object"){if(!L.Polyline.prototype.fromEncoded){L.Polyline.fromEncoded=function(a,c){return new L.Polyline(b.decode(a),c)}}if(!L.Polygon.prototype.fromEncoded){L.Polygon.fromEncoded=function(a,c){return new L.Polygon(b.decode(a),c)}}var c={encodePath:function(){return b.encode(this.getLatLngs())}};if(!L.Polyline.prototype.encodePath){L.Polyline.include(c)}if(!L.Polygon.prototype.encodePath){L.Polygon.include(c)}L.PolylineUtil=b}})();L.Control.Zoomslider=function(){var a=L.Draggable.extend({initialize:function(a,b,c){L.Draggable.prototype.initialize.call(this,a,a);this._element=a;this._stepHeight=b;this._knobHeight=c;this.on("predrag",function(){this._newPos.x=0;this._newPos.y=this._adjust(this._newPos.y)},this)},_adjust:function(a){var b=Math.round(this._toValue(a));b=Math.max(0,Math.min(this._maxValue,b));return this._toY(b)},_toY:function(a){return this._k*a+this._m},_toValue:function(a){return(a-this._m)/this._k},setSteps:function(a){var b=a*this._stepHeight;this._maxValue=a-1;this._k=-this._stepHeight;this._m=b-(this._stepHeight+this._knobHeight)/2},setPosition:function(a){L.DomUtil.setPosition(this._element,L.point(0,this._adjust(a)))},setValue:function(a){this.setPosition(this._toY(a))},getValue:function(){return this._toValue(L.DomUtil.getPosition(this._element).y)}});var b=L.Control.extend({options:{position:"topleft",stepHeight:8,knobHeight:6,styleNS:"leaflet-control-zoomslider"},onAdd:function(b){this._map=b;this._ui=this._createUI();this._knob=new a(this._ui.knob,this.options.stepHeight,this.options.knobHeight);b.whenReady(this._initKnob,this).whenReady(this._initEvents,this).whenReady(this._updateSize,this).whenReady(this._updateKnobValue,this).whenReady(this._updateDisabled,this);return this._ui.bar},onRemove:function(a){a.off("zoomlevelschange",this._updateSize,this).off("zoomend zoomlevelschange",this._updateKnobValue,this).off("zoomend zoomlevelschange",this._updateDisabled,this)},_createUI:function(){var a={},b=this.options.styleNS;a.bar=L.DomUtil.create("div",b+" leaflet-bar"),a.zoomIn=this._createZoomBtn("in","top",a.bar),a.wrap=L.DomUtil.create("div",b+"-wrap leaflet-bar-part",a.bar),a.zoomOut=this._createZoomBtn("out","bottom",a.bar),a.body=L.DomUtil.create("div",b+"-body",a.wrap),a.knob=L.DomUtil.create("div",b+"-knob");L.DomEvent.disableClickPropagation(a.bar);L.DomEvent.disableClickPropagation(a.knob);return a},_createZoomBtn:function(a,b,c){var d=this.options.styleNS+"-"+a+" leaflet-bar-part"+" leaflet-bar-part-"+b,e=L.DomUtil.create("a",d,c);e.href="#";e.title="Zoom "+a;L.DomEvent.on(e,"click",L.DomEvent.preventDefault);return e},_initKnob:function(){this._knob.enable();this._ui.body.appendChild(this._ui.knob)},_initEvents:function(a){this._map.on("zoomlevelschange",this._updateSize,this).on("zoomend zoomlevelschange",this._updateKnobValue,this).on("zoomend zoomlevelschange",this._updateDisabled,this);L.DomEvent.on(this._ui.body,"click",this._onSliderClick,this);L.DomEvent.on(this._ui.zoomIn,"click",this._zoomIn,this);L.DomEvent.on(this._ui.zoomOut,"click",this._zoomOut,this);this._knob.on("dragend",this._updateMapZoom,this)},_onSliderClick:function(a){var b=a.touches&&a.touches.length===1?a.touches[0]:a,c=L.DomEvent.getMousePosition(b,this._ui.body).y;this._knob.setPosition(c);this._updateMapZoom()},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_zoomLevels:function(){var a=this._map.getMaxZoom()-this._map.getMinZoom()+1;return a<Infinity?a:0},_toZoomLevel:function(a){return a+this._map.getMinZoom()},_toValue:function(a){return a-this._map.getMinZoom()},_updateSize:function(){var a=this._zoomLevels();this._ui.body.style.height=this.options.stepHeight*a+"px";this._knob.setSteps(a)},_updateMapZoom:function(){this._map.setZoom(this._toZoomLevel(this._knob.getValue()))},_updateKnobValue:function(){this._knob.setValue(this._toValue(this._map.getZoom()))},_updateDisabled:function(){var a=this._map.getZoom(),b=this.options.styleNS+"-disabled";L.DomUtil.removeClass(this._ui.zoomIn,b);L.DomUtil.removeClass(this._ui.zoomOut,b);if(a===this._map.getMinZoom()){L.DomUtil.addClass(this._ui.zoomOut,b)}if(a===this._map.getMaxZoom()){L.DomUtil.addClass(this._ui.zoomIn,b)}}});return b}();L.Map.mergeOptions({zoomControl:false,zoomsliderControl:true});L.Map.addInitHook(function(){if(this.options.zoomsliderControl){this.zoomsliderControl=new L.Control.Zoomslider;this.addControl(this.zoomsliderControl)}});L.control.zoomslider=function(a){return new L.Control.Zoomslider(a)};L.Google=L.Class.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:false,noWrap:false,mapOptions:{backgroundColor:"#dddddd"}},initialize:function(a,b){L.Util.setOptions(this,b);this._ready=google.maps.Map!=undefined;if(!this._ready)L.Google.asyncWait.push(this);this._type=a||"SATELLITE"},onAdd:function(a,b){this._map=a;this._insertAtTheBottom=b;this._initContainer();this._initMapObject();a.on("viewreset",this._resetCallback,this);this._limitedUpdate=L.Util.limitExecByInterval(this._update,150,this);a.on("move",this._update,this);a.on("zoomanim",this._handleZoomAnim,this);a._controlCorners["bottomright"].style.marginBottom="20px";this._reset();this._update()},onRemove:function(a){this._map._container.removeChild(this._container);this._map.off("viewreset",this._resetCallback,this);this._map.off("move",this._update,this);this._map.off("zoomanim",this._handleZoomAnim,this);a._controlCorners["bottomright"].style.marginBottom="0em"},getAttribution:function(){return this.options.attribution},setOpacity:function(a){this.options.opacity=a;if(a<1){L.DomUtil.setOpacity(this._container,a)}},setElementSize:function(a,b){a.style.width=b.x+"px";a.style.height=b.y+"px"},_initContainer:function(){var a=this._map._container,b=a.firstChild;if(!this._container){this._container=L.DomUtil.create("div","leaflet-google-layer leaflet-top leaflet-left");this._container.id="_GMapContainer_"+L.Util.stamp(this);this._container.style.zIndex="auto"}if(true){a.insertBefore(this._container,b);this.setOpacity(this.options.opacity);this.setElementSize(this._container,this._map.getSize())}},_initMapObject:function(){if(!this._ready)return;this._google_center=new google.maps.LatLng(0,0);var a=new google.maps.Map(this._container,{center:this._google_center,zoom:0,tilt:0,mapTypeId:google.maps.MapTypeId[this._type],disableDefaultUI:true,keyboardShortcuts:false,draggable:false,disableDoubleClickZoom:true,scrollwheel:false,streetViewControl:false,styles:this.options.mapOptions.styles,backgroundColor:this.options.mapOptions.backgroundColor});var b=this;this._reposition=google.maps.event.addListenerOnce(a,"center_changed",function(){b.onReposition()});this._google=a;google.maps.event.addListenerOnce(a,"idle",function(){b._checkZoomLevels()})},_checkZoomLevels:function(){if(this._google.getZoom()!==this._map.getZoom()){this._map.setZoom(this._google.getZoom())}},_resetCallback:function(a){this._reset(a.hard)},_reset:function(a){this._initContainer()},_update:function(a){if(!this._google)return;this._resize();var b=a&&a.latlng?a.latlng:this._map.getCenter();var c=new google.maps.LatLng(b.lat,b.lng);this._google.setCenter(c);this._google.setZoom(this._map.getZoom());this._checkZoomLevels()},_resize:function(){var a=this._map.getSize();if(this._container.style.width==a.x&&this._container.style.height==a.y)return;this.setElementSize(this._container,a);this.onReposition()},_handleZoomAnim:function(a){var b=a.center;var c=new google.maps.LatLng(b.lat,b.lng);this._google.setCenter(c);this._google.setZoom(a.zoom)},onReposition:function(){if(!this._google)return;google.maps.event.trigger(this._google,"resize")}});L.Google.asyncWait=[];L.Google.asyncInitialize=function(){var a;for(a=0;a<L.Google.asyncWait.length;a++){var b=L.Google.asyncWait[a];b._ready=true;if(b._container){b._initMapObject();b._update()}}L.Google.asyncWait=[]};L.Control.Locate=L.Control.extend({options:{position:"topleft",drawCircle:true,follow:false,stopFollowingOnDrag:false,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},circlePadding:[0,0],metric:true,onLocationError:function(a){alert(a.message)},onLocationOutsideMapBounds:function(a){alert(a.options.strings.outsideMapBoundsMsg)},setView:true,strings:{title:"Show me where I am",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{}},onAdd:function(a){var b=L.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");var c=this;this._layer=new L.LayerGroup;this._layer.addTo(a);this._event=undefined;this._locateOptions={watch:true};L.extend(this._locateOptions,this.options.locateOptions);L.extend(this._locateOptions,{setView:false});var d={};L.extend(d,this.options.markerStyle,this.options.followMarkerStyle);this.options.followMarkerStyle=d;d={};L.extend(d,this.options.circleStyle,this.options.followCircleStyle);this.options.followCircleStyle=d;var e=L.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",b);e.href="#";e.title=this.options.strings.title;L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,"click",function(){if(c._active&&(a.getBounds().contains(c._event.latlng)||!c.options.setView||j())){m()}else{f()}}).on(e,"dblclick",L.DomEvent.stopPropagation);var f=function(){if(c.options.setView){c._locateOnNextLocationFound=true}if(!c._active){a.locate(c._locateOptions)}c._active=true;if(c.options.follow){h()}if(!c._event){L.DomUtil.addClass(c._container,"requesting");L.DomUtil.removeClass(c._container,"active");L.DomUtil.removeClass(c._container,"following")}else{k()}};var g=function(a){if(c._event&&(c._event.latlng.lat===a.latlng.lat&&c._event.latlng.lng===a.latlng.lng&&c._event.accuracy===a.accuracy)){return}if(!c._active){return}c._event=a;if(c.options.follow&&c._following){c._locateOnNextLocationFound=true}k()};var h=function(){a.fire("startfollowing");c._following=true;if(c.options.stopFollowingOnDrag){a.on("dragstart",i)}};var i=function(){a.fire("stopfollowing");c._following=false;if(c.options.stopFollowingOnDrag){a.off("dragstart",i)}k()};var j=function(){if(c._event===undefined)return false;return a.options.maxBounds&&!a.options.maxBounds.contains(c._event.latlng)};var k=function(){if(c._event.accuracy===undefined)c._event.accuracy=0;var b=c._event.accuracy;if(c._locateOnNextLocationFound){if(j()){c.options.onLocationOutsideMapBounds(c)}else{a.fitBounds(c._event.bounds,{padding:c.options.circlePadding})}c._locateOnNextLocationFound=false}var d,e;if(c.options.drawCircle){if(c._following){d=c.options.followCircleStyle}else{d=c.options.circleStyle}if(!c._circle){c._circle=L.circle(c._event.latlng,b,d).addTo(c._layer)}else{c._circle.setLatLng(c._event.latlng).setRadius(b);for(e in d){c._circle.options[e]=d[e]}}}var f,g;if(c.options.metric){f=b.toFixed(0);g="meters"}else{f=(b*3.2808399).toFixed(0);g="feet"}var h;if(c._following){h=c.options.followMarkerStyle}else{h=c.options.markerStyle}var i=c.options.strings.popup;if(!c._circleMarker){c._circleMarker=L.circleMarker(c._event.latlng,h).bindPopup(L.Util.template(i,{distance:f,unit:g})).addTo(c._layer)}else{c._circleMarker.setLatLng(c._event.latlng).bindPopup(L.Util.template(i,{distance:f,unit:g}))._popup.setLatLng(c._event.latlng);for(e in h){c._circleMarker.options[e]=h[e]}}if(!c._container)return;if(c._following){L.DomUtil.removeClass(c._container,"requesting");L.DomUtil.addClass(c._container,"active");L.DomUtil.addClass(c._container,"following")}else{L.DomUtil.removeClass(c._container,"requesting");L.DomUtil.addClass(c._container,"active");L.DomUtil.removeClass(c._container,"following")}};var l=function(){c._active=false;c._locateOnNextLocationFound=c.options.setView;c._following=false};l();var m=function(){a.stopLocate();a.off("dragstart",i);L.DomUtil.removeClass(c._container,"requesting");L.DomUtil.removeClass(c._container,"active");L.DomUtil.removeClass(c._container,"following");l();c._layer.clearLayers();c._circleMarker=undefined;c._circle=undefined};var n=function(a){if(a.code==3&&this._locateOptions.watch){return}m();c.options.onLocationError(a)};a.on("locationfound",g,c);a.on("locationerror",n,c);this.locate=f;this.stopLocate=m;this.stopFollowing=i;return b}});L.Map.addInitHook(function(){if(this.options.locateControl){this.locateControl=L.control.locate();this.addControl(this.locateControl)}});L.control.locate=function(a){return new L.Control.Locate(a)};var RestoreViewMixin={restoreView:function(){var a=window.localStorage||{};if(!this.__initRestore){this.on("moveend",function(b){if(!this._loaded)return;var c={lat:this.getCenter().lat,lng:this.getCenter().lng,zoom:this.getZoom()};a["mapView"]=JSON.stringify(c)},this);this.__initRestore=true}var b=a["mapView"];try{b=JSON.parse(b||"");this.setView(L.latLng(b.lat,b.lng),b.zoom,true);return true}catch(c){return false}}};L.Map.include(RestoreViewMixin);(function(a,b,c){"use strict";L.AwesomeMarkers={};L.AwesomeMarkers.version="2.0.1";L.AwesomeMarkers.Icon=L.Icon.extend({options:{iconSize:[35,45],iconAnchor:[17,42],popupAnchor:[1,-32],shadowAnchor:[10,12],shadowSize:[36,16],className:"awesome-marker",prefix:"glyphicon",spinClass:"fa-spin",icon:"home",markerColor:"blue",iconColor:"white"},initialize:function(a){a=L.Util.setOptions(this,a)},createIcon:function(){var a=b.createElement("div"),c=this.options;if(c.icon){a.innerHTML=this._createInner()}if(c.bgPos){a.style.backgroundPosition=-c.bgPos.x+"px "+-c.bgPos.y+"px"}this._setIconStyles(a,"icon-"+c.markerColor);return a},_createInner:function(){var a,b="",c="",d="",e=this.options;
if(e.icon.slice(0,e.prefix.length+1)===e.prefix+"-"){a=e.icon}else{a=e.prefix+"-"+e.icon}if(e.spin&&typeof e.spinClass==="string"){b=e.spinClass}if(e.iconColor){if(e.iconColor==="white"||e.iconColor==="black"){c="icon-"+e.iconColor}else{d="style='color: "+e.iconColor+"' "}}return"<i "+d+"class='"+e.prefix+" "+a+" "+b+" "+c+"'></i>"},_setIconStyles:function(a,b){var c=this.options,d=L.point(c[b==="shadow"?"shadowSize":"iconSize"]),e;if(b==="shadow"){e=L.point(c.shadowAnchor||c.iconAnchor)}else{e=L.point(c.iconAnchor)}if(!e&&d){e=d.divideBy(2,true)}a.className="awesome-marker-"+b+" "+c.className;if(e){a.style.marginLeft=-e.x+"px";a.style.marginTop=-e.y+"px"}if(d){a.style.width=d.x+"px";a.style.height=d.y+"px"}},createShadow:function(){var a=b.createElement("div");this._setIconStyles(a,"shadow");return a}});L.AwesomeMarkers.icon=function(a){return new L.AwesomeMarkers.Icon(a)}})(this,document);Ext.define("App",{singleton:true,mode:"BUS",departureText:"Departure...",destinationText:"Destination ...",sendMailText:"Send a mail",googleMarketText:"Application in the Google Play",tripPlanText:"Get trip plan",routesText:"Routes",constructor:function(){this.setupLanguage();Ext.onReady(this.init,this)},init:function(){Ext.tip.QuickTipManager.init();this.markerIconA=L.icon({iconUrl:"images/marker_greenA.png",iconSize:[20,34],iconAnchor:[10,34]});this.markerIconB=L.icon({iconUrl:"images/marker_greenB.png",iconSize:[20,34],iconAnchor:[10,34]});this.markerWalk=L.AwesomeMarkers.icon({prefix:"icon",icon:"walk",markerColor:"blue"});this.markerBus=L.AwesomeMarkers.icon({prefix:"icon",icon:"bus",markerColor:"purple"});Ext.Ajax.on("requestexception",function(a,b){Ext.Msg.alert(b.statusText,b.responseText)},this);var a=new Date;var b=this;var c=function(a){var c=false,d=b.form.down("buttongroup");d.items.each(function(a){if(a.pressed){c=true;return false}});if(!c){a.toggle()}return c};this.form=Ext.create("Ext.form.Panel",{layout:{type:"table",columns:2},height:200,defaultType:"textfield",bodyPadding:10,border:false,fieldDefaults:{labelWidth:20},items:[{colspan:2,cls:"btn-group transportes-group",xtype:"buttongroup",columns:3,border:false,frame:false,defaults:{scale:"medium",toggleGroup:"transportes-group"},items:[{iconCls:"icon-car",margin:"0 0px 0 0",cls:"btn-group-first",listeners:{scope:this,toggle:function(a,b){if(b){this.mode="CAR";this.search()}else{c(a)}}}},{iconCls:"icon-bus",pressed:true,listeners:{scope:this,toggle:function(a,b){if(b){this.mode="BUS";Ext.getCmp("triptime").show();this.search()}else{if(c(a)){Ext.getCmp("triptime").hide()}}}}},{iconCls:"icon-walk",cls:"btn-group-last",listeners:{scope:this,toggle:function(a,b){if(b){this.mode="WALK";this.search()}else{c(a)}}}}]},{xtype:"addressfield",fieldLabel:"A",cls:"pointa",name:"departure",allowBlank:false,emptyText:b.departureText,width:255,listeners:{scope:b,located:function(a){this.select("departure",a.latlngValue)}}},{id:"change-a-b",xtype:"button",iconCls:"fa fa-exchange",cls:"x-btn-default-toolbar-small",rowspan:2,scope:this,handler:function(){var a=this.form.getForm().findField("departure");var b=this.form.getForm().findField("destination");var c=a.latlngValue;var d=b.latlngValue;a.setValue(null);b.setValue(null);if(d){this.select("departure",d,true)}if(c){this.select("destination",c,true)}}},{xtype:"addressfield",fieldLabel:"B",cls:"pointb",name:"destination",allowBlank:false,width:255,emptyText:b.destinationText,listeners:{scope:b,located:function(a){this.select("destination",a.latlngValue)}}},{id:"triptime",xtype:"container",layout:"column",colspan:2,items:[{id:"departtime",name:"departtime",xtype:"timefield",width:100,value:a},{id:"departdate",name:"departdate",xtype:"datefield",width:110,value:a}]},{xtype:"button",id:"searchbtn",cls:"btn btn-primary",margin:"10px 0 0 0",style:"float: right",text:b.tripPlanText,handler:this.search,scope:this}]});this.suggView=Ext.create("Ride.SuggestedView",{height:100,listeners:{scope:this,selectionchange:function(a,b){var c=b[0];if(c){this.selectSuggestion("select",this.suggView.indexOf(c))}else{this.map.addRoute("select",false);this.tripDescriptionView.store.removeAll()}},highlightitem:function(a,b){var c=a.getRecord(b);this.selectSuggestion("highlight",a.indexOf(c))},unhighlightitem:function(a,b){this.map.addRoute("highlight",false)}}});this.tripDescriptionView=Ext.create("Ride.TripDescriptionView",{margin:"5px 0 0 0",autoScroll:true,listeners:{scope:this,highlightitem:function(a,b){if(this.descriptionPopup){return}var c=a.getRecord(b),d,e;if(this.mode=="BUS"){d=c.get("from");if(!d){return}e=getModelIcon(c.data)+" "+d.name;d=[d.lat,d.lon]}else{d=[c.get("lat"),c.get("lon")];e="<i class='"+getDirectionIcon(c.get("relativeDirection"),c.get("exit"),true)+" popup-dir-icon'></i> "+c.get("streetName")}this.descriptionPopup=L.popup({offset:[0,2],closeButton:false}).setLatLng(d).setContent(e).openOn(this.map.map)},unhighlightitem:function(a,b){if(this.descriptionPopup){this.descriptionPopup._close();delete this.descriptionPopup}},select:function(a,b){if(this.mode=="BUS"){var c=b.get("from");if(c){this.map.map.setView([c.lat,c.lon])}}else{this.map.map.setView([b.data.lat,b.data.lon])}}}});this.helpPanel=Ext.create("Ext.container.Container",{html:'<h3 style="margin-left: 20px">Como usar o aplicativo</h3>'+"<ul>"+"<li>Abrir o aplicativo ou website</li>"+"<li>Escolha o ponto de partida e o ponto de chegada no mapa ou digite o endereo na caixa de pesquisa</li>"+"<li>Selecione qual rota e a melhor para voc</li>"+"</ul>"});this.sidePanel=Ext.create("Ext.panel.Panel",{id:"sidebar",layout:"border",align:"stretch",region:"west",collapsible:true,title:b.routesText,width:300,items:[{xtype:"container",layout:"anchor",region:"north",height:300,items:[this.form,this.helpPanel,this.suggView]},{xtype:"container",layout:"fit",region:"center",items:[this.tripDescriptionView]}],listeners:{afterrender:function(a){a.el.child("div.x-panel-body").removeCls("x-border-layout-ct")}}});this.map=Ext.create("Ext.ux.LeafletMap",{region:"center",mapOptions:{initialCenter:[-27.592968,-48.551674],minZoom:11,maxBounds:[[-27.367499,-48.598709],[-27.866396,-48.350143]]},listeners:{scope:this,selectdestination:function(a){this.select("destination",a,true)},selectdeparture:function(a){this.select("departure",a,true)}}});this.mainTbar=Ext.create("Ext.toolbar.Toolbar",{region:"north",cls:"main-toolbar",defaults:{scale:"large"},items:["->",{xtype:"button",iconCls:"img-icon-gplay",scope:this,tooltip:b.googleMarketText,handler:function(){window.open("https://play.google.com/store/apps/details?id=com.floriparide.android")}},{xtype:"button",iconCls:"fa fa-facebook",scope:this,handler:function(){window.open("https://www.facebook.com/floriparide")}},{xtype:"button",iconCls:"fa fa-envelope-o",cls:"btn-mail",textAlign:"left",scope:this,tooltip:b.sendMailText,handler:function(){window.location.href="mailto:floriparide@gmail.com"}},"|",{iconCls:"lang-"+b.lang,id:"btn-lang",menu:{xtype:"menu",cls:"lang-menu",items:[{id:"lang-brasil",icon:"images/brazil16.png",text:"Portugus",handler:function(){window.location.search=Ext.urlEncode({lang:"br"})}},{id:"lang-es",icon:"images/es16.png",text:"Espaol",handler:function(){window.location.search=Ext.urlEncode({lang:"es"})}},{id:"lang-uk",icon:"images/uk16.png",text:"English",handler:function(){window.location.search=Ext.urlEncode({lang:"en"})}},{id:"lang-ru",icon:"images/rus16.png",text:"",handler:function(){window.location.search=Ext.urlEncode({lang:"ru"})}}]}}]});this.viewport=Ext.create("Ext.Viewport",{layout:"border",items:[this.mainTbar,this.sidePanel,this.map]});this.initApp()},initApp:function(){Ext.fly("loading-mask").remove();Ext.fly("loading").remove()},setupLanguage:function(a){if(!a){var b=Ext.urlDecode(window.location.search.substring(1));if(b.lang){a=b.lang}else{a=window.navigator.userLanguage||window.navigator.language;a=a.split("-")[0]}}this.lang=a;Ext.Loader.injectScriptElement("assets/extjs/locale/ext-lang-"+a+".js",Ext.emptyFn,Ext.emptyFn,this)},select:function(a,b,c){var d=this;var e=a+"Marker";if(this[e]){this.map.getMap().removeLayer(this[e])}var f=a=="departure"?this.markerIconA:this.markerIconB;this[e]=L.marker([b.lat,b.lng],{icon:f});this[e].addTo(this.map.getMap());if(c){var g=d.form.getForm().findField(a);g.setLatLngValue(b)}this.search()},geocode:function(a,b,c){this.getGeocoder().geocode({latLng:a},function(a,d){if(d==google.maps.GeocoderStatus.OK){b.call(c,a)}})},getGeocoder:function(){if(!this.geocoder){this.geocoder=new google.maps.Geocoder}return this.geocoder},search:function(){var a=this.form.getForm().findField("departure");var b=this.form.getForm().findField("destination");if(!a.latlngValue||!b.latlngValue){return}this.helpPanel.hide();var c=a.latlngValue.lat+","+a.latlngValue.lng;var d=b.latlngValue.lat+","+b.latlngValue.lng;var e=Ext.getCmp("departtime").getValue();var f=Ext.getCmp("departdate").getValue();f.setHours(e.getHours(),e.getMinutes());var g=Ext.getCmp("searchbtn");g.disable();this.suggView.store.removeAll();this.suggView.el.mask("Loading...");var h=Ext.Date.add(f,Ext.Date.MINUTE,0);Ext.data.JsonP.request({url:Ride.Config.endpoints.tripplanner,callbackKey:"callback",async:false,timeout:2e4,scope:this,params:{_dc:Date.now(),fromPlace:c,toPlace:d,ui_date:Ext.Date.format(f,"d-n-Y"),arriveBy:0,time:Ext.Date.format(h,"h:iA"),mode:this.mode=="BUS"?"TRANSIT,WALK":this.mode,optimize:"QUICK",maxWalkDistance:this.mode=="WALK"?1e5:700,date:Ext.Date.format(h,"Y-m-d"),walkSpeed:"1.341",locale:"en_US.UTF-8"},success:function(a,b){g.enable();if(a.plan){this.plan=a.plan;this.suggView.store.loadData(a.plan.itineraries);this.suggView.up().setHeight(this.suggView.getEl().child("ol").getHeight()+200);this.suggView.getSelectionModel().select(0)}else{delete this.plan;this.suggView.store.removeAll()}},failure:function(a,b){delete this.plan;g.enable();this.suggView.store.removeAll();alert(a)}})},selectSuggestion:function(a,b){var c=.5;var d=this.plan.itineraries[b];if(a=="select"){this.showTripDescription(b);c=.8}var e=["#03f","#660099","#CC3366","#336633"];var f=e[b]||"#03f";var g=[];for(var h=0;h<d.legs.length;h++){var i=d.legs[h];var j={color:f,opacity:c};var k=null;switch(i.mode){case"WALK":j["dashArray"]="10, 10";k=this.markerWalk;break;case"BUS":k=this.markerBus;break}var l=L.Polyline.fromEncoded(i.legGeometry.points,j);var m=l._latlngs[0];if(h&&k){g.push(L.marker(m,{icon:k,zIndexOffset:1e3+h}))}g.push(l)}this.map.addRoute(a,g)},showTripDescription:function(a){this.tripDescriptionView.loadPlan(this.plan,a,this.mode)}});function getDirectionIcon(a,b,c){switch(a){case"LEFT":return"icon-turn-left";case"RIGHT":return"icon-turn-right";case"SLIGHTLY_LEFT":return"icon-turn-slight-left";case"SLIGHTLY_RIGHT":return"icon-turn-slight-right";case"HARD_LEFT":return"icon-turn-sharp-left";case"HARD_RIGHT":return"icon-turn-sharp-right";case"CONTINUE":if(c){return"icon-turn-continue"}break;case"CIRCLE_CLOCKWISE":if(b==1){return"icon-turn-roundabout-first"}else if(b==2){return"icon-turn-roundabout-second"}else if(b==3){return"icon-turn-roundabout-third"}return"icon-turn-roundabout-far"}return""}function getModelIcon(a){switch(a.mode){case"WALK":return'<i class="icon-walk"></i>';case"BUS":return'<span class="agency_'+a.agencyId+'"><i class="icon-bus"></i><span style="margin-left: 2px">'+a.route+"</span></span>";case"CAR":return'<i class="icon-car"></i>'}return""}function address_extract(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(Ext.Array.contains(d.types,b)){return d.short_name}}return""}Ext.define("GoogleAddress",{extend:"Ext.data.Model",fields:[{name:"address_components",type:"raw"},{name:"geometry",type:"raw"},{name:"formatted_address",type:"string"},{name:"route_name",type:"string",convert:function(a,b){var c=address_extract(b.get("address_components"),"route")+" "+address_extract(b.get("address_components"),"street_number");if(c.trim()==""){c=b.get("formatted_address");c=c.split(",")[0]}return c}},{name:"locality",type:"string",convert:function(a,b){return address_extract(b.get("address_components"),"locality")}},{name:"neighborhood",type:"string",convert:function(a,b){return address_extract(b.get("address_components"),"neighborhood")}},{name:"area_level",type:"string",convert:function(a,b){return address_extract(b.get("address_components"),"administrative_area_level_1")}}]});Ext.define("Ride.AddressField",{extend:"Ext.form.field.ComboBox",xtype:"addressfield",valueField:"formatted_address",displayField:"route_name",hideTrigger:true,matchFieldWidth:false,listConfig:{minWidth:250,maxWidth:400,getInnerTpl:function(){return'<div class="address-item">{route_name}</div>'+'<div class="location-item">{neighborhood}&nbsp<div>{locality}</div></div>'}},initComponent:function(){var a=this;this.store=new Ext.data.JsonStore({proxy:{type:"memory",reader:{type:"json",root:"results"}},model:"GoogleAddress"});this.callParent();this.addEvents("located");this.mon(this,"afterrender",function(){a.triggerWrap.dom.removeAttribute("style")},this,{delay:200})},doRemoteQuery:function(a){var b=this;b.store.removeAll();b.expand();App.getGeocoder().geocode({region:"Brasil",address:a.query+" , Florianopolis, Santa Catarina",bounds:new google.maps.LatLngBounds(new google.maps.LatLng(-27.364449817684083,-48.618621826171875),new google.maps.LatLng(-27.839076094777802,-48.335723876953125))},function(c,d){if(d==google.maps.GeocoderStatus.OK){b.store.loadData(c,false);b.afterQuery(a)}})},setValue:function(a){this.callParent([a]);var b=true;if(a){if(Ext.isArray(a)){a=a[0].data[this.valueField]}var c=this.findRecordByValue(a);if(c){b=false;var d=c.get("geometry").location;this.latlngValue={lat:d.lat(),lng:d.lng()};this.fireEvent("located",this)}}if(b){this.latlngValue=null}},setLatLngValue:function(a){var b=this;this.latlngValue=a;this.setRawValue(a);var c=function(d,e){if(e==google.maps.GeocoderStatus.OK&&d.length){b.store.loadData(d);b.setRawValue(address_extract(d[0].address_components,"route")+" "+address_extract(d[0].address_components,"street_number"));b.value=d[0][b.valueField]}else if(e==google.maps.GeocoderStatus.OVER_QUERY_LIMIT){setTimeout(function(){App.getGeocoder().geocode({latLng:a},c)},100)}};App.getGeocoder().geocode({latLng:a},c)}});Ext.define("Suggestion",{extend:"Ext.data.Model",fields:[{name:"duration",type:"string",convert:function(a){a=Math.round(a/6e4);if(a<60){min=a;hours=0}else{min=a%60;hours=Math.round(a/60)}var b=min+" min";if(hours){b=hours+"h "+b}return b}},{name:"startTime",type:"date",dateFormat:"time",convert2:function(a){return Math.round(a/1e3)}},{name:"endTime",type:"date",dateFormat:"time",convert2:function(a){return Math.round(a/1e3)}},{name:"transfers",type:"int"},{name:"legs",type:"raw"}]});Ext.define("Ride.SuggestedView",{extend:"Ext.view.View",multiSelect:true,height:310,trackOver:true,cls:"suggestview",overItemCls:"x-item-over",itemSelector:"div.route-wrap",emptyText:"No routes find",transferText:"transfer",transfersText:"transfers",initComponent:function(){var a=this;this.store=new Ext.data.JsonStore({model:"Suggestion"});this.tpl=new Ext.XTemplate('<ol class="routes">','<tpl for=".">',"<li class=\"route {[ xindex == 1 ? 'first-route' : '' ]}\">",'<div class="route-wrap">','<div class="route-info">'+"<span>{duration}</span><div>{legs:this.calcDistance}</div>"+"</div>"+"<div>{legs:this.formatLegs}</div>"+'<div class="route-time">{startTime:date("h:i a")} - {endTime:date("h:i a")}  {transfers:this.formatTransfers}</div>','<div class="x-clear"></div>'+"</div>","</li>","</tpl>","</ol>",'<div class="x-clear"></div>',{formatLegs:function(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];var e=getModelIcon(d);if(e){b.push(e)}}return b.join('<i class="fa fa-arrow-right route-arrow"></i>')},formatTransfers:function(b){if(App.mode=="BUS"&&b){b=b>1?b+" "+a.transfersText:"1 "+a.transferText;return"("+b+")"}return""},calcDistance:function(a){var b=0;for(var c=0;c<a.length;c++){b+=a[c].distance}if(b>1e3){b=b/1e3;return b.toFixed(1)+" km."}return b.toFixed()+" m."}});this.callParent()}});Ext.define("TripDescription",{extend:"Ext.data.Model",fields:[{name:"duration",type:"string",convert:function(a){a=Math.round(a/6e4);if(a<60){min=a;hours=0}else{min=a%60;hours=Math.round(a/60)}var b=min+" min";if(hours){b=hours+"h "+b}return b}},{name:"mode",type:"string"},{name:"distance",type:"float"},{name:"from",type:"raw"},{name:"to",type:"raw"},{name:"startTime",type:"date",dateFormat:"time"},{name:"endTime",type:"date",dateFormat:"time"},{name:"agencyId",type:"string"},{name:"route",type:"string"},{name:"steps",type:"raw"}]});Ext.define("StepDescription",{extend:"Ext.data.Model",fields:[{name:"mode",type:"string"},{name:"distance",type:"float"},{name:"relativeDirection",type:"string"},{name:"absoluteDirection",type:"string"},{name:"streetName",type:"string"},{name:"exit",type:"int"},{name:"relativeDirection",type:"string"},{name:"lon",type:"float"},{name:"lat",type:"float"}]});Ext.define("Ride.TripDescriptionView",{extend:"Ext.view.View",multiSelect:true,trackOver:true,cls:"tripdescrview",overItemCls:"x-item-over",itemSelector:"tbody.trippoint",walkText:"Walk",walkToText:"Walk to",busStText:"Bus.st",aboutText:"About",busTowardsText:"Bus towards",onText:"on",turnLeftText:"Turn left",turnRightText:"Turn right",slightLeftText:"Slight left",slightRightText:"Slight right",sharpLeftText:"Sharp left",sharpRightText:"Sharp right",continueWalkText:"Continue walk",continueDriveText:"Continue drive",circularMotionText:"Circular motion",exitOnText:"exit on",driveText:"Drive",autoScroll:true,initComponent:function(){var a=this;this.store=new Ext.data.JsonStore({model:"TripDescription"});this.tpl=new Ext.XTemplate('<table class="tripdescr">','<tpl for=".">','<tpl if="xindex==1">','<tbody class="trippoint endpoint endpointa">'+"<tr>",'<td><img src="images/marker_greenA.png" class="endpoint-icon" align="middle"></td>','<td><div class="endpoint-name">{[this.getFromPoint()]}</div></td>',"</tr>"+"</tbody>","</tpl>",'<tpl if="xindex==xcount">','<tbody class="trippoint endpoint">',"<tr>",'<td><img src="images/marker_greenB.png" class="endpoint-icon" align="middle"></td>','<td><div class="endpoint-name">{[this.getToPoint()]}</div></td>',"</tr>","</tbody>","</tpl>","{% if(xindex==xcount || xindex==1) continue; %}","<tpl if=\"this.getMode() == 'BUS'\">",'<tbody class="trippoint legdescr">',"<tr>","<tpl if=\"mode == 'WALK'\">",'<td colspan="2">','<div class="legroute">{[xindex-1]}. <i class="icon-walk"></i> '+a.walkToText+' <tpl if="xindex < xcount-1">'+a.busStText+" </tpl>{to.name}</div>",'<div class="legduration">'+a.aboutText+" {duration} ({distance:this.formatDistance})</div>","</td>","</tpl>","<tpl if=\"mode == 'BUS'\">",'<td colspan="2">','<div class="legname">{[xindex-1]}. {from.name}</div>','<div class="legroute"><span class="agency_{agencyId}"><i class="icon-bus"></i> {route}</span> '+a.busTowardsText+" {to.name}</div>",'<div class="legduration">{startTime:date("g:i a")} - {endTime:date("g:i a")} ({duration}, {distance:this.formatDistance})</div>',"</td>","</tpl>","</tr>","</tbody>","</tpl>","<tpl if=\"this.getMode() == 'WALK'\">",'<tbody class="trippoint legdescr">',"<tr>",'<td><i class="{[this.getDirectionIcon(values.relativeDirection,values.exit)]} direction-icon"></i> </td>',"<td>",'<div class="stepname">{[xindex-1]}. {[this.formatWalkDirection(values,xindex-1)]}</div>','<div class="stepdistance">{distance:this.formatDistance}</div>',"</td>","</tr>","</tbody>","</tpl>","<tpl if=\"this.getMode() == 'CAR'\">",'<tbody class="trippoint legdescr">',"<tr>",'<td><i class="{[this.getDirectionIcon(values.relativeDirection,values.exit)]} direction-icon"></i> </td>',"<td>",'<div class="stepname">{[xindex-1]}. {[this.formatCarDirection(values,xindex-1)]}</div>','<div class="stepdistance">{distance:this.formatDistance}</div>',"</td>","</tr>","</tbody>","</tpl>","</tpl>","</table>",'<div class="x-clear"></div>',{getMode:function(){return a.mode},getFromPoint:function(){return a.plan.from.name},getToPoint:function(){return a.plan.to.name},formatDistance:function(a){if(a>1e3){a=a/1e3;return a.toFixed(1)+" km."}return a.toFixed()+" m."},formatWalkDirection:function(b,c){if(c==1){return a.walkText+" <b>"+b.absoluteDirection+"</b> "+a.onText+" <b>"+b.streetName+"</b>"}var d="";var e=true;switch(b.relativeDirection){case"LEFT":d=a.turnLeftText;break;case"RIGHT":d=a.turnRightText;break;case"SLIGHTLY_LEFT":d=a.slightLeftText;break;case"SLIGHTLY_RIGHT":d=a.slightRightText;break;case"HARD_LEFT":d=a.sharpLeftText;break;case"HARD_RIGHT":d=a.sharpRightText;break;case"CONTINUE":d=a.continueWalkText;break;case"CIRCLE_CLOCKWISE":e=false;d=a.circularMotionText+" "+b.exit+" "+a.exitOnText+" <b>"+b.absoluteDirection+"</b>";break}d+=" ";if(e){d+=" "+a.onText+" <b>"+b.streetName+"</b>"}return d},formatCarDirection:function(b,c){if(c==1){return a.driveText+" <b>"+b.absoluteDirection+"</b> "+a.onText+" <b>"+b.streetName+"</b>"}var d="";var e=true;switch(b.relativeDirection){case"LEFT":d=a.turnLeftText;break;case"RIGHT":d=a.turnRightText;break;case"SLIGHTLY_LEFT":d=a.slightLeftText;break;case"SLIGHTLY_RIGHT":d=a.slightRightText;break;case"HARD_LEFT":d=a.sharpLeftText;break;case"HARD_RIGHT":d=a.sharpRightText;break;case"CONTINUE":d=a.continueDriveText;break;case"CIRCLE_CLOCKWISE":e=false;d=a.circularMotionText+" "+b.exit+" "+a.exitOnText+" <b>"+b.absoluteDirection+"</b>";break}if(e){d+=" "+a.onText+"  <b>"+b.streetName+"</b>"}return d},getDirectionIcon:function(a,b){return getDirectionIcon(a,b)}});this.callParent()},loadPlan:function(a,b,c){this.mode=c;this.plan=a;this.route=this.plan.itineraries[b];var d,e;this.store.removeAll(true);if(c=="BUS"){e=Ext.clone(this.route.legs);this.store.proxy.setModel("TripDescription",true);e.unshift({from:a.from,to:a.from,name:a.from.name,mode:"endpoint"});e.push({from:a.to,to:a.to,name:a.to.name,mode:"endpoint"})}else{e=[];for(d=0;d<this.route.legs.length;d++){e=e.concat(this.route.legs[d].steps);break}e.unshift({lat:a.from.lat,lon:a.from.lon,streetName:a.from.name,mode:"endpoint"});e.push({lat:a.to.lat,lon:a.to.lon,streetName:a.to.name,mode:"endpoint"});this.store.proxy.setModel("StepDescription",true)}this.store.model=this.store.proxy.model;this.store.loadData(e)}});